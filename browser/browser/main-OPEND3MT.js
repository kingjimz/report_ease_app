var hP=Object.defineProperty,fP=Object.defineProperties;var pP=Object.getOwnPropertyDescriptors;var ll=Object.getOwnPropertySymbols,gP=Object.getPrototypeOf,mE=Object.prototype.hasOwnProperty,yE=Object.prototype.propertyIsEnumerable,mP=Reflect.get;var gE=(n,e,t)=>e in n?hP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})mE.call(e,t)&&gE(n,t,e[t]);if(ll)for(var t of ll(e))yE.call(e,t)&&gE(n,t,e[t]);return n},he=(n,e)=>fP(n,pP(e));var vE=(n,e)=>{var t={};for(var r in n)mE.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ll)for(var r of ll(n))e.indexOf(r)<0&&yE.call(n,r)&&(t[r]=n[r]);return t};var Zr=(n,e,t)=>mP(gP(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Xp(n,e){return Object.is(n,e)}var ft=null,dl=!1,eg=1,pn=Symbol("SIGNAL");function pe(n){let e=ft;return ft=n,e}function tg(){return ft}var Ha={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function za(n){if(dl)throw new Error("");if(ft===null)return;ft.consumerOnSignalRead(n);let e=ft.nextProducerIndex++;if(gl(ft),e<ft.producerNode.length&&ft.producerNode[e]!==n&&$a(ft)){let t=ft.producerNode[e];pl(t,ft.producerIndexOfThis[e])}ft.producerNode[e]!==n&&(ft.producerNode[e]=n,ft.producerIndexOfThis[e]=$a(ft)?wE(n,ft,e):0),ft.producerLastReadVersion[e]=n.version}function _E(){eg++}function ng(n){if(!($a(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===eg)){if(!n.producerMustRecompute(n)&&!sg(n)){Zp(n);return}n.producerRecomputeValue(n),Zp(n)}}function rg(n){if(n.liveConsumerNode===void 0)return;let e=dl;dl=!0;try{for(let t of n.liveConsumerNode)t.dirty||yP(t)}finally{dl=e}}function ig(){return ft?.consumerAllowSignalWrites!==!1}function yP(n){n.dirty=!0,rg(n),n.consumerMarkedDirty?.(n)}function Zp(n){n.dirty=!1,n.lastCleanEpoch=eg}function fl(n){return n&&(n.nextProducerIndex=0),pe(n)}function og(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if($a(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)pl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sg(n){gl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ng(t),r!==t.version))return!0}return!1}function ag(n){if(gl(n),$a(n))for(let e=0;e<n.producerNode.length;e++)pl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function wE(n,e,t){if(IE(n),n.liveConsumerNode.length===0&&EE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=wE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function pl(n,e){if(IE(n),n.liveConsumerNode.length===1&&EE(n))for(let r=0;r<n.producerNode.length;r++)pl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];gl(i),i.producerIndexOfThis[r]=e}}function $a(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function gl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function IE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function EE(n){return n.producerNode!==void 0}function cg(n,e){let t=Object.create(vP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(ng(t),za(t),t.value===hl)throw t.error;return t.value};return r[pn]=t,r}var Yp=Symbol("UNSET"),Jp=Symbol("COMPUTING"),hl=Symbol("ERRORED"),vP=he(V({},Ha),{value:Yp,dirty:!0,error:null,equal:Xp,kind:"computed",producerMustRecompute(n){return n.value===Yp||n.value===Jp},producerRecomputeValue(n){if(n.value===Jp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Jp;let t=fl(n),r,i=!1;try{r=n.computation(),pe(null),i=e!==Yp&&e!==hl&&r!==hl&&n.equal(e,r)}catch(o){r=hl,n.error=o}finally{og(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function _P(){throw new Error}var bE=_P;function DE(n){bE(n)}function ug(n){bE=n}var wP=null;function lg(n,e){let t=Object.create(ml);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(za(t),t.value);return r[pn]=t,r}function qa(n,e){ig()||DE(n),n.equal(n.value,e)||(n.value=e,IP(n))}function dg(n,e){ig()||DE(n),qa(n,e(n.value))}var ml=he(V({},Ha),{equal:Xp,value:void 0,kind:"signal"});function IP(n){n.version++,_E(),rg(n),wP?.()}function hg(n){let e=pe(null);try{return n()}finally{pe(e)}}var fg;function Ga(){return fg}function Ir(n){let e=fg;return fg=n,e}var yl=Symbol("NotFound");function oe(n){return typeof n=="function"}function Ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vl=Ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Vi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof vl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{CE(o)}catch(s){e=e??[],s instanceof vl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)CE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Vi(t,e)}remove(e){let{_finalizers:t}=this;t&&Vi(t,e),e instanceof n&&e._removeParent(this)}};Ke.EMPTY=(()=>{let n=new Ke;return n.closed=!0,n})();var pg=Ke.EMPTY;function _l(n){return n instanceof Ke||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function CE(n){oe(n)?n():n.unsubscribe()}var Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zo={setTimeout(n,e,...t){let{delegate:r}=zo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=zo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function wl(n){zo.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(n);else throw n})}function Wa(){}var TE=gg("C",void 0,void 0);function SE(n){return gg("E",void 0,n)}function AE(n){return gg("N",n,void 0)}function gg(n,e,t){return{kind:n,value:e,error:t}}var ji=null;function qo(n){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!ji;if(e&&(ji={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ji;if(ji=null,t)throw r}}else n()}function xE(n){Sn.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=n)}var Ui=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_l(e)&&e.add(this)):this.destination=SP}static create(e,t,r){return new Go(e,t,r)}next(e){this.isStopped?yg(AE(e),this):this._next(e)}error(e){this.isStopped?yg(SE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yg(TE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CP=Function.prototype.bind;function mg(n,e){return CP.call(n,e)}var vg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Il(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Il(r)}else Il(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Il(t)}}},Go=class extends Ui{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mg(e.next,o),error:e.error&&mg(e.error,o),complete:e.complete&&mg(e.complete,o)}):i=e}this.destination=new vg(i)}};function Il(n){Sn.useDeprecatedSynchronousErrorHandling?xE(n):wl(n)}function TP(n){throw n}function yg(n,e){let{onStoppedNotification:t}=Sn;t&&zo.setTimeout(()=>t(n,e))}var SP={closed:!0,next:Wa,error:TP,complete:Wa};var Wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(n){return n}function _g(...n){return wg(n)}function wg(n){return n.length===0?en:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=xP(t)?t:new Go(t,r,i);return qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=RE(r),new r((i,o)=>{let s=new Go({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Wo](){return this}pipe(...t){return wg(t)(this)}toPromise(t){return t=RE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function RE(n){var e;return(e=n??Sn.Promise)!==null&&e!==void 0?e:Promise}function AP(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function xP(n){return n&&n instanceof Ui||AP(n)&&_l(n)}function Ig(n){return oe(n?.lift)}function Ee(n){return e=>{if(Ig(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new Eg(n,e,t,r,i)}var Eg=class extends Ui{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ko(){return Ee((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Qo=class extends Ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ig(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return Ko()(this)}};var ME=Ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class n extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new El(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ME}next(t){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pg:(this.currentObservers=null,o.push(t),new Ke(()=>{this.currentObservers=null,Vi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ie;return t.source=this,t}}return n.create=(e,t)=>new El(e,t),n})(),El=class extends it{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:pg}};var ot=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bg={now(){return(bg.delegate||Date).now()},delegate:void 0};var bl=class extends Ke{constructor(e,t){super()}schedule(e,t=0){return this}};var Ka={setInterval(n,e,...t){let{delegate:r}=Ka;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ka;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Yo=class extends bl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ka.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ka.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Vi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Jo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Jo.now=bg.now;var Zo=class extends Jo{constructor(e,t=Jo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Dg=new Zo(Yo);var Dl=class extends Yo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Cl=class extends Zo{};var Cg=new Cl(Dl);var Ut=new Ie(n=>n.complete());function NE(n){return n&&oe(n.schedule)}function PE(n){return n[n.length-1]}function Tl(n){return oe(PE(n))?n.pop():void 0}function Xr(n){return NE(PE(n))?n.pop():void 0}function Sl(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function kE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function FE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,p)}}function a(m,C){r[m]&&(i[m]=function(k){return new Promise(function(P,z){o.push([m,k,P,z])>1||u(m,k)})},C&&(i[m]=C(i[m])))}function u(m,C){try{l(r[m](C))}catch(k){y(o[0][3],k)}}function l(m){m.value instanceof Bi?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,C){m(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function LE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof kE=="function"?kE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Al=n=>n&&typeof n.length=="number"&&typeof n!="function";function xl(n){return oe(n?.then)}function Rl(n){return oe(n[Wo])}function Ml(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Nl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pl=RP();function kl(n){return oe(n?.[Pl])}function Ol(n){return FE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{t.releaseLock()}})}function Fl(n){return oe(n?.getReader)}function st(n){if(n instanceof Ie)return n;if(n!=null){if(Rl(n))return MP(n);if(Al(n))return NP(n);if(xl(n))return PP(n);if(Ml(n))return VE(n);if(kl(n))return kP(n);if(Fl(n))return OP(n)}throw Nl(n)}function MP(n){return new Ie(e=>{let t=n[Wo]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function NP(n){return new Ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function PP(n){return new Ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wl)})}function kP(n){return new Ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function VE(n){return new Ie(e=>{FP(n,e).catch(t=>e.error(t))})}function OP(n){return VE(Ol(n))}function FP(n,e){var t,r,i,o;return OE(this,void 0,void 0,function*(){try{for(t=LE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ei(n,e=0){return Ee((t,r)=>{t.subscribe(ge(r,i=>Bt(r,n,()=>r.next(i),e),()=>Bt(r,n,()=>r.complete(),e),i=>Bt(r,n,()=>r.error(i),e)))})}function ti(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function jE(n,e){return st(n).pipe(ti(e),ei(e))}function UE(n,e){return st(n).pipe(ti(e),ei(e))}function BE(n,e){return new Ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function $E(n,e){return new Ie(t=>{let r;return Bt(t,e,()=>{r=n[Pl](),Bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Ll(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ie(t=>{Bt(t,e,()=>{let r=n[Symbol.asyncIterator]();Bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function HE(n,e){return Ll(Ol(n),e)}function zE(n,e){if(n!=null){if(Rl(n))return jE(n,e);if(Al(n))return BE(n,e);if(xl(n))return UE(n,e);if(Ml(n))return Ll(n,e);if(kl(n))return $E(n,e);if(Fl(n))return HE(n,e)}throw Nl(n)}function Qe(n,e){return e?zE(n,e):st(n)}function ne(...n){let e=Xr(n);return Qe(n,e)}function Xo(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new Ie(e?i=>e.schedule(r,0,i):r)}function Tg(n){return!!n&&(n instanceof Ie||oe(n.lift)&&oe(n.subscribe))}var Er=Ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ve(n,e){return Ee((t,r)=>{let i=0;t.subscribe(ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:LP}=Array;function VP(n,e){return LP(e)?n(...e):n(e)}function Vl(n){return ve(e=>VP(n,e))}var{isArray:jP}=Array,{getPrototypeOf:UP,prototype:BP,keys:$P}=Object;function jl(n){if(n.length===1){let e=n[0];if(jP(e))return{args:e,keys:null};if(HP(e)){let t=$P(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function HP(n){return n&&typeof n=="object"&&UP(n)===BP}function Ul(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Bl(...n){let e=Xr(n),t=Tl(n),{args:r,keys:i}=jl(n);if(r.length===0)return Qe([],e);let o=new Ie(zP(r,e,i?s=>Ul(i,s):en));return t?o.pipe(Vl(t)):o}function zP(n,e,t=en){return r=>{qE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)qE(e,()=>{let l=Qe(n[u],e),h=!1;l.subscribe(ge(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qE(n,e,t){n?Bt(t,n,e):e()}function GE(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=k=>l<r?C(k):u.push(k),C=k=>{o&&e.next(k),l++;let P=!1;st(t(k,h++)).subscribe(ge(e,z=>{i?.(z),o?m(z):e.next(z)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let z=u.shift();s?Bt(e,s,()=>C(z)):C(z)}y()}catch(z){e.error(z)}}))};return n.subscribe(ge(e,m,()=>{p=!0,y()})),()=>{a?.()}}function pt(n,e,t=1/0){return oe(e)?pt((r,i)=>ve((o,s)=>e(r,o,i,s))(st(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>GE(r,i,n,t)))}function WE(n=1/0){return pt(en,n)}function KE(){return WE(1)}function es(...n){return KE()(Qe(n,Xr(n)))}function $l(n){return new Ie(e=>{st(n()).subscribe(e)})}function Sg(...n){let e=Tl(n),{args:t,keys:r}=jl(n),i=new Ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;st(t[h]).subscribe(ge(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ul(r,a):a),o.complete())}))}});return e?i.pipe(Vl(e)):i}function An(n,e){return Ee((t,r)=>{let i=0;t.subscribe(ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ni(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ge(t,void 0,void 0,s=>{o=st(n(s,ni(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function QE(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ge(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ts(n,e){return oe(e)?pt(n,e,1):pt(n,1)}function ri(n){return Ee((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function br(n){return n<=0?()=>Ut:Ee((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hl(n=qP){return Ee((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qP(){return new Er}function Qa(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Dr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?An((i,o)=>n(i,o,r)):en,br(1),t?ri(e):Hl(()=>new Er))}function ns(n){return n<=0?()=>Ut:Ee((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ag(n,e){let t=arguments.length>=2;return r=>r.pipe(n?An((i,o)=>n(i,o,r)):en,ns(1),t?ri(e):Hl(()=>new Er))}function xg(n,e){return Ee(QE(n,e,arguments.length>=2,!0))}function Rg(...n){let e=Xr(n);return Ee((t,r)=>{(e?es(n,t,e):es(n,t)).subscribe(r)})}function xn(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,h=o++;st(n(u,h)).subscribe(i=ge(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Mg(n){return Ee((e,t)=>{st(n).subscribe(ge(t,()=>t.complete(),Wa)),!t.closed&&e.subscribe(t)})}function Xe(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):en}var Fb="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,t){super($m(e,t)),this.code=e}};function GP(n){return`NG0${Math.abs(n)}`}function $m(n,e){return`${GP(n)}${e?": "+e:""}`}var Lb=Symbol("InputSignalNode#UNSET"),WP=he(V({},ml),{transformFn:void 0,applyValueToInputSignal(n,e){qa(n,e)}});function Vb(n,e){let t=Object.create(WP);t.value=n,t.transformFn=e?.transform;function r(){if(za(t),t.value===Lb){let i=null;throw new q(-950,i)}return t.value}return r[pn]=t,r}function cc(n){return{toString:n}.toString()}var zl="__parameters__";function KP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function jb(n,e,t){return cc(()=>{let r=KP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(zl)?u[zl]:Object.defineProperty(u,zl,{value:[]})[zl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ii=globalThis;function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function QP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function zt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(zt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Yg(n,e){return n?e?`${n} ${e}`:n:e||""}var YP=Oe({__forward_ref__:Oe});function xr(n){return n.__forward_ref__=xr,n.toString=function(){return zt(this())},n}function jt(n){return Ub(n)?n():n}function Ub(n){return typeof n=="function"&&n.hasOwnProperty(YP)&&n.__forward_ref__===xr}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function si(n){return{providers:n.providers||[],imports:n.imports||[]}}function Td(n){return YE(n,$b)||YE(n,Hb)}function Bb(n){return Td(n)!==null}function YE(n,e){return n.hasOwnProperty(e)?n[e]:null}function JP(n){let e=n&&(n[$b]||n[Hb]);return e||null}function JE(n){return n&&(n.hasOwnProperty(ZE)||n.hasOwnProperty(ZP))?n[ZE]:null}var $b=Oe({\u0275prov:Oe}),ZE=Oe({\u0275inj:Oe}),Hb=Oe({ngInjectableDef:Oe}),ZP=Oe({ngInjectorDef:Oe}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zb(n){return n&&!!n.\u0275providers}var XP=Oe({\u0275cmp:Oe}),ek=Oe({\u0275dir:Oe}),tk=Oe({\u0275pipe:Oe}),nk=Oe({\u0275mod:Oe}),Xl=Oe({\u0275fac:Oe}),Xa=Oe({__NG_ELEMENT_ID__:Oe}),XE=Oe({__NG_ENV_ID__:Oe});function as(n){return typeof n=="string"?n:n==null?"":String(n)}function rk(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():as(n)}function qb(n,e){throw new q(-200,n)}function Hm(n,e){throw new q(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),Jg;function Gb(){return Jg}function $t(n){let e=Jg;return Jg=n,e}function Wb(n,e,t){let r=Td(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;Hm(n,"Injector")}var ik={},Hi=ik,Zg="__NG_DI_FLAG__",ed=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?yl:Hi,r)}},td="ngTempTokenPath",ok="ngTokenPath",sk=/\n/gm,ak="\u0275",eb="__source";function ck(n,e=de.Default){if(Ga()===void 0)throw new q(-203,!1);if(Ga()===null)return Wb(n,void 0,e);{let t=Ga(),r;return t instanceof ed?r=t.injector:r=t,r.get(n,e&de.Optional?null:void 0,e)}}function J(n,e=de.Default){return(Gb()||ck)(jt(n),e)}function F(n,e=de.Default){return J(n,Sd(e))}function Sd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Xg(n){let e=[];for(let t=0;t<n.length;t++){let r=jt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],u=uk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function Kb(n,e){return n[Zg]=e,n.prototype[Zg]=e,n}function uk(n){return n[Zg]}function lk(n,e,t,r){let i=n[td];throw e[eb]&&i.unshift(e[eb]),n.message=dk(`
`+n.message,i,t,r),n[ok]=i,n[td]=null,n}function dk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==ak?n.slice(2):n;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):zt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(sk,`
  `)}`}var Wt=Kb(jb("Optional"),8);var hk=Kb(jb("SkipSelf"),4);function qi(n,e){let t=n.hasOwnProperty(Xl);return t?n[Xl]:null}function zm(n,e){n.forEach(t=>Array.isArray(t)?zm(t,e):e(t))}function Qb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function nd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function fk(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function pk(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function qm(n,e,t){let r=uc(n,e);return r>=0?n[r|1]=t:(r=~r,pk(n,r,e,t)),r}function Ng(n,e){let t=uc(n,e);if(t>=0)return n[t|1]}function uc(n,e){return gk(n,e,1)}function gk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Gi={},Ht=[],Wi=new $(""),Yb=new $("",-1),Jb=new $(""),rd=class{get(e,t=Hi){if(t===Hi){let r=new Error(`NullInjectorError: No provider for ${zt(e)}!`);throw r.name="NullInjectorError",r}return t}};function Zb(n,e){let t=n[nk]||null;if(!t&&e===!0)throw new Error(`Type ${zt(n)} does not have '\u0275mod' property.`);return t}function cs(n){return n[XP]||null}function mk(n){return n[ek]||null}function yk(n){return n[tk]||null}function on(n){return{\u0275providers:n}}function vk(...n){return{\u0275providers:Xb(!0,n),\u0275fromNgModule:!0}}function Xb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return zm(e,s=>{let a=s;em(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&eD(i,o),t}function eD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Gm(i,o=>{e(o,r)})}}function em(n,e,t,r){if(n=jt(n),!n)return!1;let i=null,o=JE(n),s=!o&&cs(n);if(!o&&!s){let u=n.ngModule;if(o=JE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)em(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{zm(o.imports,h=>{em(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&eD(l,e)}if(!a){let l=qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:Jb,useValue:i,multi:!0},i),e({provide:Wi,useValue:()=>J(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Gm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Gm(n,e){for(let t of n)zb(t)&&(t=t.\u0275providers),Array.isArray(t)?Gm(t,e):e(t)}var _k=Oe({provide:String,useValue:Oe});function tD(n){return n!==null&&typeof n=="object"&&_k in n}function wk(n){return!!(n&&n.useExisting)}function Ik(n){return!!(n&&n.useFactory)}function us(n){return typeof n=="function"}function Ek(n){return!!n.useClass}var Ad=new $(""),Kl={},tb={},Pg;function Wm(){return Pg===void 0&&(Pg=new rd),Pg}var nn=class{},ec=class extends nn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,nm(e,s=>this.processProvider(s)),this.records.set(Yb,rs(void 0,this)),i.has("environment")&&this.records.set(nn,rs(void 0,this));let o=this.records.get(Ad);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jb,Ht,de.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?yl:Hi,r)}destroy(){Ja(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return Ja(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ja(this);let t=Ir(this),r=$t(void 0),i;try{return e()}finally{Ir(t),$t(r)}}get(e,t=Hi,r=de.Default){if(Ja(this),e.hasOwnProperty(XE))return e[XE](this);r=Sd(r);let i,o=Ir(this),s=$t(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Sk(e)&&Td(e);l&&this.injectableDefInScope(l)?u=rs(tm(e),Kl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?Wm():this.parent;return t=r&de.Optional&&t===Hi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[td]=a[td]||[]).unshift(zt(e)),o)throw a;return lk(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),Ir(o)}}resolveInjectorInitializers(){let e=pe(null),t=Ir(this),r=$t(void 0),i;try{let o=this.get(Wi,Ht,de.Self);for(let s of o)s()}finally{Ir(t),$t(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=jt(e);let t=us(e)?e:jt(e&&e.provide),r=Dk(e);if(!us(e)&&e.multi===!0){let i=this.records.get(t);i||(i=rs(void 0,Kl,!0),i.factory=()=>Xg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===tb?qb(zt(e)):t.value===Kl&&(t.value=tb,t.value=t.factory()),typeof t.value=="object"&&t.value&&Tk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=jt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function tm(n){let e=Td(n),t=e!==null?e.factory:qi(n);if(t!==null)return t;if(n instanceof $)throw new q(204,!1);if(n instanceof Function)return bk(n);throw new q(204,!1)}function bk(n){if(n.length>0)throw new q(204,!1);let t=JP(n);return t!==null?()=>t.factory(n):()=>new n}function Dk(n){if(tD(n))return rs(void 0,n.useValue);{let e=nD(n);return rs(e,Kl)}}function nD(n,e,t){let r;if(us(n)){let i=jt(n);return qi(i)||tm(i)}else if(tD(n))r=()=>jt(n.useValue);else if(Ik(n))r=()=>n.useFactory(...Xg(n.deps||[]));else if(wk(n))r=()=>J(jt(n.useExisting));else{let i=jt(n&&(n.useClass||n.provide));if(Ck(n))r=()=>new i(...Xg(n.deps));else return qi(i)||tm(i)}return r}function Ja(n){if(n.destroyed)throw new q(205,!1)}function rs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ck(n){return!!n.deps}function Tk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Sk(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function nm(n,e){for(let t of n)Array.isArray(t)?nm(t,e):t&&zb(t)?nm(t.\u0275providers,e):e(t)}function mn(n,e){let t;n instanceof ec?(Ja(n),t=n):t=new ed(n);let r,i=Ir(t),o=$t(void 0);try{return e()}finally{Ir(i),$t(o)}}function Ak(){return Gb()!==void 0||Ga()!=null}function xk(n){return typeof n=="function"}var rn=0,fe=1,se=2,Rt=3,Nn=4,Kt=5,kn=6,id=7,qt=8,Ki=9,Cr=10,Ve=11,tc=12,nb=13,ys=14,Gt=15,ls=16,is=17,ds=18,xd=19,rD=20,oi=21,kg=22,od=23,gn=24,Og=25,Ye=26,iD=1,nc=6,Tr=7,sd=8,ad=9,tn=10;function Pn(n){return Array.isArray(n)&&typeof n[iD]=="object"}function Zn(n){return Array.isArray(n)&&n[iD]===!0}function Km(n){return(n.flags&4)!==0}function eo(n){return n.componentOffset>-1}function Rd(n){return(n.flags&1)===1}function Kn(n){return!!n.template}function rc(n){return(n[se]&512)!==0}function vs(n){return(n[se]&256)===256}var rm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function oD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ai=(()=>{let n=()=>sD;return n.ngInherit=!0,n})();function sD(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mk),Rk}function Rk(){let n=cD(this),e=n?.current;if(e){let t=n.previous;if(t===Gi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Mk(n,e,t,r,i){let o=this.declaredInputs[r],s=cD(n)||Nk(n,{previous:Gi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new rm(l&&l.currentValue,t,u===Gi),oD(n,e,i,t)}var aD="__ngSimpleChanges__";function cD(n){return n[aD]||null}function Nk(n,e){return n[aD]=e}var rb=null;var Le=function(n,e=null,t){rb?.(n,e,t)},uD="svg",Pk="math";function On(n){for(;Array.isArray(n);)n=n[rn];return n}function lD(n,e){return On(e[n])}function Ln(n,e){return On(e[n.index])}function dD(n,e){return n.data[e]}function Qm(n,e){return n[e]}function Qn(n,e){let t=e[n];return Pn(t)?t:t[rn]}function Ym(n){return(n[se]&128)===128}function kk(n){return Zn(n[Rt])}function hs(n,e){return e==null?null:n[e]}function hD(n){n[is]=0}function fD(n){n[se]&1024||(n[se]|=1024,Ym(n)&&Nd(n))}function Ok(n,e){for(;n>0;)e=e[ys],n--;return e}function Md(n){return!!(n[se]&9216||n[gn]?.dirty)}function im(n){n[Cr].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),Md(n)&&Nd(n)}function Nd(n){n[Cr].changeDetectionScheduler?.notify(0);let e=Qi(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Ym(e)));)e=Qi(e)}function pD(n,e){if(vs(n))throw new q(911,!1);n[oi]===null&&(n[oi]=[]),n[oi].push(e)}function Fk(n,e){if(n[oi]===null)return;let t=n[oi].indexOf(e);t!==-1&&n[oi].splice(t,1)}function Qi(n){let e=n[Rt];return Zn(e)?e[Rt]:e}function gD(n){return n[id]??=[]}function mD(n){return n.cleanup??=[]}var ae={lFrame:ED(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var om=!1;function Lk(){return ae.lFrame.elementDepthCount}function Vk(){ae.lFrame.elementDepthCount++}function jk(){ae.lFrame.elementDepthCount--}function Jm(){return ae.bindingsEnabled}function _s(){return ae.skipHydrationRootTNode!==null}function Uk(n){return ae.skipHydrationRootTNode===n}function Bk(n){ae.skipHydrationRootTNode=n}function $k(){ae.skipHydrationRootTNode=null}function be(){return ae.lFrame.lView}function yt(){return ae.lFrame.tView}function _e(n){return ae.lFrame.contextLView=n,n[qt]}function we(n){return ae.lFrame.contextLView=null,n}function Qt(){let n=yD();for(;n!==null&&n.type===64;)n=n.parent;return n}function yD(){return ae.lFrame.currentTNode}function Hk(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function to(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Zm(){return ae.lFrame.isParent}function Xm(){ae.lFrame.isParent=!1}function zk(){return ae.lFrame.contextLView}function vD(){return om}function ib(n){let e=om;return om=n,e}function Pd(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function qk(){return ae.lFrame.bindingIndex}function Gk(n){return ae.lFrame.bindingIndex=n}function kd(){return ae.lFrame.bindingIndex++}function ey(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Wk(){return ae.lFrame.inI18n}function Kk(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,sm(e)}function Qk(){return ae.lFrame.currentDirectiveIndex}function sm(n){ae.lFrame.currentDirectiveIndex=n}function Yk(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function _D(n){ae.lFrame.currentQueryIndex=n}function Jk(n){let e=n[fe];return e.type===2?e.declTNode:e.type===1?n[Kt]:null}function wD(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=Jk(o),i===null||(o=o[ys],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=ID();return r.currentTNode=e,r.lView=n,!0}function ty(n){let e=ID(),t=n[fe];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ID(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?ED(n):e}function ED(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function bD(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var DD=bD;function ny(){let n=bD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zk(n){return(ae.lFrame.contextLView=Ok(n,ae.lFrame.contextLView))[qt]}function ci(){return ae.lFrame.selectedIndex}function Yi(n){ae.lFrame.selectedIndex=n}function ry(){let n=ae.lFrame;return dD(n.tView,n.selectedIndex)}function yn(){ae.lFrame.currentNamespace=uD}function ui(){Xk()}function Xk(){ae.lFrame.currentNamespace=null}function CD(){return ae.lFrame.currentNamespace}var TD=!0;function Od(){return TD}function li(n){TD=n}function e1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function iy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ql(n,e,t){SD(n,e,3,t)}function Yl(n,e,t,r){(n[se]&3)===t&&SD(n,e,t,r)}function Fg(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function SD(n,e,t,r){let i=r!==void 0?n[is]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[is]+=65536),(a<o||o==-1)&&(t1(n,t,e,u),n[is]=(n[is]&4294901760)+u+2),u++}function ob(n,e){Le(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),Le(5,n,e)}}function t1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[is]>>16&&(n[se]&3)===e&&(n[se]+=16384,ob(a,o)):ob(a,o)}var ss=-1,Ji=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function n1(n){return(n.flags&8)!==0}function r1(n){return(n.flags&16)!==0}function i1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];o1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function AD(n){return n===3||n===4||n===6}function o1(n){return n.charCodeAt(0)===64}function fs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?sb(n,t,i,null,e[++r]):sb(n,t,i,null,null))}}return n}function sb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function xD(n){return n!==ss}function cd(n){return n&32767}function s1(n){return n>>16}function ud(n,e){let t=s1(n),r=e;for(;t>0;)r=r[ys],t--;return r}var am=!0;function ld(n){let e=am;return am=n,e}var a1=256,RD=a1-1,MD=5,c1=0,Wn={};function u1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Xa)&&(r=t[Xa]),r==null&&(r=t[Xa]=c1++);let i=r&RD,o=1<<i;e.data[n+(i>>MD)]|=o}function dd(n,e){let t=ND(n,e);if(t!==-1)return t;let r=e[fe];r.firstCreatePass&&(n.injectorIndex=e.length,Lg(r.data,n),Lg(e,null),Lg(r.blueprint,null));let i=oy(n,e),o=n.injectorIndex;if(xD(i)){let s=cd(i),a=ud(i,e),u=a[fe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Lg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ND(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function oy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=LD(i),r===null)return ss;if(t++,i=i[ys],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ss}function cm(n,e,t){u1(n,e,t)}function l1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(AD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function PD(n,e,t){if(t&de.Optional||n!==void 0)return n;Hm(e,"NodeInjector")}function kD(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),(t&(de.Self|de.Host))===0){let i=n[Ki],o=$t(void 0);try{return i?i.get(e,r,t&de.Optional):Wb(e,r,t&de.Optional)}finally{$t(o)}}return PD(r,e,t)}function OD(n,e,t,r=de.Default,i){if(n!==null){if(e[se]&2048&&!(r&de.Self)){let s=g1(n,e,t,r,Wn);if(s!==Wn)return s}let o=FD(n,e,t,r,Wn);if(o!==Wn)return o}return kD(e,t,r,i)}function FD(n,e,t,r,i){let o=f1(t);if(typeof o=="function"){if(!wD(e,n,r))return r&de.Host?PD(i,t,r):kD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))Hm(t);else return s}finally{DD()}}else if(typeof o=="number"){let s=null,a=ND(n,e),u=ss,l=r&de.Host?e[Gt][Kt]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?oy(n,e):e[a+8],u===ss||!cb(r,!1)?a=-1:(s=e[fe],a=cd(u),e=ud(u,e)));a!==-1;){let h=e[fe];if(ab(o,a,h.data)){let p=d1(a,e,t,s,r,l);if(p!==Wn)return p}u=e[a+8],u!==ss&&cb(r,e[fe].data[a+8]===l)&&ab(o,a,e)?(s=h,a=cd(u),e=ud(u,e)):a=-1}}return i}function d1(n,e,t,r,i,o){let s=e[fe],a=s.data[n+8],u=r==null?eo(a)&&am:r!=s&&(a.type&3)!==0,l=i&de.Host&&o===a,h=h1(a,s,t,u,l);return h!==null?hd(e,s,h,a):Wn}function h1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let C=s[m];if(m<u&&t===C||m>=u&&C.type===t)return m}if(i){let m=s[u];if(m&&Kn(m)&&m.type===t)return u}return null}function hd(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Ji){let s=i;s.resolving&&qb(rk(o[t]));let a=ld(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?$t(s.injectImpl):null,h=wD(n,r,de.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&e1(t,o[t],e)}finally{l!==null&&$t(l),ld(a),s.resolving=!1,DD()}}return i}function f1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Xa)?n[Xa]:void 0;return typeof e=="number"?e>=0?e&RD:p1:e}function ab(n,e,t){let r=1<<n;return!!(t[e+(n>>MD)]&r)}function cb(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var zi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return OD(this._tNode,this._lView,e,Sd(r),t)}};function p1(){return new zi(Qt(),be())}function di(n){return cc(()=>{let e=n.prototype.constructor,t=e[Xl]||um(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Xl]||um(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function um(n){return Ub(n)?()=>{let e=um(jt(n));return e&&e()}:qi(n)}function g1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!rc(s);){let a=FD(o,s,t,r|de.Self,Wn);if(a!==Wn)return a;let u=o.parent;if(!u){let l=s[rD];if(l){let h=l.get(t,Wn,r);if(h!==Wn)return h}u=LD(s),s=s[ys]}o=u}return i}function LD(n){let e=n[fe],t=e.type;return t===2?e.declTNode:t===1?n[Kt]:null}function sy(n){return l1(Qt(),n)}function ub(n,e=null,t=null,r){let i=VD(n,e,t,r);return i.resolveInjectorInitializers(),i}function VD(n,e=null,t=null,r,i=new Set){let o=[t||Ht,vk(n)];return r=r||(typeof n=="object"?void 0:zt(n)),new ec(o,e||Wm(),r||null,i)}var Et=class n{static THROW_IF_NOT_FOUND=Hi;static NULL=new rd;static create(e,t){if(Array.isArray(e))return ub({name:""},t,e,"");{let r=e.name??"";return ub({name:r},e.parent,e.providers,r)}}static \u0275prov=K({token:n,providedIn:"any",factory:()=>J(Yb)});static __NG_ELEMENT_ID__=-1};var m1=new $("");m1.__NG_ELEMENT_ID__=n=>{let e=Qt();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new q(204,!1)};var jD=!1,Fd=(()=>{class n{static __NG_ELEMENT_ID__=y1;static __NG_ENV_ID__=t=>t}return n})(),lm=class extends Fd{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return vs(t)?(e(),()=>{}):(pD(t,e),()=>Fk(t,e))}};function y1(){return new lm(be())}var ic=class{},Ld=new $("",{providedIn:"root",factory:()=>!1});var UD=new $(""),BD=new $(""),no=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ot(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})();var dm=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ak()&&(this.destroyRef=F(Fd,{optional:!0})??void 0,this.pendingTasks=F(no,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},He=dm;function fd(...n){}function $D(n){let e,t;function r(){n=fd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function lb(n){return queueMicrotask(()=>n()),()=>{n=fd}}var ay="isAngularZone",pd=ay+"_ID",v1=0,Re=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new He(!1);onMicrotaskEmpty=new He(!1);onStable=new He(!1);onError=new He(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jD}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,I1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ay)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,_1,fd,fd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},_1={};function cy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function w1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$D(()=>{n.callbackScheduled=!1,hm(n),n.isCheckStableRunning=!0,cy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),hm(n)}function I1(n){let e=()=>{w1(n)},t=v1++;n._inner=n._inner.fork({name:"angular",properties:{[ay]:!0,[pd]:t,[pd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(E1(u))return r.invokeTask(o,s,a,u);try{return db(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),hb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return db(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!b1(u)&&e(),hb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,hm(n),cy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function hm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function db(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function hb(n){n._nesting--,cy(n)}var fm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new He;onMicrotaskEmpty=new He;onStable=new He;onError=new He;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function E1(n){return HD(n,"__ignore_ng_zone__")}function b1(n){return HD(n,"__scheduler_tick__")}function HD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Sr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},D1=new $("",{providedIn:"root",factory:()=>{let n=F(Re),e=F(Sr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function fb(n,e){return Vb(n,e)}function C1(n){return Vb(Lb,n)}var zD=(fb.required=C1,fb);function T1(){return Vd(Qt(),be())}function Vd(n,e){return new Xn(Ln(n,e))}var Xn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=T1}return n})();function S1(n){return typeof n=="function"&&n[pn]!==void 0}function sn(n,e){let t=lg(n,e?.equal),r=t[pn];return t.set=i=>qa(r,i),t.update=i=>dg(r,i),t.asReadonly=A1.bind(t),t}function A1(){let n=this[pn];if(n.readonlyFn===void 0){let e=()=>this();e[pn]=n,n.readonlyFn=e}return n.readonlyFn}function qD(n){return S1(n)&&typeof n.set=="function"}var x1="ngSkipHydration",R1="ngskiphydration";function GD(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===R1)return!0}return!1}function WD(n){return n.hasAttribute(x1)}function gd(n){return(n.flags&128)===128}function M1(n){if(gd(n))return!0;let e=n.parent;for(;e;){if(gd(n)||GD(e))return!0;e=e.parent}return!1}var KD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(KD||{}),QD=new Map,N1=0;function P1(){return N1++}function k1(n){QD.set(n[xd],n)}function pm(n){QD.delete(n[xd])}var pb="__ngContext__";function ws(n,e){Pn(e)?(n[pb]=e[xd],k1(e)):n[pb]=e}function YD(n){return ZD(n[tc])}function JD(n){return ZD(n[Nn])}function ZD(n){for(;n!==null&&!Zn(n);)n=n[Nn];return n}var gm;function XD(n){gm=n}function jd(){if(gm!==void 0)return gm;if(typeof document<"u")return document;throw new q(210,!1)}var lc=new $("",{providedIn:"root",factory:()=>O1}),O1="ng",uy=new $(""),hi=new $("",{providedIn:"platform",factory:()=>"unknown"});var ly=new $("",{providedIn:"root",factory:()=>jd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function F1(){let n=new dc;return n.store=L1(jd(),F(lc)),n}var dc=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:F1});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function L1(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var eC="h",tC="b",V1="f",j1="n",U1="e",B1="t",dy="c",nC="x",md="r",$1="i",H1="n",rC="d";var z1="di";var ql=new $(""),iC=!1,oC=new $("",{providedIn:"root",factory:()=>iC});var sC=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(sC||{}),Ud=new $(""),gb=new Set;function Is(n){gb.has(n)||(gb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var q1=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})();var G1="__nghData__",aC=G1;var Vg="ngh",W1="nghm",cC=()=>null;function K1(n,e,t=!1){let r=n.getAttribute(Vg);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,u={};if(r!==""){let h=e.get(dc,null,{optional:!0});h!==null&&(u=h.get(aC,[])[Number(r)])}let l={data:u,firstChild:n.firstChild??null};return t&&(l.firstChild=n,Bd(l,0,n.nextSibling)),a?n.setAttribute(Vg,a):n.removeAttribute(Vg),l}function Q1(){cC=K1}function uC(n,e,t=!1){return cC(n,e,t)}function Y1(n){let e=n._lView;return e[fe].type===2?null:(rc(e)&&(e=e[Ye]),e)}function J1(n){return n.textContent?.replace(/\s/gm,"")}function Z1(n){let e=jd(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=J1(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Bd(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function mm(n,e){return n.segmentHeads?.[e]??null}function X1(n,e){let t=n.data,r=t[U1]?.[e]??null;return r===null&&t[dy]?.[e]&&(r=hy(n,e)),r}function lC(n,e){return n.data[dy]?.[e]??null}function hy(n,e){let t=lC(n,e)??[],r=0;for(let i of t)r+=i[md]*(i[nC]??1);return r}function eO(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[rC];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function hc(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[rC];n.disconnectedNodes=t?new Set(t):null}return!!eO(n)?.has(e)}function jg(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===W1}function mb(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function tO(n){for(let r of n.body.childNodes)if(jg(r))return;let e=mb(n.body.previousSibling);if(jg(e))return;let t=mb(n.head.lastChild);if(!jg(t))throw new q(-507,!1)}function dC(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];_D(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function ym(n,e,t){_D(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function fy(n,e,t){if(Km(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var Yn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Yn||{});var Gl;function nO(){if(Gl===void 0&&(Gl=null,ii.trustedTypes))try{Gl=ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gl}function yb(n){return nO()?.createScriptURL(n)||n}var yd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fb})`}};function fc(n){return n instanceof yd?n.changingThisBreaksApplicationSecurity:n}function py(n,e){let t=rO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Fb})`)}return t===e}function rO(n){return n instanceof yd&&n.getTypeName()||null}var iO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hC(n){return n=String(n),n.match(iO)?n:"unsafe:"+n}var $d=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($d||{});function oO(n){let e=pC();return e?e.sanitize($d.URL,n)||"":py(n,"URL")?fc(n):hC(as(n))}function sO(n){let e=pC();if(e)return yb(e.sanitize($d.RESOURCE_URL,n)||"");if(py(n,"ResourceURL"))return yb(fc(n));throw new q(904,!1)}function aO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?sO:oO}function fC(n,e,t){return aO(e,t)(n)}function pC(){let n=be();return n&&n[Cr].sanitizer}var cO=/^>|^->|<!--|-->|--!>|<!-$/g,uO=/(<|>)/g,lO="\u200B$1\u200B";function dO(n){return n.replace(cO,e=>e.replace(uO,lO))}function hO(n){return n.ownerDocument.body}function gC(n){return n instanceof Function?n():n}function fO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var mC="ng-template";function pO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&fO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(gy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function gy(n){return n.type===4&&n.value!==mC}function gO(n,e,t){let r=n.type===4&&!t?mC:n.value;return e===r}function mO(n,e,t){let r=4,i=n.attrs,o=i!==null?_O(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Rn(r)&&!Rn(u))return!1;if(s&&Rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!gO(n,u,t)||u===""&&e.length===1){if(Rn(r))return!1;s=!0}}else if(r&8){if(i===null||!pO(n,i,u,t)){if(Rn(r))return!1;s=!0}}else{let l=e[++a],h=yO(u,i,gy(n),t);if(h===-1){if(Rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Rn(r))return!1;s=!0}}}}return Rn(r)||s}function Rn(n){return(n&1)===0}function yO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wO(e,n)}function yC(n,e,t=!1){for(let r=0;r<e.length;r++)if(mO(n,e[r],t))return!0;return!1}function vO(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function _O(n){for(let e=0;e<n.length;e++){let t=n[e];if(AD(t))return e}return n.length}function wO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function IO(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function vb(n,e){return n?":not("+e.trim()+")":e}function EO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rn(s)&&(e+=vb(o,i),i=""),r=s,o=o||!Rn(r);t++}return i!==""&&(e+=vb(o,i)),e}function bO(n){return n.map(EO).join(",")}function DO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Rn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Vn={};function vC(n,e){return n.createText(e)}function CO(n,e,t){n.setValue(e,t)}function _C(n,e){return n.createComment(dO(e))}function my(n,e,t){return n.createElement(e,t)}function vd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function wC(n,e,t){n.appendChild(e,t)}function _b(n,e,t,r,i){r!==null?vd(n,e,t,r,i):wC(n,e,t)}function yy(n,e,t){n.removeChild(null,e,t)}function IC(n){n.textContent=""}function TO(n,e,t){n.setAttribute(e,"style",t)}function SO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function EC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&i1(n,e,r),i!==null&&SO(n,e,i),o!==null&&TO(n,e,o)}function vy(n,e,t,r,i,o,s,a,u,l,h){let p=Ye+r,y=p+i,m=AO(p,y),C=typeof l=="function"?l():l;return m[fe]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function AO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vn);return t}function xO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=vy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function _y(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[rn]=i,p[se]=r|4|128|8|64|1024,(l!==null||n&&n[se]&2048)&&(p[se]|=2048),hD(p),p[Rt]=p[ys]=n,p[qt]=t,p[Cr]=s||n&&n[Cr],p[Ve]=a||n&&n[Ve],p[Ki]=u||n&&n[Ki]||null,p[Kt]=o,p[xd]=P1(),p[kn]=h,p[rD]=l,p[Gt]=e.type==2?n[Gt]:p,p}function RO(n,e,t){let r=Ln(e,n),i=xO(t),o=n[Cr].rendererFactory,s=wy(n,_y(n,i,null,bC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function bC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function DC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function wy(n,e){return n[tc]?n[nb][Nn]=e:n[tc]=e,n[nb]=e,e}function M(n=1){CC(yt(),be(),ci()+n,!1)}function CC(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ql(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yl(e,o,0,t)}Yi(t)}var Hd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Hd||{});function vm(n,e,t,r){let i=pe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Hd.SignalBased)!==0&&(u=e[o][pn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):oD(e,u,o,r)}finally{pe(i)}}function TC(n,e,t,r,i){let o=ci(),s=r&2;try{Yi(-1),s&&e.length>Ye&&CC(n,e,Ye,!1),Le(s?2:0,i),t(r,i)}finally{Yi(o),Le(s?3:1,i)}}function zd(n,e,t){LO(n,e,t),(t.flags&64)===64&&VO(n,e,t)}function Iy(n,e,t=Ln){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function MO(n,e,t,r){let o=r.get(oC,iC)||t===Yn.ShadowDom,s=n.selectRootElement(e,o);return NO(s),s}function NO(n){SC(n)}var SC=()=>null;function PO(n){WD(n)?IC(n):Z1(n)}function kO(){SC=PO}function OO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function AC(n,e,t,r,i,o,s,a){if(!a&&by(e,n,t,r,i)){eo(e)&&FO(t,e.index);return}if(e.type&3){let u=Ln(e,t);r=OO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function FO(n,e){let t=Qn(e,n);t[se]&16||(t[se]|=64)}function LO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;eo(t)&&RO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||dd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=hd(e,n,s,t);if(ws(u,e),o!==null&&$O(e,s-r,u,a,t,o),Kn(a)){let l=Qn(t.index,e);l[qt]=hd(e,n,s,t)}}}function VO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Qk();try{Yi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];sm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&jO(u,l)}}finally{Yi(-1),sm(s)}}function jO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ey(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];yC(e,o.selectors,!1)&&(r??=[],Kn(o)?r.unshift(o):r.push(o))}return r}function UO(n,e,t,r,i,o){let s=Ln(n,e);BO(e[Ve],s,o,n.value,t,r,i)}function BO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?as(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function $O(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];vm(r,t,u,l)}}function HO(n,e){let t=n[Ki],r=t?t.get(Sr,null):null;r&&r.handleError(e)}function by(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];vm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];vm(h,l,r,i),a=!0}return a}function zO(n,e){let t=Qn(e,n),r=t[fe];qO(r,t);let i=t[rn];i!==null&&t[kn]===null&&(t[kn]=uC(i,t[Ki])),Le(18),Dy(r,t,t[qt]),Le(19,t[qt])}function qO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Dy(n,e,t){ty(e);try{let r=n.viewQuery;r!==null&&ym(1,r,t);let i=n.template;i!==null&&TC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ds]?.finishViewCreation(n),n.staticContentQueries&&dC(n,e),n.staticViewQueries&&ym(2,n.viewQuery,t);let o=n.components;o!==null&&GO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,ny()}}function GO(n,e){for(let t=0;t<e.length;t++)zO(n,e[t])}function xC(n,e,t,r){let i=pe(null);try{let o=e.tView,a=n[se]&4096?4096:16,u=_y(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ls]=l;let h=n[ds];return h!==null&&(u[ds]=h.createEmbeddedView(o)),Dy(o,u,t),u}finally{pe(i)}}function _m(n,e){return!e||e.firstChild===null||gd(n)}var WO;function Cy(n,e){return WO(n,e)}var Ar=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ar||{});function ro(n){return(n.flags&32)===32}function os(n,e,t,r,i){if(r!=null){let o,s=!1;Zn(r)?o=r:Pn(r)&&(s=!0,r=r[rn]);let a=On(r);n===0&&t!==null?i==null?wC(e,t,a):vd(e,t,a,i||null,!0):n===1&&t!==null?vd(e,t,a,i||null,!0):n===2?yy(e,a,s):n===3&&e.destroyNode(a),o!=null&&rF(e,n,o,t,i)}}function KO(n,e){RC(n,e),e[rn]=null,e[Kt]=null}function QO(n,e,t,r,i,o){r[rn]=i,r[Kt]=e,Gd(n,r,t,1,i,o)}function RC(n,e){e[Cr].changeDetectionScheduler?.notify(9),Gd(n,e,e[Ve],2,null,null)}function YO(n){let e=n[tc];if(!e)return Ug(n[fe],n);for(;e;){let t=null;if(Pn(e))t=e[tc];else{let r=e[tn];r&&(t=r)}if(!t){for(;e&&!e[Nn]&&e!==n;)Pn(e)&&Ug(e[fe],e),e=e[Rt];e===null&&(e=n),Pn(e)&&Ug(e[fe],e),t=e&&e[Nn]}e=t}}function Ty(n,e){let t=n[ad],r=t.indexOf(e);t.splice(r,1)}function MC(n,e){if(vs(e))return;let t=e[Ve];t.destroyNode&&Gd(n,e,t,3,null,null),YO(e)}function Ug(n,e){if(vs(e))return;let t=pe(null);try{e[se]&=-129,e[se]|=256,e[gn]&&ag(e[gn]),ZO(n,e),JO(n,e),e[fe].type===1&&e[Ve].destroy();let r=e[ls];if(r!==null&&Zn(e[Rt])){r!==e[Rt]&&Ty(r,e);let i=e[ds];i!==null&&i.detachView(n)}pm(e)}finally{pe(t)}}function JO(n,e){let t=n.cleanup,r=e[id];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[id]=null);let i=e[oi];if(i!==null){e[oi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[od];if(o!==null){e[od]=null;for(let s of o)s.destroy()}}function ZO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ji)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Le(4,a,u);try{u.call(a)}finally{Le(5,a,u)}}else{Le(4,i,o);try{o.call(i)}finally{Le(5,i,o)}}}}}function NC(n,e,t){return XO(n,e.parent,t)}function XO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[rn];if(eo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Yn.None||i===Yn.Emulated)return null}return Ln(r,t)}function PC(n,e,t){return tF(n,e,t)}function eF(n,e,t){return n.type&40?Ln(n,t):null}var tF=eF,wb;function qd(n,e,t,r){let i=NC(n,r,e),o=e[Ve],s=r.parent||e[Kt],a=PC(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_b(o,i,t[u],a,!1);else _b(o,i,t,a,!1);wb!==void 0&&wb(o,r,e,t,i)}function Za(n,e){if(e!==null){let t=e.type;if(t&3)return Ln(e,n);if(t&4)return wm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Za(n,r);{let i=n[e.index];return Zn(i)?wm(-1,i):On(i)}}else{if(t&128)return Za(n,e.next);if(t&32)return Cy(e,n)()||On(n[e.index]);{let r=kC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qi(n[Gt]);return Za(i,r)}else return Za(n,e.next)}}}return null}function kC(n,e){if(e!==null){let r=n[Gt][Kt],i=e.projection;return r.projection[i]}return null}function wm(n,e){let t=tn+n+1;if(t<e.length){let r=e[t],i=r[fe].firstChild;if(i!==null)return Za(r,i)}return e[Tr]}function Sy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ws(On(a),r),t.flags|=2),!ro(t))if(u&8)Sy(n,e,t.child,r,i,o,!1),os(e,n,i,a,o);else if(u&32){let l=Cy(t,r),h;for(;h=l();)os(e,n,i,h,o);os(e,n,i,a,o)}else u&16?OC(n,e,r,t,i,o):os(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Gd(n,e,t,r,i,o){Sy(t,r,n.firstChild,e,i,o,!1)}function nF(n,e,t){let r=e[Ve],i=NC(n,t,e),o=t.parent||e[Kt],s=PC(o,t,e);OC(r,0,e,t,i,s)}function OC(n,e,t,r,i,o){let s=t[Gt],u=s[Kt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];os(e,n,i,h,o)}else{let l=u,h=s[Rt];gd(r)&&(l.flags|=128),Sy(n,e,l,h,i,o,!0)}}function rF(n,e,t,r,i){let o=t[Tr],s=On(t);o!==s&&os(e,n,r,o,i);for(let a=tn;a<t.length;a++){let u=t[a];Gd(u[fe],u,n,e,r,o)}}function iF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ar.Important),n.setStyle(t,r,i,o))}}function _d(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(On(o)),Zn(o)&&oF(o,r);let s=t.type;if(s&8)_d(n,e,t.child,r);else if(s&32){let a=Cy(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=kC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Qi(e[Gt]);_d(u[fe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function oF(n,e){for(let t=tn;t<n.length;t++){let r=n[t],i=r[fe].firstChild;i!==null&&_d(r[fe],r,i,e)}n[Tr]!==n[rn]&&e.push(n[Tr])}function FC(n){if(n[Og]!==null){for(let e of n[Og])e.impl.addSequence(e);n[Og].length=0}}var LC=[];function sF(n){return n[gn]??aF(n)}function aF(n){let e=LC.pop()??Object.create(uF);return e.lView=n,e}function cF(n){n.lView[gn]!==n&&(n.lView=null,LC.push(n))}var uF=he(V({},Ha),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Nd(n.lView)},consumerOnSignalRead(){this.lView[gn]=this}});function lF(n){let e=n[gn]??Object.create(dF);return e.lView=n,e}var dF=he(V({},Ha),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Qi(n.lView);for(;e&&!VC(e[fe]);)e=Qi(e);e&&fD(e)},consumerOnSignalRead(){this.lView[gn]=this}});function VC(n){return n.type!==2}function jC(n){if(n[od]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[od])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[se]&8192)}}var hF=100;function UC(n,e=!0,t=0){let i=n[Cr].rendererFactory,o=!1;o||i.begin?.();try{fF(n,t)}catch(s){throw e&&HO(n,s),s}finally{o||i.end?.()}}function fF(n,e){let t=vD();try{ib(!0),Im(n,e);let r=0;for(;Md(n);){if(r===hF)throw new q(103,!1);r++,Im(n,1)}}finally{ib(t)}}function pF(n,e,t,r){if(vs(e))return;let i=e[se],o=!1,s=!1;ty(e);let a=!0,u=null,l=null;o||(VC(n)?(l=sF(e),u=fl(l)):tg()===null?(a=!1,l=lF(e),u=fl(l)):e[gn]&&(ag(e[gn]),e[gn]=null));try{hD(e),Gk(n.bindingStartIndex),t!==null&&TC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Ql(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Yl(e,m,0,null),Fg(e,0)}if(s||gF(e),jC(e),BC(e,0),n.contentQueries!==null&&dC(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Ql(e,m)}else{let m=n.contentHooks;m!==null&&Yl(e,m,1),Fg(e,1)}yF(n,e);let p=n.components;p!==null&&HC(e,p,0);let y=n.viewQuery;if(y!==null&&ym(2,y,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Ql(e,m)}else{let m=n.viewHooks;m!==null&&Yl(e,m,2),Fg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[kg]){for(let m of e[kg])m();e[kg]=null}o||(FC(e),e[se]&=-73)}catch(h){throw o||Nd(e),h}finally{l!==null&&(og(l,u),a&&cF(l)),ny()}}function BC(n,e){for(let t=YD(n);t!==null;t=JD(t))for(let r=tn;r<t.length;r++){let i=t[r];$C(i,e)}}function gF(n){for(let e=YD(n);e!==null;e=JD(e)){if(!(e[se]&2))continue;let t=e[ad];for(let r=0;r<t.length;r++){let i=t[r];fD(i)}}}function mF(n,e,t){Le(18);let r=Qn(e,n);$C(r,t),Le(19,r[qt])}function $C(n,e){Ym(n)&&Im(n,e)}function Im(n,e){let r=n[fe],i=n[se],o=n[gn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&sg(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)pF(r,n,r.template,n[qt]);else if(i&8192){jC(n),BC(n,1);let a=r.components;a!==null&&HC(n,a,1),FC(n)}}function HC(n,e,t){for(let r=0;r<e.length;r++)mF(n,e[r],t)}function yF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Yi(~i);else{let o=i,s=t[++r],a=t[++r];Kk(s,o);let u=e[o];Le(24,u),a(2,u),Le(25,u)}}}finally{Yi(-1)}}function Ay(n,e){let t=vD()?64:1088;for(n[Cr].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=Qi(n);if(rc(n)&&!r)return n;n=r}return null}function zC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function qC(n,e,t,r=!0){let i=e[fe];if(vF(i,e,n,t),r){let s=wm(t,n),a=e[Ve],u=a.parentNode(n[Tr]);u!==null&&QO(i,n[Kt],a,e,u,s)}let o=e[kn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Em(n,e){if(n.length<=tn)return;let t=tn+e,r=n[t];if(r){let i=r[ls];i!==null&&i!==n&&Ty(i,r),e>0&&(n[t-1][Nn]=r[Nn]);let o=nd(n,tn+e);KO(r[fe],r);let s=o[ds];s!==null&&s.detachView(o[fe]),r[Rt]=null,r[Nn]=null,r[se]&=-129}return r}function vF(n,e,t,r){let i=tn+r,o=t.length;r>0&&(t[i-1][Nn]=e),r<o-tn?(e[Nn]=t[i],Qb(t,tn+r,e)):(t.push(e),e[Nn]=null),e[Rt]=t;let s=e[ls];s!==null&&t!==s&&GC(s,e);let a=e[ds];a!==null&&a.insertView(n),im(e),e[se]|=128}function GC(n,e){let t=n[ad],r=e[Rt];if(Pn(r))n[se]|=2;else{let i=r[Rt][Gt];e[Gt]!==i&&(n[se]|=2)}t===null?n[ad]=[e]:t.push(e)}var oc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[fe];return _d(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return vs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(Zn(e)){let t=e[sd],r=t?t.indexOf(this):-1;r>-1&&(Em(e,r),nd(t,r))}this._attachedToViewContainer=!1}MC(this._lView[fe],this._lView)}onDestroy(e){pD(this._lView,e)}markForCheck(){Ay(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){im(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,UC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rc(this._lView),t=this._lView[ls];t!==null&&!e&&Ty(t,this._lView),RC(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=rc(this._lView),r=this._lView[ls];r!==null&&!t&&GC(r,this._lView),im(this._lView)}};var Wd=(()=>{class n{static __NG_ELEMENT_ID__=IF}return n})(),_F=Wd,wF=class extends _F{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=xC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new oc(i)}};function IF(){return WC(Qt(),be())}function WC(n,e){return n.type&4?new wF(e,n,Vd(n,e)):null}function pc(n,e,t,r,i){let o=n.data[e];if(o===null)o=EF(n,e,t,r,i),Wk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Hk();o.injectorIndex=s===null?-1:s.injectorIndex}return to(o,!0),o}function EF(n,e,t,r,i){let o=yD(),s=Zm(),a=s?o:o&&o.parent,u=n.data[e]=DF(n,a,t,e,r,i);return bF(n,u,o,s),u}function bF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function DF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _s()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var CF=new RegExp(`^(\\d+)*(${tC}|${eC})*(.*)`);function TF(n){let e=n.match(CF),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function SF(n){return!n.prev&&n.parent?.type===8}function Bg(n){return n.index-Ye}function AF(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Kd(n,e,t,r){let i=Bg(r),o=AF(n,i);if(o===void 0){let s=n.data[H1];if(s?.[i])o=RF(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(SF(r)){let l=Bg(r.parent);o=mm(n,l)}else{let l=Ln(u,t);if(a)o=l.firstChild;else{let h=Bg(u),p=mm(n,h);if(u.type===2&&p){let m=hy(n,h)+1;o=Qd(m,p)}else o=l.nextSibling}}}}return o}function Qd(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function xF(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case V1:t=t.firstChild;break;case j1:t=t.nextSibling;break}}return t}function RF(n,e){let[t,...r]=TF(n),i;if(t===eC)i=e[Gt][rn];else if(t===tC)i=hO(e[Gt][rn]);else{let o=Number(t);i=On(e[o+Ye])}return xF(i,r)}var MF=!1;function NF(n){MF=n}function PF(n){let e=n[kn];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Ve];for(let o of r.values())kF(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function kF(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-Ye);i&&yy(n,i,!1)}}function KC(n){let e=n[nc]??[],r=n[Rt][Ve],i=[];for(let o of e)o.data[z1]!==void 0?i.push(o):OF(o,r);n[nc]=i}function OF(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[md];for(;t<i;){let o=r.nextSibling;yy(e,r,!1),r=o,t++}}}function QC(n){KC(n);let e=n[rn];Pn(e)&&wd(e);for(let t=tn;t<n.length;t++)wd(n[t])}function wd(n){PF(n);let e=n[fe];for(let t=Ye;t<e.bindingStartIndex;t++)if(Zn(n[t])){let r=n[t];QC(r)}else Pn(n[t])&&wd(n[t])}function FF(n){let e=n._views;for(let t of e){let r=Y1(t);r!==null&&r[rn]!==null&&(Pn(r)?wd(r):QC(r))}}function LF(n,e){let t=[];for(let r of e)for(let i=0;i<(r[nC]??1);i++){let o={data:r,firstChild:null};r[md]>0&&(o.firstChild=n,n=Qd(r[md],n)),t.push(o)}return[n,t]}var YC=()=>null;function VF(n,e){let t=n[nc];return!e||t===null||t.length===0?null:t[0].data[$1]===e?t.shift():(KC(n),null)}function jF(){YC=VF}function bm(n,e){return YC(n,e)}var UF=class{},JC=class{},Dm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${zt(e)}.`)}},Yd=class{static NULL=new Dm},ps=class{},Rr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>BF()}return n})();function BF(){let n=be(),e=Qt(),t=Qn(e.index,n);return(Pn(t)?t:n)[Ve]}var $F=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>null})}return n})();var $g={},Cm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Sd(r);let i=this.injector.get(e,$g,r);return i!==$g||t===$g?i:this.parentInjector.get(e,t,r)}};function Tm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Yg(i,a);else if(o==2){let u=a,l=e[++s];r=Yg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function H(n,e=de.Default){let t=be();if(t===null)return J(n,e);let r=Qt();return OD(r,t,jt(n),e)}function xy(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=zF(s);h===null?a=s:[a,u,l]=h,WF(n,e,t,a,o,u,l)}o!==null&&r!==null&&HF(t,r,o)}function HF(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}function zF(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Kn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,qF(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function qF(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function GF(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function WF(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&Kn(m)&&(u=!0,GF(n,t,y)),cm(dd(t,e),n,m.type)}XF(t,n.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=DC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(t.mergedAttrs=fs(t.mergedAttrs,m.hostAttrs),QF(n,t,e,p,m),ZF(p,m,i),s!==null&&s.has(m)){let[k,P]=s.get(m);t.directiveToIndex.set(m.type,[p,k+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let C=m.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}KF(n,t,o)}function KF(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Ib(0,e,i,r),Ib(1,e,i,r),bb(e,r,!1);else{let o=t.get(i);Eb(0,e,o,r),Eb(1,e,o,r),bb(e,r,!0)}}}function Ib(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ZC(e,o)}}function Eb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ZC(e,s)}}function ZC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function bb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||gy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function QF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=qi(i.type,!0)),s=new Ji(o,Kn(i),H);n.blueprint[r]=s,t[r]=s,YF(n,e,r,DC(n,t,i.hostVars,Vn),i)}function YF(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;JF(s)!=a&&s.push(a),s.push(t,r,o)}}function JF(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ZF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Kn(e)&&(t[""]=n)}}function XF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function XC(n,e,t,r,i,o,s,a){let u=e.consts,l=hs(u,s),h=pc(e,n,2,r,l);return o&&xy(e,t,h,hs(u,a),i),h.mergedAttrs=fs(h.mergedAttrs,h.attrs),h.attrs!==null&&Tm(h,h.attrs,!1),h.mergedAttrs!==null&&Tm(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function eT(n,e){iy(n,e),Km(e)&&n.queries.elementEnd(e)}var Id=class extends Yd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=cs(e);return new sc(t,this.ngModule)}};function eL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Hd.SignalBased)!==0};return i&&(o.transform=i),o})}function tL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function nL(n,e,t){let r=e instanceof nn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Cm(t,r):t}function rL(n){let e=n.get(ps,null);if(e===null)throw new q(407,!1);let t=n.get($F,null),r=n.get(ic,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function iL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return my(e,t,t==="svg"?uD:t==="math"?Pk:null)}var sc=class extends JC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=eL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=tL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=bO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Le(22);let o=pe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.9"]:DO(this.componentDef.selectors[0]),u=vy(0,null,null,1,0,null,null,null,null,[a],null),l=nL(s,i||this.ngModule,e),h=rL(l),p=h.rendererFactory.createRenderer(null,s),y=r?MO(p,r,s.encapsulation,l):iL(s,p),m=_y(null,u,null,512|bC(s),null,null,h,p,l,null,uC(y,l,!0));m[Ye]=y,ty(m);let C=null;try{let k=XC(Ye,u,m,"#host",()=>[this.componentDef],!0,0);y&&(EC(p,y,k),ws(y,m)),zd(u,m,k),fy(u,k,m),eT(u,k),t!==void 0&&oL(k,this.ngContentSelectors,t),C=Qn(k.index,m),m[qt]=C[qt],Dy(u,m,null)}catch(k){throw C!==null&&pm(C),pm(m),k}finally{Le(23),ny()}return new Sm(this.componentType,m)}finally{pe(o)}}},Sm=class extends UF{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=dD(t[fe],Ye),this.location=Vd(this._tNode,t),this.instance=Qn(this._tNode.index,t)[qt],this.hostView=this.changeDetectorRef=new oc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=by(r,i[fe],i,e,t);this.previousInputValues.set(e,t);let s=Qn(r.index,i);Ay(s,1)}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function oL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Es=(()=>{class n{static __NG_ELEMENT_ID__=sL}return n})();function sL(){let n=Qt();return cL(n,be())}var aL=Es,tT=class extends aL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vd(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){let e=oy(this._hostTNode,this._hostLView);if(xD(e)){let t=ud(e,this._hostLView),r=cd(e),i=t[fe].data[r+8];return new zi(i,t)}else return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Db(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=bm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,_m(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!xk(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new sc(cs(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let k=(s?l:this.parentInjector).get(nn,null);k&&(o=k)}let h=cs(u.componentType??{}),p=bm(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,_m(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(kk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Rt],l=new tT(u,u[Kt],u[Rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qC(s,i,o,r),e.attachToViewContainerRef(),Qb(Hg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Db(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);r&&(nd(Hg(this._lContainer),t),MC(r[fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);return r&&nd(Hg(this._lContainer),t)!=null?new oc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Db(n){return n[sd]}function Hg(n){return n[sd]||(n[sd]=[])}function cL(n,e){let t,r=e[n.index];return Zn(r)?t=r:(t=zC(r,e,null,n),e[n.index]=t,wy(e,t)),nT(t,e,n,r),new tT(t,n,e)}function uL(n,e){let t=n[Ve],r=t.createComment(""),i=Ln(e,n),o=t.parentNode(i);return vd(t,o,r,t.nextSibling(i),!1),r}var nT=rT,Ry=()=>!1;function lL(n,e,t){return Ry(n,e,t)}function rT(n,e,t,r){if(n[Tr])return;let i;t.type&8?i=On(r):i=uL(e,t),n[Tr]=i}function dL(n,e,t){if(n[Tr]&&n[nc])return!0;let r=t[kn],i=e.index-Ye;if(!r||M1(e)||hc(r,i))return!1;let s=mm(r,i),a=r.data[dy]?.[i],[u,l]=LF(s,a);return n[Tr]=u,n[nc]=l,!0}function hL(n,e,t,r){Ry(n,t,e)||rT(n,e,t,r)}function fL(){nT=hL,Ry=dL}var gs=class{},My=class{};var Am=class extends gs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Id(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Zb(e);this._bootstrapComponents=gC(o.bootstrap),this._r3Injector=VD(e,t,[{provide:gs,useValue:this},{provide:Yd,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xm=class extends My{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Am(this.moduleType,e,[])}};var Ed=class extends gs{injector;componentFactoryResolver=new Id(this);instance=null;constructor(e){super();let t=new ec([...e.providers,{provide:gs,useValue:this},{provide:Yd,useValue:this.componentFactoryResolver}],e.parent||Wm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Jd(n,e,t=null){return new Ed({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var pL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Xb(!1,t.type),i=r.length>0?Jd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(J(nn))})}return n})();function Me(n){return cc(()=>{let e=iT(n),t=he(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===KD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(pL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Yn.Emulated,styles:n.styles||Ht,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Is("NgStandalone"),oT(t);let r=n.dependencies;return t.directiveDefs=Cb(r,!1),t.pipeDefs=Cb(r,!0),t.id=_L(t),t})}function gL(n){return cs(n)||mk(n)}function mL(n){return n!==null}function fi(n){return cc(()=>({type:n.type,bootstrap:n.bootstrap||Ht,declarations:n.declarations||Ht,imports:n.imports||Ht,exports:n.exports||Ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yL(n,e){if(n==null)return Gi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Hd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function vL(n){if(n==null)return Gi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ze(n){return cc(()=>{let e=iT(n);return oT(e),e})}function Ny(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function iT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Gi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yL(n.inputs,e),outputs:vL(n.outputs),debugInfo:null}}function oT(n){n.features?.forEach(e=>e(n))}function Cb(n,e){if(!n)return null;let t=e?yk:gL;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(mL)}function _L(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wL(n){return Object.getPrototypeOf(n.prototype).constructor}function jn(n){let e=wL(n.type),t=!0,r=[n];for(;e;){let i;if(Kn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=zg(n.inputs),s.declaredInputs=zg(n.declaredInputs),s.outputs=zg(n.outputs);let a=i.hostBindings;a&&CL(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&bL(n,u),l&&DL(n,l),IL(n,i),QP(n.outputs,i.outputs),Kn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===jn&&(t=!1)}}e=Object.getPrototypeOf(e)}EL(r)}function IL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function EL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fs(i.hostAttrs,t=fs(t,i.hostAttrs))}}function zg(n){return n===Gi?{}:n===Ht?[]:n}function bL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function DL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function CL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function sT(n){return SL(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function TL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function SL(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Py(n,e,t){return n[e]=t}function Jn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ky(n,e,t,r){let i=Jn(n,e,t);return Jn(n,e+1,r)||i}function AL(n,e,t,r,i){let o=ky(n,e,t,r);return Jn(n,e+2,i)||o}function xL(n,e,t,r,i,o,s,a,u){let l=e.consts,h=pc(e,n,4,s||null,a||null);Jm()&&xy(e,t,h,hs(l,u),Ey),h.mergedAttrs=fs(h.mergedAttrs,h.attrs),iy(e,h);let p=h.tView=vy(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function aT(n,e,t,r,i,o,s,a,u,l){let h=t+Ye,p=e.firstCreatePass?xL(h,e,n,r,i,o,s,a,u):e.data[h];to(p,!1);let y=cT(e,n,p,t);Od()&&qd(e,n,y,p),ws(y,n);let m=zC(y,n,y,p);return n[h]=m,wy(n,m),lL(m,p,n),Rd(p)&&zd(e,n,p),u!=null&&Iy(n,p,l),p}function re(n,e,t,r,i,o,s,a){let u=be(),l=yt(),h=hs(l.consts,o);return aT(u,l,n,e,t,r,i,h,s,a),re}var cT=uT;function uT(n,e,t,r){return li(!0),e[Ve].createComment("")}function RL(n,e,t,r){let i=e[kn],o=!i||_s()||ro(t)||hc(i,r);if(li(o),o)return uT(n,e);let s=i.data[B1]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Kd(i,n,e,t);Bd(i,r,a);let u=hy(i,r);return Qd(u,a)}function ML(){cT=RL}var Oy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var lT=new $("");var NL=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new Rm})}return n})(),Rm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function io(n){return!!n&&typeof n.then=="function"}function dT(n){return!!n&&typeof n.subscribe=="function"}var PL=new $("");var hT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(PL,{optional:!0})??[];injector=F(Et);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=mn(this.injector,i);if(io(o))t.push(o);else if(dT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bs=new $("");function kL(){ug(()=>{throw new q(600,!1)})}function OL(n){return n.isBoundToModule}var FL=10;var Fn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(D1);afterRenderManager=F(q1);zonelessEnabled=F(Ld);rootEffectScheduler=F(NL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new it;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(no).hasPendingTasks.pipe(ve(t=>!t));constructor(){F(Ud,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(nn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Et.NULL){Le(10);let o=t instanceof JC;if(!this._injector.get(hT).done){let m="";throw new q(405,m)}let a;o?a=t:a=this._injector.get(Yd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=OL(a)?void 0:this._injector.get(gs),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(lT,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Jl(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Le(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sC.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(t),this.afterTick.next(),Le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ps,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<FL;)Le(14),this.synchronizeOnce(),Le(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)LL(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Md(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Jl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bs,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Jl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LL(n,e,t,r){if(!t&&!Md(n))return;UC(n,e,t&&!r?0:1)}function gc(n,e,t,r){let i=be(),o=kd();if(Jn(i,o,e)){let s=yt(),a=ry();UO(a,i,n,e,t,r)}return gc}function VL(n,e,t,r){return Jn(n,kd(),t)?e+as(t)+r:Vn}function jL(n,e,t,r,i,o){let s=qk(),a=ky(n,s,t,i);return ey(2),a?e+as(t)+r+as(i)+o:Vn}function Wl(n,e){return n<<17|e<<2}function Zi(n){return n>>17&32767}function UL(n){return(n&2)==2}function BL(n,e){return n&131071|e<<17}function Mm(n){return n|2}function ms(n){return(n&131068)>>2}function qg(n,e){return n&-131069|e<<2}function $L(n){return(n&1)===1}function Nm(n){return n|1}function HL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Zi(s),u=ms(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||uc(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=Zi(n[a+1]);n[r+1]=Wl(y,a),y!==0&&(n[y+1]=qg(n[y+1],r)),n[a+1]=BL(n[a+1],r)}else n[r+1]=Wl(a,0),a!==0&&(n[a+1]=qg(n[a+1],r)),a=r;else n[r+1]=Wl(u,0),a===0?a=r:n[u+1]=qg(n[u+1],r),u=r;l&&(n[r+1]=Mm(n[r+1])),Tb(n,h,r,!0),Tb(n,h,r,!1),zL(e,h,n,r,o),s=Wl(a,u),o?e.classBindings=s:e.styleBindings=s}function zL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&uc(o,e)>=0&&(t[r+1]=Nm(t[r+1]))}function Tb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Zi(i):ms(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];qL(u,e)&&(a=!0,n[s+1]=r?Nm(l):Mm(l)),s=r?Zi(l):ms(l)}a&&(n[t+1]=r?Mm(i):Nm(i))}function qL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?uc(n,e)>=0:!1}var Mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GL(n){return n.substring(Mn.key,Mn.keyEnd)}function WL(n){return KL(n),fT(n,pT(n,0,Mn.textEnd))}function fT(n,e){let t=Mn.textEnd;return t===e?-1:(e=Mn.keyEnd=QL(n,Mn.key=e,t),pT(n,e,t))}function KL(n){Mn.key=0,Mn.keyEnd=0,Mn.value=0,Mn.valueEnd=0,Mn.textEnd=n.length}function pT(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function QL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function U(n,e,t){let r=be(),i=kd();if(Jn(r,i,e)){let o=yt(),s=ry();AC(o,s,r,n,e,r[Ve],t,!1)}return U}function Pm(n,e,t,r,i){by(e,n,t,i?"class":"style",r)}function an(n,e){return JL(n,e,null,!0),an}function Zd(n){ZL(iV,YL,n,!0)}function YL(n,e){for(let t=WL(e);t>=0;t=fT(e,t))qm(n,GL(e),!0)}function JL(n,e,t,r){let i=be(),o=yt(),s=ey(2);if(o.firstUpdatePass&&mT(o,n,s,r),e!==Vn&&Jn(i,s,e)){let a=o.data[ci()];yT(o,a,i,i[Ve],n,i[s+1]=sV(e,t),r,s)}}function ZL(n,e,t,r){let i=yt(),o=ey(2);i.firstUpdatePass&&mT(i,null,o,r);let s=be();if(t!==Vn&&Jn(s,o,t)){let a=i.data[ci()];if(vT(a,r)&&!gT(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=Yg(u,t||"")),Pm(i,a,s,t,r)}else oV(i,a,s,s[Ve],s[o+1],s[o+1]=rV(n,e,t),r,o)}}function gT(n,e){return e>=n.expandoStartIndex}function mT(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ci()],s=gT(n,t);vT(o,r)&&e===null&&!s&&(e=!1),e=XL(i,o,e,r),HL(i,o,e,t,s,r)}}function XL(n,e,t,r){let i=Yk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Gg(null,n,e,t,r),t=ac(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Gg(i,n,e,t,r),o===null){let u=eV(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Gg(null,n,e,u[1],r),u=ac(u,e.attrs,r),tV(n,e,r,u))}else o=nV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function eV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ms(r)!==0)return n[Zi(r)]}function tV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Zi(i)]=r}function nV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ac(r,s,t)}return ac(r,e.attrs,t)}function Gg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ac(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ac(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),qm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function rV(n,e,t){if(t==null||t==="")return Ht;let r=[],i=fc(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function iV(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&qm(n,r,t)}function oV(n,e,t,r,i,o,s,a){i===Vn&&(i=Ht);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,m=l<o.length?o[l+1]:void 0,C=null,k;h===p?(u+=2,l+=2,y!==m&&(C=p,k=m)):p===null||h!==null&&h<p?(u+=2,C=h):(l+=2,C=p,k=m),C!==null&&yT(n,e,t,r,C,k,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function yT(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=$L(l)?Sb(u,e,t,i,ms(l),s):void 0;if(!bd(h)){bd(o)||UL(l)&&(o=Sb(u,null,t,i,a,s));let p=lD(ci(),t);iF(r,s,p,i,o)}}function Sb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===Vn&&(y=p?Ht:void 0);let m=p?Ng(y,r):h===r?y:void 0;if(l&&!bd(m)&&(m=Ng(u,r)),bd(m)&&(a=m,s))return a;let C=n[i+1];i=s?Zi(C):ms(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ng(u,r))}return a}function bd(n){return n!==void 0}function sV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=zt(fc(n)))),n}function vT(n,e){return(n.flags&(e?8:16))!==0}function E(n,e,t,r){let i=be(),o=yt(),s=Ye+n,a=i[Ve],u=o.firstCreatePass?XC(s,o,i,e,Ey,Jm(),t,r):o.data[s],l=_T(o,i,u,a,e,n);i[s]=l;let h=Rd(u);return to(u,!0),EC(a,l,u),!ro(u)&&Od()&&qd(o,i,l,u),(Lk()===0||h)&&ws(l,i),Vk(),h&&(zd(o,i,u),fy(o,u,i)),r!==null&&Iy(i,u),E}function S(){let n=Qt();Zm()?Xm():(n=n.parent,to(n,!1));let e=n;Uk(e)&&$k(),jk();let t=yt();return t.firstCreatePass&&eT(t,e),e.classesWithoutHost!=null&&n1(e)&&Pm(t,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&r1(e)&&Pm(t,e,be(),e.stylesWithoutHost,!1),S}function Q(n,e,t,r){return E(n,e,t,r),S(),Q}var _T=(n,e,t,r,i,o)=>(li(!0),my(r,i,CD()));function aV(n,e,t,r,i,o){let s=e[kn],a=!s||_s()||ro(t)||hc(s,o);if(li(a),a)return my(r,i,CD());let u=Kd(s,n,e,t);return lC(s,o)&&Bd(s,o,u.nextSibling),s&&(GD(t)||WD(u))&&eo(t)&&(Bk(t),IC(u)),u}function cV(){_T=aV}function uV(n,e,t,r,i){let o=e.consts,s=hs(o,r),a=pc(e,n,8,"ng-container",s);s!==null&&Tm(a,s,!0);let u=hs(o,i);return Jm()&&xy(e,t,a,u,Ey),a.mergedAttrs=fs(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Ds(n,e,t){let r=be(),i=yt(),o=n+Ye,s=i.firstCreatePass?uV(o,i,r,e,t):i.data[o];to(s,!0);let a=wT(i,r,s,n);return r[o]=a,Od()&&qd(i,r,a,s),ws(a,r),Rd(s)&&(zd(i,r,s),fy(i,s,r)),t!=null&&Iy(r,s),Ds}function Cs(){let n=Qt(),e=yt();return Zm()?Xm():(n=n.parent,to(n,!1)),e.firstCreatePass&&(iy(e,n),Km(n)&&e.queries.elementEnd(n)),Cs}var wT=(n,e,t,r)=>(li(!0),_C(e[Ve],""));function lV(n,e,t,r){let i,o=e[kn],s=!o||_s()||hc(o,r)||ro(t);if(li(s),s)return _C(e[Ve],"");let a=Kd(o,n,e,t),u=X1(o,r);return Bd(o,r,a),i=Qd(u,a),i}function dV(){wT=lV}function Je(){return be()}var $i=void 0;function hV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var fV=["en",[["a","p"],["AM","PM"],$i],[["AM","PM"],$i,$i],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$i,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$i,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$i,"{1} 'at' {0}",$i],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",hV],Wg={};function vn(n){let e=pV(n),t=Ab(e);if(t)return t;let r=e.split("-")[0];if(t=Ab(r),t)return t;if(r==="en")return fV;throw new q(701,!1)}function Ab(n){return n in Wg||(Wg[n]=ii.ng&&ii.ng.common&&ii.ng.common.locales&&ii.ng.common.locales[n]),Wg[n]}var et=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(et||{});function pV(n){return n.toLowerCase().replace(/_/g,"-")}var Dd="en-US";var gV=Dd;function mV(n){typeof n=="string"&&(gV=n.toLowerCase().replace(/_/g,"-"))}function xb(n,e,t){return function r(i){if(i===Function)return t;let o=eo(n)?Qn(n.index,e):e;Ay(o,5);let s=e[qt],a=Rb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Rb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Rb(n,e,t,r){let i=pe(null);try{return Le(6,e,t),t(r)!==!1}catch(o){return yV(n,o),!1}finally{Le(7,e,t),pe(i)}}function yV(n,e){let t=n[Ki],r=t?t.get(Sr,null):null;r&&r.handleError(e)}function Mb(n,e,t,r,i,o){let s=e[t],a=e[fe],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?mD(a):null,y=gD(e),m=h.subscribe(o),C=y.length;y.push(o,m),p&&p.push(i,n.index,C,-(C+1))}var vV=new Map;function Z(n,e,t,r){let i=be(),o=yt(),s=Qt();return IT(o,i,i[Ve],s,n,e,r),Z}function _V(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[id],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function IT(n,e,t,r,i,o,s){let a=Rd(r),l=n.firstCreatePass?mD(n):null,h=gD(e),p=!0;if(r.type&3||s){let y=Ln(r,e),m=s?s(y):y,C=h.length,k=s?z=>s(On(z[r.index])):r.index,P=null;if(!s&&a&&(P=_V(n,e,i,r.index)),P!==null){let z=P.__ngLastListenerFn__||P;z.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,p=!1}else{o=xb(r,e,o);let z=e[Ki].get(lc);vV.get(z)?.(m,i,o);let te=t.listen(m,i,o);h.push(o,te),l&&l.push(i,k,C,C+1)}}else o=xb(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let C=0;C<m.length;C+=2){let k=m[C],P=m[C+1];Mb(r,e,k,P,i,o)}if(y&&y.length)for(let C of y)Mb(r,e,C,i,i,o)}}function B(n=1){return Zk(n)}function wV(n,e){let t=null,r=vO(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?yC(n,o,!0):IO(r,o))return i}return t}function ET(n){let e=be()[Gt][Kt];if(!e.projection){let t=n?n.length:1,r=e.projection=fk(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?wV(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function bT(n,e=0,t,r,i,o){let s=be(),a=yt(),u=r?n+1:null;u!==null&&aT(s,a,u,r,i,o,null,t);let l=pc(a,Ye+n,16,null,t||null);l.projection===null&&(l.projection=e),Xm();let p=!s[kn]||_s();s[Gt][Kt].projection[l.projection]===null&&u!==null?IV(s,a,u):p&&!ro(l)&&nF(a,s,l)}function IV(n,e,t){let r=Ye+t,i=e.data[r],o=n[r],s=bm(o,i.tView.ssrId),a=xC(n,i,void 0,{dehydratedView:s});qC(o,a,0,_m(i,s))}function EV(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function oo(n){let e=zk();return Qm(e,Ye+n)}function N(n,e=""){let t=be(),r=yt(),i=n+Ye,o=r.firstCreatePass?pc(r,i,1,e,null):r.data[i],s=DT(r,t,o,e,n);t[i]=s,Od()&&qd(r,t,s,o),to(o,!1)}var DT=(n,e,t,r,i)=>(li(!0),vC(e[Ve],r));function bV(n,e,t,r,i){let o=e[kn],s=!o||_s()||ro(t)||hc(o,i);return li(s),s?vC(e[Ve],r):Kd(o,n,e,t)}function DV(){DT=bV}function bt(n){return qe("",n,""),bt}function qe(n,e,t){let r=be(),i=VL(r,n,e,t);return i!==Vn&&CT(r,ci(),i),qe}function Xd(n,e,t,r,i){let o=be(),s=jL(o,n,e,t,r,i);return s!==Vn&&CT(o,ci(),s),Xd}function CT(n,e,t){let r=lD(e,n);CO(n[Ve],r,t)}function tt(n,e,t){qD(e)&&(e=e());let r=be(),i=kd();if(Jn(r,i,e)){let o=yt(),s=ry();AC(o,s,r,n,e,r[Ve],t,!1)}return tt}function at(n,e){let t=qD(n);return t&&n.set(e),t}function nt(n,e){let t=be(),r=yt(),i=Qt();return IT(r,t,t[Ve],i,n,e),nt}function CV(n,e,t){let r=yt();if(r.firstCreatePass){let i=Kn(n);km(t,r.data,r.blueprint,i,!0),km(e,r.data,r.blueprint,i,!1)}}function km(n,e,t,r,i){if(n=jt(n),Array.isArray(n))for(let o=0;o<n.length;o++)km(n[o],e,t,r,i);else{let o=yt(),s=be(),a=Qt(),u=us(n)?n:jt(n.provide),l=nD(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(us(n)||!n.multi){let m=new Ji(l,i,H),C=Qg(u,e,i?h:h+y,p);C===-1?(cm(dd(a,s),o,u),Kg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[C]=m,s[C]=m)}else{let m=Qg(u,e,h+y,p),C=Qg(u,e,h,h+y),k=m>=0&&t[m],P=C>=0&&t[C];if(i&&!P||!i&&!k){cm(dd(a,s),o,u);let z=AV(i?SV:TV,t.length,i,r,l);!i&&P&&(t[C].providerFactory=z),Kg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(z),s.push(z)}else{let z=TT(t[i?C:m],l,!i&&r);Kg(o,n,m>-1?m:C,z)}!i&&r&&P&&t[C].componentProviders++}}}function Kg(n,e,t,r){let i=us(e),o=Ek(e);if(i||o){let u=(o?jt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function TT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Qg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function TV(n,e,t,r){return Om(this.multi,[])}function SV(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=hd(t,t[fe],this.providerFactory.index,r);o=a.slice(0,s),Om(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Om(i,o);return o}function Om(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function AV(n,e,t,r,i){let o=new Ji(n,t,H);return o.multi=[],o.index=e,o.componentProviders=0,TT(o,i,r&&!t),o}function so(n,e=[]){return t=>{t.providersResolver=(r,i)=>CV(r,i?i(n):n,e)}}function mc(n,e,t,r){return xV(be(),Pd(),n,e,t,r)}function ST(n,e,t,r,i){return AT(be(),Pd(),n,e,t,r,i)}function Fy(n,e){let t=n[e];return t===Vn?void 0:t}function xV(n,e,t,r,i,o){let s=e+t;return Jn(n,s,i)?Py(n,s+1,o?r.call(o,i):r(i)):Fy(n,s+1)}function AT(n,e,t,r,i,o,s){let a=e+t;return ky(n,a,i,o)?Py(n,a+2,s?r.call(s,i,o):r(i,o)):Fy(n,a+2)}function RV(n,e,t,r,i,o,s,a){let u=e+t;return AL(n,u,i,o,s)?Py(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):Fy(n,u+3)}function ao(n,e){let t=yt(),r,i=n+Ye;t.firstCreatePass?(r=MV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=qi(r.type,!0)),s,a=$t(H);try{let u=ld(!1),l=o();return ld(u),EV(t,be(),i,l),l}finally{$t(a)}}function MV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function yc(n,e,t,r){let i=n+Ye,o=be(),s=Qm(o,i);return RT(o,i)?AT(o,Pd(),e,s.transform,t,r,s):s.transform(t,r)}function xT(n,e,t,r,i){let o=n+Ye,s=be(),a=Qm(s,o);return RT(s,o)?RV(s,Pd(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function RT(n,e){return n[fe].data[e].pure}function co(n,e){return WC(n,e)}var Xi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},MT=new Xi("19.2.9"),Fm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},NT=(()=>{class n{compileModuleSync(t){return new xm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Zb(t),o=gC(i.declarations).reduce((s,a)=>{let u=cs(a);return u&&s.push(new sc(u)),s},[]);return new Fm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NV=(()=>{class n{zone=F(Re);changeDetectionScheduler=F(ic);applicationRef=F(Fn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PV=new $("",{factory:()=>!1});function PT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Re(he(V({},OT()),{scheduleInRootZone:t})),[{provide:Re,useFactory:n},{provide:Wi,multi:!0,useFactory:()=>{let r=F(NV,{optional:!0});return()=>r.initialize()}},{provide:Wi,multi:!0,useFactory:()=>{let r=F(kV);return()=>{r.initialize()}}},e===!0?{provide:UD,useValue:!0}:[],{provide:BD,useValue:t??jD}]}function kT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=PT({ngZoneFactory:()=>{let i=OT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Is("NgZone_CoalesceEvent"),new Re(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return on([{provide:PV,useValue:!0},{provide:Ld,useValue:!1},r])}function OT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var kV=(()=>{class n{subscription=new Ke;initialized=!1;zone=F(Re);pendingTasks=F(no);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var OV=(()=>{class n{appRef=F(Fn);taskService=F(no);ngZone=F(Re);zonelessEnabled=F(Ld);tracing=F(Ud,{optional:!0});disableScheduling=F(UD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(BD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?lb:$D;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FV(){return typeof $localize<"u"&&$localize.locale||Dd}var eh=new $("",{providedIn:"root",factory:()=>F(eh,de.Optional|de.SkipSelf)||FV()});var Lm=new $(""),LV=new $("");function Ya(n){return!n.moduleRef}function VV(n){let e=Ya(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Re);return t.run(()=>{Ya(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Sr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ya(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Lm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Lm);s.add(o),n.moduleRef.onDestroy(()=>{Jl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return UV(r,t,()=>{let o=e.get(hT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(eh,Dd);if(mV(s||Dd),!e.get(LV,!0))return Ya(n)?e.get(Fn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ya(n)){let u=e.get(Fn);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return jV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function jV(n,e){let t=n.injector.get(Fn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new q(-403,!1);e.push(n)}function UV(n,e,t){try{let r=t();return io(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Zl=null;function BV(n=[],e){return Et.create({name:e,providers:[{provide:Ad,useValue:"platform"},{provide:Lm,useValue:new Set([()=>Zl=null])},...n]})}function $V(n=[]){if(Zl)return Zl;let e=BV(n);return Zl=e,kL(),HV(e),e}function HV(n){let e=n.get(uy,null);mn(n,()=>{e?.forEach(t=>t())})}var Ts=(()=>{class n{static __NG_ELEMENT_ID__=zV}return n})();function zV(n){return qV(Qt(),be(),(n&16)===16)}function qV(n,e,t){if(eo(n)&&!t){let r=Qn(n.index,e);return new oc(r,r)}else if(n.type&175){let r=e[Gt];return new oc(r,e)}return null}var Vm=class{constructor(){}supports(e){return sT(e)}create(e){return new jm(e)}},GV=(n,e)=>e,jm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||GV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Nb(r,i,o)?t:r,a=Nb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,C=m+y;h<=C&&C<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!sT(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,TL(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Um(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Um=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Bm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Cd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Bm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Pb(){return new Ly([new Vm])}var Ly=(()=>{class n{factories;static \u0275prov=K({token:n,providedIn:"root",factory:Pb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Pb()),deps:[[n,new hk,new Wt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new q(901,!1)}}return n})();function FT(n){Le(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=$V(r),o=[PT({}),{provide:ic,useExisting:OV},...t||[]],s=new Ed({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return VV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Le(9)}}var kb=!1;function WV(){kb||(kb=!0,Q1(),cV(),DV(),dV(),ML(),fL(),jF(),kO())}function KV(n){return n.whenStable()}function LT(){let n=[{provide:ql,useFactory:()=>{let e=!0;return e=!!F(dc,{optional:!0})?.get(aC,null),e&&Is("NgHydration"),e}},{provide:Wi,useValue:()=>{NF(!1),F(ql)&&(tO(jd()),WV())},multi:!0}];return n.push({provide:oC,useFactory:()=>F(ql)},{provide:bs,useFactory:()=>{if(F(ql)){let e=F(Fn);return()=>{KV(e).then(()=>{e.destroyed||FF(e)})}}return()=>{}},multi:!0}),on(n)}function uo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Mr(n){return hg(n)}function Ss(n,e){return cg(n,e?.equal)}var Ob=class{[pn];constructor(e){this[pn]=e}destroy(){this[pn].destroy()}};var Mt=new $("");var UT=null;function _n(){return UT}function Vy(n){UT??=n}var vc=class{},jy=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>F(BT),providedIn:"platform"})}return n})();var BT=(()=>{class n extends jy{_location;_history;_doc=F(Mt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _n().getBaseHref(this._doc)}onPopState(t){let r=_n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=_n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function $T(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function VT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function pi(n){return n&&n[0]!=="?"?`?${n}`:n}var As=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>F(zT),providedIn:"root"})}return n})(),HT=new $(""),zT=(()=>{class n extends As{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $T(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+pi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+pi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+pi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(jy),J(HT,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xs=(()=>{class n{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=JV(VT(jT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pi(r))}normalize(t){return n.stripTrailingSlash(YV(this._basePath,jT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=pi;static joinWithSlash=$T;static stripTrailingSlash=VT;static \u0275fac=function(r){return new(r||n)(J(As))};static \u0275prov=K({token:n,factory:()=>QV(),providedIn:"root"})}return n})();function QV(){return new xs(J(As))}function YV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function jT(n){return n.replace(/\/index.html$/,"")}function JV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Nt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Nt||{}),Ne=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ne||{}),Yt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Yt||{}),Pr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function QT(n){return vn(n)[et.LocaleId]}function YT(n,e,t){let r=vn(n),i=[r[et.DayPeriodsFormat],r[et.DayPeriodsStandalone]],o=wn(i,e);return wn(o,t)}function JT(n,e,t){let r=vn(n),i=[r[et.DaysFormat],r[et.DaysStandalone]],o=wn(i,e);return wn(o,t)}function ZT(n,e,t){let r=vn(n),i=[r[et.MonthsFormat],r[et.MonthsStandalone]],o=wn(i,e);return wn(o,t)}function XT(n,e){let r=vn(n)[et.Eras];return wn(r,e)}function _c(n,e){let t=vn(n);return wn(t[et.DateFormat],e)}function wc(n,e){let t=vn(n);return wn(t[et.TimeFormat],e)}function Ic(n,e){let r=vn(n)[et.DateTimeFormat];return wn(r,e)}function Ec(n,e){let t=vn(n),r=t[et.NumberSymbols][e];if(typeof r>"u"){if(e===Pr.CurrencyDecimal)return t[et.NumberSymbols][Pr.Decimal];if(e===Pr.CurrencyGroup)return t[et.NumberSymbols][Pr.Group]}return r}function eS(n){if(!n[et.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[et.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tS(n){let e=vn(n);return eS(e),(e[et.ExtraData][2]||[]).map(r=>typeof r=="string"?Uy(r):[Uy(r[0]),Uy(r[1])])}function nS(n,e,t){let r=vn(n);eS(r);let i=[r[et.ExtraData][0],r[et.ExtraData][1]],o=wn(i,e)||[];return wn(o,t)||[]}function wn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Uy(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var ZV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,th={},XV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function rS(n,e,t,r){let i=c2(n);e=Nr(t,e)||e;let s=[],a;for(;e;)if(a=XV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=oS(r,u),i=a2(i,r));let l="";return s.forEach(h=>{let p=o2(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function sh(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Nr(n,e){let t=QT(n);if(th[t]??={},th[t][e])return th[t][e];let r="";switch(e){case"shortDate":r=_c(n,Yt.Short);break;case"mediumDate":r=_c(n,Yt.Medium);break;case"longDate":r=_c(n,Yt.Long);break;case"fullDate":r=_c(n,Yt.Full);break;case"shortTime":r=wc(n,Yt.Short);break;case"mediumTime":r=wc(n,Yt.Medium);break;case"longTime":r=wc(n,Yt.Long);break;case"fullTime":r=wc(n,Yt.Full);break;case"short":let i=Nr(n,"shortTime"),o=Nr(n,"shortDate");r=nh(Ic(n,Yt.Short),[i,o]);break;case"medium":let s=Nr(n,"mediumTime"),a=Nr(n,"mediumDate");r=nh(Ic(n,Yt.Medium),[s,a]);break;case"long":let u=Nr(n,"longTime"),l=Nr(n,"longDate");r=nh(Ic(n,Yt.Long),[u,l]);break;case"full":let h=Nr(n,"fullTime"),p=Nr(n,"fullDate");r=nh(Ic(n,Yt.Full),[h,p]);break}return r&&(th[t][e]=r),r}function nh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Un(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function e2(n,e){return Un(n,3).substring(0,e)}function ct(n,e,t=0,r=!1,i=!1){return function(o,s){let a=t2(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return e2(a,e);let u=Ec(s,Pr.MinusSign);return Un(a,e,u,r,i)}}function t2(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function je(n,e,t=Nt.Format,r=!1){return function(i,o){return n2(i,o,n,e,t,r)}}function n2(n,e,t,r,i,o){switch(t){case 2:return ZT(e,i,r)[n.getMonth()];case 1:return JT(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=tS(e),h=nS(e,i,r),p=l.findIndex(y=>{if(Array.isArray(y)){let[m,C]=y,k=s>=m.hours&&a>=m.minutes,P=s<C.hours||s===C.hours&&a<C.minutes;if(m.hours<C.hours){if(k&&P)return!0}else if(k||P)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return YT(e,i,r)[s<12?0:1];case 3:return XT(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function rh(n){return function(e,t,r){let i=-1*r,o=Ec(t,Pr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Un(s,2,o)+Un(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Un(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var r2=0,oh=4;function i2(n){let e=sh(n,r2,1).getDay();return sh(n,0,1+(e<=oh?oh:oh+7)-e)}function iS(n){let e=n.getDay(),t=e===0?-3:oh-e;return sh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function By(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=iS(t),s=i2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Un(i,n,Ec(r,Pr.MinusSign))}}function ih(n,e=!1){return function(t,r){let o=iS(t).getFullYear();return Un(o,n,Ec(r,Pr.MinusSign),e)}}var $y={};function o2(n){if($y[n])return $y[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(3,Ne.Abbreviated);break;case"GGGG":e=je(3,Ne.Wide);break;case"GGGGG":e=je(3,Ne.Narrow);break;case"y":e=ct(0,1,0,!1,!0);break;case"yy":e=ct(0,2,0,!0,!0);break;case"yyy":e=ct(0,3,0,!1,!0);break;case"yyyy":e=ct(0,4,0,!1,!0);break;case"Y":e=ih(1);break;case"YY":e=ih(2,!0);break;case"YYY":e=ih(3);break;case"YYYY":e=ih(4);break;case"M":case"L":e=ct(1,1,1);break;case"MM":case"LL":e=ct(1,2,1);break;case"MMM":e=je(2,Ne.Abbreviated);break;case"MMMM":e=je(2,Ne.Wide);break;case"MMMMM":e=je(2,Ne.Narrow);break;case"LLL":e=je(2,Ne.Abbreviated,Nt.Standalone);break;case"LLLL":e=je(2,Ne.Wide,Nt.Standalone);break;case"LLLLL":e=je(2,Ne.Narrow,Nt.Standalone);break;case"w":e=By(1);break;case"ww":e=By(2);break;case"W":e=By(1,!0);break;case"d":e=ct(2,1);break;case"dd":e=ct(2,2);break;case"c":case"cc":e=ct(7,1);break;case"ccc":e=je(1,Ne.Abbreviated,Nt.Standalone);break;case"cccc":e=je(1,Ne.Wide,Nt.Standalone);break;case"ccccc":e=je(1,Ne.Narrow,Nt.Standalone);break;case"cccccc":e=je(1,Ne.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":e=je(1,Ne.Abbreviated);break;case"EEEE":e=je(1,Ne.Wide);break;case"EEEEE":e=je(1,Ne.Narrow);break;case"EEEEEE":e=je(1,Ne.Short);break;case"a":case"aa":case"aaa":e=je(0,Ne.Abbreviated);break;case"aaaa":e=je(0,Ne.Wide);break;case"aaaaa":e=je(0,Ne.Narrow);break;case"b":case"bb":case"bbb":e=je(0,Ne.Abbreviated,Nt.Standalone,!0);break;case"bbbb":e=je(0,Ne.Wide,Nt.Standalone,!0);break;case"bbbbb":e=je(0,Ne.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(0,Ne.Abbreviated,Nt.Format,!0);break;case"BBBB":e=je(0,Ne.Wide,Nt.Format,!0);break;case"BBBBB":e=je(0,Ne.Narrow,Nt.Format,!0);break;case"h":e=ct(3,1,-12);break;case"hh":e=ct(3,2,-12);break;case"H":e=ct(3,1);break;case"HH":e=ct(3,2);break;case"m":e=ct(4,1);break;case"mm":e=ct(4,2);break;case"s":e=ct(5,1);break;case"ss":e=ct(5,2);break;case"S":e=ct(6,1);break;case"SS":e=ct(6,2);break;case"SSS":e=ct(6,3);break;case"Z":case"ZZ":case"ZZZ":e=rh(0);break;case"ZZZZZ":e=rh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=rh(2);break;default:return null}return $y[n]=e,e}function oS(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function s2(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function a2(n,e,t){let i=n.getTimezoneOffset(),o=oS(e,i);return s2(n,-1*(o-i))}function c2(n){if(qT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return sh(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ZV))return u2(r)}let e=new Date(n);if(!qT(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function u2(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function qT(n){return n instanceof Date&&!isNaN(n.valueOf())}var Hy=/\s+/,GT=[],lo=(()=>{class n{_ngEl;_renderer;initialClasses=GT;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Hy):GT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Hy):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Hy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(H(Xn),H(Rr))};static \u0275dir=ze({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ah=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},er=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ah(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),WT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);WT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(H(Es),H(Wd),H(Ly))};static \u0275dir=ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function WT(n,e){n.context.$implicit=e.item}var gt=(()=>{class n{_viewContainer;_context=new ch;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KT(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KT(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(H(Es),H(Wd))};static \u0275dir=ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ch=class{$implicit=null;ngIf=null};function KT(n,e){if(n&&!n.createEmbeddedView)throw new q(2020,!1)}function sS(n,e){return new q(2100,!1)}var l2="mediumDate",aS=new $(""),cS=new $(""),zy=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??l2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return rS(t,s,o||this.locale,a)}catch(s){throw sS(n,s.message)}}static \u0275fac=function(r){return new(r||n)(H(eh,16),H(aS,24),H(cS,24))};static \u0275pipe=Ny({name:"date",type:n,pure:!0})}return n})();var qy=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw sS(n,t);return t.slice(r,i)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Ny({name:"slice",type:n,pure:!1})}return n})();var Be=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=si({})}return n})();function Gy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Wy="browser",uS="server";function uh(n){return n===uS}var bc=class{};var hh=new $(""),Jy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J(hh),J(Re))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Dc=class{_doc;constructor(e){this._doc=e}manager},lh="ng-app-id";function lS(n){for(let e of n)e.remove()}function dS(n,e){let t=e.createElement("style");return t.textContent=n,t}function d2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${lh}="${e}"],link[${lh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(lh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Qy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Zy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=uh(o),d2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,dS);r?.forEach(i=>this.addUsage(i,this.external,Qy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(lS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])lS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,dS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Qy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(lh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(Mt),J(lc),J(ly,8),J(hi))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xy=/%COMP%/g;var fS="%COMP%",h2=`_nghost-${fS}`,f2=`_ngcontent-${fS}`,p2=!0,g2=new $("",{providedIn:"root",factory:()=>p2});function m2(n){return f2.replace(Xy,n)}function y2(n){return h2.replace(Xy,n)}function pS(n,e){return e.map(t=>t.replace(Xy,n))}var ev=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=uh(a),this.defaultRenderer=new Cc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yn.ShadowDom&&(r=he(V({},r),{encapsulation:Yn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof dh?i.applyToHost(t):i instanceof Tc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Yn.Emulated:o=new dh(u,l,r,this.appId,h,s,a,p,y);break;case Yn.ShadowDom:return new Yy(u,l,t,r,s,a,this.nonce,p,y);default:o=new Tc(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J(Jy),J(Zy),J(lc),J(g2),J(Mt),J(hi),J(Re),J(ly),J(Ud,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Cc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ky[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ky[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ky[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(t,r,i&Ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=_n().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function hS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Yy=class extends Cc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=pS(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=Qy(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tc=class extends Cc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?pS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dh=class extends Tc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=m2(h),this.hostAttr=y2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var fh=class n extends vc{supportsDOMEvents=!0;static makeCurrent(){Vy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=v2();return t==null?null:_2(t)}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gy(document.cookie,e)}},Sc=null;function v2(){return Sc=Sc||document.querySelector("base"),Sc?Sc.getAttribute("href"):null}function _2(n){return new URL(n,document.baseURI).pathname}var w2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),mS=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(J(Mt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),gS=["alt","control","meta","shift"],I2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},yS=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_n().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=I2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gS.forEach(s=>{if(s!==i){let a=E2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(Mt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function tv(n,e){return FT(V({rootComponent:n},b2(e)))}function b2(n){return{appProviders:[...A2,...n?.providers??[]],platformProviders:S2}}function D2(){fh.makeCurrent()}function C2(){return new Sr}function T2(){return XD(document),document}var S2=[{provide:hi,useValue:Wy},{provide:uy,useValue:D2,multi:!0},{provide:Mt,useFactory:T2}];var A2=[{provide:Ad,useValue:"root"},{provide:Sr,useFactory:C2},{provide:hh,useClass:mS,multi:!0,deps:[Mt]},{provide:hh,useClass:yS,multi:!0,deps:[Mt]},ev,Zy,Jy,{provide:ps,useExisting:ev},{provide:bc,useClass:w2},[]];var Ac=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var x2="X-Request-URL",R2="text/plain",M2="application/json",UQ=`${M2}, ${R2}, */*`;var rv=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(rv||{}),nv=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ac,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var xc=class n extends nv{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=rv.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var vS=new $("");var BQ=RegExp(`^${x2}:`,"m");var N2=new $(""),P2="b",k2="h",O2="s",F2="st",L2="u",V2="rt",iv=new $(""),j2=["GET","HEAD"];function U2(n,e){let y=F(iv),{isCacheActive:t}=y,r=vE(y,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!j2.includes(o)||!r.includeRequestsWithAuthHeaders&&B2(n)||r.filter?.(n)===!1)return e(n);let s=F(dc);if(F(N2,{optional:!0}))throw new q(2803,!1);let u=n.url,l=$2(n,u),h=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),h){let{[P2]:m,[V2]:C,[k2]:k,[O2]:P,[F2]:z,[L2]:le}=h,te=m;switch(C){case"arraybuffer":te=new TextEncoder().encode(m).buffer;break;case"blob":te=new Blob([m]);break}let Pe=new Ac(k);return ne(new xc({body:te,headers:Pe,status:P,statusText:z,url:le}))}return e(n).pipe(Xe(m=>{m instanceof xc}))}function B2(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function _S(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function $2(n,e){let{params:t,method:r,responseType:i}=n,o=_S(t),s=n.serializeBody();s instanceof URLSearchParams?s=_S(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=H2(a);return u}function H2(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function wS(n){return[{provide:iv,useFactory:()=>(Is("NgHttpTransferCache"),V({isCacheActive:!0},n))},{provide:vS,useValue:U2,multi:!0},{provide:bs,multi:!0,useFactory:()=>{let e=F(Fn),t=F(iv);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}var IS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(Mt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ov=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(ov||{});function ES(...n){let e=[],t=new Set;for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);let r=t.has(ov.HttpTransferCacheOptions);return on([[],LT(),t.has(ov.NoHttpTransferCache)||r?[]:wS({}),e])}var ce="primary",Hc=Symbol("RouteTitle"),lv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function po(n){return new lv(n)}function RS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function q2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!tr(n[t],e[t]))return!1;return!0}function tr(n,e){let t=n?dv(n):void 0,r=e?dv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!MS(n[i],e[i]))return!1;return!0}function dv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function MS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function NS(n){return n.length>0?n[n.length-1]:null}function yi(n){return Tg(n)?n:io(n)?Qe(Promise.resolve(n)):ne(n)}var G2={exact:kS,subset:OS},PS={exact:W2,subset:K2,ignored:()=>!0};function bS(n,e,t){return G2[t.paths](n.root,e.root,t.matrixParams)&&PS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function W2(n,e){return tr(n,e)}function kS(n,e,t){if(!ho(n.segments,e.segments)||!mh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!kS(n.children[r],e.children[r],t))return!1;return!0}function K2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MS(n[t],e[t]))}function OS(n,e,t){return FS(n,e,e.segments,t)}function FS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ho(i,t)||e.hasChildren()||!mh(i,t,r))}else if(n.segments.length===t.length){if(!ho(n.segments,t)||!mh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!OS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ho(n.segments,i)||!mh(n.segments,i,r)||!n.children[ce]?!1:FS(n.children[ce],e,o,r)}}function mh(n,e,t){return e.every((r,i)=>PS[t](n[i].parameters,r.parameters))}var rr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=po(this.queryParams),this._queryParamMap}toString(){return J2.serialize(this)}},Se=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yh(this)}},gi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=po(this.parameters),this._parameterMap}toString(){return VS(this)}};function Q2(n,e){return ho(n,e)&&n.every((t,r)=>tr(t.parameters,e[r].parameters))}function ho(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Y2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ce&&(t=t.concat(e(i,r)))}),t}var zc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new go,providedIn:"root"})}return n})(),go=class{parse(e){let t=new fv(e);return new rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Rc(e.root,!0)}`,r=ej(e.queryParams),i=typeof e.fragment=="string"?`#${Z2(e.fragment)}`:"";return`${t}${r}${i}`}},J2=new go;function yh(n){return n.segments.map(e=>VS(e)).join("/")}function Rc(n,e){if(!n.hasChildren())return yh(n);if(e){let t=n.children[ce]?Rc(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Rc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Y2(n,(r,i)=>i===ce?[Rc(n.children[ce],!1)]:[`${i}:${Rc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${yh(n)}/${t[0]}`:`${yh(n)}/(${t.join("//")})`}}function LS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(n){return LS(n).replace(/%3B/gi,";")}function Z2(n){return encodeURI(n)}function hv(n){return LS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(n){return decodeURIComponent(n)}function DS(n){return vh(n.replace(/\+/g,"%20"))}function VS(n){return`${hv(n.path)}${X2(n.parameters)}`}function X2(n){return Object.entries(n).map(([e,t])=>`;${hv(e)}=${hv(t)}`).join("")}function ej(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ph(t)}=${ph(i)}`).join("&"):`${ph(t)}=${ph(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var tj=/^[^\/()?;#]+/;function sv(n){let e=n.match(tj);return e?e[0]:""}var nj=/^[^\/()?;=#]+/;function rj(n){let e=n.match(nj);return e?e[0]:""}var ij=/^[^=?&#]+/;function oj(n){let e=n.match(ij);return e?e[0]:""}var sj=/^[^&#]+/;function aj(n){let e=n.match(sj);return e?e[0]:""}var fv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new Se(e,t)),r}parseSegment(){let e=sv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new gi(vh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=rj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=sv(this.remaining);i&&(r=i,this.capture(r))}e[vh(t)]=vh(r)}parseQueryParam(e){let t=oj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=aj(this.remaining);s&&(r=s,this.capture(r))}let i=DS(t),o=DS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ce]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function jS(n){return n.segments.length>0?new Se([],{[ce]:n}):n}function US(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=US(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return cj(t)}function cj(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new Se(n.segments.concat(e.segments),e.children)}return n}function mi(n){return n instanceof rr}function BS(n,e,t=null,r=null){let i=$S(n);return HS(i,e,t,r)}function $S(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=jS(r);return e??i}function HS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return av(i,i,i,t,r);let o=uj(e);if(o.toRoot())return av(i,i,new Se([],{}),t,r);let s=lj(o,i,n),a=s.processChildren?Nc(s.segmentGroup,s.index,o.commands):qS(s.segmentGroup,s.index,o.commands);return av(i,s.segmentGroup,a,t,r)}function wh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function kc(n){return typeof n=="object"&&n!=null&&n.outlets}function av(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=zS(n,e,t);let a=jS(US(s));return new rr(a,o,i)}function zS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=zS(o,e,t)}),new Se(n.segments,r)}var Ih=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wh(r[0]))throw new q(4003,!1);let i=r.find(kc);if(i&&i!==NS(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ih(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ih(t,e,r)}var Ns=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function lj(n,e,t){if(n.isAbsolute)return new Ns(e,!0,0);if(!t)return new Ns(e,!1,NaN);if(t.parent===null)return new Ns(t,!0,0);let r=wh(n.commands[0])?0:1,i=t.segments.length-1+r;return dj(t,i,n.numberOfDoubleDots)}function dj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Ns(r,!1,i-o)}function hj(n){return kc(n[0])?n[0].outlets:{[ce]:n}}function qS(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return Nc(n,e,t);let r=fj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Se(n.segments.slice(r.pathIndex),n.children),Nc(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?pv(n,e,t):r.match?Nc(n,0,i):pv(n,e,t)}function Nc(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=hj(t),i={};if(Object.keys(r).some(o=>o!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let o=Nc(n.children[ce],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function fj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(kc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!TS(u,l,s))return o;r+=2}else{if(!TS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(kc(o)){let u=pj(o.outlets);return new Se(r,u)}if(i===0&&wh(t[0])){let u=n.segments[e];r.push(new gi(u.path,CS(t[0]))),i++;continue}let s=kc(o)?o.outlets[ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&wh(a)?(r.push(new gi(s,CS(a))),i+=2):(r.push(new gi(s,{})),i++)}return new Se(r,{})}function pj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=pv(new Se([],{}),0,r))}),e}function CS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function TS(n,e,t){return n==t.path&&tr(e,t.parameters)}var _h="imperative",vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vt||{}),un=class{id;url;constructor(e,t){this.id=e,this.url=t}},mo=class extends un{type=vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ir=class extends un{urlAfterRedirects;type=vt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Jt||{}),Oc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Oc||{}),nr=class extends un{reason;code;type=vt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends un{reason;code;type=vt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ks=class extends un{error;target;type=vt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fc=class extends un{urlAfterRedirects;state;type=vt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eh=class extends un{urlAfterRedirects;state;type=vt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bh=class extends un{urlAfterRedirects;state;shouldActivate;type=vt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dh=class extends un{urlAfterRedirects;state;type=vt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ch=class extends un{urlAfterRedirects;state;type=vt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class{route;type=vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sh=class{route;type=vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ah=class{snapshot;type=vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xh=class{snapshot;type=vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rh=class{snapshot;type=vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mh=class{snapshot;type=vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Lc=class{},Os=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function gj(n,e){return n.providers&&!n._injector&&(n._injector=Jd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $n(n){return n.outlet||ce}function mj(n,e){let t=n.filter(r=>$n(r)===e);return t.push(...n.filter(r=>$n(r)!==e)),t}function qc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Nh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return qc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Vs(this.rootInjector)}},Vs=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(nn))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ph=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=gv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=gv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=mv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mv(e,this._root).map(t=>t.value)}};function gv(n,e){if(n===e.value)return e;for(let t of e.children){let r=gv(n,t);if(r)return r}return null}function mv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=mv(n,t);if(r.length)return r.unshift(e),r}return[]}var cn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Vc=class extends Ph{snapshot;constructor(e,t){super(e),this.snapshot=t,Dv(this,e)}toString(){return this.snapshot.toString()}};function GS(n){let e=yj(n),t=new ot([new gi("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Or(t,r,o,s,i,ce,n,e.root);return a.snapshot=e.root,new Vc(new cn(a,[]),e)}function yj(n){let e={},t={},r={},i="",o=new fo([],e,r,i,t,ce,n,null,{});return new jc("",new cn(o,[]))}var Or=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ve(l=>l[Hc]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>po(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>po(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&KS(i)&&(r.resolve[Hc]=i.title),r}var fo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Hc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=po(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=po(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},jc=class extends Ph{url;constructor(e,t){super(t),this.url=e,Dv(this,t)}toString(){return WS(this._root)}};function Dv(n,e){e.value._routerState=n,e.children.forEach(t=>Dv(n,t))}function WS(n){let e=n.children.length>0?` { ${n.children.map(WS).join(", ")} } `:"";return`${n.value}${e}`}function cv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,tr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),tr(e.params,t.params)||n.paramsSubject.next(t.params),q2(e.url,t.url)||n.urlSubject.next(t.url),tr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yv(n,e){let t=tr(n.params,e.params)&&Q2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||yv(n.parent,e.parent))}function KS(n){return typeof n.title=="string"||n.title===null}var QS=new $(""),Gc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new He;deactivateEvents=new He;attachEvents=new He;detachEvents=new He;routerOutletData=zD(void 0);parentContexts=F(Vs);location=F(Es);changeDetector=F(Ts);inputBinder=F(Vh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new vv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ai]})}return n})(),vv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Or?this.route:e===Vs?this.childContexts:e===QS?this.outletData:this.parent.get(e,t)}},Vh=new $("");function vj(n,e,t){let r=Uc(n,e._root,t?t._root:void 0);return new Vc(r,e)}function Uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_j(n,e,t);return new cn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Uc(n,a)),s}}let r=wj(e.value),i=e.children.map(o=>Uc(n,o));return new cn(r,i)}}function _j(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uc(n,r,i);return Uc(n,r)})}function wj(n){return new Or(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var Fs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},YS="ngNavigationCancelingError";function Oh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=mi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JS(!1,Jt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function JS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[YS]=!0,t.cancellationCode=e,t}function Ij(n){return ZS(n)&&mi(n.url)}function ZS(n){return!!n&&n[YS]}var Ej=(n,e,t,r)=>ve(i=>(new _v(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),_v=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ms(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ms(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new xh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(cv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Fh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ps=class{component;route;constructor(e,t){this.component=e,this.route=t}};function bj(n,e,t){let r=n._root,i=e?e._root:null;return Mc(r,i,t,[r.value])}function Dj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function js(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Bb(n)?n:e.get(n):r}function Mc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ms(e);return n.children.forEach(s=>{Cj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,t.getContext(s),i)),i}function Cj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Tj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mc(n,e,a?a.children:null,r,i):Mc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ps(a.outlet.component,s))}else s&&Pc(e,a,i),i.canActivateChecks.push(new Fh(r)),o.component?Mc(n,null,a?a.children:null,r,i):Mc(n,null,t,r,i);return i}function Tj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(n.url,e.url)||!tr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yv(n,e)||!tr(n.queryParams,e.queryParams);case"paramsChange":default:return!yv(n,e)}}function Pc(n,e,t){let r=Ms(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pc(s,e.children.getContext(o),t):Pc(s,null,t):Pc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ps(e.outlet.component,i)):t.canDeactivateChecks.push(new Ps(null,i)):t.canDeactivateChecks.push(new Ps(null,i))}function Wc(n){return typeof n=="function"}function Sj(n){return typeof n=="boolean"}function Aj(n){return n&&Wc(n.canLoad)}function xj(n){return n&&Wc(n.canActivate)}function Rj(n){return n&&Wc(n.canActivateChild)}function Mj(n){return n&&Wc(n.canDeactivate)}function Nj(n){return n&&Wc(n.canMatch)}function XS(n){return n instanceof Er||n?.name==="EmptyError"}var gh=Symbol("INITIAL_VALUE");function Ls(){return xn(n=>Bl(n.map(e=>e.pipe(br(1),Rg(gh)))).pipe(ve(e=>{for(let t of e)if(t!==!0){if(t===gh)return gh;if(t===!1||Pj(t))return t}return!0}),An(e=>e!==gh),br(1)))}function Pj(n){return mi(n)||n instanceof Fs}function kj(n,e){return pt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(he(V({},t),{guardsResult:!0})):Oj(s,r,i,n).pipe(pt(a=>a&&Sj(a)?Fj(r,o,n,e):ne(a)),ve(a=>he(V({},t),{guardsResult:a})))})}function Oj(n,e,t,r){return Qe(n).pipe(pt(i=>Bj(i.component,i.route,t,e,r)),Dr(i=>i!==!0,!0))}function Fj(n,e,t,r){return Qe(e).pipe(ts(i=>es(Vj(i.route.parent,r),Lj(i.route,r),Uj(n,i.path,t),jj(n,i.route,t))),Dr(i=>i!==!0,!0))}function Lj(n,e){return n!==null&&e&&e(new Rh(n)),ne(!0)}function Vj(n,e){return n!==null&&e&&e(new Ah(n)),ne(!0)}function jj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>$l(()=>{let s=qc(e)??t,a=js(o,s),u=xj(a)?a.canActivate(e,n):mn(s,()=>a(e,n));return yi(u).pipe(Dr())}));return ne(i).pipe(Ls())}function Uj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Dj(s)).filter(s=>s!==null).map(s=>$l(()=>{let a=s.guards.map(u=>{let l=qc(s.node)??t,h=js(u,l),p=Rj(h)?h.canActivateChild(r,n):mn(l,()=>h(r,n));return yi(p).pipe(Dr())});return ne(a).pipe(Ls())}));return ne(o).pipe(Ls())}function Bj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let u=qc(e)??i,l=js(a,u),h=Mj(l)?l.canDeactivate(n,e,t,r):mn(u,()=>l(n,e,t,r));return yi(h).pipe(Dr())});return ne(s).pipe(Ls())}function $j(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=js(s,n),u=Aj(a)?a.canLoad(e,t):mn(n,()=>a(e,t));return yi(u)});return ne(o).pipe(Ls(),eA(r))}function eA(n){return _g(Xe(e=>{if(typeof e!="boolean")throw Oh(n,e)}),ve(e=>e===!0))}function Hj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=js(s,n),u=Nj(a)?a.canMatch(e,t):mn(n,()=>a(e,t));return yi(u)});return ne(o).pipe(Ls(),eA(r))}var Bc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},$c=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Rs(n){return Xo(new Bc(n))}function zj(n){return Xo(new q(4e3,!1))}function qj(n){return Xo(JS(!1,Jt.GuardRejected))}var wv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ce])return zj(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:C,title:k}=i,P=mn(o,()=>a({params:m,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:k}));if(P instanceof rr)throw new $c(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new $c(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gj(n,e,t,r,i){let o=tA(n,e,t);return o.matched?(r=gj(e,r),Hj(r,e,t,i).pipe(ve(s=>s===!0?o:V({},Iv)))):ne(o)}function tA(n,e,t){if(e.path==="**")return Wj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},Iv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||RS)(t,n,e);if(!i)return V({},Iv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Wj(n){return{matched:!0,parameters:n.length>0?NS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function SS(n,e,t,r){return t.length>0&&Yj(n,t,r)?{segmentGroup:new Se(e,Qj(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&Jj(n,t,r)?{segmentGroup:new Se(n.segments,Kj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function Kj(n,e,t,r){let i={};for(let o of t)if(jh(n,e,o)&&!r[$n(o)]){let s=new Se([],{});i[$n(o)]=s}return V(V({},r),i)}function Qj(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&$n(r)!==ce){let i=new Se([],{});t[$n(r)]=i}return t}function Yj(n,e,t){return t.some(r=>jh(n,e,r)&&$n(r)!==ce)}function Jj(n,e,t){return t.some(r=>jh(n,e,r))}function jh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Zj(n,e,t){return e.length===0&&!n.children[t]}var Ev=class{};function Xj(n,e,t,r,i,o,s="emptyOnly"){return new bv(n,e,t,r,i,s,o).recognize()}var eU=31,bv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wv(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=SS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(({children:t,rootSnapshot:r})=>{let i=new cn(r,t),o=new jc("",i),s=BS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new fo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(ve(r=>({children:r,rootSnapshot:t})),ni(r=>{if(r instanceof $c)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ve(s=>s instanceof cn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Qe(o).pipe(ts(s=>{let a=r.children[s],u=mj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),xg((s,a)=>(s.push(...a),s)),ri(null),Ag(),pt(s=>{if(s===null)return Rs(r);let a=nA(s);return tU(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return Qe(t).pipe(ts(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(ni(l=>{if(l instanceof Bc)return ne(null);throw l}))),Dr(u=>!!u),ni(u=>{if(XS(u))return Zj(r,i,o)?ne(new Ev):Rs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return $n(r)!==s&&(s===ce||!jh(i,o,r))?Rs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Rs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=tA(t,i,o);if(!u)return Rs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eU&&(this.allowRedirects=!1));let m=new fo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,AS(i),$n(i),i.component??i._loadedComponent??null,i,xS(i)),C=kh(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let k=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(pt(P=>this.processSegment(e,r,t,P.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Gj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,C=new fo(y,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,AS(r),$n(r),r.component??r._loadedComponent??null,r,xS(r)),k=kh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(k.params),C.data=Object.freeze(k.data);let{segmentGroup:P,slicedSegments:z}=SS(t,y,m,l);if(z.length===0&&P.hasChildren())return this.processChildren(h,l,P,C).pipe(ve(te=>new cn(C,te)));if(l.length===0&&z.length===0)return ne(new cn(C,[]));let le=$n(r)===o;return this.processSegment(h,l,P,z,le?ce:o,!0,C).pipe(ve(te=>new cn(C,te instanceof cn?[te]:[])))}))):Rs(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):$j(e,t,r,this.urlSerializer).pipe(pt(i=>i?this.configLoader.loadChildren(e,t).pipe(Xe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):qj(t))):ne({routes:[],injector:e})}};function tU(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function nU(n){let e=n.value.routeConfig;return e&&e.path===""}function nA(n){let e=[],t=new Set;for(let r of n){if(!nU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=nA(r.children);e.push(new cn(r.value,i))}return e.filter(r=>!t.has(r))}function AS(n){return n.data||{}}function xS(n){return n.resolve||{}}function rU(n,e,t,r,i,o){return pt(s=>Xj(n,e,t,r,s.extractedUrl,i,o).pipe(ve(({state:a,tree:u})=>he(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function iU(n,e){return pt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of rA(u))s.add(l);let a=0;return Qe(s).pipe(ts(u=>o.has(u)?oU(u,r,n,e):(u.data=kh(u,u.parent,n).resolve,ne(void 0))),Xe(()=>a++),ns(1),pt(u=>a===s.size?ne(t):Ut))})}function rA(n){let e=n.children.map(t=>rA(t)).flat();return[n,...e]}function oU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!KS(i)&&(o[Hc]=i.title),sU(o,n,e,r).pipe(ve(s=>(n._resolvedData=s,n.data=kh(n,n.parent,t).resolve,null)))}function sU(n,e,t,r){let i=dv(n);if(i.length===0)return ne({});let o={};return Qe(i).pipe(pt(s=>aU(n[s],e,t,r).pipe(Dr(),Xe(a=>{if(a instanceof Fs)throw Oh(new go,a);o[s]=a}))),ns(1),ve(()=>o),ni(s=>XS(s)?Ut:Xo(s)))}function aU(n,e,t,r){let i=qc(e)??r,o=js(n,i),s=o.resolve?o.resolve(e,t):mn(i,()=>o(e,t));return yi(s)}function uv(n){return xn(e=>{let t=n(e);return t?Qe(t).pipe(ve(()=>e)):ne(e)})}var Cv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[Hc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>F(iA),providedIn:"root"})}return n})(),iA=(()=>{class n extends Cv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(IS))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kc=new $("",{providedIn:"root",factory:()=>({})}),Tv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Q(0,"router-outlet")},dependencies:[Gc],encapsulation:2})}return n})();function Sv(n){let e=n.children&&n.children.map(Sv),t=e?he(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=Tv),t}var Qc=new $(""),oA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(NT);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=yi(t.loadComponent()).pipe(ve(aA),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qa(()=>{this.componentLoaders.delete(t)})),i=new Qo(r,()=>new it).pipe(Ko());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sA(r,this.compiler,t,this.onLoadEndListener).pipe(Qa(()=>{this.childrenLoaders.delete(r)})),s=new Qo(o,()=>new it).pipe(Ko());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sA(n,e,t,r){return yi(n.loadChildren()).pipe(ve(aA),pt(i=>i instanceof My||Array.isArray(i)?ne(i):Qe(e.compileModuleAsync(i))),ve(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Qc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sv),injector:o}}))}function cU(n){return n&&typeof n=="object"&&"default"in n}function aA(n){return cU(n)?n.default:n}var Uh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>F(uU),providedIn:"root"})}return n})(),uU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cA=new $("");var uA=new $(""),lA=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new it;transitionAbortSubject=new it;configLoader=F(oA);environmentInjector=F(nn);destroyRef=F(Fd);urlSerializer=F(zc);rootContexts=F(Vs);location=F(xs);inputBindingEnabled=F(Vh,{optional:!0})!==null;titleStrategy=F(Cv);options=F(Kc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(Uh);createViewTransition=F(cA,{optional:!0});navigationErrorHandler=F(uA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Th(i)),r=i=>this.events.next(new Sh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ot(null),this.transitions.pipe(An(r=>r!==null),xn(r=>{let i=!1,o=!1;return ne(r).pipe(xn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),Ut;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?he(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new kr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Oc.IgnoredSameUrlNavigation)),s.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ne(s).pipe(xn(l=>(this.events.next(new mo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ut:Promise.resolve(l))),rU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Xe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=he(V({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Fc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,C=new mo(l,this.urlSerializer.serialize(h),p,y);this.events.next(C);let k=GS(this.rootComponentType).snapshot;return this.currentTransition=r=he(V({},s),{targetSnapshot:k,urlAfterRedirects:h,extras:he(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ne(r)}else{let l="";return this.events.next(new kr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Oc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ut}}),Xe(s=>{let a=new Eh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ve(s=>(this.currentTransition=r=he(V({},s),{guards:bj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),kj(this.environmentInjector,s=>this.events.next(s)),Xe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Oh(this.urlSerializer,s.guardsResult);let a=new bh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),An(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Jt.GuardRejected),!1)),uv(s=>{if(s.guards.canActivateChecks.length!==0)return ne(s).pipe(Xe(a=>{let u=new Dh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),xn(a=>{let u=!1;return ne(a).pipe(iU(this.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Jt.NoDataFromResolver)}}))}),Xe(a=>{let u=new Ch(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),uv(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Xe(h=>{u.component=h}),ve(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Bl(a(s.targetSnapshot.root)).pipe(ri(null),br(1))}),uv(()=>this.afterPreactivation()),xn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Qe(u).pipe(ve(()=>r)):ne(r)}),ve(s=>{let a=vj(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=he(V({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Xe(()=>{this.events.next(new Lc)}),Ej(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),br(1),Xe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ir(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Mg(this.transitionAbortSubject.pipe(Xe(s=>{throw s}))),Qa(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ni(s=>{if(this.destroyed)return r.resolve(!1),Ut;if(o=!0,ZS(s))this.events.next(new nr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Ij(s)?this.events.next(new Os(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ks(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=mn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Fs){let{message:l,cancellationCode:h}=Oh(this.urlSerializer,u);this.events.next(new nr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Os(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ut}))}))}cancelNavigationTransition(t,r,i){let o=new nr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lU(n){return n!==_h}var dA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>F(dU),providedIn:"root"})}return n})(),Lh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},dU=(()=>{class n extends Lh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hA=(()=>{class n{urlSerializer=F(zc);options=F(Kc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(xs);urlHandlingStrategy=F(Uh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new rr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof rr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=GS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>F(hU),providedIn:"root"})}return n})(),hU=(()=>{class n extends hA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof mo?this.updateStateMemento():t instanceof kr?this.commitTransition(r):t instanceof Fc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Lc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof nr&&(t.code===Jt.GuardRejected||t.code===Jt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ks?this.restoreHistory(r,!0):t instanceof ir&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Av(n,e){n.events.pipe(An(t=>t instanceof ir||t instanceof nr||t instanceof ks||t instanceof kr),ve(t=>t instanceof ir||t instanceof kr?0:(t instanceof nr?t.code===Jt.Redirect||t.code===Jt.SupersededByNewNavigation:!1)?2:1),An(t=>t!==2),br(1)).subscribe(()=>{e()})}var fU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(Oy);stateManager=F(hA);options=F(Kc,{optional:!0})||{};pendingTasks=F(no);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(lA);urlSerializer=F(zc);location=F(xs);urlHandlingStrategy=F(Uh);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(dA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(Qc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(Vh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ke;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof nr&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ir)this.navigated=!0;else if(r instanceof Os){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lU(i.source)},s);this.scheduleNavigation(a,_h,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_h,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Sv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=$S(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return HS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=mi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_h,null,r)}navigate(t,r={skipLocationChange:!1}){return gU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},fU):r===!1?i=V({},pU):i=r,mi(t))return bS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return bS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return Av(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}function mU(n){return!(n instanceof Lc)&&!(n instanceof Os)}var Us=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new it;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(mi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:fC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:mi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(H(Dt),H(Or),sy("tabindex"),H(Rr),H(Xn),H(As))};static \u0275dir=ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Z("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&gc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",uo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",uo],replaceUrl:[2,"replaceUrl","replaceUrl",uo],routerLink:"routerLink"},features:[ai]})}return n})();var vU=new $("");function xv(n,...e){return on([{provide:Qc,multi:!0,useValue:n},[],{provide:Or,useFactory:_U,deps:[Dt]},{provide:bs,multi:!0,useFactory:wU},e.map(t=>t.\u0275providers)])}function _U(n){return n.routerState.root}function wU(){let n=F(Et);return e=>{let t=n.get(Fn);if(e!==t.components[0])return;let r=n.get(Dt),i=n.get(IU);n.get(EU)===1&&r.initialNavigation(),n.get(bU,null,de.Optional)?.setUpPreloading(),n.get(vU,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IU=new $("",{factory:()=>new it}),EU=new $("",{providedIn:"root",factory:()=>1});var bU=new $("");var fA={production:!0,firebase:{apiKey:"AIzaSyAOZ6R5siNGVKJp76i8uQunU9mojsKvU64",authDomain:"reportease-app.firebaseapp.com",projectId:"reportease-app",storageBucket:"reportease-app.firebasestorage.app",messagingSenderId:"540320774976",appId:"1:540320774976:web:6be3679164b40d903dd8a5",measurementId:"G-LGQ0WPDNRV"}};var bA=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(H(Rr),H(Xn))};static \u0275dir=ze({type:n})}return n})(),Pv=(()=>{class n extends bA{static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ze({type:n,features:[jn]})}return n})(),Qh=new $("");var DU={provide:Qh,useExisting:xr(()=>In),multi:!0};function CU(){let n=_n()?_n().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var TU=new $(""),In=(()=>{class n extends bA{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!CU())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(H(Rr),H(Xn),H(TU,8))};static \u0275dir=ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[so([DU]),jn]})}return n})();function SU(n){return n==null||AU(n)===0}function AU(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var kv=new $(""),DA=new $("");function xU(n){return SU(n.value)?{required:!0}:null}function pA(n){return null}function CA(n){return n!=null}function TA(n){return io(n)?Qe(n):n}function SA(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function AA(n,e){return e.map(t=>t(n))}function RU(n){return!n.validate}function xA(n){return n.map(e=>RU(e)?e:t=>e.validate(t))}function MU(n){if(!n)return null;let e=n.filter(CA);return e.length==0?null:function(t){return SA(AA(t,e))}}function Ov(n){return n!=null?MU(xA(n)):null}function NU(n){if(!n)return null;let e=n.filter(CA);return e.length==0?null:function(t){let r=AA(t,e).map(TA);return Sg(r).pipe(ve(SA))}}function Fv(n){return n!=null?NU(xA(n)):null}function gA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PU(n){return n._rawValidators}function kU(n){return n._rawAsyncValidators}function Rv(n){return n?Array.isArray(n)?n:[n]:[]}function Hh(n,e){return Array.isArray(n)?n.includes(e):n===e}function mA(n,e){let t=Rv(e);return Rv(n).forEach(i=>{Hh(t,i)||t.push(i)}),t}function yA(n,e){return Rv(e).filter(t=>!Hh(n,t))}var zh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ov(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Hs=class extends zh{name;get formDirective(){return null}get path(){return null}},tu=class extends zh{_parent=null;name=null;valueAccessor=null},qh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},OU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZJ=he(V({},OU),{"[class.ng-submitted]":"isSubmitted"}),or=(()=>{class n extends qh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(H(tu,2))};static \u0275dir=ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&an("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[jn]})}return n})(),Yh=(()=>{class n extends qh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(H(Hs,10))};static \u0275dir=ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&an("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[jn]})}return n})();var Yc="VALID",$h="INVALID",Bs="PENDING",Jc="DISABLED",vi=class{},Gh=class extends vi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Xc=class extends vi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},eu=class extends vi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},$s=class extends vi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Mv=class extends vi{source;constructor(e){super(),this.source=e}},Nv=class extends vi{source;constructor(e){super(),this.source=e}};function RA(n){return(Jh(n)?n.validators:n)||null}function FU(n){return Array.isArray(n)?Ov(n):n||null}function MA(n,e){return(Jh(e)?e.asyncValidators:n)||null}function LU(n){return Array.isArray(n)?Fv(n):n||null}function Jh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function VU(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function jU(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new q(1002,"")})}var Wh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Mr(this.statusReactive)}set status(e){Mr(()=>this.statusReactive.set(e))}_status=Ss(()=>this.statusReactive());statusReactive=sn(void 0);get valid(){return this.status===Yc}get invalid(){return this.status===$h}get pending(){return this.status==Bs}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}errors;get pristine(){return Mr(this.pristineReactive)}set pristine(e){Mr(()=>this.pristineReactive.set(e))}_pristine=Ss(()=>this.pristineReactive());pristineReactive=sn(!0);get dirty(){return!this.pristine}get touched(){return Mr(this.touchedReactive)}set touched(e){Mr(()=>this.touchedReactive.set(e))}_touched=Ss(()=>this.touchedReactive());touchedReactive=sn(!1);get untouched(){return!this.touched}_events=new it;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yA(e,this._rawAsyncValidators))}hasValidator(e){return Hh(this._rawValidators,e)}hasAsyncValidator(e){return Hh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xc(!0,r))}markAsPending(e={}){this.status=Bs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $s(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(i=>{i.disable(he(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,r)),this._events.next(new $s(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yc,this._forEachChild(r=>{r.enable(he(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yc||this.status===Bs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,t)),this._events.next(new $s(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Yc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Bs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=TA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new $s(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?$h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bs)?Bs:this._anyControlsHaveStatus($h)?$h:Yc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Xc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new eu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=FU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=LU(this._rawAsyncValidators)}},Kh=class extends Wh{constructor(e,t,r){super(RA(t),MA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){jU(this,!0,e),Object.keys(e).forEach(r=>{VU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Lv=new $("",{providedIn:"root",factory:()=>Vv}),Vv="always";function UU(n,e){return[...e.path,n]}function NA(n,e,t=Vv){PA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$U(n,e),zU(n,e),HU(n,e),BU(n,e)}function vA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BU(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function PA(n,e){let t=PU(n);e.validator!==null?n.setValidators(gA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=kU(n);e.asyncValidator!==null?n.setAsyncValidators(gA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();vA(e._rawValidators,i),vA(e._rawAsyncValidators,i)}function $U(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&kA(n,e)})}function HU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&kA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function kA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zU(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function qU(n,e){n==null,PA(n,e)}function GU(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function WU(n){return Object.getPrototypeOf(n.constructor)===Pv}function KU(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function QU(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===In?t=o:WU(o)?r=o:i=o}),i||r||t||null}var YU={provide:Hs,useExisting:xr(()=>nu)},Zc=Promise.resolve(),nu=(()=>{class n extends Hs{callSetDisabledState;get submitted(){return Mr(this.submittedReactive)}_submitted=Ss(()=>this.submittedReactive());submittedReactive=sn(!1);_directives=new Set;form;ngSubmit=new He;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Kh({},Ov(t),Fv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),NA(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zc.then(()=>{let r=this._findContainer(t.path),i=new Kh({});qU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),KU(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Mv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Nv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(H(kv,10),H(DA,10),H(Lv,8))};static \u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[so([YU]),jn]})}return n})();function _A(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function wA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var JU=class extends Wh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(RA(t),MA(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(wA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_A(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_A(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){wA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ZU={provide:tu,useExisting:xr(()=>Hn)},IA=Promise.resolve(),Hn=(()=>{class n extends tu{_changeDetectorRef;callSetDisabledState;control=new JU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new He;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=QU(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),GU(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){IA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&uo(r);IA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?UU(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(H(Hs,9),H(kv,10),H(DA,10),H(Qh,10),H(Ts,8),H(Lv,8))};static \u0275dir=ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[so([ZU]),jn,ai]})}return n})();var Zh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var XU={provide:Qh,useExisting:xr(()=>zs),multi:!0};function OA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function eB(n){return n.split(":")[0]}var zs=(()=>{class n extends Pv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=OA(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=eB(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ze({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Z("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[so([XU]),jn]})}return n})(),Xh=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(OA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(H(Xn),H(Rr),H(zs,9))};static \u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),tB={provide:Qh,useExisting:xr(()=>FA),multi:!0};function EA(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function nB(n){return n.split(":")[0]}var FA=(()=>{class n extends Pv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=nB(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ze({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Z("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[so([tB]),jn]})}return n})(),ef=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(EA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(EA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(H(Xn),H(Rr),H(FA,9))};static \u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var rB=(()=>{class n{_validator=pA;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ze({type:n,features:[ai]})}return n})();var iB={provide:kv,useExisting:xr(()=>jv),multi:!0};var jv=(()=>{class n extends rB{required;inputName="required";normalizeInput=uo;createValidator=t=>xU;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ze({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&gc("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[so([iB]),jn]})}return n})();var oB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=si({})}return n})();var sr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lv,useValue:t.callSetDisabledState??Vv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=si({imports:[oB]})}return n})();var VA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},sB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},jA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(t[h],t[p],t[y],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Bv;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Bv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aB=function(n){let e=VA(n);return jA.encodeByteArray(e,!0)},iu=function(n){return aB(n).replace(/\./g,"")},Hv=function(n){try{return jA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uB=()=>cB().__FIREBASE_DEFAULTS__,lB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hv(n[1]);return e&&JSON.parse(e)},nf=()=>{try{return uB()||lB()||dB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zv=n=>{var e,t;return(t=(e=nf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UA=n=>{let e=zv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qv=()=>{var n;return(n=nf())===null||n===void 0?void 0:n.config},Gv=n=>{var e;return(e=nf())===null||e===void 0?void 0:e[`_${n}`]};var tf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function BA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[iu(JSON.stringify(t)),iu(JSON.stringify(s)),""].join(".")}function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function hB(){var n;let e=(n=nf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GA(){let n=_t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WA(){return!hB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wv(){try{return typeof indexedDB=="object"}catch{return!1}}function KA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var fB="FirebaseError",ln=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fr.prototype.create)}},Fr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?pB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ln(i,a,r)}};function pB(n,e){return n.replace(gB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gB=/\{\$([^}]+)}/g;function QA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(LA(o)&&LA(s)){if(!yo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function LA(n){return n!==null&&typeof n=="object"}function qs(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ws(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YA(n,e){let t=new $v(n,e);return t.subscribe.bind(t)}var $v=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Uv),i.error===void 0&&(i.error=Uv),i.complete===void 0&&(i.complete=Uv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Uv(){}var tZ=4*60*60*1e3;function rt(n){return n&&n._delegate?n._delegate:n}var En=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var vo="[DEFAULT]";var Kv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new tf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vB(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yB(n){return n===vo?void 0:n}function vB(n){return n.instantiationMode==="EAGER"}var rf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Kv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var _B=[],me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(me||{}),wB={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},IB=me.INFO,EB={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},bB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=EB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_i=class{constructor(e){this.name=e,this._logLevel=IB,this._logHandler=bB,this._userLogHandler=null,_B.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var DB=(n,e)=>e.some(t=>n instanceof t),JA,ZA;function CB(){return JA||(JA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TB(){return ZA||(ZA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XA=new WeakMap,Yv=new WeakMap,ex=new WeakMap,Qv=new WeakMap,Zv=new WeakMap;function SB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ar(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&XA.set(t,n)}).catch(()=>{}),Zv.set(e,n),e}function AB(n){if(Yv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Yv.set(n,e)}var Jv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ex.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ar(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tx(n){Jv=n(Jv)}function xB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(of(this),e,...t);return ex.set(r,e.sort?e.sort():[e]),ar(r)}:TB().includes(n)?function(...e){return n.apply(of(this),e),ar(XA.get(this))}:function(...e){return ar(n.apply(of(this),e))}}function RB(n){return typeof n=="function"?xB(n):(n instanceof IDBTransaction&&AB(n),DB(n,CB())?new Proxy(n,Jv):n)}function ar(n){if(n instanceof IDBRequest)return SB(n);if(Qv.has(n))return Qv.get(n);let e=RB(n);return e!==n&&(Qv.set(n,e),Zv.set(e,n)),e}var of=n=>Zv.get(n);function rx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ar(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ar(s.result),u.oldVersion,u.newVersion,ar(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var MB=["get","getKey","getAll","getAllKeys","count"],NB=["put","add","delete","clear"],Xv=new Map;function nx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xv.get(e))return Xv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=NB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MB.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Xv.set(e,o),o}tx(n=>he(V({},n),{get:(e,t,r)=>nx(e,t)||n.get(e,t,r),has:(e,t)=>!!nx(e,t)||n.has(e,t)}));var t_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function PB(n){let e=n.getComponent();return e?.type==="VERSION"}var n_="@firebase/app",ix="0.10.13";var Lr=new _i("@firebase/app"),kB="@firebase/app-compat",OB="@firebase/analytics-compat",FB="@firebase/analytics",LB="@firebase/app-check-compat",VB="@firebase/app-check",jB="@firebase/auth",UB="@firebase/auth-compat",BB="@firebase/database",$B="@firebase/data-connect",HB="@firebase/database-compat",zB="@firebase/functions",qB="@firebase/functions-compat",GB="@firebase/installations",WB="@firebase/installations-compat",KB="@firebase/messaging",QB="@firebase/messaging-compat",YB="@firebase/performance",JB="@firebase/performance-compat",ZB="@firebase/remote-config",XB="@firebase/remote-config-compat",e4="@firebase/storage",t4="@firebase/storage-compat",n4="@firebase/firestore",r4="@firebase/vertexai-preview",i4="@firebase/firestore-compat",o4="firebase",s4="10.14.1";var r_="[DEFAULT]",a4={[n_]:"fire-core",[kB]:"fire-core-compat",[FB]:"fire-analytics",[OB]:"fire-analytics-compat",[VB]:"fire-app-check",[LB]:"fire-app-check-compat",[jB]:"fire-auth",[UB]:"fire-auth-compat",[BB]:"fire-rtdb",[$B]:"fire-data-connect",[HB]:"fire-rtdb-compat",[zB]:"fire-fn",[qB]:"fire-fn-compat",[GB]:"fire-iid",[WB]:"fire-iid-compat",[KB]:"fire-fcm",[QB]:"fire-fcm-compat",[YB]:"fire-perf",[JB]:"fire-perf-compat",[ZB]:"fire-rc",[XB]:"fire-rc-compat",[e4]:"fire-gcs",[t4]:"fire-gcs-compat",[n4]:"fire-fst",[i4]:"fire-fst-compat",[r4]:"fire-vertex","fire-js":"fire-js",[o4]:"fire-js-all"};var ou=new Map,c4=new Map,i_=new Map;function ox(n,e){try{n.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ii(n){let e=n.name;if(i_.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,n);for(let t of ou.values())ox(t,n);for(let t of c4.values())ox(t,n);return!0}function au(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n.settings!==void 0}var u4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Fr("app","Firebase",u4);var o_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}};var Ei=s4;function c_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:r_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(t||(t=qv()),!t)throw wi.create("no-options");let o=ou.get(i);if(o){if(yo(t,o.options)&&yo(r,o.config))return o;throw wi.create("duplicate-app",{appName:i})}let s=new rf(i);for(let u of i_.values())s.addComponent(u);let a=new o_(t,r,s);return ou.set(i,a),a}function _o(n=r_){let e=ou.get(n);if(!e&&n===r_&&qv())return c_();if(!e)throw wi.create("no-app",{appName:n});return e}function cu(){return Array.from(ou.values())}function ut(n,e,t){var r;let i=(r=a4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(a.join(" "));return}Ii(new En(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var l4="firebase-heartbeat-database",d4=1,su="firebase-heartbeat-store",e_=null;function ux(){return e_||(e_=rx(l4,d4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(n=>{throw wi.create("idb-open",{originalErrorMessage:n.message})})),e_}function h4(n){return v(this,null,function*(){try{let t=(yield ux()).transaction(su),r=yield t.objectStore(su).get(lx(n));return yield t.done,r}catch(e){if(e instanceof ln)Lr.warn(e.message);else{let t=wi.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(t.message)}}})}function sx(n,e){return v(this,null,function*(){try{let r=(yield ux()).transaction(su,"readwrite");yield r.objectStore(su).put(e,lx(n)),yield r.done}catch(t){if(t instanceof ln)Lr.warn(t.message);else{let r=wi.create("idb-set",{originalErrorMessage:t?.message});Lr.warn(r.message)}}})}function lx(n){return`${n.name}!${n.options.appId}`}var f4=1024,p4=30*24*60*60*1e3,s_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new a_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ax();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=p4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ax(),{heartbeatsToSend:r,unsentEntries:i}=g4(this._heartbeatsCache.heartbeats),o=iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Lr.warn(t),""}})}};function ax(){return new Date().toISOString().substring(0,10)}function g4(n,e=f4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),cx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var a_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Wv()?KA().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield h4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cx(n){return iu(JSON.stringify({version:2,heartbeats:n})).length}function m4(n){Ii(new En("platform-logger",e=>new t_(e),"PRIVATE")),Ii(new En("heartbeat",e=>new s_(e),"PRIVATE")),ut(n_,ix,n),ut(n_,ix,"esm2017"),ut("fire-js","")}m4("");var y4="firebase",v4="10.14.1";ut(y4,v4,"app");var Io=new Xi("ANGULARFIRE2_VERSION");function af(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var uu=(n,e)=>{let t=e?[e]:cu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},cf=class{constructor(){return uu(w4)}},w4="app-check";function Ks(){}var dx=class{zone;delegate;constructor(n,e=Cg){this.zone=n,this.delegate=e}now(){return this.delegate.now()}schedule(n,e,t){let r=this.zone,i=function(o){r.runGuarded(()=>{n.apply(this,[o])})};return this.delegate.schedule(i,e,t)}},I4=class{zone;task=null;constructor(n){this.zone=n}call(n,e){let t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),e.pipe(Xe({next:t,complete:t,error:t})).subscribe(n).add(t)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qs=class sf{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dx(Zone.current)),this.insideAngular=t.run(()=>new dx(Zone.current,Dg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||sf)(J(Re))};static \u0275prov=K({token:sf,factory:sf.\u0275fac,providedIn:"root"})};function uf(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function E4(n){return uf().ngZone.runOutsideAngular(()=>n())}function wo(n){return uf().ngZone.run(()=>n())}function b4(n){return D4(uf())(n)}function D4(n){return function(t){return t=t.lift(new I4(n.ngZone)),t.pipe(ti(n.outsideAngular),ei(n.insideAngular))}}var C4=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),wo(()=>n.apply(void 0,r))},mt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks))),r[o]=C4(r[o],t));let i=E4(()=>n.apply(this,r));if(!e)if(i instanceof Ie){let o=uf();return i.pipe(ti(o.outsideAngular),ei(o.insideAngular))}else return wo(()=>i);return i instanceof Ie?i.pipe(b4):i instanceof Promise?wo(()=>new Promise((o,s)=>i.then(a=>wo(()=>o(a)),a=>wo(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:wo(()=>i)};var Eo=class{constructor(n){return n}},lu=class{constructor(){return cu()}};function T4(n){return n&&n.length===1?n[0]:new Eo(_o())}var u_=new $("angularfire2._apps"),S4={provide:Eo,useFactory:T4,deps:[[new Wt,u_]]},A4={provide:lu,deps:[[new Wt,u_]]};function x4(n){return(e,t)=>{let r=t.get(hi);ut("angularfire",Io.full,"core"),ut("angularfire",Io.full,"app"),ut("angular",MT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Eo(i)}}function hx(n,...e){return on([S4,A4,{provide:u_,useFactory:x4(n),multi:!0,deps:[Re,Et,Qs,...e]}])}var fx=mt(c_,!0);function Rx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Mx=Rx,Nx=new Fr("auth","Firebase",Rx());var gf=new _i("@firebase/auth");function R4(n,...e){gf.logLevel<=me.WARN&&gf.warn(`Auth (${Ei}): ${n}`,...e)}function df(n,...e){gf.logLevel<=me.ERROR&&gf.error(`Auth (${Ei}): ${n}`,...e)}function Dn(n,...e){throw R_(n,...e)}function zn(n,...e){return R_(n,...e)}function x_(n,e,t){let r=Object.assign(Object.assign({},Mx()),{[e]:t});return new Fr("auth","Firebase",r).create(e,{appName:n.name})}function Ur(n){return x_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M4(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dn(n,"argument-error"),x_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function R_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Nx.create(n,...e)}function X(n,e,...t){if(!n)throw R_(e,...t)}function Vr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw df(e),new Error(e)}function Br(n,e){n||Vr(e)}function h_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function N4(){return px()==="http:"||px()==="https:"}function px(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function P4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N4()||zA()||"connection"in navigator)?navigator.onLine:!0}function k4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var bo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Br(t>e,"Short delay should be less than long delay!"),this.isMobile=$A()||qA()}get(){return P4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function M_(n,e){Br(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var mf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var O4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var F4=new bo(3e4,6e4);function Di(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ci(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return Px(n,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=qs(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:y},l);return HA()||(m.referrerPolicy="no-referrer"),mf.fetch()(kx(n,n.config.apiHost,t,p),m)}))})}function Px(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},O4),e);try{let i=new f_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw lf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw lf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw x_(n,h,l);Dn(n,h)}}catch(i){if(i instanceof ln)throw i;Dn(n,"network-request-failed",{message:String(i)})}})}function vu(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Ci(n,e,t,r,i);return"mfaPendingCredential"in l&&Dn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function kx(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?M_(n.config,i):`${n.config.apiScheme}://${i}`}function L4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var f_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),F4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function lf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=zn(n,e,r);return i.customData._tokenResponse=t,i}function gx(n){return n!==void 0&&n.enterprise!==void 0}var p_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return L4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function V4(n,e){return v(this,null,function*(){return Ci(n,"GET","/v2/recaptchaConfig",Di(n,e))})}function j4(n,e){return v(this,null,function*(){return Ci(n,"POST","/v1/accounts:delete",e)})}function Ox(n,e){return v(this,null,function*(){return Ci(n,"POST","/v1/accounts:lookup",e)})}function du(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function N_(n,e=!1){return v(this,null,function*(){let t=rt(n),r=yield t.getIdToken(e),i=P_(r);X(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:du(l_(i.auth_time)),issuedAtTime:du(l_(i.iat)),expirationTime:du(l_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function l_(n){return Number(n)*1e3}function P_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hv(t);return i?JSON.parse(i):(df("Failed to decode base64 JWT payload"),null)}catch(i){return df("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mx(n){let e=P_(n);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fu(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof ln&&U4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function U4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var g_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function yf(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield fu(n,Ox(t,{idToken:r}));X(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Fx(o.providerUserInfo):[],a=B4(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function k_(n){return v(this,null,function*(){let e=rt(n);yield yf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function B4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fx(n){return n.map(e=>{var{providerId:t}=e,r=Sl(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $4(n,e){return v(this,null,function*(){let t=yield Px(n,{},()=>v(this,null,function*(){let r=qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=kx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function H4(n,e){return v(this,null,function*(){return Ci(n,"POST","/v2/accounts:revokeToken",Di(n,e))})}var hu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){X(e.length!==0,"internal-error");let t=mx(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Vr("not implemented")}};function bi(n,e){X(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Js=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Sl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield fu(this,this.stsTokenManager.getToken(this.auth,e));return X(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return N_(this,e)}reload(){return k_(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield yf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(bn(this.auth.app))return Promise.reject(Ur(this.auth));let e=yield this.getIdToken();return yield fu(this,j4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,P=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,z=(l=t.createdAt)!==null&&l!==void 0?l:void 0,le=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:te,emailVerified:Pe,isAnonymous:Ft,providerData:Ae,stsTokenManager:D}=t;X(te&&D,e,"internal-error");let _=hu.fromJSON(this.name,D);X(typeof te=="string",e,"internal-error"),bi(p,e.name),bi(y,e.name),X(typeof Pe=="boolean",e,"internal-error"),X(typeof Ft=="boolean",e,"internal-error"),bi(m,e.name),bi(C,e.name),bi(k,e.name),bi(P,e.name),bi(z,e.name),bi(le,e.name);let I=new n({uid:te,auth:e,email:y,emailVerified:Pe,displayName:p,isAnonymous:Ft,photoURL:C,phoneNumber:m,tenantId:k,stsTokenManager:_,createdAt:z,lastLoginAt:le});return Ae&&Array.isArray(Ae)&&(I.providerData=Ae.map(b=>Object.assign({},b))),P&&(I._redirectEventId=P),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new hu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Fx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new hu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var yx=new Map;function jr(n){Br(n instanceof Function,"Expected a class definition");let e=yx.get(n);return e?(Br(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yx.set(n,e),e)}var z4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),m_=z4;function hf(n,e,t){return`firebase:${n}:${e}:${t}`}var vf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=hf(this.userKey,i.apiKey,o),this.fullPersistenceKey=hf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Js._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(jr(m_),e,r);let i=(yield Promise.all(t.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||jr(m_),s=hf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=Js._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function vx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($x(e))return"Blackberry";if(Hx(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||jx(e))&&!e.includes("edge/"))return"Chrome";if(Bx(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Lx(n=_t()){return/firefox\//i.test(n)}function Vx(n=_t()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jx(n=_t()){return/crios\//i.test(n)}function Ux(n=_t()){return/iemobile/i.test(n)}function Bx(n=_t()){return/android/i.test(n)}function $x(n=_t()){return/blackberry/i.test(n)}function Hx(n=_t()){return/webos/i.test(n)}function O_(n=_t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function q4(n=_t()){var e;return O_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G4(){return GA()&&document.documentMode===10}function zx(n=_t()){return O_(n)||Bx(n)||Hx(n)||$x(n)||/windows phone/i.test(n)||Ux(n)}function qx(n,e=[]){let t;switch(n){case"Browser":t=vx(_t());break;case"Worker":t=`${vx(_t())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ei}/${r}`}var y_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function W4(t){return v(this,arguments,function*(n,e={}){return Ci(n,"GET","/v2/passwordPolicy",Di(n,e))})}var K4=6,v_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:K4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var __=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _f(this),this.idTokenSubscription=new _f(this),this.beforeStateQueue=new y_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield vf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield Ox(this,{idToken:e}),r=yield Js._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(bn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield yf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=k4()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(bn(this.app))return Promise.reject(Ur(this));let t=e?rt(e):null;return t&&X(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return bn(this.app)?Promise.reject(Ur(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return bn(this.app)?Promise.reject(Ur(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(jr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield W4(this),t=new v_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield H4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&jr(e)||this._popupRedirectResolver;X(t,this,"argument-error"),this.redirectPersistenceManager=yield vf.create(this,[jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&R4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ti(n){return rt(n)}var _f=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(t=>this.observer=t)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Af={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q4(n){Af=n}function Gx(n){return Af.loadJS(n)}function Y4(){return Af.recaptchaEnterpriseScript}function J4(){return Af.gapiScript}function Wx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Z4="recaptcha-enterprise",X4="NO_RECAPTCHA",w_=class{constructor(e){this.type=Z4,this.auth=Ti(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){V4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new p_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;gx(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(X4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&gx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Y4();u.length!==0&&(u+=a),Gx(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function _x(n,e,t,r=!1){return v(this,null,function*(){let i=new w_(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function I_(n,e,t,r){return v(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield _x(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield _x(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function F_(n,e){let t=au(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(yo(o,e??{}))return i;Dn(i,"already-initialized")}return t.initialize({options:e})}function e$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function L_(n,e,t){let r=Ti(n);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Kx(e),{host:s,port:a}=t$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||n$()}function Kx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function t$(n){let e=Kx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:wx(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:wx(s)}}}function wx(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function n$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Zs=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}};function r$(n,e){return v(this,null,function*(){return Ci(n,"POST","/v1/accounts:signUp",e)})}function i$(n,e){return v(this,null,function*(){return vu(n,"POST","/v1/accounts:signInWithPassword",Di(n,e))})}function o$(n,e){return v(this,null,function*(){return vu(n,"POST","/v1/accounts:signInWithEmailLink",Di(n,e))})}function s$(n,e){return v(this,null,function*(){return vu(n,"POST","/v1/accounts:signInWithEmailLink",Di(n,e))})}var gu=class n extends Zs{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,t,"signInWithPassword",i$);case"emailLink":return o$(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,r,"signUpPassword",r$);case"emailLink":return s$(e,{idToken:t,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ys(n,e){return v(this,null,function*(){return vu(n,"POST","/v1/accounts:signInWithIdp",Di(n,e))})}var a$="http://localhost",wf=class n extends Zs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Sl(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Ys(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Ys(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ys(e,t)}buildRequest(){let e={requestUri:a$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qs(t)}return e}};function c$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u$(n){let e=Gs(Ws(n)).link,t=e?Gs(Ws(e)).deep_link_id:null,r=Gs(Ws(n)).deep_link_id;return(r?Gs(Ws(r)).link:null)||r||t||e||n}var If=class n{constructor(e){var t,r,i,o,s,a;let u=Gs(Ws(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=c$((i=u.mode)!==null&&i!==void 0?i:null);X(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=u$(e);try{return new n(t)}catch{return null}}};var Qx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return gu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=If.parseLink(r);return X(i,"argument-error"),gu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),mu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ef=class extends mu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var V_=(()=>{class n extends Ef{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return wf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function l$(n,e){return v(this,null,function*(){return vu(n,"POST","/v1/accounts:signUp",Di(n,e))})}var Xs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Js._fromIdTokenResponse(e,r,i),s=Ix(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ix(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Ix(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var E_=class n extends ln{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Yx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?E_._fromErrorAndOperation(n,o,e,r):o})}function d$(n,e,t=!1){return v(this,null,function*(){let r=yield fu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xs._forOperation(n,"link",r)})}function h$(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(bn(r.app))return Promise.reject(Ur(r));let i="reauthenticate";try{let o=yield fu(n,Yx(r,i,e,n),t);X(o.idToken,r,"internal-error");let s=P_(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(n.uid===a,r,"user-mismatch"),Xs._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dn(r,"user-mismatch"),o}})}function Jx(n,e,t=!1){return v(this,null,function*(){if(bn(n.app))return Promise.reject(Ur(n));let r="signIn",i=yield Yx(n,r,e),o=yield Xs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function j_(n,e){return v(this,null,function*(){return Jx(Ti(n),e)})}function Zx(n){return v(this,null,function*(){let e=Ti(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function U_(n,e,t){return v(this,null,function*(){if(bn(n.app))return Promise.reject(Ur(n));let r=Ti(n),s=yield I_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l$).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Zx(n),u}),a=yield Xs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function B_(n,e,t){return bn(n.app)?Promise.reject(Ur(n)):j_(rt(n),Qx.credential(e,t)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Zx(n),r}))}function $_(n,e,t,r){return rt(n).onIdTokenChanged(e,t,r)}function H_(n,e,t){return rt(n).beforeAuthStateChanged(e,t)}function z_(n,e,t,r){return rt(n).onAuthStateChanged(e,t,r)}function q_(n){return rt(n).signOut()}var bf="__sak";var Df=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var f$=1e3,p$=10,g$=(()=>{class n extends Df{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);G4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,p$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},f$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Zr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Zr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Zr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Xx=g$;var m$=(()=>{class n extends Df{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),G_=m$;function y$(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var v$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield y$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function W_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var b_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=W_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function cr(){return window}function _$(n){cr().location.href=n}function eR(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}function w$(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function I$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function E$(){return eR()?self:null}var tR="firebaseLocalStorageDb",b$=1,Cf="firebaseLocalStorage",nR="fbase_key",Do=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function xf(n,e){return n.transaction([Cf],e?"readwrite":"readonly").objectStore(Cf)}function D$(){let n=indexedDB.deleteDatabase(tR);return new Do(n).toPromise()}function D_(){let n=indexedDB.open(tR,b$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Cf,{keyPath:nR})}catch(i){t(i)}}),n.addEventListener("success",()=>v(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Cf)?e(r):(r.close(),yield D$(),e(yield D_()))}))})}function Ex(n,e,t){return v(this,null,function*(){let r=xf(n,!0).put({[nR]:e,value:t});return new Do(r).toPromise()})}function C$(n,e){return v(this,null,function*(){let t=xf(n,!1).get(e),r=yield new Do(t).toPromise();return r===void 0?null:r.value})}function bx(n,e){let t=xf(n,!0).delete(e);return new Do(t).toPromise()}var T$=800,S$=3,A$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield D_(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>S$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return eR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=v$._getInstance(E$()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield w$(),!this.activeServiceWorker)return;this.sender=new b_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||I$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield D_();return yield Ex(t,bf,"1"),yield bx(t,bf),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>Ex(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>C$(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>bx(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=xf(o,!1).getAll();return new Do(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),T$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),rR=A$;var XZ=Wx("rcb"),eX=new bo(3e4,6e4);function iR(n,e){return e?jr(e):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var yu=class extends Zs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ys(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function x$(n){return Jx(n.auth,new yu(n),n.bypassAuthState)}function R$(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),h$(t,new yu(n),n.bypassAuthState)}function M$(n){return v(this,null,function*(){let{auth:e,user:t}=n;return X(t,e,"internal-error"),d$(t,new yu(n),n.bypassAuthState)})}var Tf=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x$;case"linkViaPopup":case"linkViaRedirect":return M$;case"reauthViaPopup":case"reauthViaRedirect":return R$;default:Dn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var N$=new bo(2e3,1e4);function K_(n,e,t){return v(this,null,function*(){if(bn(n.app))return Promise.reject(zn(n,"operation-not-supported-in-this-environment"));let r=Ti(n);M4(n,e,mu);let i=iR(r,t);return new P$(r,"signInViaPopup",e,i).executeNotNull()})}var P$=(()=>{class n extends Tf{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let t=yield this.execute();return X(t,this.auth,"internal-error"),t})}onExecution(){return v(this,null,function*(){Br(this.filter.length===1,"Popup operations only handle one event");let t=W_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,N$.get())};t()}}n.currentPopupAction=null;return n})(),k$="pendingRedirect",ff=new Map,C_=class n extends Tf{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=ff.get(this.auth._key());if(!e){try{let r=(yield O$(this.resolver,this.auth))?yield Zr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Zr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Zr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function O$(n,e){return v(this,null,function*(){let t=V$(e),r=L$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function F$(n,e){ff.set(n._key(),e)}function L$(n){return jr(n._redirectPersistence)}function V$(n){return hf(k$,n.config.apiKey,n.name)}function j$(n,e,t=!1){return v(this,null,function*(){if(bn(n.app))return Promise.reject(Ur(n));let r=Ti(n),i=iR(r,e),s=yield new C_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var U$=10*60*1e3,T_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dx(e))}saveEventToCache(e){this.cachedEventUids.add(Dx(e)),this.lastProcessedEventTime=Date.now()}};function Dx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function B$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oR(n);default:return!1}}function $$(t){return v(this,arguments,function*(n,e={}){return Ci(n,"GET","/v1/projects",e)})}var H$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z$=/^https?/;function q$(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield $$(n);for(let t of e)try{if(G$(t))return}catch{}Dn(n,"unauthorized-domain")})}function G$(n){let e=h_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!z$.test(t))return!1;if(H$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var W$=new bo(3e4,6e4);function Cx(){let n=cr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function K$(n){return new Promise((e,t)=>{var r,i,o;function s(){Cx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cx(),t(zn(n,"network-request-failed"))},timeout:W$.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=cr().gapi)===null||o===void 0)&&o.load)s();else{let a=Wx("iframefcb");return cr()[a]=()=>{gapi.load?s():t(zn(n,"network-request-failed"))},Gx(`${J4()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw pf=null,e})}var pf=null;function Q$(n){return pf=pf||K$(n),pf}var Y$=new bo(5e3,15e3),J$="__/auth/iframe",Z$="emulator/auth/iframe",X$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tH(n){let e=n.config;X(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?M_(e,Z$):`https://${n.config.authDomain}/${J$}`,r={apiKey:e.apiKey,appName:n.name,v:Ei},i=eH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qs(r).slice(1)}`}function nH(n){return v(this,null,function*(){let e=yield Q$(n),t=cr().gapi;return X(t,n,"internal-error"),e.open({where:document.body,url:tH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X$,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=zn(n,"network-request-failed"),a=cr().setTimeout(()=>{o(s)},Y$.get());function u(){cr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var rH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iH=500,oH=600,sH="_blank",aH="http://localhost",Sf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cH(n,e,t,r=iH,i=oH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},rH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=_t().toLowerCase();t&&(a=jx(l)?sH:t),Lx(l)&&(e=e||aH,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[m,C])=>`${y}${m}=${C},`,"");if(q4(l)&&a!=="_self")return uH(e||"",a),new Sf(null);let p=window.open(e||"",a,h);X(p,n,"popup-blocked");try{p.focus()}catch{}return new Sf(p)}function uH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var lH="__/auth/handler",dH="emulator/auth/handler",hH=encodeURIComponent("fac");function Tx(n,e,t,r,i,o){return v(this,null,function*(){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ei,eventId:i};if(e instanceof mu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",QA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ef){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${hH}=${encodeURIComponent(u)}`:"";return`${fH(n)}?${qs(a).slice(1)}${l}`})}function fH({config:n}){return n.emulator?M_(n,dH):`https://${n.authDomain}/${lH}`}var d_="webStorageSupport",S_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G_,this._completeRedirectFn=j$,this._overrideRedirectResult=F$}_openPopup(e,t,r,i){return v(this,null,function*(){var o;Br((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Tx(e,t,r,h_(),i);return cH(e,s,W_())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield Tx(e,t,r,h_(),i);return _$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Br(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield nH(e),r=new T_(e);return t.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(d_,{type:d_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[d_];s!==void 0&&t(!!s),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zx()||Vx()||O_()}},sR=S_;var Sx="@firebase/auth",Ax="1.7.9";var A_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gH(n){Ii(new En("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qx(n)},l=new __(r,i,o,u);return e$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new En("auth-internal",e=>{let t=Ti(e.getProvider("auth").getImmediate());return(r=>new A_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(Sx,Ax,pH(n)),ut(Sx,Ax,"esm2017")}var mH=5*60,yH=Gv("authIdTokenMaxAge")||mH,xx=null,vH=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>yH)return;let i=t?.token;xx!==i&&(xx=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Q_(n=_o()){let e=au(n,"auth");if(e.isInitialized())return e.getImmediate();let t=F_(n,{popupRedirectResolver:sR,persistence:[rR,Xx,G_]}),r=Gv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=vH(o.toString());H_(t,s,()=>s(t.currentUser)),$_(t,a=>s(a))}}let i=zv("auth");return i&&L_(t,`http://${i}`),t}function _H(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Q4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=zn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",_H().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gH("Browser");var aR="auth",dn=class{constructor(n){return n}},Y_=class{constructor(){return uu(aR)}};var J_=new $("angularfire2.auth-instances");function c3(n,e){let t=af(aR,n,e);return t&&new dn(t)}function u3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new dn(r)}}var l3={provide:Y_,deps:[[new Wt,J_]]},d3={provide:dn,useFactory:c3,deps:[[new Wt,J_],Eo]};function cR(n,...e){return ut("angularfire",Io.full,"auth"),on([d3,l3,{provide:J_,useFactory:u3(n),multi:!0,deps:[Re,Et,Qs,lu,[new Wt,cf],...e]}])}var uR=mt(U_,!0);var lR=mt(Q_,!0);var Si=mt(z_,!0);var dR=mt(B_,!0);var hR=mt(K_,!0);var fR=mt(q_,!0);var Ai=(()=>{class n{auth;router;userSubject=new ot(null);user$=this.userSubject.asObservable();isLoading=new ot(!0);constructor(t,r){this.auth=t,this.router=r,Si(this.auth,i=>{this.userSubject.next(i),i?this.router.navigate(["/"]):this.router.navigate(["/login"])})}signUp(t,r){return v(this,null,function*(){try{let i=yield uR(this.auth,t,r);return console.log("User signed up:",i.user),this.userSubject.next(i.user),this.router.navigate(["/"]),i.user}catch(i){throw console.error("Error signing up:",i),i}})}login(t,r){return v(this,null,function*(){try{let i=yield dR(this.auth,t,r);return this.userSubject.next(i.user),this.router.navigate(["/"]),i.user}catch(i){throw console.error("Error logging in:",i),i}})}logout(){return v(this,null,function*(){try{yield fR(this.auth),this.userSubject.next(null),this.router.navigate(["/login"])}catch(t){throw console.error("Error logging out:",t),t}})}signinWithGoogle(){return v(this,null,function*(){try{let t=yield hR(this.auth,new V_);return this.userSubject.next(t.user),this.router.navigate(["/"]),t.user}catch(t){throw console.error("Error signing in with Google:",t),t}})}static \u0275fac=function(r){return new(r||n)(J(dn),J(Dt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h3(n,e){n&1&&(yn(),E(0,"svg",37),Q(1,"path",38)(2,"polyline",39)(3,"line",40),S())}function f3(n,e){n&1&&(E(0,"span"),N(1,"Sign In"),S())}function p3(n,e){n&1&&Q(0,"div",41)}function g3(n,e){n&1&&(yn(),E(0,"svg",42),Q(1,"path",43),S())}function m3(n,e){n&1&&(E(0,"span"),N(1,"Sign in with Google"),S())}function y3(n,e){n&1&&Q(0,"div",44)}function v3(n,e){if(n&1&&(E(0,"p",45),N(1),S()),n&2){let t=B();M(),qe(" ",t.errorMessage," ")}}var pR=(()=>{class n{auth;route;email="";password="";errorMessage="";isLoading=!1;constructor(t,r){this.auth=t,this.route=r}login(){return v(this,null,function*(){try{this.isLoading=!0,yield this.auth.login(this.email,this.password),this.isLoading=!1}catch(t){this.errorMessage=t.message,this.isLoading=!1}})}signInWithGoogle(){return v(this,null,function*(){try{this.isLoading=!0,yield this.auth.signinWithGoogle(),this.isLoading=!1,this.route.navigate(["/"])}catch(t){this.errorMessage=t.message,this.isLoading=!1}})}static \u0275fac=function(r){return new(r||n)(H(Ai),H(Dt))};static \u0275cmp=Me({type:n,selectors:[["app-login"]],decls:51,vars:11,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-blue-50","to-indigo-100"],[1,"w-full","max-w-md",3,"submit"],[1,"bg-white","rounded-xl","shadow-xl","overflow-hidden"],[1,"bg-gradient-to-r","from-blue-500","to-indigo-600","px-8","py-6"],[1,"text-2xl","font-bold","text-white"],[1,"text-blue-100","mt-1"],[1,"p-8","space-y-6"],[1,"space-y-4"],[1,"relative"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-gray-400"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","email","id","email","placeholder","you@example.com","name","email","required","",1,"w-full","pl-10","pr-4","py-3","bg-gray-50","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition","duration-200",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between","mb-1"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["href","#",1,"text-sm","text-blue-600","hover:text-blue-800","transition","duration-200"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["type","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","password","required","",1,"w-full","pl-10","pr-4","py-3","bg-gray-50","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition","duration-200",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","flex","items-center","justify-center","gap-2","bg-gradient-to-r","from-blue-500","to-indigo-600","text-white","py-3","rounded-lg","hover:from-blue-600","hover:to-indigo-700","transition","duration-300","font-semibold","shadow-md",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],[4,"ngIf"],["class","w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin",4,"ngIf"],[1,"relative","my-6"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-200"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],["type","button",1,"w-full","flex","items-center","justify-center","gap-3","bg-white","text-gray-700","py-3","rounded-lg","hover:bg-gray-50","transition","duration-300","border","border-gray-300","shadow-sm","font-medium",3,"click","disabled"],["class","w-5 h-5","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5 border-2 border-t-transparent border-gray-700 rounded-full animate-spin",4,"ngIf"],[1,"text-center","mt-6"],[1,"text-sm","text-gray-600"],["routerLink","/register",1,"text-blue-600","hover:text-blue-800","font-medium","transition","duration-200"],["class","bg-red-50 text-red-600 p-3 rounded-lg text-sm",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"],["points","10 17 15 12 10 7"],["x1","15","y1","12","x2","3","y2","12"],[1,"w-5","h-5","border-2","border-t-transparent","border-white","rounded-full","animate-spin"],["viewBox","0 0 24 24",1,"w-5","h-5"],["fill","currentColor","d","M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27 3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12c0 5.05 4.13 10 10.22 10 5.35 0 9.25-3.67 9.25-9.09 0-1.15-.15-1.81-.15-1.81z"],[1,"w-5","h-5","border-2","border-t-transparent","border-gray-700","rounded-full","animate-spin"],[1,"bg-red-50","text-red-600","p-3","rounded-lg","text-sm"]],template:function(r,i){r&1&&(E(0,"div",0)(1,"form",1),Z("submit",function(s){return i.login(),s.preventDefault()}),E(2,"div",2)(3,"div",3)(4,"h2",4),N(5,"Welcome back"),S(),E(6,"p",5),N(7,"Sign in to continue"),S()(),E(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),N(12,"Email"),S(),E(13,"div",8)(14,"div",10),yn(),E(15,"svg",11),Q(16,"path",12)(17,"polyline",13),S()(),ui(),E(18,"input",14),nt("ngModelChange",function(s){return at(i.email,s)||(i.email=s),s}),S()()(),E(19,"div",8)(20,"div",15)(21,"label",16),N(22,"Password"),S(),E(23,"a",17),N(24,"Forgot password?"),S()(),E(25,"div",8)(26,"div",10),yn(),E(27,"svg",11),Q(28,"rect",18)(29,"path",19),S()(),ui(),E(30,"input",20),nt("ngModelChange",function(s){return at(i.password,s)||(i.password=s),s}),S()()()(),E(31,"button",21),re(32,h3,4,0,"svg",22)(33,f3,2,0,"span",23)(34,p3,1,0,"div",24),S(),E(35,"div",25)(36,"div",26),Q(37,"div",27),S(),E(38,"div",28)(39,"span",29),N(40,"Or continue with"),S()()(),E(41,"button",30),Z("click",function(){return i.signInWithGoogle()}),re(42,g3,2,0,"svg",31)(43,m3,2,0,"span",23)(44,y3,1,0,"div",32),S(),E(45,"div",33)(46,"p",34),N(47," Don't have an account? "),E(48,"a",35),N(49," Create an account "),S()()(),re(50,v3,2,1,"p",36),S()()()()),r&2&&(M(18),tt("ngModel",i.email),M(12),tt("ngModel",i.password),M(),U("disabled",i.isLoading),M(),U("ngIf",!i.isLoading),M(),U("ngIf",!i.isLoading),M(),U("ngIf",i.isLoading),M(7),U("disabled",i.isLoading),M(),U("ngIf",!i.isLoading),M(),U("ngIf",!i.isLoading),M(),U("ngIf",i.isLoading),M(6),U("ngIf",i.errorMessage))},dependencies:[Be,gt,sr,Zh,In,or,Yh,jv,Hn,nu,Us],encapsulation:2})}return n})();var gR=(()=>{class n{auth=F(dn);router=F(Dt);isAuthenticated=sn(!1);constructor(){Si(this.auth,t=>{this.isAuthenticated.set(!!t)})}canActivate(){return this.isAuthenticated()?!0:(this.router.navigateByUrl("/login",{replaceUrl:!0}),!1)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mf=(()=>{class n{loadingMessage="Loading...";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["app-loader"]],inputs:{loadingMessage:"loadingMessage"},decls:4,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","h-64"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-2","border-b-2","border-blue-500","mb-4"],[1,"text-gray-600"]],template:function(r,i){r&1&&(E(0,"div",0),Q(1,"div",1),E(2,"p",2),N(3,"Loading your reports..."),S()())},dependencies:[Be],encapsulation:2})}return n})();var mR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yR={};var xi,X_;(function(){var n;function e(D,_){function I(){}I.prototype=_.prototype,D.D=_.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(b,T,x){for(var w=Array(arguments.length-2),vr=2;vr<arguments.length;vr++)w[vr-2]=arguments[vr];return _.prototype[T].apply(b,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,I){I||(I=0);var b=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)b[T]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(T=0;16>T;++T)b[T]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=D.g[0],I=D.g[1],T=D.g[2];var x=D.g[3],w=_+(x^I&(T^x))+b[0]+3614090360&4294967295;_=I+(w<<7&4294967295|w>>>25),w=x+(T^_&(I^T))+b[1]+3905402710&4294967295,x=_+(w<<12&4294967295|w>>>20),w=T+(I^x&(_^I))+b[2]+606105819&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(_^T&(x^_))+b[3]+3250441966&4294967295,I=T+(w<<22&4294967295|w>>>10),w=_+(x^I&(T^x))+b[4]+4118548399&4294967295,_=I+(w<<7&4294967295|w>>>25),w=x+(T^_&(I^T))+b[5]+1200080426&4294967295,x=_+(w<<12&4294967295|w>>>20),w=T+(I^x&(_^I))+b[6]+2821735955&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(_^T&(x^_))+b[7]+4249261313&4294967295,I=T+(w<<22&4294967295|w>>>10),w=_+(x^I&(T^x))+b[8]+1770035416&4294967295,_=I+(w<<7&4294967295|w>>>25),w=x+(T^_&(I^T))+b[9]+2336552879&4294967295,x=_+(w<<12&4294967295|w>>>20),w=T+(I^x&(_^I))+b[10]+4294925233&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(_^T&(x^_))+b[11]+2304563134&4294967295,I=T+(w<<22&4294967295|w>>>10),w=_+(x^I&(T^x))+b[12]+1804603682&4294967295,_=I+(w<<7&4294967295|w>>>25),w=x+(T^_&(I^T))+b[13]+4254626195&4294967295,x=_+(w<<12&4294967295|w>>>20),w=T+(I^x&(_^I))+b[14]+2792965006&4294967295,T=x+(w<<17&4294967295|w>>>15),w=I+(_^T&(x^_))+b[15]+1236535329&4294967295,I=T+(w<<22&4294967295|w>>>10),w=_+(T^x&(I^T))+b[1]+4129170786&4294967295,_=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(_^I))+b[6]+3225465664&4294967295,x=_+(w<<9&4294967295|w>>>23),w=T+(_^I&(x^_))+b[11]+643717713&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^_&(T^x))+b[0]+3921069994&4294967295,I=T+(w<<20&4294967295|w>>>12),w=_+(T^x&(I^T))+b[5]+3593408605&4294967295,_=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(_^I))+b[10]+38016083&4294967295,x=_+(w<<9&4294967295|w>>>23),w=T+(_^I&(x^_))+b[15]+3634488961&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^_&(T^x))+b[4]+3889429448&4294967295,I=T+(w<<20&4294967295|w>>>12),w=_+(T^x&(I^T))+b[9]+568446438&4294967295,_=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(_^I))+b[14]+3275163606&4294967295,x=_+(w<<9&4294967295|w>>>23),w=T+(_^I&(x^_))+b[3]+4107603335&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^_&(T^x))+b[8]+1163531501&4294967295,I=T+(w<<20&4294967295|w>>>12),w=_+(T^x&(I^T))+b[13]+2850285829&4294967295,_=I+(w<<5&4294967295|w>>>27),w=x+(I^T&(_^I))+b[2]+4243563512&4294967295,x=_+(w<<9&4294967295|w>>>23),w=T+(_^I&(x^_))+b[7]+1735328473&4294967295,T=x+(w<<14&4294967295|w>>>18),w=I+(x^_&(T^x))+b[12]+2368359562&4294967295,I=T+(w<<20&4294967295|w>>>12),w=_+(I^T^x)+b[5]+4294588738&4294967295,_=I+(w<<4&4294967295|w>>>28),w=x+(_^I^T)+b[8]+2272392833&4294967295,x=_+(w<<11&4294967295|w>>>21),w=T+(x^_^I)+b[11]+1839030562&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^_)+b[14]+4259657740&4294967295,I=T+(w<<23&4294967295|w>>>9),w=_+(I^T^x)+b[1]+2763975236&4294967295,_=I+(w<<4&4294967295|w>>>28),w=x+(_^I^T)+b[4]+1272893353&4294967295,x=_+(w<<11&4294967295|w>>>21),w=T+(x^_^I)+b[7]+4139469664&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^_)+b[10]+3200236656&4294967295,I=T+(w<<23&4294967295|w>>>9),w=_+(I^T^x)+b[13]+681279174&4294967295,_=I+(w<<4&4294967295|w>>>28),w=x+(_^I^T)+b[0]+3936430074&4294967295,x=_+(w<<11&4294967295|w>>>21),w=T+(x^_^I)+b[3]+3572445317&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^_)+b[6]+76029189&4294967295,I=T+(w<<23&4294967295|w>>>9),w=_+(I^T^x)+b[9]+3654602809&4294967295,_=I+(w<<4&4294967295|w>>>28),w=x+(_^I^T)+b[12]+3873151461&4294967295,x=_+(w<<11&4294967295|w>>>21),w=T+(x^_^I)+b[15]+530742520&4294967295,T=x+(w<<16&4294967295|w>>>16),w=I+(T^x^_)+b[2]+3299628645&4294967295,I=T+(w<<23&4294967295|w>>>9),w=_+(T^(I|~x))+b[0]+4096336452&4294967295,_=I+(w<<6&4294967295|w>>>26),w=x+(I^(_|~T))+b[7]+1126891415&4294967295,x=_+(w<<10&4294967295|w>>>22),w=T+(_^(x|~I))+b[14]+2878612391&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~_))+b[5]+4237533241&4294967295,I=T+(w<<21&4294967295|w>>>11),w=_+(T^(I|~x))+b[12]+1700485571&4294967295,_=I+(w<<6&4294967295|w>>>26),w=x+(I^(_|~T))+b[3]+2399980690&4294967295,x=_+(w<<10&4294967295|w>>>22),w=T+(_^(x|~I))+b[10]+4293915773&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~_))+b[1]+2240044497&4294967295,I=T+(w<<21&4294967295|w>>>11),w=_+(T^(I|~x))+b[8]+1873313359&4294967295,_=I+(w<<6&4294967295|w>>>26),w=x+(I^(_|~T))+b[15]+4264355552&4294967295,x=_+(w<<10&4294967295|w>>>22),w=T+(_^(x|~I))+b[6]+2734768916&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~_))+b[13]+1309151649&4294967295,I=T+(w<<21&4294967295|w>>>11),w=_+(T^(I|~x))+b[4]+4149444226&4294967295,_=I+(w<<6&4294967295|w>>>26),w=x+(I^(_|~T))+b[11]+3174756917&4294967295,x=_+(w<<10&4294967295|w>>>22),w=T+(_^(x|~I))+b[2]+718787259&4294967295,T=x+(w<<15&4294967295|w>>>17),w=I+(x^(T|~_))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+x&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var I=_-this.blockSize,b=this.B,T=this.h,x=0;x<_;){if(T==0)for(;x<=I;)i(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<_;)if(b[T++]=D.charCodeAt(x++),T==this.blockSize){i(this,b),T=0;break}}else for(;x<_;)if(b[T++]=D[x++],T==this.blockSize){i(this,b),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var I=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=I&255,I/=256;for(this.u(D),D=Array(16),_=I=0;4>_;++_)for(var b=0;32>b;b+=8)D[I++]=this.g[_]>>>b&255;return D};function o(D,_){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=_(D)}function s(D,_){this.h=_;for(var I=[],b=!0,T=D.length-1;0<=T;T--){var x=D[T]|0;b&&x==_||(I[T]=x,b=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return P(l(-D));for(var _=[],I=1,b=0;D>=I;b++)_[b]=D/I|0,I*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return P(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),b=p,T=0;T<D.length;T+=8){var x=Math.min(8,D.length-T),w=parseInt(D.substring(T,T+x),_);8>x?(x=l(Math.pow(_,x)),b=b.j(x).add(l(w))):(b=b.j(I),b=b.add(l(w)))}return b}var p=u(0),y=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(k(this))return-P(this).m();for(var D=0,_=1,I=0;I<this.g.length;I++){var b=this.i(I);D+=(0<=b?b:4294967296+b)*_,_*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(k(this))return"-"+P(this).toString(D);for(var _=l(Math.pow(D,6)),I=this,b="";;){var T=Pe(I,_).g;I=z(I,T.j(_));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=T,C(I))return x+b;for(;6>x.length;)x="0"+x;b=x+b}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=z(this,D),k(D)?-1:C(D)?0:1};function P(D){for(var _=D.g.length,I=[],b=0;b<_;b++)I[b]=~D.g[b];return new s(I,~D.h).add(y)}n.abs=function(){return k(this)?P(this):this},n.add=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0,T=0;T<=_;T++){var x=b+(this.i(T)&65535)+(D.i(T)&65535),w=(x>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);b=w>>>16,x&=65535,w&=65535,I[T]=w<<16|x}return new s(I,I[I.length-1]&-2147483648?-1:0)};function z(D,_){return D.add(P(_))}n.j=function(D){if(C(this)||C(D))return p;if(k(this))return k(D)?P(this).j(P(D)):P(P(this).j(D));if(k(D))return P(this.j(P(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,I=[],b=0;b<2*_;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var T=0;T<D.g.length;T++){var x=this.i(b)>>>16,w=this.i(b)&65535,vr=D.i(T)>>>16,ba=D.i(T)&65535;I[2*b+2*T]+=w*ba,le(I,2*b+2*T),I[2*b+2*T+1]+=x*ba,le(I,2*b+2*T+1),I[2*b+2*T+1]+=w*vr,le(I,2*b+2*T+1),I[2*b+2*T+2]+=x*vr,le(I,2*b+2*T+2)}for(b=0;b<_;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=_;b<2*_;b++)I[b]=0;return new s(I,0)};function le(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function te(D,_){this.g=D,this.h=_}function Pe(D,_){if(C(_))throw Error("division by zero");if(C(D))return new te(p,p);if(k(D))return _=Pe(P(D),_),new te(P(_.g),P(_.h));if(k(_))return _=Pe(D,P(_)),new te(P(_.g),_.h);if(30<D.g.length){if(k(D)||k(_))throw Error("slowDivide_ only works with positive integers.");for(var I=y,b=_;0>=b.l(D);)I=Ft(I),b=Ft(b);var T=Ae(I,1),x=Ae(b,1);for(b=Ae(b,2),I=Ae(I,2);!C(b);){var w=x.add(b);0>=w.l(D)&&(T=T.add(I),x=w),b=Ae(b,1),I=Ae(I,1)}return _=z(D,T.j(_)),new te(T,_)}for(T=p;0<=D.l(_);){for(I=Math.max(1,Math.floor(D.m()/_.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),x=l(I),w=x.j(_);k(w)||0<w.l(D);)I-=b,x=l(I),w=x.j(_);C(x)&&(x=y),T=T.add(x),D=z(D,w)}return new te(T,D)}n.A=function(D){return Pe(this,D).h},n.and=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)&D.i(b);return new s(I,this.h&D.h)},n.or=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)|D.i(b);return new s(I,this.h|D.h)},n.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)^D.i(b);return new s(I,this.h^D.h)};function Ft(D){for(var _=D.g.length+1,I=[],b=0;b<_;b++)I[b]=D.i(b)<<1|D.i(b-1)>>>31;return new s(I,D.h)}function Ae(D,_){var I=_>>5;_%=32;for(var b=D.g.length-I,T=[],x=0;x<b;x++)T[x]=0<_?D.i(x+I)>>>_|D.i(x+I+1)<<32-_:D.i(x+I);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,X_=yR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,xi=yR.Integer=s}).apply(typeof mR<"u"?mR:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={};var ew,_3,ea,tw,_u,Pf,nw,rw,iw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var A=c[g];if(!(A in f))break e;f=f[A]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,A={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,A,R){for(var j=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)j[ke-2]=arguments[ke];return d.prototype[A].apply(g,j)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function P(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let A=c.length||0,R=g.length||0;c.length=A+R;for(let j=0;j<R;j++)c[A+j]=g[j]}else c.push(g)}}class z{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function le(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Pe(c){return Pe[" "](c),c}Pe[" "]=function(){};var Ft=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Ae(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(f in g)c[f]=g[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Cp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class vr{constructor(){this.h=this.g=null}add(d,f){let g=ba.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ba=new z(()=>new NN,c=>c.reset());class NN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Da,Ca=!1,Cp=new vr,p0=()=>{let c=a.Promise.resolve(void 0);Da=()=>{c.then(PN)}};var PN=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){x(f)}var d=ba;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ca=!1};function Kr(){this.s=this.s,this.C=this.C}Kr.prototype.s=!1,Kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var kN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ta(c,d){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ft){e:{try{Pe(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ON[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ta.aa.h.call(this)}}C(Ta,Tt);var ON={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Sa="closure_listenable_"+(1e6*Math.random()|0),FN=0;function LN(c,d,f,g,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=A,this.key=++FN,this.da=this.fa=!1}function Wu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ku(c){this.src=c,this.g={},this.h=0}Ku.prototype.add=function(c,d,f,g,A){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var j=Sp(c,d,g,A);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new LN(d,this.src,R,!!g,A),d.fa=f,c.push(d)),d};function Tp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],A=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=A)&&Array.prototype.splice.call(g,A,1),R&&(Wu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Sp(c,d,f,g){for(var A=0;A<c.length;++A){var R=c[A];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return A}return-1}var Ap="closure_lm_"+(1e6*Math.random()|0),xp={};function g0(c,d,f,g,A){if(g&&g.once)return y0(c,d,f,g,A);if(Array.isArray(d)){for(var R=0;R<d.length;R++)g0(c,d[R],f,g,A);return null}return f=Pp(f),c&&c[Sa]?c.K(d,f,l(g)?!!g.capture:!!g,A):m0(c,d,f,!1,g,A)}function m0(c,d,f,g,A,R){if(!d)throw Error("Invalid event type");var j=l(A)?!!A.capture:!!A,ke=Mp(c);if(ke||(c[Ap]=ke=new Ku(c)),f=ke.add(d,f,g,j,R),f.proxy)return f;if(g=VN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)kN||(A=j),A===void 0&&(A=!1),c.addEventListener(d.toString(),g,A);else if(c.attachEvent)c.attachEvent(_0(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function VN(){function c(f){return d.call(c.src,c.listener,f)}let d=jN;return c}function y0(c,d,f,g,A){if(Array.isArray(d)){for(var R=0;R<d.length;R++)y0(c,d[R],f,g,A);return null}return f=Pp(f),c&&c[Sa]?c.L(d,f,l(g)?!!g.capture:!!g,A):m0(c,d,f,!0,g,A)}function v0(c,d,f,g,A){if(Array.isArray(d))for(var R=0;R<d.length;R++)v0(c,d[R],f,g,A);else g=l(g)?!!g.capture:!!g,f=Pp(f),c&&c[Sa]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Sp(R,f,g,A),-1<f&&(Wu(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Mp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Sp(d,f,g,A)),(f=-1<c?d[c]:null)&&Rp(f))}function Rp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Sa])Tp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(_0(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Mp(d))?(Tp(f,c),f.h==0&&(f.src=null,d[Ap]=null)):Wu(c)}}}function _0(c){return c in xp?xp[c]:xp[c]="on"+c}function jN(c,d){if(c.da)c=!0;else{d=new Ta(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Rp(c),c=f.call(g,d)}return c}function Mp(c){return c=c[Ap],c instanceof Ku?c:null}var Np="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pp(c){return typeof c=="function"?c:(c[Np]||(c[Np]=function(d){return c.handleEvent(d)}),c[Np])}function St(){Kr.call(this),this.i=new Ku(this),this.M=this,this.F=null}C(St,Kr),St.prototype[Sa]=!0,St.prototype.removeEventListener=function(c,d,f,g){v0(this,c,d,f,g)};function Lt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Tt(d,c);else if(d instanceof Tt)d.target=d.target||c;else{var A=d;d=new Tt(g,c),b(d,A)}if(A=!0,f)for(var R=f.length-1;0<=R;R--){var j=d.g=f[R];A=Qu(j,g,!0,d)&&A}if(j=d.g=c,A=Qu(j,g,!0,d)&&A,A=Qu(j,g,!1,d)&&A,f)for(R=0;R<f.length;R++)j=d.g=f[R],A=Qu(j,g,!1,d)&&A}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Wu(f[g]);delete c.g[d],c.h--}}this.F=null},St.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},St.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Qu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,R=0;R<d.length;++R){var j=d[R];if(j&&!j.da&&j.capture==f){var ke=j.listener,It=j.ha||j.src;j.fa&&Tp(c.i,j),A=ke.call(It,g)!==!1&&A}}return A&&!g.defaultPrevented}function w0(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function I0(c){c.g=w0(()=>{c.g=null,c.i&&(c.i=!1,I0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class UN extends Kr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:I0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(c){Kr.call(this),this.h=c,this.g={}}C(Aa,Kr);var E0=[];function b0(c){Ae(c.g,function(d,f){this.g.hasOwnProperty(f)&&Rp(d)},c),c.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),b0(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kp=a.JSON.stringify,BN=a.JSON.parse,$N=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Op(){}Op.prototype.h=null;function D0(c){return c.h||(c.h=c.i())}function C0(){}var xa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fp(){Tt.call(this,"d")}C(Fp,Tt);function Lp(){Tt.call(this,"c")}C(Lp,Tt);var ki={},T0=null;function Yu(){return T0=T0||new St}ki.La="serverreachability";function S0(c){Tt.call(this,ki.La,c)}C(S0,Tt);function Ra(c){let d=Yu();Lt(d,new S0(d))}ki.STAT_EVENT="statevent";function A0(c,d){Tt.call(this,ki.STAT_EVENT,c),this.stat=d}C(A0,Tt);function Vt(c){let d=Yu();Lt(d,new A0(d,c))}ki.Ma="timingevent";function x0(c,d){Tt.call(this,ki.Ma,c),this.size=d}C(x0,Tt);function Ma(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Na(){this.g=!0}Na.prototype.xa=function(){this.g=!1};function HN(c,d,f,g,A,R){c.info(function(){if(c.g)if(R)for(var j="",ke=R.split("&"),It=0;It<ke.length;It++){var Ce=ke[It].split("=");if(1<Ce.length){var At=Ce[0];Ce=Ce[1];var xt=At.split("_");j=2<=xt.length&&xt[1]=="type"?j+(At+"="+Ce+"&"):j+(At+"=redacted&")}}else j=null;else j=R;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+d+`
`+f+`
`+j})}function zN(c,d,f,g,A,R,j){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+d+`
`+f+`
`+R+" "+j})}function jo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+GN(c,f)+(g?" "+g:"")})}function qN(c,d){c.info(function(){return"TIMEOUT: "+d})}Na.prototype.info=function(){};function GN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var j=1;j<A.length;j++)A[j]=""}}}}return kp(f)}catch{return d}}var Ju={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},R0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vp;function Zu(){}C(Zu,Op),Zu.prototype.g=function(){return new XMLHttpRequest},Zu.prototype.i=function(){return{}},Vp=new Zu;function Qr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M0}function M0(){this.i=null,this.g="",this.h=!1}var N0={},jp={};function Up(c,d,f){c.L=1,c.v=nl(_r(d)),c.m=f,c.P=!0,P0(c,null)}function P0(c,d){c.F=Date.now(),Xu(c),c.A=_r(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),W0(f.i,"t",g),c.C=0,f=c.j.J,c.h=new M0,c.g=dE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new UN(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(E0[0]=A.toString()),A=E0);for(var R=0;R<A.length;R++){var j=g0(f,A[R],g||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ra(),HN(c.i,c.u,c.A,c.l,c.R,c.m)}Qr.prototype.ca=function(c){c=c.target;let d=this.M;d&&wr(c)==3?d.j():this.Y(c)},Qr.prototype.Y=function(c){try{if(c==this.g)e:{let xt=wr(this.g);var d=this.g.Ba();let $o=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||eE(this.g)))){this.J||xt!=4||d==7||(d==8||0>=$o?Ra(3):Ra(2)),Bp(this);var f=this.g.Z();this.X=f;t:if(k0(this)){var g=eE(this.g);c="";var A=g.length,R=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),Pa(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==A-1)});g.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,zN(this.i,this.u,this.A,this.l,this.R,xt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,It=this.g;if((ke=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(ke)){var Ce=ke;break t}}Ce=null}if(f=Ce)jo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$p(this,f);else{this.o=!1,this.s=3,Vt(12),Oi(this),Pa(this);break e}}if(this.P){f=!0;let Tn;for(;!this.J&&this.C<j.length;)if(Tn=WN(this,j),Tn==jp){xt==4&&(this.s=4,Vt(14),f=!1),jo(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==N0){this.s=4,Vt(15),jo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else jo(this.i,this.l,Tn,null),$p(this,Tn);if(k0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||j.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)jo(this.i,this.l,j,"[Invalid Chunked Response]"),Oi(this),Pa(this);else if(0<j.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Kp(At),At.M=!0,Vt(11))}}else jo(this.i,this.l,j,null),$p(this,j);xt==4&&Oi(this),this.o&&!this.J&&(xt==4?aE(this.j,this):(this.o=!1,Xu(this)))}else lP(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Oi(this),Pa(this)}}}catch{}finally{}};function k0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function WN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?jp:(f=Number(d.substring(f,g)),isNaN(f)?N0:(g+=1,g+f>d.length?jp:(d=d.slice(g,g+f),c.C=g+f,d)))}Qr.prototype.cancel=function(){this.J=!0,Oi(this)};function Xu(c){c.S=Date.now()+c.I,O0(c,c.I)}function O0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ma(y(c.ba,c),d)}function Bp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Qr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(qN(this.i,this.A),this.L!=2&&(Ra(),Vt(17)),Oi(this),this.s=2,Pa(this)):O0(this,this.S-c)};function Pa(c){c.j.G==0||c.J||aE(c.j,c)}function Oi(c){Bp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,b0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function $p(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Hp(f.h,c))){if(!c.K&&Hp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)al(f),ol(f);else break e;Wp(f),Vt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ma(y(f.Za,f),6e3));if(1>=V0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Li(f,11)}else if((c.K||f.g==c)&&al(f),!le(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Ce=A[d];if(f.T=Ce[0],Ce=Ce[1],f.G==2)if(Ce[0]=="c"){f.K=Ce[1],f.ia=Ce[2];let At=Ce[3];At!=null&&(f.la=At,f.j.info("VER="+f.la));let xt=Ce[4];xt!=null&&(f.Aa=xt,f.j.info("SVER="+f.Aa));let $o=Ce[5];$o!=null&&typeof $o=="number"&&0<$o&&(g=1.5*$o,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Tn=c.g;if(Tn){let ul=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var R=g.h;R.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(zp(R,R.h),R.h=null))}if(g.D){let Qp=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qp&&(g.ya=Qp,Ue(g.I,g.D,Qp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=c;if(g.qa=lE(g,g.J?g.ia:null,g.W),j.K){j0(g.h,j);var ke=j,It=g.L;It&&(ke.I=It),ke.B&&(Bp(ke),Xu(ke)),g.g=j}else oE(g);0<f.i.length&&sl(f)}else Ce[0]!="stop"&&Ce[0]!="close"||Li(f,7);else f.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Li(f,7):Gp(f):Ce[0]!="noop"&&f.l&&f.l.ta(Ce),f.v=0)}}Ra(4)}catch{}}var KN=class{constructor(c,d){this.g=c,this.map=d}};function F0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function L0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function V0(c){return c.h?1:c.g?c.g.size:0}function Hp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function zp(c,d){c.g?c.g.add(d):c.h=d}function j0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}F0.prototype.cancel=function(){if(this.i=U0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function U0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function QN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function YN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function B0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=YN(c),g=QN(c),A=g.length,R=0;R<A;R++)d.call(void 0,g[R],f&&f[R],c)}var $0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),A=null;if(0<=g){var R=c[f].substring(0,g);A=c[f].substring(g+1)}else R=c[f];d(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fi){this.h=c.h,el(this,c.j),this.o=c.o,this.g=c.g,tl(this,c.s),this.l=c.l;var d=c.i,f=new Fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),H0(this,f),this.m=c.m}else c&&(d=String(c).match($0))?(this.h=!1,el(this,d[1]||"",!0),this.o=ka(d[2]||""),this.g=ka(d[3]||"",!0),tl(this,d[4]),this.l=ka(d[5]||"",!0),H0(this,d[6]||"",!0),this.m=ka(d[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}Fi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Oa(d,z0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Oa(d,z0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Oa(f,f.charAt(0)=="/"?eP:XN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Oa(f,nP)),c.join("")};function _r(c){return new Fi(c)}function el(c,d,f){c.j=f?ka(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function tl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function H0(c,d,f){d instanceof Fa?(c.i=d,rP(c.i,c.h)):(f||(d=Oa(d,tP)),c.i=new Fa(d,c.h))}function Ue(c,d,f){c.i.set(d,f)}function nl(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ka(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,ZN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ZN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var z0=/[#\/\?@]/g,XN=/[#\?:]/g,eP=/[#\?]/g,tP=/[#\?@]/g,nP=/#/g;function Fa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Yr(c){c.g||(c.g=new Map,c.h=0,c.i&&JN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Fa.prototype,n.add=function(c,d){Yr(this),this.i=null,c=Uo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function q0(c,d){Yr(c),d=Uo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function G0(c,d){return Yr(c),d=Uo(c,d),c.g.has(d)}n.forEach=function(c,d){Yr(this),this.g.forEach(function(f,g){f.forEach(function(A){c.call(d,A,g,this)},this)},this)},n.na=function(){Yr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let A=c[g];for(let R=0;R<A.length;R++)f.push(d[g])}return f},n.V=function(c){Yr(this);let d=[];if(typeof c=="string")G0(this,c)&&(d=d.concat(this.g.get(Uo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Yr(this),this.i=null,c=Uo(this,c),G0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function W0(c,d,f){q0(c,d),0<f.length&&(c.i=null,c.g.set(Uo(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var A=R;j[g]!==""&&(A+="="+encodeURIComponent(String(j[g]))),c.push(A)}}return this.i=c.join("&")};function Uo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function rP(c,d){d&&!c.j&&(Yr(c),c.i=null,c.g.forEach(function(f,g){var A=g.toLowerCase();g!=A&&(q0(this,g),W0(this,A,f))},c)),c.j=d}function iP(c,d){let f=new Na;if(a.Image){let g=new Image;g.onload=m(Jr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(Jr,f,"TestLoadImage: error",!1,d,g),g.onabort=m(Jr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(Jr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function oP(c,d){let f=new Na,g=new AbortController,A=setTimeout(()=>{g.abort(),Jr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(A),R.ok?Jr(f,"TestPingServer: ok",!0,d):Jr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),Jr(f,"TestPingServer: error",!1,d)})}function Jr(c,d,f,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(f)}catch{}}function sP(){this.g=new $N}function aP(c,d,f){let g=f||"";try{B0(c,function(A,R){let j=A;l(A)&&(j=kp(A)),d.push(g+R+"="+encodeURIComponent(j))})}catch(A){throw d.push(g+"type="+encodeURIComponent("_badmap")),A}}function La(c){this.l=c.Ub||null,this.j=c.eb||!1}C(La,Op),La.prototype.g=function(){return new rl(this.l,this.j)},La.prototype.i=function(c){return function(){return c}}({});function rl(c,d){St.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(rl,St),n=rl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ja(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;K0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function K0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Va(this):ja(this),this.readyState==3&&K0(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Va(this))},n.Qa=function(c){this.g&&(this.response=c,Va(this))},n.ga=function(){this.g&&Va(this)};function Va(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ja(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ja(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Q0(c){let d="";return Ae(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function qp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Q0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ue(c,d,f))}function We(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(We,St);var cP=/^https?$/i,uP=["POST","PUT"];n=We.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vp.g(),this.v=this.o?D0(this.o):D0(Vp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){Y0(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)f.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uP,d,void 0))||g||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,j]of f)this.g.setRequestHeader(R,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{X0(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){Y0(this,R)}};function Y0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,J0(c),il(c)}function J0(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),il(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Z0(this):this.bb())},n.bb=function(){Z0(this)};function Z0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||wr(c)!=4||c.Z()!=2)){if(c.u&&wr(c)==4)w0(c.Ea,0,c);else if(Lt(c,"readystatechange"),wr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=j===0){var A=String(c.D).match($0)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!cP.test(A?A.toLowerCase():"")}f=g}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var R=2<wr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",J0(c)}}finally{il(c)}}}}function il(c,d){if(c.g){X0(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=g}catch{}}}function X0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function wr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),BN(d)}};function eE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lP(c){let d={};c=(c.g&&2<=wr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(le(c[g]))continue;var f=T(c[g]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[A]||[];d[A]=R,R.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function tE(c){this.Aa=0,this.i=[],this.j=new Na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,c),this.cb=Ua("retryDelaySeedMs",1e4,c),this.Wa=Ua("forwardChannelMaxRetries",2,c),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new F0(c&&c.concurrentRequestLimit),this.Da=new sP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tE.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Vt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=lE(this,null,this.W),sl(this)};function Gp(c){if(nE(c),c.G==3){var d=c.U++,f=_r(c.I);if(Ue(f,"SID",c.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),Ba(c,f),d=new Qr(c,c.j,d),d.L=2,d.v=nl(_r(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=dE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xu(d)}uE(c)}function ol(c){c.g&&(Kp(c),c.g.cancel(),c.g=null)}function nE(c){ol(c),c.u&&(a.clearTimeout(c.u),c.u=null),al(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sl(c){if(!L0(c.h)&&!c.s){c.s=!0;var d=c.Ga;Da||p0(),Ca||(Da(),Ca=!0),Cp.add(d,c),c.B=0}}function dP(c,d){return V0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ma(y(c.Ga,c,d),cE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Qr(this,this.j,c),R=this.o;if(this.S&&(R?(R=_(R),b(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=iE(this,A,d),f=_r(this.I),Ue(f,"RID",c),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Ba(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(Q0(R)))+"&"+d:this.m&&qp(f,this.m,R)),zp(this.h,A),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),A.T=!0,Up(A,f,null)):Up(A,f,d),this.G=2}}else this.G==3&&(c?rE(this,c):this.i.length==0||L0(this.h)||rE(this))};function rE(c,d){var f;d?f=d.l:f=c.U++;let g=_r(c.I);Ue(g,"SID",c.K),Ue(g,"RID",f),Ue(g,"AID",c.T),Ba(c,g),c.m&&c.o&&qp(g,c.m,c.o),f=new Qr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=iE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zp(c.h,f),Up(f,g,d)}function Ba(c,d){c.H&&Ae(c.H,function(f,g){Ue(d,g,f)}),c.l&&B0({},function(f,g){Ue(d,g,f)})}function iE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var A=c.i;let R=-1;for(;;){let j=["count="+f];R==-1?0<f?(R=A[0].g,j.push("ofs="+R)):R=0:j.push("ofs="+R);let ke=!0;for(let It=0;It<f;It++){let Ce=A[It].g,At=A[It].map;if(Ce-=R,0>Ce)R=Math.max(0,A[It].g-100),ke=!1;else try{aP(At,j,"req"+Ce+"_")}catch{g&&g(At)}}if(ke){g=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function oE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Da||p0(),Ca||(Da(),Ca=!0),Cp.add(d,c),c.v=0}}function Wp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ma(y(c.Fa,c),cE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,sE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ma(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),ol(this),sE(this))};function Kp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function sE(c){c.g=new Qr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=_r(c.qa);Ue(d,"RID","rpc"),Ue(d,"SID",c.K),Ue(d,"AID",c.T),Ue(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(d,"TO",c.ja),Ue(d,"TYPE","xmlhttp"),Ba(c,d),c.m&&c.o&&qp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=nl(_r(d)),f.m=null,f.P=!0,P0(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ol(this),Wp(this),Vt(19))};function al(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function aE(c,d){var f=null;if(c.g==d){al(c),Kp(c),c.g=null;var g=2}else if(Hp(c.h,d))f=d.D,j0(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;g=Yu(),Lt(g,new x0(g,f)),sl(c)}else oE(c);else if(A=d.s,A==3||A==0&&0<d.X||!(g==1&&dP(c,d)||g==2&&Wp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function cE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Li(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let A=!g;g=new Fi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||el(g,"https"),nl(g),A?iP(g.toString(),f):oP(g.toString(),f)}else Vt(2);c.G=0,c.l&&c.l.sa(d),uE(c),nE(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function uE(c){if(c.G=0,c.ka=[],c.l){let d=U0(c.h);(d.length!=0||c.i.length!=0)&&(P(c.ka,d),P(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function lE(c,d,f){var g=f instanceof Fi?_r(f):new Fi(f);if(g.g!="")d&&(g.g=d+"."+g.g),tl(g,g.s);else{var A=a.location;g=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var R=new Fi(null);g&&el(R,g),d&&(R.g=d),A&&tl(R,A),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Ue(g,f,d),Ue(g,"VER",c.la),Ba(c,g),g}function dE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new La({eb:f})):new We(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hE(){}n=hE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cl(){}cl.prototype.g=function(c,d){return new Xt(c,d)};function Xt(c,d){St.call(this),this.g=new tE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!le(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!le(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Bo(this)}C(Xt,St),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Gp(this.g)},Xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=kp(c),c=f);d.i.push(new KN(d.Ya++,c)),d.G==3&&sl(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Gp(this.g),delete this.g,Xt.aa.N.call(this)};function fE(c){Fp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(fE,Fp);function pE(){Lp.call(this),this.status=1}C(pE,Lp);function Bo(c){this.g=c}C(Bo,hE),Bo.prototype.ua=function(){Lt(this.g,"a")},Bo.prototype.ta=function(c){Lt(this.g,new fE(c))},Bo.prototype.sa=function(c){Lt(this.g,new pE)},Bo.prototype.ra=function(){Lt(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,iw=$r.createWebChannelTransport=function(){return new cl},rw=$r.getStatEventTarget=function(){return Yu()},nw=$r.Event=ki,Pf=$r.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ju.NO_ERROR=0,Ju.TIMEOUT=8,Ju.HTTP_ERROR=6,_u=$r.ErrorCode=Ju,R0.COMPLETE="complete",tw=$r.EventType=R0,C0.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",St.prototype.listen=St.prototype.K,ea=$r.WebChannel=C0,_3=$r.FetchXmlHttpFactory=La,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,ew=$r.XhrIo=We}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});var vR="@firebase/firestore";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var wa="10.14.0";var Ao=new _i("@firebase/firestore");function wu(){return Ao.logLevel}function W(n,...e){if(Ao.logLevel<=me.DEBUG){let t=e.map($I);Ao.debug(`Firestore (${wa}): ${n}`,...t)}}function zr(n,...e){if(Ao.logLevel<=me.ERROR){let t=e.map($I);Ao.error(`Firestore (${wa}): ${n}`,...t)}}function aa(n,...e){if(Ao.logLevel<=me.WARN){let t=e.map($I);Ao.warn(`Firestore (${wa}): ${n}`,...t)}}function $I(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n="Unexpected state"){let e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function xe(n,e){n||ee()}function ie(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends ln{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var lr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Vf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},uw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wt.UNAUTHENTICATED))}shutdown(){}},lw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},dw=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new Vf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new wt(e)}},hw=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fw=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new hw(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){xe(this.o===void 0);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xe(typeof t.token=="string"),this.R=t.token,new pw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function w3(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var jf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=w3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function ca(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ct(0,0))}static max(){return new n(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Uf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(),r===void 0?r=e.length-t:r>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ge=class n extends Uf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fn=class n extends Uf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ge.fromString(e))}static fromName(e){return new n(Ge.fromString(e).popFirst(5))}static empty(){return new n(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ge(e.slice()))}};var mw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};mw.UNKNOWN_ID=-1;function E3(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new xo(i,Y.empty(),e)}function b3(n){return new xo(n.readTime,n.key,-1)}var xo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ue.min(),Y.empty(),-1)}static max(){return new n(ue.max(),Y.empty(),-1)}};function D3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var C3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Uu(n){return v(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==C3)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function T3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bu(n){return n.name==="IndexedDbTransactionError"}var XR=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function mp(n){return n==null}function Tu(n){return n===0&&1/n==-1/0}function S3(n){return typeof n=="number"&&Number.isInteger(n)&&!Tu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var A3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fee=[...A3,"documentOverlays"],x3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R3=x3,M3=[...R3,"indexConfiguration","indexState","indexEntries"];var pee=[...M3,"globals"];function _R(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ze=class n{constructor(e,t){this.comparator=e,this.root=t||dr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ia(this.root,e,this.comparator,!0)}},ia=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,r,i,o){return this}insert(e,t,r){return new dr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class n{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bf(this.data.getIterator())}getIteratorFrom(e){return new Bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Bf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Cn=class n{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new n([])}unionWith(e){let t=new kt(fn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var $f=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ot=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $f("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var N3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(n){if(xe(!!n),typeof n=="string"){let e=0,t=N3.exec(n);if(xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(n.seconds),nanos:$e(n.nanos)}}function $e(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Mi(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}function HI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function zI(n){let e=n.mapValue.fields.__previous_value__;return HI(e)?zI(e):e}function Su(n){let e=qr(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var vw=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Hf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var kf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HI(n)?4:nM(n)?9007199254740991:tM(n)?10:11:ee()}function gr(n,e){if(n===e)return!0;let t=Ro(n);if(t!==Ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Su(n).isEqual(Su(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=qr(i.timestampValue),a=qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Mi(i.bytesValue).isEqual(Mi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return $e(i.geoPointValue.latitude)===$e(o.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return $e(i.integerValue)===$e(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=$e(i.doubleValue),a=$e(o.doubleValue);return s===a?Tu(s)===Tu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_R(s)!==_R(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!gr(s[u],a[u])))return!1;return!0}(n,e);default:return ee()}}function Au(n,e){return(n.values||[]).find(t=>gr(t,e))!==void 0}function ua(n,e){if(n===e)return 0;let t=Ro(n),r=Ro(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=$e(o.integerValue||o.doubleValue),u=$e(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return wR(n.timestampValue,e.timestampValue);case 4:return wR(Su(n),Su(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Mi(o),u=Mi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te($e(o.latitude),$e(s.latitude));return a!==0?a:Te($e(o.longitude),$e(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return IR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=y.value)===null||u===void 0?void 0:u.arrayValue,k=Te(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:IR(m,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===kf.mapValue&&s===kf.mapValue)return 0;if(o===kf.mapValue)return 1;if(s===kf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=Te(u[p],h[p]);if(y!==0)return y;let m=ua(a[u[p]],l[h[p]]);if(m!==0)return m}return Te(u.length,h.length)}(n.mapValue,e.mapValue);default:throw ee()}}function wR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=qr(n),r=qr(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function IR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ua(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function la(n){return _w(n)}function _w(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=qr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Mi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=_w(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${_w(t.fields[s])}`;return i+"}"}(n.mapValue):ee()}function ER(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ww(n){return!!n&&"integerValue"in n}function qI(n){return!!n&&"arrayValue"in n}function bR(n){return!!n&&"nullValue"in n}function DR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ff(n){return!!n&&"mapValue"in n}function tM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Eu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Fo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var hn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=fn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Eu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Eu(this.value))}};function rM(n){let e=[];return Fo(n.fields,(t,r)=>{let i=new fn([t]);if(Ff(r)){let o=rM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Cn(e)}var qn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),hn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var da=class{constructor(e,t){this.position=e,this.inclusive=t}};function CR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=ua(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gr(n.position[t],e.position[t]))return!1;return!0}var ha=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function P3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var zf=class{},ht=class n extends zf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Ew(e,t,r):t==="array-contains"?new Cw(e,r):t==="in"?new Tw(e,r):t==="not-in"?new Sw(e,r):t==="array-contains-any"?new Aw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new bw(e,r):new Dw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ua(t,this.value)):t!==null&&Ro(this.value)===Ro(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gn=class n extends zf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return iM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function iM(n){return n.op==="and"}function oM(n){return k3(n)&&iM(n)}function k3(n){for(let e of n.filters)if(e instanceof Gn)return!1;return!0}function Iw(n){if(n instanceof ht)return n.field.canonicalString()+n.op.toString()+la(n.value);if(oM(n))return n.filters.map(e=>Iw(e)).join(",");{let e=n.filters.map(t=>Iw(t)).join(",");return`${n.op}(${e})`}}function sM(n,e){return n instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(n,e):n instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&sM(s,i.filters[a]),!0):!1}(n,e):void ee()}function aM(n){return n instanceof ht?function(t){return`${t.field.canonicalString()} ${t.op} ${la(t.value)}`}(n):n instanceof Gn?function(t){return t.op.toString()+" {"+t.getFilters().map(aM).join(" ,")+"}"}(n):"Filter"}var Ew=class extends ht{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},bw=class extends ht{constructor(e,t){super(e,"in",t),this.keys=cM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Dw=class extends ht{constructor(e,t){super(e,"not-in",t),this.keys=cM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function cM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var Cw=class extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return qI(t)&&Au(t.arrayValue,this.value)}},Tw=class extends ht{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}},Sw=class extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Au(this.value.arrayValue,t)}},Aw=class extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!qI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Au(this.value.arrayValue,r))}};var xw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function SR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new xw(n,e,t,r,i,o,s)}function GI(n){let e=ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Iw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>la(r)).join(",")),e.ue=t}return e.ue}function WI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TR(n.startAt,e.startAt)&&TR(n.endAt,e.endAt)}function Rw(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Mo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function O3(n,e,t,r,i,o,s,a){return new Mo(n,e,t,r,i,o,s,a)}function KI(n){return new Mo(n)}function AR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uM(n){return n.collectionGroup!==null}function bu(n){let e=ie(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new kt(fn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ha(o,r))}),t.has(fn.keyField().canonicalString())||e.ce.push(new ha(fn.keyField(),r))}return e.ce}function hr(n){let e=ie(n);return e.le||(e.le=F3(e,bu(n))),e.le}function F3(n,e){if(n.limitType==="F")return SR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ha(i.field,o)});let t=n.endAt?new da(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new da(n.startAt.position,n.startAt.inclusive):null;return SR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mw(n,e){let t=n.filters.concat([e]);return new Mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Nw(n,e,t){return new Mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yp(n,e){return WI(hr(n),hr(e))&&n.limitType===e.limitType}function lM(n){return`${GI(hr(n))}|lt:${n.limitType}`}function ta(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>aM(i)).join(", ")}]`),mp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>la(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>la(i)).join(",")),`Target(${r})`}(hr(n))}; limitType=${n.limitType})`}function vp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of bu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=CR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,bu(r),i)||r.endAt&&!function(s,a,u){let l=CR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,bu(r),i))}(n,e)}function L3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dM(n){return(e,t)=>{let r=!1;for(let i of bu(n)){let o=V3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function V3(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ua(u,l):ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Ni=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return eM(this.inner)}size(){return this.innerSize}};var j3=new Ze(Y.comparator);function Gr(){return j3}var hM=new Ze(Y.comparator);function Iu(...n){let e=hM;for(let t of n)e=e.insert(t.key,t);return e}function fM(n){let e=hM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Co(){return Du()}function pM(){return Du()}function Du(){return new Ni(n=>n.toString(),(n,e)=>n.isEqual(e))}var U3=new Ze(Y.comparator),B3=new kt(Y.comparator);function ye(...n){let e=B3;for(let t of n)e=e.add(t);return e}var $3=new kt(Te);function H3(){return $3}function QI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function gM(n){return{integerValue:""+n}}function z3(n,e){return S3(e)?gM(e):QI(n,e)}var fa=class{constructor(){this._=void 0}};function q3(n,e,t){return n instanceof pa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&HI(o)&&(o=zI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof No?yM(n,e):n instanceof Po?vM(n,e):function(i,o){let s=mM(i,o),a=xR(s)+xR(i.Pe);return ww(s)&&ww(i.Pe)?gM(a):QI(i.serializer,a)}(n,e)}function G3(n,e,t){return n instanceof No?yM(n,e):n instanceof Po?vM(n,e):t}function mM(n,e){return n instanceof ga?function(r){return ww(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var pa=class extends fa{},No=class extends fa{constructor(e){super(),this.elements=e}};function yM(n,e){let t=_M(e);for(let r of n.elements)t.some(i=>gr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Po=class extends fa{constructor(e){super(),this.elements=e}};function vM(n,e){let t=_M(e);for(let r of n.elements)t=t.filter(i=>!gr(i,r));return{arrayValue:{values:t}}}var ga=class extends fa{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function xR(n){return $e(n.integerValue||n.doubleValue)}function _M(n){return qI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function W3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof No&&i instanceof No||r instanceof Po&&i instanceof Po?ca(r.elements,i.elements,gr):r instanceof ga&&i instanceof ga?gr(r.Pe,i.Pe):r instanceof pa&&i instanceof pa}(n.transform,e.transform)}var Pw=class{constructor(e,t){this.version=e,this.transformResults=t}},Hr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ma=class{};function wM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xu(n.key,Hr.none()):new ko(n.key,n.data,Hr.none());{let t=n.data,r=hn.empty(),i=new kt(fn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new mr(n.key,r,new Cn(i.toArray()),Hr.none())}}function K3(n,e,t){n instanceof ko?function(i,o,s){let a=i.value.clone(),u=MR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof mr?function(i,o,s){if(!Lf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=MR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(IM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Cu(n,e,t,r){return n instanceof ko?function(o,s,a,u){if(!Lf(o.precondition,s))return a;let l=o.value.clone(),h=NR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof mr?function(o,s,a,u){if(!Lf(o.precondition,s))return a;let l=NR(o.fieldTransforms,u,s),h=s.data;return h.setAll(IM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Lf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Q3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=mM(r.transform,i||null);o!=null&&(t===null&&(t=hn.empty()),t.set(r.field,o))}return t||null}function RR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ca(r,i,(o,s)=>W3(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ko=class extends ma{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},mr=class extends ma{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function IM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function MR(n,e,t){let r=new Map;xe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,G3(s,a,t[i]))}return r}function NR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,q3(o,s,e))}return r}var xu=class extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},kw=class extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ow=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&K3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Cu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=pM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=wM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(t,r)=>RR(t,r))&&ca(this.baseMutations,e.baseMutations,(t,r)=>RR(t,r))}},Fw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xe(e.mutations.length===r.length);let i=function(){return U3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Lw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Vw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var lt,De;function Y3(n){switch(n){default:return ee();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function EM(n){if(n===void 0)return zr("GRPC error has no .code"),O.UNKNOWN;switch(n){case lt.OK:return O.OK;case lt.CANCELLED:return O.CANCELLED;case lt.UNKNOWN:return O.UNKNOWN;case lt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case lt.INTERNAL:return O.INTERNAL;case lt.UNAVAILABLE:return O.UNAVAILABLE;case lt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case lt.NOT_FOUND:return O.NOT_FOUND;case lt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case lt.ABORTED:return O.ABORTED;case lt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case lt.DATA_LOSS:return O.DATA_LOSS;default:return ee()}}(De=lt||(lt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var PR=null;function J3(){return new TextEncoder}var Z3=new xi([4294967295,4294967295],0);function kR(n){let e=J3().encode(n),t=new X_;return t.update(e),new Uint8Array(t.digest())}function OR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xi([t,r],0),new xi([i,o],0)]}var jw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new To(`Invalid padding: ${t}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new To(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=xi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(xi.fromNumber(r)));return i.compare(Z3)===1&&(i=new xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=kR(e),[r,i]=OR(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=kR(e),[r,i]=OR(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},To=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ue.min(),i,new Ze(Te),Gr(),ye())}},Ru=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ye(),ye(),ye())}};var oa=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Gf=class{constructor(e,t){this.targetId=e,this.me=t}},Wf=class{constructor(e,t,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Kf=class{constructor(){this.fe=0,this.ge=LR(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),t=ye(),r=ye();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Ru(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=LR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Uw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=FR(),this.Qe=new Ze(Te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Rw(o))if(r===0){let s=new Y(o.path);this.Ue(t,s,qn.newNoDocument(s,ue.min()))}else xe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}PR?.et(function(h,p,y,m,C){var k,P,z,le,te,Pe;let Ft={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Ae=p.unchangedNames;return Ae&&(Ft.bloomFilter={applied:C===0,hashCount:(k=Ae?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(le=(z=(P=Ae?.bits)===null||P===void 0?void 0:P.bitmap)===null||z===void 0?void 0:z.length)!==null&&le!==void 0?le:0,padding:(Pe=(te=Ae?.bits)===null||te===void 0?void 0:te.padding)!==null&&Pe!==void 0?Pe:0,mightContain:D=>{var _;return(_=m?.mightContain(D))!==null&&_!==void 0&&_}}),Ft}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Mi(r).toUint8Array()}catch(u){if(u instanceof $f)return aa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new jw(s,i,o)}catch(u){return aa(u instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Rw(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,qn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ye();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new qf(e,t,this.Qe,this.ke,r);return this.ke=Gr(),this.qe=FR(),this.Qe=new Ze(Te),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Kf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(Te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function FR(){return new Ze(Y.comparator)}function LR(){return new Ze(Y.comparator)}var X3={asc:"ASCENDING",desc:"DESCENDING"},ez={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tz={and:"AND",or:"OR"},Bw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function $w(n,e){return n.useProto3Json||mp(e)?e:{value:e}}function Qf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nz(n,e){return Qf(n,e.toTimestamp())}function fr(n){return xe(!!n),ue.fromTimestamp(function(t){let r=qr(t);return new Ct(r.seconds,r.nanos)}(n))}function YI(n,e){return Hw(n,e).canonicalString()}function Hw(n,e){let t=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DM(n){let e=Ge.fromString(n);return xe(xM(e)),e}function zw(n,e){return YI(n.databaseId,e.path)}function ow(n,e){let t=DM(e);if(t.get(1)!==n.databaseId.projectId)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(TM(t))}function CM(n,e){return YI(n.databaseId,e)}function rz(n){let e=DM(n);return e.length===4?Ge.emptyPath():TM(e)}function qw(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TM(n){return xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function VR(n,e,t){return{name:zw(n,e),fields:t.value.mapValue.fields}}function iz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Ot.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ot.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:EM(l.code);return new G(h,l.message||"")}(s);t=new Wf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ow(n,r.document.name),o=fr(r.document.updateTime),s=r.document.createTime?fr(r.document.createTime):ue.min(),a=new hn({mapValue:{fields:r.document.fields}}),u=qn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new oa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ow(n,r.document),o=r.readTime?fr(r.readTime):ue.min(),s=qn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new oa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ow(n,r.document),o=r.removedTargetIds||[];t=new oa([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Vw(i,o),a=r.targetId;t=new Gf(a,s)}}return t}function oz(n,e){let t;if(e instanceof ko)t={update:VR(n,e.key,e.value)};else if(e instanceof xu)t={delete:zw(n,e.key)};else if(e instanceof mr)t={update:VR(n,e.key,e.data),updateMask:pz(e.fieldMask)};else{if(!(e instanceof kw))return ee();t={verify:zw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof No)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ga)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:nz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(n,e.precondition)),t}function sz(n,e){return n&&n.length>0?(xe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?fr(i.updateTime):fr(o);return s.isEqual(ue.min())&&(s=fr(o)),new Pw(s,i.transformResults||[])}(t,e))):[]}function az(n,e){return{documents:[CM(n,e.path)]}}function cz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=CM(n,i);let o=function(l){if(l.length!==0)return AM(Gn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:na(y.field),direction:dz(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=$w(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function uz(n){let e=rz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){xe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=SM(p);return y instanceof Gn&&oM(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(C){return new ha(ra(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,mp(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new da(m,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new da(m,y)}(t.endAt)),O3(e,i,s,o,a,"F",u,l)}function lz(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ra(t.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ra(t.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ra(t.unaryFilter.field);return ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ra(t.unaryFilter.field);return ht.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(n):n.fieldFilter!==void 0?function(t){return ht.create(ra(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gn.create(t.compositeFilter.filters.map(r=>SM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(n):ee()}function dz(n){return X3[n]}function hz(n){return ez[n]}function fz(n){return tz[n]}function na(n){return{fieldPath:n.canonicalString()}}function ra(n){return fn.fromServerFormat(n.fieldPath)}function AM(n){return n instanceof ht?function(t){if(t.op==="=="){if(DR(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NAN"}};if(bR(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DR(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NOT_NAN"}};if(bR(t.value))return{unaryFilter:{field:na(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(t.field),op:hz(t.op),value:t.value}}}(n):n instanceof Gn?function(t){let r=t.getFilters().map(i=>AM(i));return r.length===1?r[0]:{compositeFilter:{op:fz(t.op),filters:r}}}(n):ee()}function pz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Mu=class n{constructor(e,t,r,i,o=ue.min(),s=ue.min(),a=Ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Gw=class{constructor(e){this.ct=e}};function gz(n){let e=uz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Nw(e,e.limit,"L"):e}var Yf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Tu(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=qr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Mi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?nM(e)?this.dt(t,Number.MAX_SAFE_INTEGER):tM(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ee()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At($e(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Y.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Yf.vt=new Yf;var Ww=class{constructor(){this.un=new Kw}addToCollectionParentIndex(e,t){return this.un.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(xo.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},Kw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kt(Ge.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Ge.comparator)).toArray()}};var mee=new Uint8Array(0);var ur=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);var Nu=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Qw=class{constructor(){this.changes=new Ni(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Yw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Jw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Cu(r.mutation,i,Cn.empty(),Ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){let i=Co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Iu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Gr(),s=Du(),a=function(){return Du()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof mr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Cu(h.mutation,l,h.mutation.getFieldMask(),Ct.now())):s.set(l.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Yw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Du(),i=new Ze((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Cn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=pM();h.forEach(y=>{if(!o.has(y)){let m=wM(t.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(Co()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:a,changes:fM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Iu();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,y){return new Mo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,qn.newInvalidDocument(h)))});let a=Iu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Cu(h.mutation,l,Cn.empty(),Ct.now()),vp(t,l)&&(a=a.insert(u,l))}),a})}};var Zw=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return L.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:gz(i.bundledQuery),readTime:fr(i.readTime)}}(t)),L.resolve()}};var Xw=class{constructor(){this.overlays=new Ze(Y.comparator),this.Ir=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Co();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=Co(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ze((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Co(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Co(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Lw(t,r));let o=this.Ir.get(t);o===void 0&&(o=ye(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var eI=class{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Pu=class{constructor(){this.Tr=new kt(dt.Er),this.dr=new kt(dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new dt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new dt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Y(new Ge([])),r=new dt(t,e),i=new dt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Y(new Ge([])),r=new dt(t,e),i=new dt(t,e+1),o=ye();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new dt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},dt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Y.comparator(e.key,t.key)||Te(e.wr,t.wr)}static Ar(e,t){return Te(e.wr,t.wr)||Y.comparator(e.key,t.key)}};var tI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new kt(dt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ow(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new dt(t,0),i=new dt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kt(Te);return t.forEach(i=>{let o=new dt(i,0),s=new dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new dt(new Y(o),0),a=new kt(Te);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){xe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(t.mutations,i=>{let o=new dt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new dt(t,0),i=this.br.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var nI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ze(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(t))}getEntries(e,t){let r=Gr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Gr(),s=t.path,a=new Y(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||D3(b3(h),r)<=0||(i.has(h.key)||vp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ee()}Or(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rI(this)}getSize(e){return L.resolve(this.size)}},rI=class extends Qw{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var iI=class{constructor(e){this.persistence=e,this.Nr=new Ni(t=>GI(t),WI),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pu,this.targetCount=0,this.kr=Nu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),L.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Nu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Kn(t),L.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.Br.containsKey(t))}};var oI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new XR(0),this.Kr=!1,this.Kr=!0,this.$r=new eI,this.referenceDelegate=e(this),this.Ur=new iI(this),this.indexManager=new Ww,this.remoteDocumentCache=function(i){return new nI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Gw(t),this.Gr=new Zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new tI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new sI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},sI=class extends yw{constructor(e){super(),this.currentSequenceNumber=e}},aI=class n{constructor(e){this.persistence=e,this.Jr=new Pu,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return L.or([()=>L.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var cI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ye(),i=ye();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var uI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var lI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WA()?8:T3(_t())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new uI;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(wu()<=me.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ta(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(wu()<=me.DEBUG&&W("QueryEngine","Query:",ta(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wu()<=me.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ta(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):L.resolve())}Yi(e,t){if(AR(t))return L.resolve(null);let r=hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Nw(t,null,"F"),r=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,Nw(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return AR(t)||i.isEqual(ue.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?L.resolve(null):(wu()<=me.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ta(t)),this.rs(e,s,t,E3(i,-1)).next(a=>a))})}ts(e,t){let r=new kt(dM(e));return t.forEach((i,o)=>{vp(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return wu()<=me.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ta(t)),this.Ji.getDocumentsMatchingQuery(e,t,xo.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var dI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ze(Te),this._s=new Ni(o=>GI(o),WI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function mz(n,e,t,r){return new dI(n,e,t,r)}function RM(n,e){return v(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function yz(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=L.resolve();return y.forEach(C=>{m=m.next(()=>h.getEntry(u,C)).next(k=>{let P=l.docVersions.get(C);xe(P!==null),k.version.compareTo(P)<0&&(p.applyToRemoteDocument(k,l),k.isValidDocument()&&(k.setReadTime(l.commitVersion),h.addEntry(k)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function MM(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function vz(n,e){let t=ie(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Ot.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(k,P,z){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(y,m,h)&&a.push(t.Ur.updateTargetData(o,m))});let u=Gr(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_z(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ue.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function _z(n,e,t){let r=ye(),i=ye();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Gr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function wz(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Iz(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Mu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function hI(n,e,t){return v(this,null,function*(){let r=ie(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Bu(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function jR(n,e,t){let r=ie(n),i=ue.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ie(u),y=p._s.get(h);return y!==void 0?L.resolve(p.os.get(y)):p.Ur.getTargetData(l,h)}(r,s,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ue.min(),t?o:ye())).next(a=>(Ez(r,L3(e),a),{documents:a,Ts:o})))}function Ez(n,e,t){let r=n.us.get(e)||ue.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Jf=class{constructor(){this.activeTargetIds=H3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var fI=class{constructor(){this.so=new Jf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var pI=class{_o(e){}shutdown(){}};var Zf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Of=null;function sw(){return Of===null?Of=function(){return 268435456+Math.round(2147483648*Math.random())}():Of++,"0x"+Of.toString(16)}var bz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Pt="WebChannelConnection",mI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=sw(),u=this.xo(t,r.toUriEncodedString());W("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(W("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw aa("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=bz[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=sw();return new Promise((s,a)=>{let u=new ew;u.setWithCredentials(!0),u.listenOnce(tw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _u.NO_ERROR:let h=u.getResponseJson();W(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case _u.TIMEOUT:W(Pt,`RPC '${e}' ${o} timed out`),a(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:let p=u.getStatus();if(W(Pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let C=function(P){let z=P.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(z)>=0?z:O.UNKNOWN}(m.status);a(new G(C,m.message))}else a(new G(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(O.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{W(Pt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);W(Pt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=sw(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iw(),a=rw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");W(Pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,C=new gI({Io:P=>{m?W(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(y||(W(Pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),W(Pt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),k=(P,z,le)=>{P.listen(z,te=>{try{le(te)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return k(p,ea.EventType.OPEN,()=>{m||(W(Pt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),k(p,ea.EventType.CLOSE,()=>{m||(m=!0,W(Pt,`RPC '${e}' stream ${i} transport closed`),C.So())}),k(p,ea.EventType.ERROR,P=>{m||(m=!0,aa(Pt,`RPC '${e}' stream ${i} transport errored:`,P),C.So(new G(O.UNAVAILABLE,"The operation could not be completed")))}),k(p,ea.EventType.MESSAGE,P=>{var z;if(!m){let le=P.data[0];xe(!!le);let te=le,Pe=te.error||((z=te[0])===null||z===void 0?void 0:z.error);if(Pe){W(Pt,`RPC '${e}' stream ${i} received error:`,Pe);let Ft=Pe.status,Ae=function(I){let b=lt[I];if(b!==void 0)return EM(b)}(Ft),D=Pe.message;Ae===void 0&&(Ae=O.INTERNAL,D="Unknown error status: "+Ft+" with message "+Pe.message),m=!0,C.So(new G(Ae,D)),p.close()}else W(Pt,`RPC '${e}' stream ${i} received:`,le),C.bo(le)}}),k(a,nw.STAT_EVENT,P=>{P.stat===Pf.PROXY?W(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Pf.NOPROXY&&W(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function aw(){return typeof document<"u"?document:null}function _p(n){return new Bw(n,!0)}var Xf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ep=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yI=class extends ep{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=iz(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?fr(s.readTime):ue.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=qw(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Rw(u)?{documents:az(o,u)}:{query:cz(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=bM(o,s.resumeToken);let l=$w(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=Qf(o,s.snapshotVersion.toTimestamp());let l=$w(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=lz(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=qw(this.serializer),t.removeTarget=e,this.a_(t)}},vI=class extends ep{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=sz(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=qw(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>oz(this.serializer,r))};this.a_(t)}};var _I=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Hw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(O.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Hw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},wI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(t),this.D_=!1):W("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var II=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Lo(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ie(u);l.L_.add(4),yield $u(l),l.q_.set("Unknown"),l.L_.delete(4),yield wp(l)})}(this))}))}),this.q_=new wI(r,i)}};function wp(n){return v(this,null,function*(){if(Lo(n))for(let e of n.B_)yield e(!0)})}function $u(n){return v(this,null,function*(){for(let e of n.B_)yield e(!1)})}function NM(n,e){let t=ie(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),e0(t)?XI(t):Ia(t).r_()&&ZI(t,e))}function JI(n,e){let t=ie(n),r=Ia(t);t.N_.delete(e),r.r_()&&PM(t,e),t.N_.size===0&&(r.r_()?r.o_():Lo(t)&&t.q_.set("Unknown"))}function ZI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ia(n).A_(e)}function PM(n,e){n.Q_.xe(e),Ia(n).R_(e)}function XI(n){n.Q_=new Uw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ia(n).start(),n.q_.v_()}function e0(n){return Lo(n)&&!Ia(n).n_()&&n.N_.size>0}function Lo(n){return ie(n).L_.size===0}function kM(n){n.Q_=void 0}function Dz(n){return v(this,null,function*(){n.q_.set("Online")})}function Cz(n){return v(this,null,function*(){n.N_.forEach((e,t)=>{ZI(n,e)})})}function Tz(n,e){return v(this,null,function*(){kM(n),e0(n)?(n.q_.M_(e),XI(n)):n.q_.set("Unknown")})}function Sz(n,e,t){return v(this,null,function*(){if(n.q_.set("Online"),e instanceof Wf&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tp(n,r)}else if(e instanceof oa?n.Q_.Ke(e):e instanceof Gf?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ue.min()))try{let r=yield MM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),PM(o,u);let p=new Mu(h.target,u,l,h.sequenceNumber);ZI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield tp(n,r)}})}function tp(n,e,t){return v(this,null,function*(){if(!Bu(e))throw e;n.L_.add(1),yield $u(n),n.q_.set("Offline"),t||(t=()=>MM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield wp(n)}))})}function OM(n,e){return e().catch(t=>tp(n,t,e))}function Ip(n){return v(this,null,function*(){let e=ie(n),t=Pi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Az(e);)try{let i=yield wz(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,xz(e,i)}catch(i){yield tp(e,i)}FM(e)&&LM(e)})}function Az(n){return Lo(n)&&n.O_.length<10}function xz(n,e){n.O_.push(e);let t=Pi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function FM(n){return Lo(n)&&!Pi(n).n_()&&n.O_.length>0}function LM(n){Pi(n).start()}function Rz(n){return v(this,null,function*(){Pi(n).p_()})}function Mz(n){return v(this,null,function*(){let e=Pi(n);for(let t of n.O_)e.m_(t.mutations)})}function Nz(n,e,t){return v(this,null,function*(){let r=n.O_.shift(),i=Fw.from(r,e,t);yield OM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ip(n)})}function Pz(n,e){return v(this,null,function*(){e&&Pi(n).V_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Y3(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();Pi(r).s_(),yield OM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ip(r)}})}(n,e)),FM(n)&&LM(n)})}function UR(n,e){return v(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=Lo(t);t.L_.add(3),yield $u(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield wp(t)})}function kz(n,e){return v(this,null,function*(){let t=ie(n);e?(t.L_.delete(2),yield wp(t)):e||(t.L_.add(2),yield $u(t),t.q_.set("Unknown"))})}function Ia(n){return n.K_||(n.K_=function(t,r,i){let o=ie(t);return o.w_(),new yI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Dz.bind(null,n),Ro:Cz.bind(null,n),mo:Tz.bind(null,n),d_:Sz.bind(null,n)}),n.B_.push(e=>v(this,null,function*(){e?(n.K_.s_(),e0(n)?XI(n):n.q_.set("Unknown")):(yield n.K_.stop(),kM(n))}))),n.K_}function Pi(n){return n.U_||(n.U_=function(t,r,i){let o=ie(t);return o.w_(),new vI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Rz.bind(null,n),mo:Pz.bind(null,n),f_:Mz.bind(null,n),g_:Nz.bind(null,n)}),n.B_.push(e=>v(this,null,function*(){e?(n.U_.s_(),yield Ip(n)):(yield n.U_.stop(),n.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var EI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function t0(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Bu(n))return new G(O.UNAVAILABLE,`${e}: ${n}`);throw n}var np=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var rp=class{constructor(){this.W_=new Ze(Y.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},ya=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,np.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var bI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},DI=class{constructor(){this.queries=BR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=BR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new G(O.ABORTED,"Firestore shutting down"))}};function BR(){return new Ni(n=>lM(n),yp)}function VM(n,e){return v(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new bI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=t0(s,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&n0(t)})}function jM(n,e){return v(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Oz(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&n0(t)}function Fz(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function n0(n){n.Y_.forEach(e=>{e.next()})}var CI,$R;($R=CI||(CI={})).ea="default",$R.Cache="cache";var ip=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==CI.Cache}};var op=class{constructor(e){this.key=e}},sp=class{constructor(e){this.key=e}},TI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=dM(e),this.Ra=new np(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new rp,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=vp(this.query,p)?p:null,C=!!y&&this.mutatedKeys.has(y.key),k=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),P=!1;y&&m?y.data.isEqual(m.data)?C!==k&&(r.track({type:3,doc:m}),P=!0):this.ga(y,m)||(r.track({type:2,doc:m}),P=!0,(u&&this.Aa(m,u)>0||l&&this.Aa(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),P=!0):y&&!m&&(r.track({type:1,doc:y}),P=!0,(u||l)&&(a=!0)),P&&(m?(s=s.add(m),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(m,C){let k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return k(m)-k(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ya(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new sp(r))}),this.da.forEach(r=>{e.has(r)||t.push(new op(r))}),t}ba(e){this.Ta=e.Ts,this.da=ye();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ya.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},SI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},AI=class{constructor(e){this.key=e,this.va=!1}},xI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ni(a=>lM(a),yp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(Y.comparator),this.Na=new Map,this.La=new Pu,this.Ba={},this.ka=new Map,this.qa=Nu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Lz(n,e,t=!0){return v(this,null,function*(){let r=qM(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield UM(r,e,t,!0),i})}function Vz(n,e){return v(this,null,function*(){let t=qM(n);yield UM(t,e,!0,!1)})}function UM(n,e,t,r){return v(this,null,function*(){let i=yield Iz(n.localStore,hr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield jz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&NM(n.remoteStore,i),a})}function jz(n,e,t,r,i){return v(this,null,function*(){n.Ka=(p,y,m)=>function(k,P,z,le){return v(this,null,function*(){let te=P.view.ma(z);te.ns&&(te=yield jR(k.localStore,P.query,!1).then(({documents:D})=>P.view.ma(D,te)));let Pe=le&&le.targetChanges.get(P.targetId),Ft=le&&le.targetMismatches.get(P.targetId)!=null,Ae=P.view.applyChanges(te,k.isPrimaryClient,Pe,Ft);return zR(k,P.targetId,Ae.wa),Ae.snapshot})}(n,p,y,m);let o=yield jR(n.localStore,e,!0),s=new TI(e,o.Ts),a=s.ma(o.documents),u=Ru.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);zR(n,t,l.wa);let h=new SI(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function Uz(n,e,t){return v(this,null,function*(){let r=ie(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!yp(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&JI(r.remoteStore,i.targetId),RI(r,i.targetId)}).catch(Uu))):(RI(r,i.targetId),yield hI(r.localStore,i.targetId,!0))})}function Bz(n,e){return v(this,null,function*(){let t=ie(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),JI(t.remoteStore,r.targetId))})}function $z(n,e,t){return v(this,null,function*(){let r=Qz(n);try{let i=yield function(s,a){let u=ie(s),l=Ct.now(),h=a.reduce((m,C)=>m.add(C.key),ye()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=Gr(),k=ye();return u.cs.getEntries(m,h).next(P=>{C=P,C.forEach((z,le)=>{le.isValidDocument()||(k=k.add(z))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,C)).next(P=>{p=P;let z=[];for(let le of a){let te=Q3(le,p.get(le.key).overlayedDocument);te!=null&&z.push(new mr(le.key,te,rM(te.value.mapValue),Hr.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,z,a)}).next(P=>{y=P;let z=P.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(m,P.batchId,z)})}).then(()=>({batchId:y.batchId,changes:fM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ze(Te)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Hu(r,i.changes),yield Ip(r.remoteStore)}catch(i){let o=t0(i,"Failed to persist write");t.reject(o)}})}function BM(n,e){return v(this,null,function*(){let t=ie(n);try{let r=yield vz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield Hu(t,r,e)}catch(r){yield Uu(r)}})}function HR(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.j_)y.Z_(a)&&(l=!0)}),l&&n0(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hz(n,e,t){return v(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ze(Y.comparator);s=s.insert(o,qn.newNoDocument(o,ue.min()));let a=ye().add(o),u=new qf(ue.min(),new Map,new Ze(Te),s,a);yield BM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),r0(r)}else yield hI(r.localStore,e,!1).then(()=>RI(r,e,t)).catch(Uu)})}function zz(n,e){return v(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield yz(t.localStore,e);HM(t,r,null),$M(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hu(t,i)}catch(i){yield Uu(i)}})}function qz(n,e,t){return v(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);HM(r,e,t),$M(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hu(r,i)}catch(i){yield Uu(i)}})}function $M(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function HM(n,e,t){let r=ie(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function RI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||zM(n,r)})}function zM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(JI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),r0(n))}function zR(n,e,t){for(let r of t)r instanceof op?(n.La.addReference(r.key,e),Gz(n,r)):r instanceof sp?(W("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||zM(n,r.key)):ee()}function Gz(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(W("SyncEngine","New document in limbo: "+t),n.xa.add(r),r0(n))}function r0(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Y(Ge.fromString(e)),r=n.qa.next();n.Na.set(r,new AI(t)),n.Oa=n.Oa.insert(t,r),NM(n.remoteStore,new Mu(hr(KI(t.path)),r,"TargetPurposeLimboResolution",XR.oe))}}function Hu(n,e,t){return v(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=cI.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return v(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,y=>L.forEach(y.$i,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>L.forEach(y.Ui,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!Bu(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.os.get(y),C=m.snapshotVersion,k=m.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(y,k)}}})}(r.localStore,o))})}function Wz(n,e){return v(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield RM(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new G(O.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hu(t,r.hs)}})}function Kz(n,e){let t=ie(n),r=t.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function qM(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hz.bind(null,e),e.Ca.d_=Oz.bind(null,e.eventManager),e.Ca.$a=Fz.bind(null,e.eventManager),e}function Qz(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qz.bind(null,e),e}var qR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=_p(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return mz(this.persistence,new lI,t.initialUser,this.serializer)}Ga(t){return new oI(aI.Zr,this.serializer)}Wa(t){return new fI}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Yz=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wz.bind(null,this.syncEngine),yield kz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new DI}()}createDatastore(t){let r=_p(t.databaseInfo.databaseId),i=function(s){return new mI(s)}(t.databaseInfo);return function(s,a,u,l){return new _I(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new II(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>HR(this.syncEngine,r,0),function(){return Zf.D()?new Zf:new pI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new xI(o,s,a,u,l,h);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=ie(o);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield $u(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ap=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var MI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=t0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function cw(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield RM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function GR(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Jz(n);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>UR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>UR(e.remoteStore,i)),n._onlineComponents=e})}function Jz(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),yield cw(n,new qR)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield cw(n,new qR);return n._offlineComponents})}function GM(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield GR(n,n._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield GR(n,new Yz))),n._onlineComponents})}function Zz(n){return GM(n).then(e=>e.syncEngine)}function NI(n){return v(this,null,function*(){let e=yield GM(n),t=e.eventManager;return t.onListen=Lz.bind(null,e.syncEngine),t.onUnlisten=Uz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Vz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Bz.bind(null,e.syncEngine),t})}function Xz(n,e,t={}){let r=new lr;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new ap({next:y=>{h.Za(),s.enqueueAndForget(()=>jM(o,p)),y.fromCache&&u.source==="server"?l.reject(new G(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new ip(a,h,{includeMetadataChanges:!0,_a:!0});return VM(o,p)}(yield NI(n),n.asyncQueue,e,t,r)})),r.promise}function WM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var WR=new Map;function KM(n,e,t){if(!t)throw new G(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eq(n,e,t,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KR(n){if(!Y.isDocumentKey(n))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QR(n){if(Y.isDocumentKey(n))throw new G(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee()}function pr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ep(n);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var cp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},va=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uw;switch(r.type){case"firstParty":return new fw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=WR.get(t);r&&(W("ComponentProvider","Removing Datastore"),WR.delete(t),r.terminate())}(this),Promise.resolve()}};function QM(n,e,t,r={}){var i;let o=(n=pr(n,va))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=wt.MOCK_USER;else{a=BA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wt(l)}n._authCredentials=new lw(new Vf(a,u))}}var Oo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ri=class n extends Oo{constructor(e,t,r){super(e,t,KI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function YM(n,e,...t){if(n=rt(n),KM("collection","path",e),n instanceof va){let r=Ge.fromString(e,...t);return QR(r),new Ri(n,null,r)}{if(!(n instanceof Zt||n instanceof Ri))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return QR(r),new Ri(n.firestore,null,r)}}function i0(n,e,...t){if(n=rt(n),arguments.length===1&&(e=jf.newId()),KM("doc","path",e),n instanceof va){let r=Ge.fromString(e,...t);return KR(r),new Zt(n,null,new Y(r))}{if(!(n instanceof Zt||n instanceof Ri))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return KR(r),new Zt(n.firestore,n instanceof Ri?n.converter:null,new Y(r))}}var up=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xf(this,"async_queue_retry"),this.Vu=()=>{let r=aw();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=aw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=aw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new lr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bu(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=EI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function YR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Wr=class extends va{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new up,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new up(e),this._firestoreClient=void 0,yield e}})}};function JM(n,e){let t=typeof n=="object"?n:_o(),r=typeof n=="string"?n:e||"(default)",i=au(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=UA("firestore");o&&QM(i,...o)}return i}function o0(n){if(n._terminated)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tq(n),n._firestoreClient}function tq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new vw(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WM(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new MI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ku=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ot.fromBase64String(e))}catch(t){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var _a=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ou=class{constructor(e){this._methodName=e}};var Fu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var Lu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var nq=/^__.*__$/,PI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ko(e,this.data,t,this.fieldTransforms)}},lp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function ZM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var kI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ZM(this.Cu)&&nq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},OI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_p(e)}Qu(e,t,r,i=!1){return new kI({Cu:e,methodName:t,qu:r,path:fn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function s0(n){let e=n._freezeSettings(),t=_p(n._databaseId);return new OI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rq(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);a0("Data must be an object, but it was:",s,r);let a=XM(r,s),u,l;if(o.merge)u=new Cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=FI(e,p,t);if(!s.contains(y))throw new G(O.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);tN(h,y)||h.push(y)}u=new Cn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new PI(new hn(a),u,l)}var dp=class n extends Ou{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function iq(n,e,t,r){let i=n.Qu(1,e,t);a0("Data must be an object, but it was:",i,r);let o=[],s=hn.empty();Fo(r,(u,l)=>{let h=c0(e,u,t);l=rt(l);let p=i.Nu(h);if(l instanceof dp)o.push(h);else{let y=zu(l,p);y!=null&&(o.push(h),s.set(h,y))}});let a=new Cn(o);return new lp(s,a,i.fieldTransforms)}function oq(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[FI(e,r,t)],u=[i];if(o.length%2!=0)throw new G(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(FI(e,o[y])),u.push(o[y+1]);let l=[],h=hn.empty();for(let y=a.length-1;y>=0;--y)if(!tN(l,a[y])){let m=a[y],C=u[y];C=rt(C);let k=s.Nu(m);if(C instanceof dp)l.push(m);else{let P=zu(C,k);P!=null&&(l.push(m),h.set(m,P))}}let p=new Cn(l);return new lp(h,p,s.fieldTransforms)}function sq(n,e,t,r=!1){return zu(t,n.Qu(r?4:3,e))}function zu(n,e){if(eN(n=rt(n)))return a0("Unsupported field value:",e,n),XM(n,e);if(n instanceof Ou)return function(r,i){if(!ZM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=zu(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ct.fromDate(r);return{timestampValue:Qf(i.serializer,o)}}if(r instanceof Ct){let o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qf(i.serializer,o)}}if(r instanceof Fu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ku)return{bytesValue:bM(i.serializer,r._byteString)};if(r instanceof Zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:YI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return QI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ep(r)}`)}(n,e)}function XM(n,e){let t={};return eM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(n,(r,i)=>{let o=zu(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function eN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Fu||n instanceof ku||n instanceof Zt||n instanceof Ou||n instanceof Lu)}function a0(n,e,t){if(!eN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Ep(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function FI(n,e,t){if((e=rt(e))instanceof _a)return e._internalPath;if(typeof e=="string")return c0(n,e);throw hp("Field path arguments must be of type string or ",n,!1,void 0,t)}var aq=new RegExp("[~\\*/\\[\\]]");function c0(n,e,t){if(e.search(aq)>=0)throw hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _a(...e.split("."))._internalPath}catch{throw hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(O.INVALID_ARGUMENT,a+n+u)}function tN(n,e){return n.some(t=>t.isEqual(e))}var fp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(nN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},LI=class extends fp{data(){return super.data()}};function nN(n,e){return typeof e=="string"?c0(n,e):e instanceof _a?e._internalPath:e._delegate._internalPath}function rN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vu=class{},VI=class extends Vu{};function iN(n,e,...t){let r=[];e instanceof Vu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof UI).length,a=o.filter(u=>u instanceof jI).length;if(s>1||s>0&&a>0)throw new G(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var jI=class n extends VI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return oN(e._query,t),new Oo(e.firestore,e.converter,Mw(e._query,t))}_parse(e){let t=s0(e.firestore);return function(o,s,a,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new G(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ZR(p,h);let m=[];for(let C of p)m.push(JR(u,o,C));y={arrayValue:{values:m}}}else y=JR(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ZR(p,h),y=sq(a,s,p,h==="in"||h==="not-in");return ht.create(l,h,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var UI=class n extends Vu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Gn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)oN(s,u),s=Mw(s,u)}(e._query,t),new Oo(e.firestore,e.converter,Mw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function JR(n,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new G(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uM(e)&&t.indexOf("/")!==-1)throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ge.fromString(t));if(!Y.isDocumentKey(r))throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ER(n,new Y(r))}if(t instanceof Zt)return ER(n,t._key);throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ep(t)}.`)}function ZR(n,e){if(!Array.isArray(n)||n.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oN(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var BI=class{convertValue(e,t="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Fo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>$e(s.doubleValue));return new Lu(o)}convertGeoPoint(e){return new Fu($e(e.latitude),$e(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=zI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){let t=qr(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ge.fromString(e);xe(xM(r));let i=new Hf(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function cq(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var So=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pp=class extends fp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new sa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(nN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},sa=class extends pp{data(e={}){return super.data(e)}},gp=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new So(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sa(this._firestore,this._userDataWriter,r.key,r,new So(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new So(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new So(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:uq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function uq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}var ju=class extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ku(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}};function sN(n){n=pr(n,Oo);let e=pr(n.firestore,Wr),t=o0(e),r=new ju(e);return rN(n._query),Xz(t,n._query).then(i=>new gp(e,r,n,i))}function aN(n,e,t,...r){n=pr(n,Zt);let i=pr(n.firestore,Wr),o=s0(i),s;return s=typeof(e=rt(e))=="string"||e instanceof _a?oq(o,"updateDoc",n._key,e,t,r):iq(o,"updateDoc",n._key,e),u0(i,[s.toMutation(n._key,Hr.exists(!0))])}function cN(n){return u0(pr(n.firestore,Wr),[new xu(n._key,Hr.none())])}function uN(n,e){let t=pr(n.firestore,Wr),r=i0(n),i=cq(n.converter,e);return u0(t,[rq(s0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function lN(n,...e){var t,r,i;n=rt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(YR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Zt)l=pr(n.firestore,Wr),h=KI(n._key.path),u={next:p=>{e[s]&&e[s](lq(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=pr(n,Oo);l=pr(p.firestore,Wr),h=p._query;let y=new ju(l);u={next:m=>{e[s]&&e[s](new gp(l,y,p,m))},error:e[s+1],complete:e[s+2]},rN(n._query)}return function(y,m,C,k){let P=new ap(k),z=new ip(m,P,C);return y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return VM(yield NI(y),z)})),()=>{P.Za(),y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return jM(yield NI(y),z)}))}}(o0(l),h,a,u)}function u0(n,e){return function(r,i){let o=new lr;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return $z(yield Zz(r),i,o)})),o.promise}(o0(n),e)}function lq(n,e,t){let r=t.docs.get(e._key),i=new ju(n);return new pp(n,i,e._key,r,new So(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){wa=i})(Ei),Ii(new En("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Wr(new dw(r.getProvider("auth-internal")),new gw(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ut(vR,"4.7.3",e),ut(vR,"4.7.3","esm2017")})();var qu=class{constructor(n){return n}},dN="firestore",hq=class{constructor(){return uu(dN)}};var l0=new $("angularfire2.firestore-instances");function fq(n,e){let t=af(dN,n,e);return t&&new qu(t)}function pq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new qu(r)}}var gq={provide:hq,deps:[[new Wt,l0]]},mq={provide:qu,useFactory:fq,deps:[[new Wt,l0],Eo]};function hN(n,...e){return ut("angularfire",Io.full,"fst"),on([mq,gq,{provide:l0,useFactory:pq(n),multi:!0,deps:[Re,Et,Qs,lu,[new Wt,Y_],[new Wt,cf],...e]}])}var d0=mt(uN,!0);var Ea=mt(YM,!0);var fN=mt(cN,!0);var bp=mt(i0,!0);var Vo=mt(sN,!0);var pN=mt(JM,!0);var gN=mt(lN,!0);var mN=mt(iN,!0);var h0=mt(aN,!0);var yr=(()=>{class n{auth;fireStore;reportSignal=sn([]);bibleStudySignal=sn([]);constructor(t,r){this.auth=t,this.fireStore=r,this.listenToReports()}listenToReports(){let t=this.auth.currentUser;if(!t)return;let r=Ea(this.fireStore,"users",t.uid,"reports"),i=mN(r);gN(i,o=>{let s=o.docs.map(a=>V({id:a.id},a.data()));this.reportSignal.set(s)})}createReport(t){return v(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");let i=Ea(this.fireStore,"users",r.uid,"reports");yield d0(i,t),console.log("Report added successfully")}catch(r){throw console.error("Error creating report:",r),r}})}getReports(){return v(this,null,function*(){try{let t=this.auth.currentUser;if(!t)throw new Error("User not logged in");let r=Ea(this.fireStore,"users",t.uid,"reports"),i;try{i=yield Vo(r),i.empty?(console.log("Cache is empty, fetching from Firestore..."),i=yield Vo(r)):console.log("Loaded from cache")}catch(s){console.warn("Cache unavailable, fetching from Firestore...",s),i=yield Vo(r)}let o=i.docs.map(s=>V({id:s.id},s.data()));return this.reportSignal.set(o),o}catch(t){throw console.error("Error getting reports:",t),t}})}updateReport(t){return v(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");if(!t?.id)throw new Error("Report ID is required");let i=bp(this.fireStore,"users",r.uid,"reports",t.id);yield h0(i,V({},t))}catch(r){throw console.error("Error updating report:",r),r}})}addStudy(t){return v(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");let i=Ea(this.fireStore,"users",r.uid,"bibleStudies"),o=yield d0(i,t);this.bibleStudySignal.set([...this.bibleStudySignal(),V({id:o.id},t)]),console.log("Bible study added successfully:",o.id)}catch(r){throw console.error("Error adding study:",r),r}})}getBibleStudies(){return v(this,null,function*(){try{let t=this.auth.currentUser;if(!t)throw new Error("User not logged in");let r=Ea(this.fireStore,"users",t.uid,"bibleStudies"),i;try{i=yield Vo(r),i.empty?(console.log("Cache is empty, fetching from Firestore..."),i=yield Vo(r)):console.log("Loaded from cache")}catch(s){console.warn("Cache unavailable, fetching from Firestore...",s),i=yield Vo(r)}let o=i.docs.map(s=>V({id:s.id},s.data()));return this.bibleStudySignal.set(o),o}catch(t){throw console.error("Error getting studies:",t),t}})}deleteStudy(t){return v(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");if(!t?.id)throw new Error("Study ID is required");let i=bp(this.fireStore,"users",r.uid,"bibleStudies",t.id);yield fN(i),console.log("Study deleted successfully")}catch(r){throw console.error("Error deleting study:",r),r}})}updateStudy(t){return v(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");if(!t?.id)throw new Error("Study ID is required");let i=bp(this.fireStore,"users",r.uid,"bibleStudies",t.id);yield h0(i,V({},t))}catch(r){throw console.error("Error updating study:",r),r}})}static \u0275fac=function(r){return new(r||n)(J(dn),J(qu))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dp=(()=>{class n{constructor(){}calculateDaysAgo(t){if(!t||!t.seconds)return 0;let r=new Date(t.seconds*1e3),o=Math.abs(new Date().getTime()-r.getTime());return Math.ceil(o/(1e3*60*60*24))}formatDate(t){return!t||!t.seconds?"Invalid Date":new Date(t.seconds*1e3).toLocaleDateString("en-US",{year:"numeric",month:"long"})}formatDateToHumanReadable(t){return!t||!t.seconds?"Invalid Date":new Date(t.seconds*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}formatDateTime(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vN=n=>({"opacity-50 cursor-not-allowed":n});function vq(n,e){n&1&&(E(0,"div"),Q(1,"app-loader",4),S()),n&2&&(M(),U("loadingMessage","Loading your reports..."))}function _q(n,e){if(n&1&&(E(0,"div",16),N(1),S()),n&2){let t=e.$implicit;M(),qe(" ",t," ")}}function wq(n,e){n&1&&Q(0,"div",22)}function Iq(n,e){if(n&1&&(E(0,"div",23),N(1),S()),n&2){let t=B().$implicit,r=B(3);M(),qe(" ",r.getEventHours(t.date)," ")}}function Eq(n,e){if(n&1){let t=Je();E(0,"div",17),Z("click",function(){let i=_e(t).$implicit,o=B(3);return we(o.onDayClick(i))}),E(1,"div",18)(2,"span",19),N(3),S(),re(4,wq,1,0,"div",20),S(),re(5,Iq,2,1,"div",21),S()}if(n&2){let t=e.$implicit,r=B(3);an("bg-gray-100",!t.isCurrentMonth)("bg-blue-50",t.isToday)("border-blue-300",t.isToday),M(2),an("text-gray-400",!t.isCurrentMonth)("text-blue-600",t.isToday),M(),qe(" ",t.date.getDate()," "),M(),U("ngIf",r.hasEvent(t.date)),M(),U("ngIf",r.hasEvent(t.date))}}function bq(n,e){if(n&1&&(E(0,"div",11)(1,"div",12),re(2,_q,2,1,"div",13),S(),E(3,"div",14),re(4,Eq,6,13,"div",15),S()()),n&2){let t=B(2);M(2),U("ngForOf",t.daysOfWeek),M(2),U("ngForOf",t.calendarDays)("ngForTrackBy",t.trackByDay)}}function Dq(n,e){if(n&1&&(E(0,"div",16)(1,"div"),N(2),ao(3,"date"),S(),E(4,"div",25),N(5),ao(6,"date"),S()()),n&2){let t=e.$implicit,r=B(3);M(2),bt(yc(3,4,t,"EEE")),M(2),an("text-blue-600",r.isToday(t)),M(),bt(yc(6,7,t,"d"))}}function Cq(n,e){if(n&1&&(E(0,"div",28),N(1),S()),n&2){let t=B().$implicit,r=B(3);M(),qe(" ",r.getEventHours(t)," ")}}function Tq(n,e){if(n&1){let t=Je();E(0,"div",26),Z("click",function(){let i=_e(t).$implicit,o=B(3);return we(o.onDayClick({date:i,isCurrentMonth:!0,isToday:o.isToday(i)}))}),re(1,Cq,2,1,"div",27),S()}if(n&2){let t=e.$implicit,r=B(3);M(),U("ngIf",r.hasEvent(t))}}function Sq(n,e){if(n&1&&(E(0,"div",11)(1,"div",12),re(2,Dq,7,10,"div",13),S(),E(3,"div",14),re(4,Tq,2,1,"div",24),S()()),n&2){let t=B(2);M(2),U("ngForOf",t.weekDays),M(2),U("ngForOf",t.weekDays)}}function Aq(n,e){if(n&1&&(E(0,"div",34),N(1),S()),n&2){let t=B(3);M(),qe(" ",t.getEventHours(t.viewDate)," ")}}function xq(n,e){if(n&1){let t=Je();E(0,"div",11)(1,"div",29)(2,"h3",30),N(3),ao(4,"date"),S()(),E(5,"div",31),Z("click",function(){_e(t);let i=B(2);return we(i.onDayClick({date:i.viewDate,isCurrentMonth:!0,isToday:i.isToday(i.viewDate)}))}),re(6,Aq,2,1,"div",32),E(7,"span",33),N(8),S()()()}if(n&2){let t=B(2);M(3),bt(yc(4,3,t.viewDate,"fullDate")),M(3),U("ngIf",t.hasEvent(t.viewDate)),M(2),qe(" ",t.hasEvent(t.viewDate)?"Click to edit report":"Click to add report for this day"," ")}}function Rq(n,e){if(n&1){let t=Je();E(0,"div")(1,"div",5)(2,"button",6),Z("click",function(){_e(t);let i=B();return we(i.previousMonth())}),N(3," \u25C0 "),S(),E(4,"h2",7),N(5),S(),E(6,"button",6),Z("click",function(){_e(t);let i=B();return we(i.nextMonth())}),N(7," \u25B6 "),S()(),E(8,"div",8)(9,"button",9),Z("click",function(){_e(t);let i=B();return we(i.viewMode="month")}),N(10," Month "),S(),E(11,"button",9),Z("click",function(){_e(t);let i=B();return we(i.viewMode="week")}),N(12," Week "),S(),E(13,"button",9),Z("click",function(){_e(t);let i=B();return we(i.viewMode="day")}),N(14," Day "),S()(),re(15,bq,5,3,"div",10)(16,Sq,5,2,"div",10)(17,xq,9,6,"div",10),S()}if(n&2){let t=B();M(5),bt(t.getMonthYearDisplay()),M(4),an("bg-green-600",t.viewMode==="month")("text-white",t.viewMode==="month"),M(2),an("bg-green-600",t.viewMode==="week")("text-white",t.viewMode==="week"),M(2),an("bg-green-600",t.viewMode==="day")("text-white",t.viewMode==="day"),M(2),U("ngIf",t.viewMode==="month"),M(),U("ngIf",t.viewMode==="week"),M(),U("ngIf",t.viewMode==="day")}}function Mq(n,e){if(n&1){let t=Je();E(0,"div",38)(1,"label",47),N(2,"Did you participate in the ministry today?"),S(),E(3,"input",48),nt("ngModelChange",function(i){_e(t);let o=B(2);return at(o.joined_ministry,i)||(o.joined_ministry=i),we(i)}),S()()}if(n&2){let t=B(2);M(3),tt("ngModel",t.joined_ministry)}}function Nq(n,e){if(n&1){let t=Je();E(0,"div",38)(1,"label",47),N(2,"Did you participate in the ministry today?"),S(),E(3,"select",49),nt("ngModelChange",function(i){_e(t);let o=B(2);return at(o.joined_ministry,i)||(o.joined_ministry=i),we(i)}),E(4,"option",50),N(5,"Yes"),S(),E(6,"option",51),N(7,"No"),S()()()}if(n&2){let t=B(2);M(3),tt("ngModel",t.joined_ministry)}}function Pq(n,e){n&1&&(E(0,"div",52)(1,"p",33),N(2,"No modifications detected. The system will not commit any updates."),S()())}function kq(n,e){n&1&&(E(0,"div",52)(1,"p",33),N(2,"Warning: Please verify your input carefully."),S()())}function Oq(n,e){if(n&1){let t=Je();Ds(0),E(1,"button",53),Z("click",function(){_e(t);let i=B(2);return we(i.updateReport())}),N(2,"Update"),S(),Cs()}if(n&2){let t=B(2);M(),U("disabled",!t.hours||+t.hours==0||!t.joined_ministry)("ngClass",mc(2,vN,!t.hours||+t.hours==0||!t.joined_ministry))}}function Fq(n,e){if(n&1){let t=Je();E(0,"button",53),Z("click",function(){_e(t);let i=B(2);return we(i.saveReport())}),N(1,"Save"),S()}if(n&2){let t=B(2);U("disabled",!t.hours||+t.hours==0||!t.joined_ministry)("ngClass",mc(2,vN,!t.hours||+t.hours==0||!t.joined_ministry))}}function Lq(n,e){if(n&1){let t=Je();E(0,"div",35)(1,"div",36)(2,"h3",37),N(3),ao(4,"date"),S(),E(5,"form")(6,"div",38)(7,"label",39),N(8,"Hours"),S(),E(9,"input",40),nt("ngModelChange",function(i){_e(t);let o=B();return at(o.hours,i)||(o.hours=i),we(i)}),S()(),re(10,Mq,4,1,"div",41)(11,Nq,8,1,"ng-template",null,0,co),E(13,"div",38)(14,"label",42),N(15,"Notes "),E(16,"span"),N(17,"(Optional)"),S()(),E(18,"textarea",43),nt("ngModelChange",function(i){_e(t);let o=B();return at(o.note,i)||(o.note=i),we(i)}),N(19,"                "),S()(),re(20,Pq,3,0,"div",44)(21,kq,3,0,"div",44),S(),re(22,Oq,3,4,"ng-container",45)(23,Fq,2,4,"ng-template",null,1,co),E(25,"button",46),Z("click",function(){_e(t);let i=B();return we(i.closeModal())}),N(26,"Close"),S()()()}if(n&2){let t=oo(12),r=oo(24),i=B();M(3),qe("Report for ",yc(4,9,i.selectedDate,"fullDate"),""),M(6),tt("ngModel",i.hours),M(),U("ngIf",i.hasExistingEvent)("ngIfElse",t),M(8),tt("ngModel",i.note),M(2),U("ngIf",i.noChangeDetected),M(),U("ngIf",!i.noChangeDetected),M(),U("ngIf",i.hasExistingEvent)("ngIfElse",r)}}var _N=(()=>{class n{api;util;isLoading=!1;viewMode="month";viewDate=new Date;calendarDays=[];weekDays=[];daysOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];events=[];selectedDate=null;hours=0;joined_ministry="";notes="";report_date="";created_at="";updated_at="";hasExistingEvent=!1;report_id="";note="";noChangeDetected=!1;constructor(t,r){this.api=t,this.util=r}ngOnInit(){this.generateCalendar(),this.generateWeekDays(),this.loadReports()}generateCalendar(){let t=this.viewDate.getFullYear(),r=this.viewDate.getMonth(),i=new Date(t,r,1),s=new Date(t,r+1,0).getDate(),a=i.getDay(),u=42;this.calendarDays=[];for(let h=a-1;h>=0;h--){let p=new Date(t,r,-h);this.calendarDays.push({date:p,isCurrentMonth:!1,isToday:this.isToday(p)})}for(let h=1;h<=s;h++){let p=new Date(t,r,h);this.calendarDays.push({date:p,isCurrentMonth:!0,isToday:this.isToday(p)})}let l=u-this.calendarDays.length;for(let h=1;h<=l;h++){let p=new Date(t,r+1,h);this.calendarDays.push({date:p,isCurrentMonth:!1,isToday:this.isToday(p)})}}generateWeekDays(){let t=this.getStartOfWeek(this.viewDate);this.weekDays=[];for(let r=0;r<7;r++){let i=new Date(t);i.setDate(t.getDate()+r),this.weekDays.push(i)}}getStartOfWeek(t){let r=new Date(t),i=r.getDay(),o=r.getDate()-i;return new Date(r.setDate(o))}previousMonth(){this.viewMode==="month"?(this.viewDate=new Date(this.viewDate.getFullYear(),this.viewDate.getMonth()-1,1),this.generateCalendar()):this.viewMode==="week"?(this.viewDate=new Date(this.viewDate.getTime()-7*24*60*60*1e3),this.generateWeekDays()):this.viewMode==="day"&&(this.viewDate=new Date(this.viewDate.getTime()-24*60*60*1e3))}nextMonth(){this.viewMode==="month"?(this.viewDate=new Date(this.viewDate.getFullYear(),this.viewDate.getMonth()+1,1),this.generateCalendar()):this.viewMode==="week"?(this.viewDate=new Date(this.viewDate.getTime()+7*24*60*60*1e3),this.generateWeekDays()):this.viewMode==="day"&&(this.viewDate=new Date(this.viewDate.getTime()+24*60*60*1e3))}hasEvent(t){return this.events.some(r=>r.start.toDateString()===t.toDateString())}getEventHours(t){let r=this.events.find(i=>i.start.toDateString()===t.toDateString());return r?`${parseInt(r.title.split(" ")[0],10)}h`:""}getEventPreview(t){let r=this.events.find(i=>i.start.toDateString()===t.toDateString());return r?r.title:""}loadReports(){return v(this,null,function*(){this.isLoading=!0;try{let t=yield this.api.getReports();this.events=t.map(r=>({title:r.hours+" Hours",start:new Date(r.report_date.seconds*1e3),color:{primary:"#008000",secondary:"#90EE90"},meta:{report_id:r.id,notes:r.notes,joined_ministry:r.is_joined_ministry}}))}catch(t){console.error("Error fetching reports:",t)}this.isLoading=!1})}saveReport(){return v(this,null,function*(){if(!this.selectedDate)return;let t={hours:this.hours,is_joined_ministry:this.joined_ministry,notes:this.note,report_date:this.selectedDate,created_at:new Date,updated_at:new Date};try{yield this.api.createReport(t),this.noChangeDetected=!1,this.selectedDate=null,yield this.loadReports(),this.reInitializeVariables()}catch(r){console.error("Error saving report:",r)}})}updateReport(){return v(this,null,function*(){if(!this.selectedDate)return;let t=this.events.find(i=>i.start.toDateString()===this.selectedDate?.toDateString());if(t){let i=parseInt(t.title.split(" ")[0],10),o=t.meta.joined_ministry,s=t.meta.notes;if(i===this.hours&&o===this.joined_ministry&&s===this.note){this.noChangeDetected=!0;return}}let r={id:this.report_id,hours:this.hours,is_joined_ministry:this.joined_ministry,notes:this.note,report_date:this.selectedDate,created_at:new Date,updated_at:new Date};try{yield this.api.updateReport(r),this.noChangeDetected=!1,this.selectedDate=null,yield this.loadReports(),this.reInitializeVariables()}catch(i){console.error("Error updating report:",i)}})}isToday(t){let r=new Date;return t.toDateString()===r.toDateString()}getMonthYearDisplay(){return this.viewDate.toLocaleDateString("en-US",{month:"long",year:"numeric"})}trackByDay(t,r){return r.date.toISOString()}onDayClick(t){this.selectedDate=new Date(t.date);let r=this.events.find(i=>i.start.toDateString()===this.selectedDate?.toDateString());this.hasExistingEvent=!!r,r?(this.hours=parseInt(r.title.split(" ")[0],10),this.report_id=r.meta.report_id,this.selectedDate=r.start,this.joined_ministry=this.util.capitalizeFirstLetter(r.meta.joined_ministry),this.note=r.meta.notes):this.reInitializeVariables()}closeModal(){this.selectedDate=null,this.noChangeDetected=!1}reInitializeVariables(){this.hours=0,this.joined_ministry="",this.notes="",this.report_date="",this.created_at="",this.updated_at="",this.report_id="",this.note=""}get dayOfWeek(){return this.viewDate.toLocaleDateString("en-US",{weekday:"short"})}static \u0275fac=function(r){return new(r||n)(H(yr),H(Dp))};static \u0275cmp=Me({type:n,selectors:[["app-calendar"]],decls:3,vars:3,consts:[["noEvent",""],["noExistingEvent",""],[4,"ngIf"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",4,"ngIf"],[3,"loadingMessage"],[1,"flex","justify-between","items-center","mb-4"],[1,"px-4","py-2","bg-gray-300","text-gray-800","rounded","hover:bg-gray-400",3,"click"],[1,"text-xl","font-semibold"],[1,"flex","space-x-2","bg-gray-100","p-1","rounded-lg"],[1,"px-4","py-2","rounded-lg","transition-colors","duration-200","text-gray-800","hover:bg-green-500","hover:text-white",3,"click"],["class","calendar-container bg-white rounded-lg shadow-md overflow-hidden mt-4",4,"ngIf"],[1,"calendar-container","bg-white","rounded-lg","shadow-md","overflow-hidden","mt-4"],[1,"grid","grid-cols-7","bg-gray-50"],["class","p-3 text-center font-medium text-gray-700 border-r border-gray-200 last:border-r-0",4,"ngFor","ngForOf"],[1,"grid","grid-cols-7"],["class","min-h-[100px] border-r border-b border-gray-200 last:border-r-0 p-2 cursor-pointer hover:bg-gray-50 transition-colors relative",3,"bg-gray-100","bg-blue-50","border-blue-300","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-3","text-center","font-medium","text-gray-700","border-r","border-gray-200","last:border-r-0"],[1,"min-h-[100px]","border-r","border-b","border-gray-200","last:border-r-0","p-2","cursor-pointer","hover:bg-gray-50","transition-colors","relative",3,"click"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-sm","font-medium"],["class","w-2 h-2 bg-green-500 rounded-full",4,"ngIf"],["class","text-xs text-green-700 font-medium bg-green-100 rounded px-1 py-0.5 inline-block",4,"ngIf"],[1,"w-2","h-2","bg-green-500","rounded-full"],[1,"text-xs","text-green-700","font-medium","bg-green-100","rounded","px-1","py-0.5","inline-block"],["class","min-h-[200px] border-r border-b border-gray-200 last:border-r-0 cursor-pointer hover:bg-gray-50 p-2 relative",3,"click",4,"ngFor","ngForOf"],[1,"text-lg"],[1,"min-h-[200px]","border-r","border-b","border-gray-200","last:border-r-0","cursor-pointer","hover:bg-gray-50","p-2","relative",3,"click"],["class","text-xs text-green-700 font-medium bg-green-100 rounded px-2 py-1 inline-block",4,"ngIf"],[1,"text-xs","text-green-700","font-medium","bg-green-100","rounded","px-2","py-1","inline-block"],[1,"bg-gray-50","p-4","border-b"],[1,"text-lg","font-medium"],[1,"min-h-[400px]","cursor-pointer","hover:bg-gray-50","p-4","flex","flex-col","items-center","justify-center","text-gray-500",3,"click"],["class","text-lg text-green-700 font-medium bg-green-100 rounded px-3 py-2 mb-2",4,"ngIf"],[1,"text-sm"],[1,"text-lg","text-green-700","font-medium","bg-green-100","rounded","px-3","py-2","mb-2"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50"],[1,"bg-white","p-4","rounded","shadow-lg","sm:w-full","md:w-1/2","lg:w-1/3","xl:w-1/3","max-h-full","overflow-auto"],[1,"text-lg","font-medium","mb-2"],[1,"mb-4"],["for","hours",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","hours","name","title",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["class","mb-4",4,"ngIf","ngIfElse"],["for","note",1,"block","text-sm","font-medium","text-gray-700"],["id","note","name","note","rows","5",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["class","mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-700",3,"click"],["for","is_joined_ministry",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","is_joined_ministry","name","is_joined_ministry","readonly","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["id","is_joined_ministry","name","is_joined_ministry",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","yes"],["value","no"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-700","me-2",3,"click","disabled","ngClass"]],template:function(r,i){r&1&&re(0,vq,2,1,"div",2)(1,Rq,18,16,"div",2)(2,Lq,27,12,"div",3),r&2&&(U("ngIf",i.isLoading),M(),U("ngIf",!i.isLoading),M(),U("ngIf",i.selectedDate))},dependencies:[Be,lo,er,gt,zy,sr,Zh,Xh,ef,In,zs,or,Yh,Hn,nu,Mf],styles:[".custom-day-cell[_ngcontent-%COMP%]{text-align:center;padding:5px;min-height:50px}.event-box[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:3px;margin-top:3px;border-radius:4px;font-size:12px}@media (max-width: 600px){.cal-day-cell[_ngcontent-%COMP%]{min-height:50px;font-size:10px}}"]})}return n})();var Vq=(n,e)=>({"text-blue-500 border-b-2 border-blue-500 scale-105":n,"text-gray-500":e});function jq(n,e){if(n&1){let t=Je();E(0,"div",4),Z("click",function(){let i=_e(t).$implicit,o=B();return we(o.selectTab(i.id))}),E(1,"div",5),Q(2,"i"),N(3),S()()}if(n&2){let t=e.$implicit,r=B();U("ngClass",ST(4,Vq,r.activeTab===t.id,r.activeTab!==t.id)),M(2),Zd(t.icon),M(),qe(" ",t.title,"")}}var wN=(()=>{class n{tabChange=new He;activeTab="calendar";tabs=[{id:"calendar",title:"Calendar",icon:"bi bi-calendar-fill",description:"View upcoming events"},{id:"reports",title:"Reports",icon:"bi bi-clipboard2-data",description:"Track your progress"},{id:"other",title:"Settings",icon:"bi bi-gear-fill",description:"Customize options"}];getActiveTabTitle(){let t=this.tabs.find(r=>r.id===this.activeTab);return t?t.title:""}selectTab(t){this.activeTab=t,this.tabChange.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["app-tab-card"]],outputs:{tabChange:"tabChange"},decls:4,vars:1,consts:[[1,"flex","flex-col","items-center","py-4","space-y-6","w-full","max-w-3xl","mx-auto"],[1,"bg-white","shadow-md","border-t","border-gray-200","w-full"],[1,"flex","justify-around","p-4"],["class","flex flex-col items-center cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","cursor-pointer",3,"click","ngClass"],[1,"text-lg","font-semibold"]],template:function(r,i){r&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),re(3,jq,4,7,"div",3),S()()()),r&2&&(M(3),U("ngForOf",i.tabs))},dependencies:[Be,lo,er],encapsulation:2})}return n})();function Uq(n,e){if(n&1){let t=Je();E(0,"div",11),Q(1,"hr"),E(2,"button",12),Z("click",function(){_e(t);let i=B();return we(i.signOut())}),N(3,"Sign Out"),S()()}}var IN=(()=>{class n{authService;dropdownOpen=!1;userData;constructor(t){this.authService=t,this.authService.user$.subscribe(r=>{this.userData=r})}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}signOut(){this.authService.logout()}static \u0275fac=function(r){return new(r||n)(H(Ai))};static \u0275cmp=Me({type:n,selectors:[["app-header"]],decls:13,vars:2,consts:[[1,"bg-white","shadow-md","py-4","px-6","flex","items-center","justify-between","sticky","top-0","z-10"],[1,"flex","items-center"],[1,"ml-4","text-xl","font-semibold","text-gray-800"],[1,"text-xl","font-bold","text-transparent","bg-clip-text","bg-gradient-to-r","from-blue-400","to-purple-500"],[1,"relative",3,"click"],[1,"flex","items-center","space-x-3","focus:outline-none"],[1,"bi","bi-person-circle","text-gray-800","text-2xl"],[1,"text-gray-800","font-medium","hidden","sm:block"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg z-10",4,"ngIf"],[1,"absolute","right-0","mt-2","w-48","bg-white","border","rounded-lg","shadow-lg","z-10"],[1,"w-full","text-left","px-4","py-2","text-red-600","hover:bg-gray-100",3,"click"]],template:function(r,i){r&1&&(E(0,"header",0)(1,"div",1)(2,"h1",2)(3,"span",3),N(4,"Field Service Tracker"),S()()(),E(5,"div",4),Z("click",function(){return i.toggleDropdown()}),E(6,"button",5),Q(7,"i",6),E(8,"span",7),N(9),S(),yn(),E(10,"svg",8),Q(11,"path",9),S()(),re(12,Uq,4,0,"div",10),S()()),r&2&&(M(9),bt(i.userData==null?null:i.userData.email),M(3),U("ngIf",i.dropdownOpen))},dependencies:[Be,gt],encapsulation:2})}return n})();var Bq=["*"],EN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["app-modal"]],ngContentSelectors:Bq,decls:3,vars:0,consts:[[1,"fixed","inset-0","bg-gray-800","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3","relative","w-full","max-w-lg"]],template:function(r,i){r&1&&(ET(),E(0,"div",0)(1,"div",1),bT(2),S()())},encapsulation:2})}return n})();function $q(n,e){n&1&&(E(0,"div",4)(1,"p",5),N(2,"You have no Bible studies recorded."),S(),Q(3,"i",6),S())}function Hq(n,e){if(n&1){let t=Je();E(0,"tr",11),Z("click",function(){let i=_e(t).$implicit,o=B(2);return we(o.editStudy(i))}),E(1,"td",12),N(2),S(),E(3,"td",12),N(4),S()()}if(n&2){let t=e.$implicit;M(2),bt(t.bible_study),M(2),bt(t.schedule)}}function zq(n,e){if(n&1&&(E(0,"table",7)(1,"thead",8)(2,"tr")(3,"th",9),N(4,"Name"),S(),E(5,"th",9),N(6,"Schedule"),S()()(),E(7,"tbody"),re(8,Hq,5,2,"tr",10),S()()),n&2){let t=B();M(8),U("ngForOf",t.bibleStudies)}}var bN=(()=>{class n{api;bibleStudies=[];edit=new He;constructor(t){this.api=t}ngOnInit(){}editStudy(t){this.edit.emit(t)}static \u0275fac=function(r){return new(r||n)(H(yr))};static \u0275cmp=Me({type:n,selectors:[["app-bible-studies"]],inputs:{bibleStudies:"bibleStudies"},outputs:{edit:"edit"},decls:7,vars:2,consts:[[1,"mt-6"],[1,"text-2xl","font-bold","text-gray-800"],["class","mt-3 mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 flex items-center justify-between shadow-md",4,"ngIf"],["class","mt-3 min-w-full bg-white shadow-md rounded-lg overflow-hidden",4,"ngIf"],[1,"mt-3","mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700","flex","items-center","justify-between","shadow-md"],[1,"text-base"],[1,"bi","bi-exclamation-circle-fill","text-yellow-500","text-xl"],[1,"mt-3","min-w-full","bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"bg-gray-200"],[1,"py-2","px-4","text-left","text-gray-600","font-semibold"],["class","cursor-pointer hover:bg-gray-100 transition duration-300",3,"click",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover:bg-gray-100","transition","duration-300",3,"click"],[1,"py-2","px-4","border-b","border-gray-200"]],template:function(r,i){r&1&&(E(0,"div",0)(1,"h2",1),N(2,"Bible Studies / Return Visits"),S(),E(3,"small"),N(4,"Your active bible studies and return visits"),S(),re(5,$q,4,0,"div",2)(6,zq,9,1,"table",3),S()),r&2&&(M(5),U("ngIf",i.bibleStudies.length===0),M(),U("ngIf",i.bibleStudies.length>0))},dependencies:[Be,er,gt],encapsulation:2})}return n})();function qq(n,e){n&1&&(E(0,"div"),Q(1,"app-loader",6),S()),n&2&&(M(),U("loadingMessage","Loading your reports..."))}function Gq(n,e){if(n&1){let t=Je();E(0,"div",26)(1,"button",27),Z("click",function(){_e(t);let i=B(2).$implicit,o=B(3);return we(o.downloadReport(i,!0))}),N(2," Pioneer "),S(),E(3,"button",27),Z("click",function(){_e(t);let i=B(2).$implicit,o=B(3);return we(o.downloadReport(i,!1))}),N(4," Publisher "),S()()}}function Wq(n,e){if(n&1){let t=Je();E(0,"div",21)(1,"div",22)(2,"button",23),Z("click",function(){_e(t);let i=B(4);return we(i.toggleDropdown())}),Q(3,"i",24),N(4," Download Report "),S(),re(5,Gq,5,0,"div",25),S()()}if(n&2){let t=B(4);M(5),U("ngIf",t.dropdownOpen)}}function Kq(n,e){n&1&&Q(0,"i",28)}function Qq(n,e){n&1&&Q(0,"i",29)}function Yq(n,e){if(n&1&&(E(0,"div",8),re(1,Wq,6,1,"div",9),E(2,"div",10),Q(3,"i",11),E(4,"h3",12),N(5),S()(),E(6,"div",13),Q(7,"i",14),E(8,"p",15),N(9,"Hours: "),E(10,"span",16),N(11),S()()(),E(12,"div",17),Q(13,"i",18),E(14,"p",15),N(15,"Participated in Ministry: \xA0 "),E(16,"span",16),re(17,Kq,1,0,"i",19)(18,Qq,1,0,"i",20),S()()()()),n&2){let t=e.$implicit,r=e.index;M(),U("ngIf",r===0),M(4),Xd("",t.month_name," ",t.year,""),M(6),bt(t.total_hours),M(6),U("ngIf",t.is_joined_ministry),M(),U("ngIf",!t.is_joined_ministry)}}function Jq(n,e){if(n&1&&(E(0,"div"),re(1,Yq,19,6,"div",7),ao(2,"slice"),S()),n&2){let t=B(2);M(),U("ngForOf",xT(2,1,t.reports,0,2))}}function Zq(n,e){n&1&&(E(0,"div",30)(1,"div",31)(2,"p",32),N(3,"You have no reports for this month."),S(),Q(4,"i",33),S()())}function Xq(n,e){if(n&1&&re(0,Jq,3,5,"div",4)(1,Zq,5,0,"ng-template",null,1,co),n&2){let t=oo(2),r=B();U("ngIf",r.reports.length>0)("ngIfElse",t)}}function eG(n,e){if(n&1){let t=Je();E(0,"div")(1,"app-bible-studies",34),Z("edit",function(i){_e(t);let o=B();return we(o.editStudy(i))}),S()()}if(n&2){let t=B();M(),U("bibleStudies",t.bibleStudies)}}function tG(n,e){if(n&1&&(E(0,"span"),N(1),E(2,"small",55),N(3),S()()),n&2){let t=B(2);M(),qe(" Last Studied On: ",t.util.formatDateToHumanReadable(t.studySelected.updated_at)," "),M(2),Xd(" (",t.util.calculateDaysAgo(t.studySelected.updated_at)," ",t.util.calculateDaysAgo(t.studySelected.updated_at)===1?"day":"days"," ago) ")}}function nG(n,e){n&1&&(E(0,"em",56),N(1,"No recent study activity detected!"),S())}function rG(n,e){if(n&1){let t=Je();Ds(0),E(1,"app-modal")(2,"div",35)(3,"div")(4,"h3",36),Q(5,"i",37),N(6),S(),E(7,"span",38),N(8),S()(),E(9,"div",39)(10,"button",40),Z("click",function(){_e(t);let i=B();return we(i.deleteStudy(i.studySelected))}),Q(11,"i",41),S(),E(12,"button",42),Z("click",function(){_e(t);let i=B();return we(i.closeStudyDetails())}),Q(13,"i",43),S()()(),E(14,"div",44)(15,"p",45),N(16,"Address"),S(),E(17,"p",46),N(18),S()(),E(19,"div",44)(20,"p",45),N(21,"Schedule"),S(),E(22,"p",46),N(23),S()(),E(24,"div",44)(25,"label",47),N(26,"Next Lesson "),E(27,"small"),N(28,"(e.g., Lesson 1: Title)"),S()(),E(29,"div",48)(30,"textarea",49),nt("ngModelChange",function(i){_e(t);let o=B();return at(o.next_lesson,i)||(o.next_lesson=i),we(i)}),S(),E(31,"button",50),Z("click",function(){_e(t);let i=B();return we(i.copyToClipboard())}),Q(32,"i"),E(33,"span",51),N(34),S()()()(),E(35,"p",52),re(36,tG,4,3,"span",4)(37,nG,2,0,"ng-template",null,2,co),S(),E(39,"div",53)(40,"button",54),Z("click",function(){_e(t);let i=B();return we(i.updateStudy(i.studySelected))}),N(41," Save "),S()()(),Cs()}if(n&2){let t=oo(38),r=B();M(6),qe(" ",r.studySelected.bible_study," "),M(2),qe(" ",r.studySelected.type==="rv"?"Return Visit":"Bible Study"," "),M(10),bt(r.studySelected.address),M(5),bt(r.studySelected.schedule),M(7),tt("ngModel",r.next_lesson),M(2),Zd(r.isCopied?"bi bi-check-circle text-white":"bi bi-clipboard text-white"),M(),an("text-green-200",r.isCopied)("text-white",!r.isCopied),M(),qe(" ",r.isCopied?"Copied":"Copy"," "),M(2),U("ngIf",(r.studySelected==null?null:r.studySelected.updated_at)&&r.util.calculateDaysAgo(r.studySelected.updated_at)>0)("ngIfElse",t)}}function iG(n,e){if(n&1){let t=Je();Ds(0),E(1,"div",57)(2,"div",58)(3,"div",59)(4,"h3",60),N(5,"Confirm Deletion"),S(),E(6,"button",42),Z("click",function(){_e(t);let i=B();return we(i.closeDeleteModal())}),Q(7,"i",43),S()(),E(8,"p",61),N(9,"Are you sure you want to delete this study?"),S(),E(10,"div",62)(11,"button",63),Z("click",function(){_e(t);let i=B();return we(i.confirmDelete())}),N(12," Yes "),S(),E(13,"button",64),Z("click",function(){_e(t);let i=B();return we(i.closeDeleteModal())}),N(14," No "),S()()()(),Cs()}}var DN=(()=>{class n{api;util;reports=[];bibleStudies=[];studySelected=null;isSelected=!1;studyDelete=!1;next_lesson="";openDownloadModal=!1;isPioneer=!1;selectedReport=null;dropdownOpen=!1;monthlyReportData=null;loading=!0;isCopied=!1;constructor(t,r){this.api=t,this.util=r}ngOnInit(){this.loadReports(),this.loadBibLeStudies(),setTimeout(()=>{this.loading=!1},1e3)}loadBibLeStudies(){return v(this,null,function*(){yield this.api.getBibleStudies().then(t=>{this.bibleStudies=t}).catch(t=>{console.error("Error fetching Bible studies:",t)})})}loadReports(){return v(this,null,function*(){yield this.api.getReports().then(t=>{this.reports=t,this.reports=this.aggregateReportsByMonth(t)}).catch(t=>{console.error("Error fetching reports:",t)})})}aggregateReportsByMonth(t){let r={};return t.forEach(i=>{let o=i.report_date instanceof Date?i.report_date:new Date(i.report_date.seconds*1e3),s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`,a=parseInt(i.hours)||0;r[s]||(r[s]={year:o.getFullYear(),month:o.getMonth()+1,month_name:o.toLocaleString("default",{month:"long"}),total_hours:0,report_count:0,is_joined_ministry:"no",reports:[]}),r[s].total_hours+=a,r[s].report_count++,r[s].reports.push(i),i.is_joined_ministry?.toLowerCase()==="yes"&&(r[s].is_joined_ministry="yes")}),Object.values(r).sort((i,o)=>o.year-i.year||o.month-i.month)}editStudy(t){this.isSelected=!0,this.studySelected=t,this.next_lesson=t.lesson}closeStudyDetails(){this.isSelected=!1,this.studySelected=null,this.isCopied=!1}deleteStudy(t){this.studyDelete=!0,this.studySelected=t,this.isCopied=!1}confirmDelete(){return v(this,null,function*(){if(this.studyDelete=!1,this.isCopied=!1,!this.studySelected?.id)return;let t=this.studySelected;yield this.api.deleteStudy(t).then(()=>{this.loadBibLeStudies()}).catch(r=>{console.error("Error deleting study:",r)}),this.closeStudyDetails()})}closeDeleteModal(){this.studyDelete=!1,this.isCopied=!1}updateStudy(t){if(this.isSelected=!1,this.studySelected=null,this.isCopied=!1,this.next_lesson===t.lesson)return;let r={bible_study:t.bible_study,address:t.address,schedule:t.schedule,type:t.type,lesson:this.next_lesson,updated_at:new Date,id:t.id};this.api.updateStudy(r).then(()=>{this.loadBibLeStudies()}).catch(i=>{console.error("Error updating study:",i)})}downloadReport(t,r){this.selectedReport=t,this.monthlyReportData={month:`${t.month_name} ${t.year}`,bibleStudies:this.filterBibleStudies(this.bibleStudies).length,is_joined_ministry:t.is_joined_ministry,hours:r?t.total_hours:void 0,report_count:t.report_count},this.dropdownOpen=!1,this.generatePNG(this.monthlyReportData,r)}filterBibleStudies(t){return t.filter(r=>r.type!=="rv")}generatePNG(t,r){let i=document.createElement("canvas"),o=i.getContext("2d");if(!o)return;i.width=400,i.height=250,o.fillStyle="white",o.fillRect(0,0,i.width,i.height),o.fillStyle="black",o.font="bold 22px Arial";let s=i.width/2;o.textAlign="center",o.fillText(`Monthly Report - ${t.month}`,s,30),o.font="18px Arial",o.textAlign="left";let a=70;t.hours!==void 0&&(o.fillText(`Hours: ${t.hours}`,20,a),a+=30),o.fillText(`Bible Studies: ${t.bibleStudies}`,20,a),a+=30,o.fillText(`Participated in Ministry: ${this.util.capitalizeFirstLetter(t.is_joined_ministry)}`,20,a),a+=30,o.beginPath(),o.moveTo(20,a),o.lineTo(i.width-20,a),o.strokeStyle="black",o.stroke(),o.font="12px Arial",o.textAlign="center",o.fillText("Generated by Field Service Tracker",s,a+20);let u=i.toDataURL("image/png"),l=document.createElement("a");l.href=u,l.download=`${r?"Pioneer":"Publisher"}-report-${t.month.replace(" ","-")}.png`,l.click()}closeDlModal(){this.openDownloadModal=!1,this.isCopied=!1}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}copyToClipboard(){this.next_lesson&&navigator.clipboard.writeText(this.next_lesson).then(()=>{this.isCopied=!0,console.log("Text copied to clipboard")}).catch(t=>{this.isCopied=!1,console.error("Failed to copy text: ",t)})}static \u0275fac=function(r){return new(r||n)(H(yr),H(Dp))};static \u0275cmp=Me({type:n,selectors:[["app-reports"]],decls:7,vars:5,consts:[["contentLoaded",""],["noReports",""],["noDate",""],[1,""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"loadingMessage"],["class","relative p-6 bg-white shadow-md rounded-xl border border-gray-300 transition duration-300 hover:shadow-2xl hover:border-gray-400 mt-3",4,"ngFor","ngForOf"],[1,"relative","p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3"],["class","absolute top-2 right-2",4,"ngIf"],[1,"flex","items-center","gap-3","border-b","pb-3","mb-3"],[1,"bi","bi-calendar-event","text-indigo-500","text-2xl"],[1,"text-xl","font-bold","text-gray-800"],[1,"flex","items-center","gap-3","border-b","pb-2","mb-2"],[1,"bi","bi-clock","text-blue-500","text-xl"],[1,"text-gray-700"],[1,"font-semibold","text-gray-900"],[1,"flex","items-center","gap-3"],[1,"bi","bi-people-fill","text-blue-500","text-lg"],["class","bi bi-check-circle-fill text-green-500",4,"ngIf"],["class","bi bi-x-circle-fill text-red-500",4,"ngIf"],[1,"absolute","top-2","right-2"],[1,"relative"],[1,"px-3","py-1","bg-blue-100","text-blue-600","text-xs","font-medium","rounded-full","shadow-sm",3,"click"],[1,"bi","bi-download"],["class","absolute right-0 mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg",4,"ngIf"],[1,"absolute","right-0","mt-2","w-48","bg-white","border","border-gray-300","rounded-lg","shadow-lg"],[1,"block","w-full","text-left","px-4","py-2","text-gray-700","hover:bg-gray-100",3,"click"],[1,"bi","bi-check-circle-fill","text-green-500"],[1,"bi","bi-x-circle-fill","text-red-500"],[1,"col-span-full"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700","flex","align-items-center","justify-between","shadow-md"],[1,"text-base"],[1,"bi","bi-exclamation-circle-fill","text-yellow-500","text-xl"],[3,"edit","bibleStudies"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-lg","font-semibold","text-gray-800"],[1,"bi","bi-person-fill","text-2xl","text-green-700"],[1,"px-2","py-1","bg-blue-100","text-blue-600","text-xs","font-medium","rounded-full","shadow-sm"],[1,"absolute","top-4","right-4","flex","space-x-2"],[1,"text-white","bg-red-700","px-2","rounded-sm","me-2",3,"click"],[1,"bi","bi-trash","font-bold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"bi","bi-x-lg"],[1,"mb-2","p-2","bg-gray-100","rounded-lg"],[1,"text-gray-700","font-medium","mb-1"],[1,"text-gray-900"],[1,"block","text-gray-700","font-medium","mb-1"],[1,"flex"],[1,"w-full","p-1","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"ml-2","px-4","py-2","text-white","rounded","bg-blue-600","transition","duration-200","flex","items-center",3,"click"],[1,"ml-2","text-sm"],[1,"mb-2"],[1,"flex","justify-start"],[1,"text-white","bg-blue-700","p-2","rounded-md","mr-3",3,"click"],[1,"text-gray-500"],[1,"ml-2","text-yellow-600"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3","relative","w-full","max-w-md"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-700","mb-6"],[1,"flex","justify-end"],[1,"text-white","bg-red-700","p-2","rounded-md","mr-3",3,"click"],[1,"text-gray-500","hover:text-gray-700","p-2","rounded-md",3,"click"]],template:function(r,i){if(r&1&&(E(0,"div",3),re(1,qq,2,1,"div",4)(2,Xq,3,2,"ng-template",null,0,co),S(),re(4,eG,2,1,"div",5)(5,rG,42,14,"ng-container",5)(6,iG,15,0,"ng-container",5)),r&2){let o=oo(3);M(),U("ngIf",i.loading)("ngIfElse",o),M(3),U("ngIf",!i.loading),M(),U("ngIf",i.studySelected),M(),U("ngIf",i.studyDelete)}},dependencies:[Be,er,gt,qy,sr,In,or,Hn,EN,bN,Mf],encapsulation:2})}return n})();function oG(n,e){if(n&1&&(E(0,"div",2)(1,"p",3),N(2),S()()),n&2){let t=B();M(2),bt(t.alertMessage)}}function sG(n,e){if(n&1&&(E(0,"div",4)(1,"p",3),N(2),S()()),n&2){let t=B();M(2),qe("",t.alertMessage," ")}}var CN=(()=>{class n{isSuccess=!1;alertMessage="";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["app-alerts"]],inputs:{isSuccess:"isSuccess",alertMessage:"alertMessage"},decls:2,vars:2,consts:[["class","mb-4 p-2 bg-green-100 border-l-4 border-green-500 text-green-700",4,"ngIf"],["class","mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",4,"ngIf"],[1,"mb-4","p-2","bg-green-100","border-l-4","border-green-500","text-green-700"],[1,"text-sm"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700"]],template:function(r,i){r&1&&re(0,oG,3,1,"div",0)(1,sG,3,1,"div",1),r&2&&(U("ngIf",i.isSuccess),M(),U("ngIf",!i.isSuccess))},dependencies:[Be,gt],encapsulation:2})}return n})();var aG=n=>({"opacity-50 cursor-not-allowed":n});function cG(n,e){if(n&1&&(E(0,"div"),Q(1,"app-alerts",31),S()),n&2){let t=B();M(),U("isSuccess",t.isSuccess)("alertMessage",t.alertMessage)}}function uG(n,e){if(n&1&&(E(0,"div"),Q(1,"app-alerts",31),S()),n&2){let t=B();M(),U("isSuccess",t.isSuccess)("alertMessage",t.alertMessage)}}function lG(n,e){n&1&&Q(0,"span",32)}var TN=(()=>{class n{api;bible_study="";address="";schedule=null;type="rv";next_lesson="";isSuccess=!1;isLoading=!1;alertMessage="Warning: Please verify your input carefully.";constructor(t){this.api=t}onSubmit(){return v(this,null,function*(){this.isLoading=!0;let t={bible_study:this.bible_study,address:this.address,schedule:this.schedule,type:this.type,lesson:this.next_lesson,updated_at:new Date};try{yield this.api.addStudy(t),this.bible_study="",this.address="",this.schedule=null,this.type="",this.next_lesson="",this.isSuccess=!0,this.alertMessage="Study added! View reports section."}catch(r){console.error("Error submitting data",r),this.isSuccess=!1,this.alertMessage="Error submitting data",this.isLoading=!1}this.isLoading=!1})}static \u0275fac=function(r){return new(r||n)(H(yr))};static \u0275cmp=Me({type:n,selectors:[["app-settings"]],decls:59,vars:12,consts:[[1,"settings-container","p-6","bg-gray-100","rounded-lg","shadow-md"],[1,"text-2xl","font-bold"],[1,"text-gray-500"],[1,"setting-item","mb-4","mt-4"],["for","theme",1,"block","text-sm","font-medium","text-gray-700"],["id","theme","name","theme","disabled","",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","light"],["value","dark"],[1,"setting-item","mb-4"],["for","language",1,"block","text-sm","font-medium","text-gray-700"],["id","language","name","language","disabled","",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","en"],[1,"bg-white","mt-4"],[1,"max-w-7xl","mx-auto"],[1,"font-bold","text-2xl"],[1,"mt-3","mb-4"],["for","bible-study",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","bible-study","name","bible-study","placeholder","Name",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mb-4"],["for","lesson",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","address","name","address","placeholder","Address",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","type",1,"block","text-sm","font-medium","text-gray-700"],["id","type","name","type",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","rv"],["value","bs"],["for","schedule",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","schedule","name","schedule","placeholder","Schedule",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["id","lesson","name","next_lesson","rows","5","placeholder","Next lesson",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded",3,"click","disabled","ngClass"],["class","animate-spin rounded-full h-4 w-4 border-t-2 border-white inline-block mr-2",4,"ngIf"],[3,"isSuccess","alertMessage"],[1,"animate-spin","rounded-full","h-4","w-4","border-t-2","border-white","inline-block","mr-2"]],template:function(r,i){r&1&&(E(0,"div",0)(1,"h1",1),N(2,"App Settings (Default)"),S(),E(3,"small",2),N(4,"This section is not editable for now."),S(),E(5,"div",3)(6,"label",4),N(7,"Theme:"),S(),E(8,"select",5)(9,"option",6),N(10,"Light"),S(),E(11,"option",7),N(12,"Dark"),S()()(),E(13,"div",8)(14,"label",9),N(15,"Language:"),S(),E(16,"select",10)(17,"option",11),N(18,"English"),S()()()(),E(19,"div",12)(20,"div",13)(21,"h1",14),N(22,"Bible Study / Return Visit"),S(),E(23,"small",2),N(24,"Add a new Bible Study or Return Visit"),S(),E(25,"Form")(26,"div",15)(27,"label",16),N(28,"Name"),S(),E(29,"input",17),nt("ngModelChange",function(s){return at(i.bible_study,s)||(i.bible_study=s),s}),S()(),E(30,"div",18)(31,"label",19),N(32,"Address"),S(),E(33,"input",20),nt("ngModelChange",function(s){return at(i.address,s)||(i.address=s),s}),S()(),E(34,"div",18)(35,"label",21),N(36,"Type"),S(),E(37,"select",22),nt("ngModelChange",function(s){return at(i.type,s)||(i.type=s),s}),E(38,"option",23),N(39,"Return Visit"),S(),E(40,"option",24),N(41,"Bible Study"),S()()(),E(42,"div",18)(43,"label",25),N(44,"Schedule "),E(45,"small"),N(46,"(e.g., Thursday, 10 AM)"),S()(),E(47,"input",26),nt("ngModelChange",function(s){return at(i.schedule,s)||(i.schedule=s),s}),S()(),E(48,"div",18)(49,"label",19),N(50,"Next Topic / Lesson "),E(51,"small"),N(52,"(e.g., Chapter 1, Title, Point Number)"),S()(),E(53,"textarea",27),nt("ngModelChange",function(s){return at(i.next_lesson,s)||(i.next_lesson=s),s}),S()(),re(54,cG,2,2,"div",28)(55,uG,2,2,"div",28),E(56,"button",29),Z("click",function(){return i.onSubmit()}),re(57,lG,1,0,"span",30),N(58," Save "),S()()()()),r&2&&(M(29),tt("ngModel",i.bible_study),M(4),tt("ngModel",i.address),M(4),tt("ngModel",i.type),M(10),tt("ngModel",i.schedule),M(6),tt("ngModel",i.next_lesson),M(),U("ngIf",i.isSuccess),M(),U("ngIf",!i.isSuccess),M(),U("disabled",i.isLoading||!i.bible_study||!i.address||!i.schedule||!i.next_lesson)("ngClass",mc(10,aG,!i.bible_study||!i.address||!i.schedule||!i.next_lesson)),M(),U("ngIf",i.isLoading))},dependencies:[Be,lo,gt,sr,Xh,ef,In,zs,or,Hn,CN],encapsulation:2})}return n})();function dG(n,e){n&1&&(E(0,"div"),Q(1,"app-calendar"),S())}function hG(n,e){n&1&&(E(0,"div",5),Q(1,"app-reports"),S())}function fG(n,e){n&1&&(E(0,"div",5),Q(1,"app-settings"),S())}var SN=(()=>{class n{auth;route;activeTab="calendar";constructor(t,r){this.auth=t,this.route=r}logout(){this.auth.logout(),this.route.navigate(["/login"])}onTabChange(t){this.activeTab=t}static \u0275fac=function(r){return new(r||n)(H(Ai),H(Dt))};static \u0275cmp=Me({type:n,selectors:[["app-home"]],decls:7,vars:3,consts:[[3,"tabChange"],[1,"sm:w-full","md:w-1/2","lg:w-1/2","xl:w-1/2","mx-auto","mb-3","px-2","sm:px-2","md:px-2","lg:px-0","xl:px-0"],[1,""],[4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"space-y-4"]],template:function(r,i){r&1&&(Q(0,"app-header"),E(1,"app-tab-card",0),Z("tabChange",function(s){return i.onTabChange(s)}),S(),E(2,"div",1)(3,"div",2),re(4,dG,2,0,"div",3)(5,hG,2,0,"div",4)(6,fG,2,0,"div",4),S()()),r&2&&(M(4),U("ngIf",i.activeTab==="calendar"),M(),U("ngIf",i.activeTab==="reports"),M(),U("ngIf",i.activeTab==="other"))},dependencies:[_N,wN,IN,Be,gt,DN,TN],encapsulation:2})}return n})();function pG(n,e){if(n&1&&(E(0,"div",31),N(1),S()),n&2){let t=B();M(),qe(" ",t.errorMessage," ")}}var AN=(()=>{class n{authService;email="";password="";confirmPassword="";errorMessage="";constructor(t){this.authService=t}signUp(){if(this.password!==this.confirmPassword){this.errorMessage="Passwords do not match";return}this.authService.signUp(this.email,this.password).then(()=>{console.log("User signed up")}).catch(t=>{console.error("Error signing up:",t),this.errorMessage=t.message})}static \u0275fac=function(r){return new(r||n)(H(Ai))};static \u0275cmp=Me({type:n,selectors:[["app-register"]],decls:50,vars:4,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-blue-50","to-indigo-100"],[1,"w-full","max-w-md"],[1,"bg-white","rounded-xl","shadow-xl","overflow-hidden"],[1,"bg-gradient-to-r","from-blue-500","to-indigo-600","px-8","py-6"],[1,"text-2xl","font-bold","text-white"],[1,"text-blue-100","mt-1"],[1,"p-8","space-y-6"],[1,"space-y-4"],[1,"relative"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"text-gray-400"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","email","id","email","placeholder","you@example.com","name","email",1,"w-full","pl-10","pr-4","py-3","bg-gray-50","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition","duration-200",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["type","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","password",1,"w-full","pl-10","pr-4","py-3","bg-gray-50","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition","duration-200",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","password","id","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","confirmPassword",1,"w-full","pl-10","pr-4","py-3","bg-gray-50","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:bg-white","transition","duration-200",3,"ngModelChange","ngModel"],[1,"w-full","flex","items-center","justify-center","gap-2","bg-gradient-to-r","from-blue-500","to-indigo-600","text-white","py-3","rounded-lg","hover:from-blue-600","hover:to-indigo-700","transition","duration-300","font-semibold","shadow-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","8.5","cy","7","r","4"],["x1","20","y1","8","x2","20","y2","14"],["x1","23","y1","11","x2","17","y2","11"],[1,"text-center","mt-6"],[1,"text-sm","text-gray-600"],["routerLink","/login",1,"text-blue-600","hover:text-blue-800","font-medium","transition","duration-200"],["class","bg-red-50 text-red-600 p-3 rounded-lg text-sm",4,"ngIf"],[1,"bg-red-50","text-red-600","p-3","rounded-lg","text-sm"]],template:function(r,i){r&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),N(5,"Join us"),S(),E(6,"p",5),N(7,"Create your account"),S()(),E(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),N(12,"Email"),S(),E(13,"div",8)(14,"div",10),yn(),E(15,"svg",11),Q(16,"path",12)(17,"polyline",13),S()(),ui(),E(18,"input",14),nt("ngModelChange",function(s){return at(i.email,s)||(i.email=s),s}),S()()(),E(19,"div",8)(20,"label",15),N(21,"Password"),S(),E(22,"div",8)(23,"div",10),yn(),E(24,"svg",11),Q(25,"rect",16)(26,"path",17),S()(),ui(),E(27,"input",18),nt("ngModelChange",function(s){return at(i.password,s)||(i.password=s),s}),S()()(),E(28,"div",8)(29,"label",19),N(30,"Confirm Password"),S(),E(31,"div",8)(32,"div",10),yn(),E(33,"svg",11),Q(34,"rect",16)(35,"path",17),S()(),ui(),E(36,"input",20),nt("ngModelChange",function(s){return at(i.confirmPassword,s)||(i.confirmPassword=s),s}),S()()()(),E(37,"button",21),Z("click",function(){return i.signUp()}),yn(),E(38,"svg",22),Q(39,"path",23)(40,"circle",24)(41,"line",25)(42,"line",26),S(),N(43," Create Account "),S(),ui(),E(44,"div",27)(45,"p",28),N(46," Already have an account? "),E(47,"a",29),N(48," Sign in "),S()()(),re(49,pG,2,1,"div",30),S()()()()),r&2&&(M(18),tt("ngModel",i.email),M(9),tt("ngModel",i.password),M(9),tt("ngModel",i.confirmPassword),M(13),U("ngIf",i.errorMessage))},dependencies:[Be,gt,sr,In,or,Hn,Us],encapsulation:2})}return n})();var f0=(()=>{class n{auth=F(dn);router=F(Dt);isAuthenticated=sn(!1);constructor(){Si(this.auth,t=>{this.isAuthenticated.set(!!t)})}canActivate(){return this.isAuthenticated()?(this.router.navigateByUrl("/",{replaceUrl:!0}),!1):!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xN=[{path:"",component:SN,canActivate:[gR]},{path:"login",component:pR,canActivate:[f0]},{path:"register",component:AN,canActivate:[f0]},{path:"**",redirectTo:"login"}];var RN={providers:[kT({eventCoalescing:!0}),xv(xN),ES(),hx(()=>fx(fA.firebase)),hN(()=>pN()),cR(()=>lR())]};var MN=(()=>{class n{auth;router;api;constructor(t,r,i){this.auth=t,this.router=r,this.api=i}ngOnInit(){Si(this.auth,t=>{t?(this.router.navigateByUrl("/"),this.loadBibleStudies()):this.router.navigateByUrl("/login")})}loadBibleStudies(){return v(this,null,function*(){yield this.api.getBibleStudies().then(t=>{}).catch(t=>{console.error("Error fetching Bible studies:",t)})})}static \u0275fac=function(r){return new(r||n)(H(dn),H(Dt),H(yr))};static \u0275cmp=Me({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){r&1&&Q(0,"router-outlet")},dependencies:[Gc],styles:[".loading[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin-top:50px}"]})}return n})();tv(MN,RN).catch(n=>console.error(n));
