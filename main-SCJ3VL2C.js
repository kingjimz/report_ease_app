var zO=Object.defineProperty,WO=Object.defineProperties;var qO=Object.getOwnPropertyDescriptors;var od=Object.getOwnPropertySymbols,GO=Object.getPrototypeOf,bC=Object.prototype.hasOwnProperty,TC=Object.prototype.propertyIsEnumerable,KO=Reflect.get;var CC=(n,e,t)=>e in n?zO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H=(n,e)=>{for(var t in e||={})bC.call(e,t)&&CC(n,t,e[t]);if(od)for(var t of od(e))TC.call(e,t)&&CC(n,t,e[t]);return n},ve=(n,e)=>WO(n,qO(e));var sd=(n,e)=>{var t={};for(var r in n)bC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&od)for(var r of od(n))e.indexOf(r)<0&&TC.call(n,r)&&(t[r]=n[r]);return t};var Fi=(n,e,t)=>KO(GO(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function SC(n,e){return Object.is(n,e)}var At=null,ad=!1,cd=1,ni=Symbol("SIGNAL");function Pe(n){let e=At;return At=n,e}function AC(){return At}var Lc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Eg(n){if(ad)throw new Error("");if(At===null)return;At.consumerOnSignalRead(n);let e=At.nextProducerIndex++;if(hd(At),e<At.producerNode.length&&At.producerNode[e]!==n&&Vc(At)){let t=At.producerNode[e];dd(t,At.producerIndexOfThis[e])}At.producerNode[e]!==n&&(At.producerNode[e]=n,At.producerIndexOfThis[e]=Vc(At)?NC(n,At,e):0),At.producerLastReadVersion[e]=n.version}function YO(){cd++}function xC(n){if(!(Vc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===cd)){if(!n.producerMustRecompute(n)&&!Dg(n)){n.dirty=!1,n.lastCleanEpoch=cd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=cd}}function MC(n){if(n.liveConsumerNode===void 0)return;let e=ad;ad=!0;try{for(let t of n.liveConsumerNode)t.dirty||QO(t)}finally{ad=e}}function RC(){return At?.consumerAllowSignalWrites!==!1}function QO(n){n.dirty=!0,MC(n),n.consumerMarkedDirty?.(n)}function ud(n){return n&&(n.nextProducerIndex=0),Pe(n)}function Ig(n,e){if(Pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Vc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)dd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Dg(n){hd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xC(t),r!==t.version))return!0}return!1}function Cg(n){if(hd(n),Vc(n))for(let e=0;e<n.producerNode.length;e++)dd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function NC(n,e,t){if(kC(n),n.liveConsumerNode.length===0&&PC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=NC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function dd(n,e){if(kC(n),n.liveConsumerNode.length===1&&PC(n))for(let r=0;r<n.producerNode.length;r++)dd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];hd(i),i.producerIndexOfThis[r]=e}}function Vc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function hd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function kC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function PC(n){return n.producerNode!==void 0}function OC(n){let e=Object.create(XO);e.computation=n;let t=()=>{if(xC(e),Eg(e),e.value===ld)throw e.error;return e.value};return t[ni]=e,t}var _g=Symbol("UNSET"),wg=Symbol("COMPUTING"),ld=Symbol("ERRORED"),XO=ve(H({},Lc),{value:_g,dirty:!0,error:null,equal:SC,producerMustRecompute(n){return n.value===_g||n.value===wg},producerRecomputeValue(n){if(n.value===wg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=wg;let t=ud(n),r;try{r=n.computation()}catch(i){r=ld,n.error=i}finally{Ig(n,t)}if(e!==_g&&e!==ld&&r!==ld&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function ZO(){throw new Error}var FC=ZO;function VC(){FC()}function LC(n){FC=n}var JO=null;function jC(n){let e=Object.create(BC);e.value=n;let t=()=>(Eg(e),e.value);return t[ni]=e,t}function bg(n,e){RC()||VC(),n.equal(n.value,e)||(n.value=e,eF(n))}function UC(n,e){RC()||VC(),bg(n,e(n.value))}var BC=ve(H({},Lc),{equal:SC,value:void 0});function eF(n){n.version++,YO(),MC(n),JO?.()}function ce(n){return typeof n=="function"}function Ls(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var fd=Ls(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Mo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var lt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof fd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{HC(o)}catch(s){e=e??[],s instanceof fd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)HC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Mo(t,e)}remove(e){let{_finalizers:t}=this;t&&Mo(t,e),e instanceof n&&e._removeParent(this)}};lt.EMPTY=(()=>{let n=new lt;return n.closed=!0,n})();var Tg=lt.EMPTY;function pd(n){return n instanceof lt||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function HC(n){ce(n)?n():n.unsubscribe()}var rr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var js={setTimeout(n,e,...t){let{delegate:r}=js;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=js;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function md(n){js.setTimeout(()=>{let{onUnhandledError:e}=rr;if(e)e(n);else throw n})}function jc(){}var $C=Sg("C",void 0,void 0);function zC(n){return Sg("E",void 0,n)}function WC(n){return Sg("N",n,void 0)}function Sg(n,e,t){return{kind:n,value:e,error:t}}var Ro=null;function Us(n){if(rr.useDeprecatedSynchronousErrorHandling){let e=!Ro;if(e&&(Ro={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ro;if(Ro=null,t)throw r}}else n()}function qC(n){rr.useDeprecatedSynchronousErrorHandling&&Ro&&(Ro.errorThrown=!0,Ro.error=n)}var No=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pd(e)&&e.add(this)):this.destination=rF}static create(e,t,r){return new ri(e,t,r)}next(e){this.isStopped?xg(WC(e),this):this._next(e)}error(e){this.isStopped?xg(zC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xg($C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tF=Function.prototype.bind;function Ag(n,e){return tF.call(n,e)}var Mg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){gd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){gd(r)}else gd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){gd(t)}}},ri=class extends No{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&rr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ag(e.next,o),error:e.error&&Ag(e.error,o),complete:e.complete&&Ag(e.complete,o)}):i=e}this.destination=new Mg(i)}};function gd(n){rr.useDeprecatedSynchronousErrorHandling?qC(n):md(n)}function nF(n){throw n}function xg(n,e){let{onStoppedNotification:t}=rr;t&&js.setTimeout(()=>t(n,e))}var rF={closed:!0,next:jc,error:nF,complete:jc};var Bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function cn(n){return n}function Rg(...n){return Ng(n)}function Ng(n){return n.length===0?cn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=oF(t)?t:new ri(t,r,i);return Us(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=GC(r),new r((i,o)=>{let s=new ri({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Bs](){return this}pipe(...t){return Ng(t)(this)}toPromise(t){return t=GC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function GC(n){var e;return(e=n??rr.Promise)!==null&&e!==void 0?e:Promise}function iF(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function oF(n){return n&&n instanceof No||iF(n)&&pd(n)}function kg(n){return ce(n?.lift)}function ye(n){return e=>{if(kg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(n,e,t,r,i){return new Pg(n,e,t,r,i)}var Pg=class extends No{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hs(){return ye((n,e)=>{let t=null;n._refCount++;let r=De(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var $s=class extends he{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,kg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let t=this.getSubject();e.add(this.source.subscribe(De(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return Hs()(this)}};var KC=Ls(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new vd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new KC}next(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tg:(this.currentObservers=null,o.push(t),new lt(()=>{this.currentObservers=null,Mo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new vd(e,t),n})(),vd=class extends Te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Tg}};var ut=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Uc={now(){return(Uc.delegate||Date).now()},delegate:void 0};var Bc=class extends Te{constructor(e=1/0,t=1/0,r=Uc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var yd=class extends lt{constructor(e,t){super()}schedule(e,t=0){return this}};var Hc={setInterval(n,e,...t){let{delegate:r}=Hc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Hc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zs=class extends yd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Hc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Hc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Mo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ws=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ws.now=Uc.now;var qs=class extends Ws{constructor(e,t=Ws.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Gs=new qs(zs),Og=Gs;var _d=class extends zs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var wd=class extends qs{};var Fg=new wd(_d);var ln=new he(n=>n.complete());function Ed(n){return n&&ce(n.schedule)}function Vg(n){return n[n.length-1]}function Id(n){return ce(Vg(n))?n.pop():void 0}function Tr(n){return Ed(Vg(n))?n.pop():void 0}function YC(n,e){return typeof Vg(n)=="number"?n.pop():e}var $c=function(){return $c=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$c.apply(this,arguments)};function Dd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function QC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ko(n){return this instanceof ko?(this.v=n,this):new ko(n)}function ZC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(D){return Promise.resolve(D).then(m,f)}}function a(m,D){r[m]&&(i[m]=function(R){return new Promise(function(A,P){o.push([m,R,A,P])>1||c(m,R)})},D&&(i[m]=D(i[m])))}function c(m,D){try{u(r[m](D))}catch(R){v(o[0][3],R)}}function u(m){m.value instanceof ko?Promise.resolve(m.value.v).then(d,f):v(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function v(m,D){m(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function JC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof QC=="function"?QC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Ks=n=>n&&typeof n.length=="number"&&typeof n!="function";function Cd(n){return ce(n?.then)}function bd(n){return ce(n[Bs])}function Td(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function Sd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ad=sF();function xd(n){return ce(n?.[Ad])}function Md(n){return ZC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ko(t.read());if(i)return yield ko(void 0);yield yield ko(r)}}finally{t.releaseLock()}})}function Rd(n){return ce(n?.getReader)}function $e(n){if(n instanceof he)return n;if(n!=null){if(bd(n))return aF(n);if(Ks(n))return cF(n);if(Cd(n))return lF(n);if(Td(n))return eb(n);if(xd(n))return uF(n);if(Rd(n))return dF(n)}throw Sd(n)}function aF(n){return new he(e=>{let t=n[Bs]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cF(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function lF(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,md)})}function uF(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function eb(n){return new he(e=>{hF(n,e).catch(t=>e.error(t))})}function dF(n){return eb(Md(n))}function hF(n,e){var t,r,i,o;return XC(this,void 0,void 0,function*(){try{for(t=JC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function gn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Vi(n,e=0){return ye((t,r)=>{t.subscribe(De(r,i=>gn(r,n,()=>r.next(i),e),()=>gn(r,n,()=>r.complete(),e),i=>gn(r,n,()=>r.error(i),e)))})}function Li(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function tb(n,e){return $e(n).pipe(Li(e),Vi(e))}function nb(n,e){return $e(n).pipe(Li(e),Vi(e))}function rb(n,e){return new he(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ib(n,e){return new he(t=>{let r;return gn(t,e,()=>{r=n[Ad](),gn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function Nd(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{gn(t,e,()=>{let r=n[Symbol.asyncIterator]();gn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ob(n,e){return Nd(Md(n),e)}function sb(n,e){if(n!=null){if(bd(n))return tb(n,e);if(Ks(n))return rb(n,e);if(Cd(n))return nb(n,e);if(Td(n))return Nd(n,e);if(xd(n))return ib(n,e);if(Rd(n))return ob(n,e)}throw Sd(n)}function et(n,e){return e?sb(n,e):$e(n)}function pe(...n){let e=Tr(n);return et(n,e)}function Ys(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new he(e?i=>e.schedule(r,0,i):r)}function Lg(n){return!!n&&(n instanceof he||ce(n.lift)&&ce(n.subscribe))}var ii=Ls(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ab(n){return n instanceof Date&&!isNaN(n)}function ae(n,e){return ye((t,r)=>{let i=0;t.subscribe(De(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:fF}=Array;function pF(n,e){return fF(e)?n(...e):n(e)}function Qs(n){return ae(e=>pF(n,e))}var{isArray:mF}=Array,{getPrototypeOf:gF,prototype:vF,keys:yF}=Object;function kd(n){if(n.length===1){let e=n[0];if(mF(e))return{args:e,keys:null};if(_F(e)){let t=yF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function _F(n){return n&&typeof n=="object"&&gF(n)===vF}function Pd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xs(...n){let e=Tr(n),t=Id(n),{args:r,keys:i}=kd(n);if(r.length===0)return et([],e);let o=new he(wF(r,e,i?s=>Pd(i,s):cn));return t?o.pipe(Qs(t)):o}function wF(n,e,t=cn){return r=>{cb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)cb(e,()=>{let u=et(n[c],e),d=!1;u.subscribe(De(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cb(n,e,t){n?gn(t,n,e):e()}function lb(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,v=()=>{f&&!c.length&&!u&&e.complete()},m=R=>u<r?D(R):c.push(R),D=R=>{o&&e.next(R),u++;let A=!1;$e(t(R,d++)).subscribe(De(e,P=>{i?.(P),o?m(P):e.next(P)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<r;){let P=c.shift();s?gn(e,s,()=>D(P)):D(P)}v()}catch(P){e.error(P)}}))};return n.subscribe(De(e,m,()=>{f=!0,v()})),()=>{a?.()}}function qe(n,e,t=1/0){return ce(e)?qe((r,i)=>ae((o,s)=>e(r,o,i,s))($e(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>lb(r,i,n,t)))}function zc(n=1/0){return qe(cn,n)}function ub(){return zc(1)}function Zs(...n){return ub()(et(n,Tr(n)))}function Od(n){return new he(e=>{$e(n()).subscribe(e)})}function jg(...n){let e=Id(n),{args:t,keys:r}=kd(n),i=new he(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;$e(t[d]).subscribe(De(o,v=>{f||(f=!0,u--),a[d]=v},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?Pd(r,a):a),o.complete())}))}});return e?i.pipe(Qs(e)):i}var EF=["addListener","removeListener"],IF=["addEventListener","removeEventListener"],DF=["on","off"];function ji(n,e,t,r){if(ce(t)&&(r=t,t=void 0),r)return ji(n,e,t).pipe(Qs(r));let[i,o]=TF(n)?IF.map(s=>a=>n[s](e,a,t)):CF(n)?EF.map(db(n,e)):bF(n)?DF.map(db(n,e)):[];if(!i&&Ks(n))return qe(s=>ji(s,e,t))($e(n));if(!i)throw new TypeError("Invalid event target");return new he(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function db(n,e){return t=>r=>n[t](e,r)}function CF(n){return ce(n.addListener)&&ce(n.removeListener)}function bF(n){return ce(n.on)&&ce(n.off)}function TF(n){return ce(n.addEventListener)&&ce(n.removeEventListener)}function Wc(n=0,e,t=Og){let r=-1;return e!=null&&(Ed(e)?t=e:r=e),new he(i=>{let o=ab(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ug(n=0,e=Gs){return n<0&&(n=0),Wc(n,n,e)}function Vn(...n){let e=Tr(n),t=YC(n,1/0),r=n;return r.length?r.length===1?$e(r[0]):zc(t)(et(r,e)):ln}function Qe(n,e){return ye((t,r)=>{let i=0;t.subscribe(De(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ui(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(De(t,void 0,void 0,s=>{o=$e(n(s,Ui(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Fd(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(De(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function hb(n,e){return ye(Fd(n,e,arguments.length>=2,!1,!0))}function Po(n,e){return ce(e)?qe(n,e,1):qe(n,1)}function Bg(n){return hb((e,t,r)=>!n||n(t,r)?e+1:e,0)}function Bi(n){return ye((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Yt(n){return n<=0?()=>ln:ye((e,t)=>{let r=0;e.subscribe(De(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hg(n){return ae(()=>n)}function $g(n,e=cn){return n=n??SF,ye((t,r)=>{let i,o=!0;t.subscribe(De(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function SF(n,e){return n===e}function Vd(n=AF){return ye((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function AF(){return new ii}function Js(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ir(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qe((i,o)=>n(i,o,r)):cn,Yt(1),t?Bi(e):Vd(()=>new ii))}function Hi(n){return n<=0?()=>ln:ye((e,t)=>{let r=[];e.subscribe(De(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qe((i,o)=>n(i,o,r)):cn,Hi(1),t?Bi(e):Vd(()=>new ii))}function ea(){return ye((n,e)=>{let t,r=!1;n.subscribe(De(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function Wg(n,e){return ye(Fd(n,e,arguments.length>=2,!0))}function Ln(n={}){let{connector:e=()=>new Te,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,f=!1,v=()=>{a?.unsubscribe(),a=void 0},m=()=>{v(),s=c=void 0,d=f=!1},D=()=>{let R=s;m(),R?.unsubscribe()};return ye((R,A)=>{u++,!f&&!d&&v();let P=c=c??e();A.add(()=>{u--,u===0&&!f&&!d&&(a=qg(D,i))}),P.subscribe(A),!s&&u>0&&(s=new ri({next:U=>P.next(U),error:U=>{f=!0,v(),a=qg(m,t,U),P.error(U)},complete:()=>{d=!0,v(),a=qg(m,r),P.complete()}}),$e(R).subscribe(s))})(o)}}function qg(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ri({next:()=>{r.unsubscribe(),n()}});return $e(e(...t)).subscribe(r)}function Oo(...n){let e=Tr(n);return ye((t,r)=>{(e?Zs(n,t,e):Zs(n,t)).subscribe(r)})}function Ht(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(De(r,c=>{i?.unsubscribe();let u=0,d=o++;$e(n(c,d)).subscribe(i=De(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Gg(n,e){return ce(e)?Ht(()=>n,e):Ht(()=>n)}function vn(n){return ye((e,t)=>{$e(n).subscribe(De(t,()=>t.complete(),jc)),!t.closed&&e.subscribe(t)})}function ot(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(De(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):cn}var iT="https://g.co/ng/security#xss",te=class extends Error{constructor(e,t){super(Sh(e,t)),this.code=e}};function Sh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function rl(n){return{toString:n}.toString()}var Ld="__parameters__";function xF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function oT(n,e,t){return rl(()=>{let r=xF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Ld)?c[Ld]:Object.defineProperty(c,Ld,{value:[]})[Ld];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var oi=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function MF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function hn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(hn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function uv(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var RF=ze({__forward_ref__:ze});function li(n){return n.__forward_ref__=li,n.toString=function(){return hn(this())},n}function un(n){return sT(n)?n():n}function sT(n){return typeof n=="function"&&n.hasOwnProperty(RF)&&n.__forward_ref__===li}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ah(n){return fb(n,cT)||fb(n,lT)}function aT(n){return Ah(n)!==null}function fb(n,e){return n.hasOwnProperty(e)?n[e]:null}function NF(n){let e=n&&(n[cT]||n[lT]);return e||null}function pb(n){return n&&(n.hasOwnProperty(mb)||n.hasOwnProperty(kF))?n[mb]:null}var cT=ze({\u0275prov:ze}),mb=ze({\u0275inj:ze}),lT=ze({ngInjectableDef:ze}),kF=ze({ngInjectorDef:ze}),ne=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uT(n){return n&&!!n.\u0275providers}var PF=ze({\u0275cmp:ze}),OF=ze({\u0275dir:ze}),FF=ze({\u0275pipe:ze}),VF=ze({\u0275mod:ze}),Jd=ze({\u0275fac:ze}),Kc=ze({__NG_ELEMENT_ID__:ze}),gb=ze({__NG_ENV_ID__:ze});function Lo(n){return typeof n=="string"?n:n==null?"":String(n)}function LF(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Lo(n)}function jF(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new te(-200,n)}function sy(n,e){throw new te(-201,!1)}var Ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ce||{}),dv;function dT(){return dv}function yn(n){let e=dv;return dv=n,e}function hT(n,e,t){let r=Ah(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ce.Optional)return null;if(e!==void 0)return e;sy(n,"Injector")}var UF={},Yc=UF,hv="__NG_DI_FLAG__",eh="ngTempTokenPath",BF="ngTokenPath",HF=/\n/gm,$F="\u0275",vb="__source",ia;function zF(){return ia}function $i(n){let e=ia;return ia=n,e}function WF(n,e=Ce.Default){if(ia===void 0)throw new te(-203,!1);return ia===null?hT(n,void 0,e):ia.get(n,e&Ce.Optional?null:void 0,e)}function ue(n,e=Ce.Default){return(dT()||WF)(un(n),e)}function $(n,e=Ce.Default){return ue(n,xh(e))}function xh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fv(n){let e=[];for(let t=0;t<n.length;t++){let r=un(n[t]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=Ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=qF(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ue(i,o))}else e.push(ue(r))}return e}function fT(n,e){return n[hv]=e,n.prototype[hv]=e,n}function qF(n){return n[hv]}function GF(n,e,t,r){let i=n[eh];throw e[vb]&&i.unshift(e[vb]),n.message=KF(`
`+n.message,i,t,r),n[BF]=i,n[eh]=null,n}function KF(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==$F?n.slice(2):n;let i=hn(e);if(Array.isArray(e))i=e.map(hn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):hn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(HF,`
  `)}`}var Xt=fT(oT("Optional"),8);var ay=fT(oT("SkipSelf"),4);function jo(n,e){let t=n.hasOwnProperty(Jd);return t?n[Jd]:null}function cy(n,e){n.forEach(t=>Array.isArray(t)?cy(t,e):e(t))}function pT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function th(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function YF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ly(n,e,t){let r=il(n,e);return r>=0?n[r|1]=t:(r=~r,YF(n,r,e,t)),r}function Kg(n,e){let t=il(n,e);if(t>=0)return n[t|1]}function il(n,e){return QF(n,e,1)}function QF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var sa={},dn=[],Uo=new ne(""),mT=new ne("",-1),gT=new ne(""),nh=class{get(e,t=Yc){if(t===Yc){let r=new Error(`NullInjectorError: No provider for ${hn(e)}!`);throw r.name="NullInjectorError",r}return t}},vT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vT||{}),xr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xr||{}),Wi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wi||{});function XF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function pv(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];ZF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function yT(n){return n===3||n===4||n===6}function ZF(n){return n.charCodeAt(0)===64}function Qc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?yb(n,t,i,null,e[++r]):yb(n,t,i,null,null))}}return n}function yb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var _T="ng-template";function JF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(uy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function uy(n){return n.type===4&&n.value!==_T}function eV(n,e,t){let r=n.type===4&&!t?_T:n.value;return e===r}function tV(n,e,t){let r=4,i=n.attrs,o=i!==null?iV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!or(r)&&!or(c))return!1;if(s&&or(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!eV(n,c,t)||c===""&&e.length===1){if(or(r))return!1;s=!0}}else if(r&8){if(i===null||!JF(n,i,c,t)){if(or(r))return!1;s=!0}}else{let u=e[++a],d=nV(c,i,uy(n),t);if(d===-1){if(or(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(or(r))return!1;s=!0}}}}return or(r)||s}function or(n){return(n&1)===0}function nV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return oV(e,n)}function rV(n,e,t=!1){for(let r=0;r<e.length;r++)if(tV(n,e[r],t))return!0;return!1}function iV(n){for(let e=0;e<n.length;e++){let t=n[e];if(yT(t))return e}return n.length}function oV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _b(n,e){return n?":not("+e.trim()+")":e}function sV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!or(s)&&(e+=_b(o,i),i=""),r=s,o=o||!or(r);t++}return i!==""&&(e+=_b(o,i)),e}function aV(n){return n.map(sV).join(",")}function cV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!or(i))break;i=o}r++}return{attrs:e,classes:t}}function xe(n){return rl(()=>{let e=CT(n),t=ve(H({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""});bT(t);let r=n.dependencies;return t.directiveDefs=Eb(r,!1),t.pipeDefs=Eb(r,!0),t.id=dV(t),t})}function lV(n){return Bo(n)||wT(n)}function uV(n){return n!==null}function Mt(n){return rl(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wb(n,e){if(n==null)return sa;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Wi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Wi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Ne(n){return rl(()=>{let e=CT(n);return bT(e),e})}function ui(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bo(n){return n[PF]||null}function wT(n){return n[OF]||null}function ET(n){return n[FF]||null}function IT(n){let e=Bo(n)||wT(n)||ET(n);return e!==null?e.standalone:!1}function DT(n,e){let t=n[VF]||null;if(!t&&e===!0)throw new Error(`Type ${hn(n)} does not have '\u0275mod' property.`);return t}function CT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||sa,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wb(n.inputs,e),outputs:wb(n.outputs),debugInfo:null}}function bT(n){n.features?.forEach(e=>e(n))}function Eb(n,e){if(!n)return null;let t=e?ET:lV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(uV)}function dV(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Tn(n){return{\u0275providers:n}}function hV(...n){return{\u0275providers:TT(!0,n),\u0275fromNgModule:!0}}function TT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return cy(e,s=>{let a=s;mv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ST(i,o),t}function ST(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];dy(i,o=>{e(o,r)})}}function mv(n,e,t,r){if(n=un(n),!n)return!1;let i=null,o=pb(n),s=!o&&Bo(n);if(!o&&!s){let c=n.ngModule;if(o=pb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)mv(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{cy(o.imports,d=>{mv(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&ST(u,e)}if(!a){let u=jo(i)||(()=>new i);e({provide:i,useFactory:u,deps:dn},i),e({provide:gT,useValue:i,multi:!0},i),e({provide:Uo,useValue:()=>ue(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;dy(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function dy(n,e){for(let t of n)uT(t)&&(t=t.\u0275providers),Array.isArray(t)?dy(t,e):e(t)}var fV=ze({provide:String,useValue:ze});function AT(n){return n!==null&&typeof n=="object"&&fV in n}function pV(n){return!!(n&&n.useExisting)}function mV(n){return!!(n&&n.useFactory)}function aa(n){return typeof n=="function"}function gV(n){return!!n.useClass}var Mh=new ne(""),Kd={},vV={},Yg;function hy(){return Yg===void 0&&(Yg=new nh),Yg}var Un=class{},Xc=class extends Un{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vv(e,s=>this.processProvider(s)),this.records.set(mT,ta(void 0,this)),i.has("environment")&&this.records.set(Un,ta(void 0,this));let o=this.records.get(Mh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gT,dn,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=$i(this),r=yn(void 0),i;try{return e()}finally{$i(t),yn(r)}}get(e,t=Yc,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gb))return e[gb](this);r=xh(r);let i,o=$i(this),s=yn(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=IV(e)&&Ah(e);u&&this.injectableDefInScope(u)?c=ta(gv(e),Kd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ce.Self?hy():this.parent;return t=r&Ce.Optional&&t===Yc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[eh]=a[eh]||[]).unshift(hn(e)),o)throw a;return GF(a,e,"R3InjectorError",this.source)}else throw a}finally{yn(s),$i(o)}}resolveInjectorInitializers(){let e=Pe(null),t=$i(this),r=yn(void 0),i;try{let o=this.get(Uo,dn,Ce.Self);for(let s of o)s()}finally{$i(t),yn(r),Pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(hn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=un(e);let t=aa(e)?e:un(e&&e.provide),r=_V(e);if(!aa(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ta(void 0,Kd,!0),i.factory=()=>fv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Pe(null);try{return t.value===Kd&&(t.value=vV,t.value=t.factory()),typeof t.value=="object"&&t.value&&EV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=un(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function gv(n){let e=Ah(n),t=e!==null?e.factory:jo(n);if(t!==null)return t;if(n instanceof ne)throw new te(204,!1);if(n instanceof Function)return yV(n);throw new te(204,!1)}function yV(n){if(n.length>0)throw new te(204,!1);let t=NF(n);return t!==null?()=>t.factory(n):()=>new n}function _V(n){if(AT(n))return ta(void 0,n.useValue);{let e=xT(n);return ta(e,Kd)}}function xT(n,e,t){let r;if(aa(n)){let i=un(n);return jo(i)||gv(i)}else if(AT(n))r=()=>un(n.useValue);else if(mV(n))r=()=>n.useFactory(...fv(n.deps||[]));else if(pV(n))r=()=>ue(un(n.useExisting));else{let i=un(n&&(n.useClass||n.provide));if(wV(n))r=()=>new i(...fv(n.deps));else return jo(i)||gv(i)}return r}function ta(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function wV(n){return!!n.deps}function EV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function IV(n){return typeof n=="function"||typeof n=="object"&&n instanceof ne}function vv(n,e){for(let t of n)Array.isArray(t)?vv(t,e):t&&uT(t)?vv(t.\u0275providers,e):e(t)}function kr(n,e){n instanceof Xc&&n.assertNotDestroyed();let t,r=$i(n),i=yn(void 0);try{return e()}finally{$i(r),yn(i)}}function DV(){return dT()!==void 0||zF()!=null}function CV(n){return typeof n=="function"}var bn=0,be=1,me=2,Qt=3,ar=4,dr=5,Mr=6,rh=7,lr=8,ca=9,Rr=10,Xe=11,Zc=12,Ib=13,va=14,Bn=15,la=16,na=17,ua=18,Rh=19,MT=20,zi=21,Qg=22,jn=23,_t=25,RT=1,Jc=6,si=7,ih=8,oh=9,Cn=10,sh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(sh||{});function cr(n){return Array.isArray(n)&&typeof n[RT]=="object"}function Pr(n){return Array.isArray(n)&&n[RT]===!0}function fy(n){return(n.flags&4)!==0}function ol(n){return n.componentOffset>-1}function Nh(n){return(n.flags&1)===1}function qi(n){return!!n.template}function ah(n){return(n[me]&512)!==0}var yv=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function NT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Zt(){return kT}function kT(n){return n.type.prototype.ngOnChanges&&(n.setInput=TV),bV}Zt.ngInherit=!0;function bV(){let n=OT(this),e=n?.current;if(e){let t=n.previous;if(t===sa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function TV(n,e,t,r,i){let o=this.declaredInputs[r],s=OT(n)||SV(n,{previous:sa,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new yv(u&&u.currentValue,t,c===sa),NT(n,e,i,t)}var PT="__ngSimpleChanges__";function OT(n){return n[PT]||null}function SV(n,e){return n[PT]=e}var Db=null;var Sr=function(n,e,t){Db?.(n,e,t)},FT="svg",AV="math";function ur(n){for(;Array.isArray(n);)n=n[bn];return n}function VT(n,e){return ur(e[n])}function Sn(n,e){return ur(e[n.index])}function LT(n,e){return n.data[e]}function kh(n,e){return n[e]}function Qi(n,e){let t=e[n];return cr(t)?t:t[bn]}function py(n){return(n[me]&128)===128}function xV(n){return Pr(n[Qt])}function da(n,e){return e==null?null:n[e]}function jT(n){n[na]=0}function UT(n){n[me]&1024||(n[me]|=1024,py(n)&&Oh(n))}function MV(n,e){for(;n>0;)e=e[va],n--;return e}function Ph(n){return!!(n[me]&9216||n[jn]?.dirty)}function _v(n){n[Rr].changeDetectionScheduler?.notify(8),n[me]&64&&(n[me]|=1024),Ph(n)&&Oh(n)}function Oh(n){n[Rr].changeDetectionScheduler?.notify(0);let e=Ho(n);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!py(e)));)e=Ho(e)}function BT(n,e){if((n[me]&256)===256)throw new te(911,!1);n[zi]===null&&(n[zi]=[]),n[zi].push(e)}function RV(n,e){if(n[zi]===null)return;let t=n[zi].indexOf(e);t!==-1&&n[zi].splice(t,1)}function Ho(n){let e=n[Qt];return Pr(e)?e[Qt]:e}var _e={lFrame:QT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HT=!1;function NV(){return _e.lFrame.elementDepthCount}function kV(){_e.lFrame.elementDepthCount++}function PV(){_e.lFrame.elementDepthCount--}function $T(){return _e.bindingsEnabled}function sl(){return _e.skipHydrationRootTNode!==null}function OV(n){return _e.skipHydrationRootTNode===n}function FV(n){_e.skipHydrationRootTNode=n}function VV(){_e.skipHydrationRootTNode=null}function Ee(){return _e.lFrame.lView}function $t(){return _e.lFrame.tView}function G(n){return _e.lFrame.contextLView=n,n[lr]}function K(n){return _e.lFrame.contextLView=null,n}function Jt(){let n=zT();for(;n!==null&&n.type===64;)n=n.parent;return n}function zT(){return _e.lFrame.currentTNode}function LV(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Go(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function my(){return _e.lFrame.isParent}function WT(){_e.lFrame.isParent=!1}function jV(){return _e.lFrame.contextLView}function qT(){return HT}function Cb(n){HT=n}function $n(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function UV(){return _e.lFrame.bindingIndex}function BV(n){return _e.lFrame.bindingIndex=n}function Fh(){return _e.lFrame.bindingIndex++}function gy(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function HV(){return _e.lFrame.inI18n}function $V(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,wv(e)}function zV(){return _e.lFrame.currentDirectiveIndex}function wv(n){_e.lFrame.currentDirectiveIndex=n}function WV(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function GT(n){_e.lFrame.currentQueryIndex=n}function qV(n){let e=n[be];return e.type===2?e.declTNode:e.type===1?n[dr]:null}function KT(n,e,t){if(t&Ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ce.Host);)if(i=qV(o),i===null||(o=o[va],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=_e.lFrame=YT();return r.currentTNode=e,r.lView=n,!0}function vy(n){let e=YT(),t=n[be];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function YT(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?QT(n):e}function QT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function XT(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ZT=XT;function yy(){let n=XT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function GV(n){return(_e.lFrame.contextLView=MV(n,_e.lFrame.contextLView))[lr]}function Xi(){return _e.lFrame.selectedIndex}function $o(n){_e.lFrame.selectedIndex=n}function _y(){let n=_e.lFrame;return LT(n.tView,n.selectedIndex)}function al(){_e.lFrame.currentNamespace=FT}function wy(){KV()}function KV(){_e.lFrame.currentNamespace=null}function JT(){return _e.lFrame.currentNamespace}var eS=!0;function Vh(){return eS}function Zi(n){eS=n}function YV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=kT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Lh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Yd(n,e,t){tS(n,e,3,t)}function Qd(n,e,t,r){(n[me]&3)===t&&tS(n,e,t,r)}function Xg(n,e){let t=n[me];(t&3)===e&&(t&=16383,t+=1,n[me]=t)}function tS(n,e,t,r){let i=r!==void 0?n[na]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[na]+=65536),(a<o||o==-1)&&(QV(n,t,e,c),n[na]=(n[na]&4294901760)+c+2),c++}function bb(n,e){Sr(4,n,e);let t=Pe(null);try{e.call(n)}finally{Pe(t),Sr(5,n,e)}}function QV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[me]>>14<n[na]>>16&&(n[me]&3)===e&&(n[me]+=16384,bb(a,o)):bb(a,o)}var oa=-1,zo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function XV(n){return n instanceof zo}function ZV(n){return(n.flags&8)!==0}function JV(n){return(n.flags&16)!==0}var Zg={},Ev=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=xh(r);let i=this.injector.get(e,Zg,r);return i!==Zg||t===Zg?i:this.parentInjector.get(e,t,r)}};function nS(n){return n!==oa}function ch(n){return n&32767}function eL(n){return n>>16}function lh(n,e){let t=eL(n),r=e;for(;t>0;)r=r[va],t--;return r}var Iv=!0;function uh(n){let e=Iv;return Iv=n,e}var tL=256,rS=tL-1,iS=5,nL=0,Ar={};function rL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Kc)&&(r=t[Kc]),r==null&&(r=t[Kc]=nL++);let i=r&rS,o=1<<i;e.data[n+(i>>iS)]|=o}function dh(n,e){let t=oS(n,e);if(t!==-1)return t;let r=e[be];r.firstCreatePass&&(n.injectorIndex=e.length,Jg(r.data,n),Jg(e,null),Jg(r.blueprint,null));let i=Ey(n,e),o=n.injectorIndex;if(nS(i)){let s=ch(i),a=lh(i,e),c=a[be].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Jg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ey(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=uS(i),r===null)return oa;if(t++,i=i[va],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return oa}function Dv(n,e,t){rL(n,e,t)}function iL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(yT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function sS(n,e,t){if(t&Ce.Optional||n!==void 0)return n;sy(e,"NodeInjector")}function aS(n,e,t,r){if(t&Ce.Optional&&r===void 0&&(r=null),!(t&(Ce.Self|Ce.Host))){let i=n[ca],o=yn(void 0);try{return i?i.get(e,r,t&Ce.Optional):hT(e,r,t&Ce.Optional)}finally{yn(o)}}return sS(r,e,t)}function cS(n,e,t,r=Ce.Default,i){if(n!==null){if(e[me]&2048&&!(r&Ce.Self)){let s=lL(n,e,t,r,Ar);if(s!==Ar)return s}let o=lS(n,e,t,r,Ar);if(o!==Ar)return o}return aS(e,t,r,i)}function lS(n,e,t,r,i){let o=aL(t);if(typeof o=="function"){if(!KT(e,n,r))return r&Ce.Host?sS(i,t,r):aS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ce.Optional))sy(t);else return s}finally{ZT()}}else if(typeof o=="number"){let s=null,a=oS(n,e),c=oa,u=r&Ce.Host?e[Bn][dr]:null;for((a===-1||r&Ce.SkipSelf)&&(c=a===-1?Ey(n,e):e[a+8],c===oa||!Sb(r,!1)?a=-1:(s=e[be],a=ch(c),e=lh(c,e)));a!==-1;){let d=e[be];if(Tb(o,a,d.data)){let f=oL(a,e,t,s,r,u);if(f!==Ar)return f}c=e[a+8],c!==oa&&Sb(r,e[be].data[a+8]===u)&&Tb(o,a,e)?(s=d,a=ch(c),e=lh(c,e)):a=-1}}return i}function oL(n,e,t,r,i,o){let s=e[be],a=s.data[n+8],c=r==null?ol(a)&&Iv:r!=s&&(a.type&3)!==0,u=i&Ce.Host&&o===a,d=sL(a,s,t,c,u);return d!==null?ha(e,s,d,a):Ar}function sL(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,v=i?a+d:u;for(let m=f;m<v;m++){let D=s[m];if(m<c&&t===D||m>=c&&D.type===t)return m}if(i){let m=s[c];if(m&&qi(m)&&m.type===t)return c}return null}function ha(n,e,t,r){let i=n[t],o=e.data;if(XV(i)){let s=i;s.resolving&&jF(LF(o[t]));let a=uh(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?yn(s.injectImpl):null,d=KT(n,r,Ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&YV(t,o[t],e)}finally{u!==null&&yn(u),uh(a),s.resolving=!1,ZT()}}return i}function aL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Kc)?n[Kc]:void 0;return typeof e=="number"?e>=0?e&rS:cL:e}function Tb(n,e,t){let r=1<<n;return!!(t[e+(n>>iS)]&r)}function Sb(n,e){return!(n&Ce.Self)&&!(n&Ce.Host&&e)}var Vo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cS(this._tNode,this._lView,e,xh(r),t)}};function cL(){return new Vo(Jt(),Ee())}function Or(n){return rl(()=>{let e=n.prototype.constructor,t=e[Jd]||Cv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Jd]||Cv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cv(n){return sT(n)?()=>{let e=Cv(un(n));return e&&e()}:jo(n)}function lL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[me]&2048&&!(s[me]&512);){let a=lS(o,s,t,r|Ce.Self,Ar);if(a!==Ar)return a;let c=o.parent;if(!c){let u=s[MT];if(u){let d=u.get(t,Ar,r);if(d!==Ar)return d}c=uS(s),s=s[va]}o=c}return i}function uS(n){let e=n[be],t=e.type;return t===2?e.declTNode:t===1?n[dr]:null}function Iy(n){return iL(Jt(),n)}function Ab(n,e=null,t=null,r){let i=dS(n,e,t,r);return i.resolveInjectorInitializers(),i}function dS(n,e=null,t=null,r,i=new Set){let o=[t||dn,hV(n)];return r=r||(typeof n=="object"?void 0:hn(n)),new Xc(o,e||hy(),r||null,i)}var Ft=class n{static{this.THROW_IF_NOT_FOUND=Yc}static{this.NULL=new nh}static create(e,t){if(Array.isArray(e))return Ab({name:""},t,e,"");{let r=e.name??"";return Ab({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=X({token:n,providedIn:"any",factory:()=>ue(mT)})}static{this.__NG_ELEMENT_ID__=-1}};var uL=new ne("");uL.__NG_ELEMENT_ID__=n=>{let e=Jt();if(e===null)throw new te(204,!1);if(e.type&2)return e.value;if(n&Ce.Optional)return null;throw new te(204,!1)};var dL="ngOriginalError";function ev(n){return n[dL]}var hS=!0,fS=(()=>{class n{static{this.__NG_ELEMENT_ID__=hL}static{this.__NG_ENV_ID__=t=>t}}return n})(),bv=class extends fS{constructor(e){super(),this._lView=e}onDestroy(e){return BT(this._lView,e),()=>RV(this._lView,e)}};function hL(){return new bv(Ee())}var Ko=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Tv=class extends Te{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,DV()&&(this.destroyRef=$(fS,{optional:!0})??void 0,this.pendingTasks=$(Ko,{optional:!0})??void 0)}emit(e){let t=Pe(null);try{super.next(e)}finally{Pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof lt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},J=Tv;function hh(...n){}function pS(n){let e,t;function r(){n=hh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xb(n){return queueMicrotask(()=>n()),()=>{n=hh}}var Dy="isAngularZone",fh=Dy+"_ID",fL=0,Se=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new J(!1),this.onMicrotaskEmpty=new J(!1),this.onStable=new J(!1),this.onError=new J(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hS}=e;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,gL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Dy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pL,hh,hh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},pL={};function Cy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pS(()=>{n.callbackScheduled=!1,Sv(n),n.isCheckStableRunning=!0,Cy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Sv(n)}function gL(n){let e=()=>{mL(n)},t=fL++;n._inner=n._inner.fork({name:"angular",properties:{[Dy]:!0,[fh]:t,[fh+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(vL(c))return r.invokeTask(o,s,a,c);try{return Mb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Rb(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return Mb(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!yL(c)&&e(),Rb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Sv(n),Cy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Sv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Mb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Rb(n){n._nesting--,Cy(n)}var Av=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new J,this.onMicrotaskEmpty=new J,this.onStable=new J,this.onError=new J}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function vL(n){return mS(n,"__ignore_ng_zone__")}function yL(n){return mS(n,"__scheduler_tick__")}function mS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ai=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ev(e);for(;t&&ev(t);)t=ev(t);return t||null}},_L=new ne("",{providedIn:"root",factory:()=>{let n=$(Se),e=$(ai);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function wL(){return jh(Jt(),Ee())}function jh(n,e){return new tt(Sn(n,e))}var tt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=wL}}return n})();var EL="ngSkipHydration",IL="ngskiphydration";function gS(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===IL)return!0}return!1}function vS(n){return n.hasAttribute(EL)}function ph(n){return(n.flags&128)===128}function DL(n){if(ph(n))return!0;let e=n.parent;for(;e;){if(ph(n)||gS(e))return!0;e=e.parent}return!1}var yS=new Map,CL=0;function bL(){return CL++}function TL(n){yS.set(n[Rh],n)}function xv(n){yS.delete(n[Rh])}var Nb="__ngContext__";function Gi(n,e){cr(e)?(n[Nb]=e[Rh],TL(e)):n[Nb]=e}function _S(n){return ES(n[Zc])}function wS(n){return ES(n[ar])}function ES(n){for(;n!==null&&!Pr(n);)n=n[ar];return n}var Mv;function IS(n){Mv=n}function cl(){if(Mv!==void 0)return Mv;if(typeof document<"u")return document;throw new te(210,!1)}var Uh=new ne("",{providedIn:"root",factory:()=>SL}),SL="ng",by=new ne(""),_n=new ne("",{providedIn:"platform",factory:()=>"unknown"});var Ty=new ne("",{providedIn:"root",factory:()=>cl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function AL(){let n=new ya;return $(_n)==="browser"&&(n.store=xL(cl(),$(Uh))),n}var ya=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=X({token:n,providedIn:"root",factory:AL})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function xL(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var DS="h",CS="b",Rv=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Rv||{}),ML="e",RL="t",Sy="c",bS="x",mh="r",NL="i",kL="n",TS="d";var PL="__nghData__",SS=PL,tv="ngh",OL="nghm",AS=()=>null;function FL(n,e,t=!1){let r=n.getAttribute(tv);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,c={};if(r!==""){let d=e.get(ya,null,{optional:!0});d!==null&&(c=d.get(SS,[])[Number(r)])}let u={data:c,firstChild:n.firstChild??null};return t&&(u.firstChild=n,Bh(u,0,n.nextSibling)),a?n.setAttribute(tv,a):n.removeAttribute(tv),u}function VL(){AS=FL}function Ay(n,e,t=!1){return AS(n,e,t)}function LL(n){let e=n._lView;return e[be].type===2?null:(ah(e)&&(e=e[_t]),e)}function jL(n){return n.textContent?.replace(/\s/gm,"")}function UL(n){let e=cl(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=jL(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Bh(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Nv(n,e){return n.segmentHeads?.[e]??null}function BL(n,e){let t=n.data,r=t[ML]?.[e]??null;return r===null&&t[Sy]?.[e]&&(r=xy(n,e)),r}function xS(n,e){return n.data[Sy]?.[e]??null}function xy(n,e){let t=xS(n,e)??[],r=0;for(let i of t)r+=i[mh]*(i[bS]??1);return r}function HL(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[TS];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function ll(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[TS];n.disconnectedNodes=t?new Set(t):null}return!!HL(n)?.has(e)}var jd=new ne(""),MS=!1,RS=new ne("",{providedIn:"root",factory:()=>MS});var Ud;function $L(){if(Ud===void 0&&(Ud=null,oi.trustedTypes))try{Ud=oi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ud}function Hh(n){return $L()?.createHTML(n)||n}var Bd;function NS(){if(Bd===void 0&&(Bd=null,oi.trustedTypes))try{Bd=oi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bd}function kb(n){return NS()?.createHTML(n)||n}function Pb(n){return NS()?.createScriptURL(n)||n}var gh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iT})`}};function Yo(n){return n instanceof gh?n.changingThisBreaksApplicationSecurity:n}function $h(n,e){let t=zL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${iT})`)}return t===e}function zL(n){return n instanceof gh&&n.getTypeName()||null}function WL(n){let e=new Pv(n);return qL()?new kv(e):e}var kv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Hh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Pv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Hh(e),t}};function qL(){try{return!!new window.DOMParser().parseFromString(Hh(""),"text/html")}catch{return!1}}var GL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function My(n){return n=String(n),n.match(GL)?n:"unsafe:"+n}function di(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function ul(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var kS=di("area,br,col,hr,img,wbr"),PS=di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OS=di("rp,rt"),KL=ul(OS,PS),YL=ul(PS,di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),QL=ul(OS,di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ob=ul(kS,YL,QL,KL),FS=di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),XL=di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ZL=di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),JL=ul(FS,XL,ZL),e2=di("script,style,template"),Ov=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=r2(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=n2(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Fb(e).toLowerCase();if(!Ob.hasOwnProperty(t))return this.sanitizedSomething=!0,!e2.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!JL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;FS[a]&&(c=My(c)),this.buf.push(" ",s,'="',Vb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Fb(e).toLowerCase();Ob.hasOwnProperty(t)&&!kS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Vb(e))}};function t2(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function n2(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw VS(e);return e}function r2(n){let e=n.firstChild;if(e&&t2(n,e))throw VS(e);return e}function Fb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function VS(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var i2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o2=/([^\#-~ |!])/g;function Vb(n){return n.replace(/&/g,"&amp;").replace(i2,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(o2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Hd;function LS(n,e){let t=null;try{Hd=Hd||WL(n);let r=e?String(e):"";t=Hd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Hd.getInertBodyElement(r)}while(r!==o);let a=new Ov().sanitizeChildren(Lb(t)||t);return Hh(a)}finally{if(t){let r=Lb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Lb(n){return"content"in n&&s2(n)?n.content:null}function s2(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var dl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(dl||{});function zh(n){let e=Ry();return e?kb(e.sanitize(dl.HTML,n)||""):$h(n,"HTML")?kb(Yo(n)):LS(cl(),Lo(n))}function a2(n){let e=Ry();return e?e.sanitize(dl.URL,n)||"":$h(n,"URL")?Yo(n):My(Lo(n))}function c2(n){let e=Ry();if(e)return Pb(e.sanitize(dl.RESOURCE_URL,n)||"");if($h(n,"ResourceURL"))return Pb(Yo(n));throw new te(904,!1)}function l2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?c2:a2}function jS(n,e,t){return l2(e,t)(n)}function Ry(){let n=Ee();return n&&n[Rr].sanitizer}var u2=/^>|^->|<!--|-->|--!>|<!-$/g,d2=/(<|>)/g,h2="\u200B$1\u200B";function f2(n){return n.replace(u2,e=>e.replace(d2,h2))}function p2(n){return n.ownerDocument.body}function US(n){return n instanceof Function?n():n}function $d(n){return(n??$(Ft)).get(_n)==="browser"}var Nr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Nr||{}),m2;function Ny(n,e){return m2(n,e)}function ra(n,e,t,r,i){if(r!=null){let o,s=!1;Pr(r)?o=r:cr(r)&&(s=!0,r=r[bn]);let a=ur(r);n===0&&t!==null?i==null?qS(e,t,a):vh(e,t,a,i||null,!0):n===1&&t!==null?vh(e,t,a,i||null,!0):n===2?Oy(e,a,s):n===3&&e.destroyNode(a),o!=null&&M2(e,n,o,t,i)}}function BS(n,e){return n.createText(e)}function g2(n,e,t){n.setValue(e,t)}function HS(n,e){return n.createComment(f2(e))}function ky(n,e,t){return n.createElement(e,t)}function v2(n,e){$S(n,e),e[bn]=null,e[dr]=null}function y2(n,e,t,r,i,o){r[bn]=i,r[dr]=e,qh(n,r,t,1,i,o)}function $S(n,e){e[Rr].changeDetectionScheduler?.notify(9),qh(n,e,e[Xe],2,null,null)}function _2(n){let e=n[Zc];if(!e)return nv(n[be],n);for(;e;){let t=null;if(cr(e))t=e[Zc];else{let r=e[Cn];r&&(t=r)}if(!t){for(;e&&!e[ar]&&e!==n;)cr(e)&&nv(e[be],e),e=e[Qt];e===null&&(e=n),cr(e)&&nv(e[be],e),t=e&&e[ar]}e=t}}function w2(n,e,t,r){let i=Cn+r,o=t.length;r>0&&(t[i-1][ar]=e),r<o-Cn?(e[ar]=t[i],pT(t,Cn+r,e)):(t.push(e),e[ar]=null),e[Qt]=t;let s=e[la];s!==null&&t!==s&&zS(s,e);let a=e[ua];a!==null&&a.insertView(n),_v(e),e[me]|=128}function zS(n,e){let t=n[oh],r=e[Qt];if(cr(r))n[me]|=sh.HasTransplantedViews;else{let i=r[Qt][Bn];e[Bn]!==i&&(n[me]|=sh.HasTransplantedViews)}t===null?n[oh]=[e]:t.push(e)}function Py(n,e){let t=n[oh],r=t.indexOf(e);t.splice(r,1)}function Fv(n,e){if(n.length<=Cn)return;let t=Cn+e,r=n[t];if(r){let i=r[la];i!==null&&i!==n&&Py(i,r),e>0&&(n[t-1][ar]=r[ar]);let o=th(n,Cn+e);v2(r[be],r);let s=o[ua];s!==null&&s.detachView(o[be]),r[Qt]=null,r[ar]=null,r[me]&=-129}return r}function WS(n,e){if(!(e[me]&256)){let t=e[Xe];t.destroyNode&&qh(n,e,t,3,null,null),_2(e)}}function nv(n,e){if(e[me]&256)return;let t=Pe(null);try{e[me]&=-129,e[me]|=256,e[jn]&&Cg(e[jn]),I2(n,e),E2(n,e),e[be].type===1&&e[Xe].destroy();let r=e[la];if(r!==null&&Pr(e[Qt])){r!==e[Qt]&&Py(r,e);let i=e[ua];i!==null&&i.detachView(n)}xv(e)}finally{Pe(t)}}function E2(n,e){let t=n.cleanup,r=e[rh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[rh]=null);let i=e[zi];if(i!==null){e[zi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function I2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof zo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Sr(4,a,c);try{c.call(a)}finally{Sr(5,a,c)}}else{Sr(4,i,o);try{o.call(i)}finally{Sr(5,i,o)}}}}}function D2(n,e,t){return C2(n,e.parent,t)}function C2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[bn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===xr.None||o===xr.Emulated)return null}return Sn(r,t)}}function vh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function qS(n,e,t){n.appendChild(e,t)}function jb(n,e,t,r,i){r!==null?vh(n,e,t,r,i):qS(n,e,t)}function GS(n,e){return n.parentNode(e)}function b2(n,e){return n.nextSibling(e)}function T2(n,e,t){return A2(n,e,t)}function S2(n,e,t){return n.type&40?Sn(n,t):null}var A2=S2,Ub;function Wh(n,e,t,r){let i=D2(n,r,e),o=e[Xe],s=r.parent||e[dr],a=T2(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)jb(o,i,t[c],a,!1);else jb(o,i,t,a,!1);Ub!==void 0&&Ub(o,r,e,t,i)}function qc(n,e){if(e!==null){let t=e.type;if(t&3)return Sn(e,n);if(t&4)return Vv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return qc(n,r);{let i=n[e.index];return Pr(i)?Vv(-1,i):ur(i)}}else{if(t&128)return qc(n,e.next);if(t&32)return Ny(e,n)()||ur(n[e.index]);{let r=KS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ho(n[Bn]);return qc(i,r)}else return qc(n,e.next)}}}return null}function KS(n,e){if(e!==null){let r=n[Bn][dr],i=e.projection;return r.projection[i]}return null}function Vv(n,e){let t=Cn+n+1;if(t<e.length){let r=e[t],i=r[be].firstChild;if(i!==null)return qc(r,i)}return e[si]}function Oy(n,e,t){n.removeChild(null,e,t)}function YS(n){n.textContent=""}function Fy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Gi(ur(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Fy(n,e,t.child,r,i,o,!1),ra(e,n,i,a,o);else if(c&32){let u=Ny(t,r),d;for(;d=u();)ra(e,n,i,d,o);ra(e,n,i,a,o)}else c&16?x2(n,e,r,t,i,o):ra(e,n,i,a,o);t=s?t.projectionNext:t.next}}function qh(n,e,t,r,i,o){Fy(t,r,n.firstChild,e,i,o,!1)}function x2(n,e,t,r,i,o){let s=t[Bn],c=s[dr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];ra(e,n,i,d,o)}else{let u=c,d=s[Qt];ph(r)&&(u.flags|=128),Fy(n,e,u,d,i,o,!0)}}function M2(n,e,t,r,i){let o=t[si],s=ur(t);o!==s&&ra(e,n,r,o,i);for(let a=Cn;a<t.length;a++){let c=t[a];qh(c[be],c,n,e,r,o)}}function R2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Nr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Nr.Important),n.setStyle(t,r,i,o))}}function N2(n,e,t){n.setAttribute(e,"style",t)}function QS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function XS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&pv(n,e,r),i!==null&&QS(n,e,i),o!==null&&N2(n,e,o)}var zn={};function k(n=1){ZS($t(),Ee(),Xi()+n,!1)}function ZS(n,e,t,r){if(!r)if((e[me]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Yd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Qd(e,o,0,t)}$o(t)}function O(n,e=Ce.Default){let t=Ee();if(t===null)return ue(n,e);let r=Jt();return cS(r,t,un(n),e)}function JS(n,e,t,r,i,o){let s=Pe(null);try{let a=null;i&Wi.SignalBased&&(a=e[r][ni]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Wi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):NT(e,a,r,o)}finally{Pe(s)}}function k2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$o(~i);else{let o=i,s=t[++r],a=t[++r];$V(s,o);let c=e[o];a(2,c)}}}finally{$o(-1)}}function Gh(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[bn]=i,f[me]=r|4|128|8|64,(u!==null||n&&n[me]&2048)&&(f[me]|=2048),jT(f),f[Qt]=f[va]=n,f[lr]=t,f[Rr]=s||n&&n[Rr],f[Xe]=a||n&&n[Xe],f[ca]=c||n&&n[ca]||null,f[dr]=o,f[Rh]=bL(),f[Mr]=d,f[MT]=u,f[Bn]=e.type==2?n[Bn]:f,f}function hl(n,e,t,r,i){let o=n.data[e];if(o===null)o=P2(n,e,t,r,i),HV()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=LV();o.injectorIndex=s===null?-1:s.injectorIndex}return Go(o,!0),o}function P2(n,e,t,r,i){let o=zT(),s=my(),a=s?o:o&&o.parent,c=n.data[e]=U2(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function eA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function tA(n,e,t,r,i){let o=Xi(),s=r&2;try{$o(-1),s&&e.length>_t&&ZS(n,e,_t,!1),Sr(s?2:0,i),t(r,i)}finally{$o(o),Sr(s?3:1,i)}}function Vy(n,e,t){if(fy(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Pe(r)}}}function Ly(n,e,t){$T()&&(q2(n,e,t,Sn(t,e)),(t.flags&64)===64&&sA(n,e,t))}function jy(n,e,t=Sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function nA(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Uy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Uy(n,e,t,r,i,o,s,a,c,u,d){let f=_t+r,v=f+i,m=O2(f,v),D=typeof u=="function"?u():u;return m[be]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:d}}function O2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:zn);return t}function F2(n,e,t,r){let o=r.get(RS,MS)||t===xr.ShadowDom,s=n.selectRootElement(e,o);return V2(s),s}function V2(n){rA(n)}var rA=()=>null;function L2(n){vS(n)?YS(n):UL(n)}function j2(){rA=L2}function U2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sl()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Wi.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?Hb(r,t,u,a,c):Hb(r,t,u,a)}return r}function Hb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function B2(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=o[d],v=t?t.get(f):null,m=v?v.inputs:null,D=v?v.outputs:null;c=Bb(0,f.inputs,d,c,m),u=Bb(1,f.outputs,d,u,D);let R=c!==null&&s!==null&&!uy(e)?rj(c,d,s):null;a.push(R)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function H2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function iA(n,e,t,r,i,o,s,a){let c=Sn(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(Hy(n,t,d,r,i),ol(e)&&$2(t,e.index)):e.type&3?(r=H2(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function $2(n,e){let t=Qi(e,n);t[me]&16||(t[me]|=64)}function By(n,e,t,r){if($T()){let i=r===null?null:{"":-1},o=K2(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&oA(n,e,t,s,i,a),i&&Y2(t,r,i)}t.mergedAttrs=Qc(t.mergedAttrs,t.attrs)}function oA(n,e,t,r,i,o){for(let u=0;u<r.length;u++)Dv(dh(t,e),n,r[u].type);X2(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=eA(n,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];t.mergedAttrs=Qc(t.mergedAttrs,d.hostAttrs),Z2(n,t,e,c,d),Q2(c,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}B2(n,t,o)}function z2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;W2(s)!=a&&s.push(a),s.push(t,r,o)}}function W2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function q2(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;ol(t)&&J2(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||dh(t,e),Gi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],u=ha(e,n,a,t);if(Gi(u,e),s!==null&&nj(e,a-i,u,c,t,s),qi(c)){let d=Qi(t.index,e);d[lr]=ha(e,n,a,t)}}}function sA(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=zV();try{$o(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];wv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&G2(c,u)}}finally{$o(-1),wv(s)}}function G2(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function K2(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(rV(e,s.selectors,!1))if(r||(r=[]),qi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Lv(n,e,c)}else r.unshift(s),Lv(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Lv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Y2(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function Q2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qi(e)&&(t[""]=n)}}function X2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Z2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=jo(i.type,!0)),s=new zo(o,qi(i),O);n.blueprint[r]=s,t[r]=s,z2(n,e,r,eA(n,t,i.hostVars,zn),i)}function J2(n,e,t){let r=Sn(e,n),i=nA(t),o=n[Rr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Kh(n,Gh(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function ej(n,e,t,r,i,o){let s=Sn(n,e);tj(e[Xe],s,o,n.value,t,r,i)}function tj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Lo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function nj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],d=s[a++],f=s[a++];JS(r,t,c,u,d,f)}}function rj(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function aA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function cA(n,e){let t=n.contentQueries;if(t!==null){let r=Pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];GT(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function Kh(n,e){return n[Zc]?n[Ib][ar]=e:n[Zc]=e,n[Ib]=e,e}function jv(n,e,t){GT(0);let r=Pe(null);try{e(n,t)}finally{Pe(r)}}function ij(n){return n[rh]??=[]}function oj(n){return n.cleanup??=[]}function lA(n,e){let t=n[ca],r=t?t.get(ai,null):null;r&&r.handleError(e)}function Hy(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=e[s],d=n.data[s];JS(d,u,r,a,c,i)}}function uA(n,e,t){let r=VT(e,n);g2(n[Xe],r,t)}function sj(n,e){let t=Qi(e,n),r=t[be];aj(r,t);let i=t[bn];i!==null&&t[Mr]===null&&(t[Mr]=Ay(i,t[ca])),$y(r,t,t[lr])}function aj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function $y(n,e,t){vy(e);try{let r=n.viewQuery;r!==null&&jv(1,r,t);let i=n.template;i!==null&&tA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ua]?.finishViewCreation(n),n.staticContentQueries&&cA(n,e),n.staticViewQueries&&jv(2,n.viewQuery,t);let o=n.components;o!==null&&cj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[me]&=-5,yy()}}function cj(n,e){for(let t=0;t<e.length;t++)sj(n,e[t])}function lj(n,e,t,r){let i=Pe(null);try{let o=e.tView,a=n[me]&4096?4096:16,c=Gh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[la]=u;let d=n[ua];return d!==null&&(c[ua]=d.createEmbeddedView(o)),$y(o,c,t),c}finally{Pe(i)}}function $b(n,e){return!e||e.firstChild===null||ph(n)}function uj(n,e,t,r=!0){let i=e[be];if(w2(i,e,n,t),r){let s=Vv(t,n),a=e[Xe],c=GS(a,n[si]);c!==null&&y2(i,n[dr],a,e,c,s)}let o=e[Mr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ur(o)),Pr(o)&&dj(o,r);let s=t.type;if(s&8)yh(n,e,t.child,r);else if(s&32){let a=Ny(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=KS(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ho(e[Bn]);yh(c[be],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function dj(n,e){for(let t=Cn;t<n.length;t++){let r=n[t],i=r[be].firstChild;i!==null&&yh(r[be],r,i,e)}n[si]!==n[bn]&&e.push(n[si])}var dA=[];function hj(n){return n[jn]??fj(n)}function fj(n){let e=dA.pop()??Object.create(mj);return e.lView=n,e}function pj(n){n.lView[jn]!==n&&(n.lView=null,dA.push(n))}var mj=ve(H({},Lc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Oh(n.lView)},consumerOnSignalRead(){this.lView[jn]=this}});function gj(n){let e=n[jn]??Object.create(vj);return e.lView=n,e}var vj=ve(H({},Lc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ho(n.lView);for(;e&&!hA(e[be]);)e=Ho(e);e&&UT(e)},consumerOnSignalRead(){this.lView[jn]=this}});function hA(n){return n.type!==2}var yj=100;function fA(n,e=!0,t=0){let r=n[Rr],i=r.rendererFactory,o=!1;o||i.begin?.();try{_j(n,t)}catch(s){throw e&&lA(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function _j(n,e){let t=qT();try{Cb(!0),Uv(n,e);let r=0;for(;Ph(n);){if(r===yj)throw new te(103,!1);r++,Uv(n,1)}}finally{Cb(t)}}function wj(n,e,t,r){let i=e[me];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Rr].inlineEffectRunner?.flush(),vy(e);let a=!0,c=null,u=null;o||(hA(n)?(u=hj(e),c=ud(u)):AC()===null?(a=!1,u=gj(e),c=ud(u)):e[jn]&&(Cg(e[jn]),e[jn]=null));try{jT(e),BV(n.bindingStartIndex),t!==null&&tA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Yd(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Qd(e,m,0,null),Xg(e,0)}if(s||Ej(e),pA(e,0),n.contentQueries!==null&&cA(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Yd(e,m)}else{let m=n.contentHooks;m!==null&&Qd(e,m,1),Xg(e,1)}k2(n,e);let f=n.components;f!==null&&gA(e,f,0);let v=n.viewQuery;if(v!==null&&jv(2,v,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Yd(e,m)}else{let m=n.viewHooks;m!==null&&Qd(e,m,2),Xg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Qg]){for(let m of e[Qg])m();e[Qg]=null}o||(e[me]&=-73)}catch(d){throw o||Oh(e),d}finally{u!==null&&(Ig(u,c),a&&pj(u)),yy()}}function pA(n,e){for(let t=_S(n);t!==null;t=wS(t))for(let r=Cn;r<t.length;r++){let i=t[r];mA(i,e)}}function Ej(n){for(let e=_S(n);e!==null;e=wS(e)){if(!(e[me]&sh.HasTransplantedViews))continue;let t=e[oh];for(let r=0;r<t.length;r++){let i=t[r];UT(i)}}}function Ij(n,e,t){let r=Qi(e,n);mA(r,t)}function mA(n,e){py(n)&&Uv(n,e)}function Uv(n,e){let r=n[be],i=n[me],o=n[jn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Dg(o)),s||=!1,o&&(o.dirty=!1),n[me]&=-9217,s)wj(r,n,r.template,n[lr]);else if(i&8192){pA(n,1);let a=r.components;a!==null&&gA(n,a,1)}}function gA(n,e,t){for(let r=0;r<e.length;r++)Ij(n,e[r],t)}function zy(n,e){let t=qT()?64:1088;for(n[Rr].changeDetectionScheduler?.notify(e);n;){n[me]|=t;let r=Ho(n);if(ah(n)&&!r)return n;n=r}return null}var Wo=class{get rootNodes(){let e=this._lView,t=e[be];return yh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(e){this._lView[lr]=e}get destroyed(){return(this._lView[me]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qt];if(Pr(e)){let t=e[ih],r=t?t.indexOf(this):-1;r>-1&&(Fv(e,r),th(t,r))}this._attachedToViewContainer=!1}WS(this._lView[be],this._lView)}onDestroy(e){BT(this._lView,e)}markForCheck(){zy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[me]&=-129}reattach(){_v(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,fA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ah(this._lView),t=this._lView[la];t!==null&&!e&&Py(t,this._lView),$S(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e;let t=ah(this._lView),r=this._lView[la];r!==null&&!t&&zS(r,this._lView),_v(this._lView)}},Yh=(()=>{class n{static{this.__NG_ELEMENT_ID__=bj}}return n})(),Dj=Yh,Cj=class extends Dj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=lj(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Wo(i)}};function bj(){return vA(Jt(),Ee())}function vA(n,e){return n.type&4?new Cj(e,n,jh(n,e)):null}var Tj=new RegExp(`^(\\d+)*(${CS}|${DS})*(.*)`);function Sj(n){let e=n.match(Tj),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,u,d]of o.matchAll(/(f|n)(\d*)/g)){let f=parseInt(d,10)||1;a.push(u,f)}return[s,...a]}function Aj(n){return!n.prev&&n.parent?.type===8}function rv(n){return n.index-_t}function xj(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Qh(n,e,t,r){let i=rv(r),o=xj(n,i);if(o===void 0){let s=n.data[kL];if(s?.[i])o=Rj(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(Aj(r)){let u=rv(r.parent);o=Nv(n,u)}else{let u=Sn(c,t);if(a)o=u.firstChild;else{let d=rv(c),f=Nv(n,d);if(c.type===2&&f){let m=xy(n,d)+1;o=Xh(m,f)}else o=u.nextSibling}}}}return o}function Xh(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function Mj(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Rv.FirstChild:t=t.firstChild;break;case Rv.NextSibling:t=t.nextSibling;break}}return t}function Rj(n,e){let[t,...r]=Sj(n),i;if(t===DS)i=e[Bn][bn];else if(t===CS)i=p2(e[Bn][bn]);else{let o=Number(t);i=ur(e[o+_t])}return Mj(i,r)}var Nj=!1;function kj(n){Nj=n}function Pj(n){let e=n[Mr];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Xe];for(let o of r.values())Oj(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Oj(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-_t);i&&Oy(n,i,!1)}}function yA(n){let e=n[Jc]??[],r=n[Qt][Xe];for(let i of e)Fj(i,r);n[Jc]=dn}function Fj(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[mh];for(;t<i;){let o=r.nextSibling;Oy(e,r,!1),r=o,t++}}}function _A(n){yA(n);let e=n[bn];cr(e)&&_h(e);for(let t=Cn;t<n.length;t++)_h(n[t])}function _h(n){Pj(n);let e=n[be];for(let t=_t;t<e.bindingStartIndex;t++)if(Pr(n[t])){let r=n[t];_A(r)}else cr(n[t])&&_h(n[t])}function Vj(n){let e=n._views;for(let t of e){let r=LL(t);r!==null&&r[bn]!==null&&(cr(r)?_h(r):_A(r))}}function Lj(n,e){let t=[];for(let r of e)for(let i=0;i<(r[bS]??1);i++){let o={data:r,firstChild:null};r[mh]>0&&(o.firstChild=n,n=Xh(r[mh],n)),t.push(o)}return[n,t]}var wA=()=>null;function jj(n,e){let t=n[Jc];return!e||t===null||t.length===0?null:t[0].data[NL]===e?t.shift():(yA(n),null)}function Uj(){wA=jj}function zb(n,e){return wA(n,e)}var fa=class{},Zh=new ne("",{providedIn:"root",factory:()=>!1});var EA=new ne(""),IA=new ne(""),Bv=class{},wh=class{};function Bj(n){let e=Error(`No component factory found for ${hn(n)}.`);return e[Hj]=n,e}var Hj="ngComponent";var Hv=class{resolveComponentFactory(e){throw Bj(e)}},Ki=class{static{this.NULL=new Hv}},pa=class{},pt=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>$j()}}return n})();function $j(){let n=Ee(),e=Jt(),t=Qi(e.index,n);return(cr(t)?t:n)[Xe]}var zj=(()=>{class n{static{this.\u0275prov=X({token:n,providedIn:"root",factory:()=>null})}}return n})();function Eh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=uv(i,a);else if(o==2){let c=a,u=e[++s];r=uv(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ih=class extends Ki{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Bo(e);return new el(t,this.ngModule)}};function Wb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Wi.None;e?t.push({propName:s,templateName:r,isSignal:(a&Wi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function Wj(n){let e=n.toLowerCase();return e==="svg"?FT:e==="math"?AV:null}var el=class extends wh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Wb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Wb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=aV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Pe(null);try{i=i||this.ngModule;let s=i instanceof Un?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ev(e,s):e,c=a.get(pa,null);if(c===null)throw new te(407,!1);let u=a.get(zj,null),d=a.get(fa,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},v=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",D=r?F2(v,r,this.componentDef.encapsulation,a):ky(v,m,Wj(m)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let A=null;D!==null&&(A=Ay(D,a,!0));let P=Uy(0,null,null,1,0,null,null,null,null,null,null),U=Gh(null,P,null,R,null,null,f,v,a,null,A);vy(U);let B,W,ie=null;try{let Q=this.componentDef,T,y=null;Q.findHostDirectiveDefs?(T=[],y=new Map,Q.findHostDirectiveDefs(Q,T,y),T.push(Q)):T=[Q];let _=qj(U,D);ie=Gj(_,D,Q,T,U,f,v),W=LT(P,_t),D&&Qj(v,Q,D,r),t!==void 0&&Xj(W,this.ngContentSelectors,t),B=Yj(ie,Q,T,y,U,[Zj]),$y(P,U,null)}catch(Q){throw ie!==null&&xv(ie),xv(U),Q}finally{yy()}return new $v(this.componentType,B,jh(W,U),U,W)}finally{Pe(o)}}},$v=class extends Bv{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Wo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Hy(o[be],o,i,e,t),this.previousInputValues.set(e,t);let s=Qi(this._tNode.index,o);zy(s,1)}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qj(n,e){let t=n[be],r=_t;return n[r]=e,hl(t,r,2,"#host",null)}function Gj(n,e,t,r,i,o,s){let a=i[be];Kj(r,n,e,s);let c=null;e!==null&&(c=Ay(e,i[ca]));let u=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=Gh(i,nA(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&Lv(a,n,r.length-1),Kh(i,f),i[n.index]=f}function Kj(n,e,t,r){for(let i of n)e.mergedAttrs=Qc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Eh(e,e.mergedAttrs,!0),t!==null&&XS(r,t,e))}function Yj(n,e,t,r,i,o){let s=Jt(),a=i[be],c=Sn(s,i);oA(a,i,s,t,null,r);for(let d=0;d<t.length;d++){let f=s.directiveStart+d,v=ha(i,a,f,s);Gi(v,i)}sA(a,i,s),c&&Gi(c,i);let u=ha(i,a,s.directiveStart+s.componentOffset,s);if(n[lr]=i[lr]=u,o!==null)for(let d of o)d(u,e);return Vy(a,s,i),u}function Qj(n,e,t,r){if(r)pv(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=cV(e.selectors[0]);i&&pv(n,t,i),o&&o.length>0&&QS(n,t,o.join(" "))}}function Xj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Zj(){let n=Jt();Lh(Ee()[be],n)}var hr=(()=>{class n{static{this.__NG_ELEMENT_ID__=Jj}}return n})();function Jj(){let n=Jt();return tU(n,Ee())}var eU=hr,DA=class extends eU{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return jh(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ey(this._hostTNode,this._hostLView);if(nS(e)){let t=lh(e,this._hostLView),r=ch(e),i=t[be].data[r+8];return new Vo(i,t)}else return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=qb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,$b(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!CV(e),a;if(s)a=t;else{let D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new el(Bo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let R=(s?u:this.parentInjector).get(Un,null);R&&(o=R)}let d=Bo(c.componentType??{}),f=zb(this._lContainer,d?.id??null),v=f?.firstChild??null,m=c.create(u,i,v,o);return this.insertImpl(m.hostView,a,$b(this._hostTNode,f)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(xV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Qt],u=new DA(c,c[dr],c[Qt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return uj(s,i,o,r),e.attachToViewContainerRef(),pT(iv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=qb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Fv(this._lContainer,t);r&&(th(iv(this._lContainer),t),WS(r[be],r))}detach(e){let t=this._adjustIndex(e,-1),r=Fv(this._lContainer,t);return r&&th(iv(this._lContainer),t)!=null?new Wo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function qb(n){return n[ih]}function iv(n){return n[ih]||(n[ih]=[])}function tU(n,e){let t,r=e[n.index];return Pr(r)?t=r:(t=aA(r,e,null,n),e[n.index]=t,Kh(e,t)),CA(t,e,n,r),new DA(t,n,e)}function nU(n,e){let t=n[Xe],r=t.createComment(""),i=Sn(e,n),o=GS(t,i);return vh(t,o,r,b2(t,i),!1),r}var CA=bA,Wy=()=>!1;function rU(n,e,t){return Wy(n,e,t)}function bA(n,e,t,r){if(n[si])return;let i;t.type&8?i=ur(r):i=nU(e,t),n[si]=i}function iU(n,e,t){if(n[si]&&n[Jc])return!0;let r=t[Mr],i=e.index-_t;if(!r||DL(e)||ll(r,i))return!1;let s=Nv(r,i),a=r.data[Sy]?.[i],[c,u]=Lj(s,a);return n[si]=c,n[Jc]=u,!0}function oU(n,e,t,r){Wy(n,t,e)||bA(n,e,t,r)}function sU(){CA=oU,Wy=iU}var Gb=new Set;function Ji(n){Gb.has(n)||(Gb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function aU(n){return typeof n=="function"&&n[ni]!==void 0}function Wn(n,e){Ji("NgSignals");let t=jC(n),r=t[ni];return e?.equal&&(r.equal=e.equal),t.set=i=>bg(r,i),t.update=i=>UC(r,i),t.asReadonly=cU.bind(t),t}function cU(){let n=this[ni];if(n.readonlyFn===void 0){let e=()=>this();e[ni]=n,n.readonlyFn=e}return n.readonlyFn}function TA(n){return aU(n)&&typeof n.set=="function"}function lU(n){return Object.getPrototypeOf(n.prototype).constructor}function fr(n){let e=lU(n.type),t=!0,r=[n];for(;e;){let i;if(qi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=zd(n.inputs),s.inputTransforms=zd(n.inputTransforms),s.declaredInputs=zd(n.declaredInputs),s.outputs=zd(n.outputs);let a=i.hostBindings;a&&pU(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&hU(n,c),u&&fU(n,u),uU(n,i),MF(n.outputs,i.outputs),qi(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===fr&&(t=!1)}}e=Object.getPrototypeOf(e)}dU(r)}function uU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function dU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qc(i.hostAttrs,t=Qc(t,i.hostAttrs))}}function zd(n){return n===sa?{}:n===dn?[]:n}function hU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function fU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function pU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function qy(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Yi=class{},tl=class{};var zv=class extends Yi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ih(this);let o=DT(e);this._bootstrapComponents=US(o.bootstrap),this._r3Injector=dS(e,t,[{provide:Yi,useValue:this},{provide:Ki,useValue:this.componentFactoryResolver},...r],hn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wv=class extends tl{constructor(e){super(),this.moduleType=e}create(e){return new zv(this.moduleType,e,[])}};var Dh=class extends Yi{constructor(e){super(),this.componentFactoryResolver=new Ih(this),this.instance=null;let t=new Xc([...e.providers,{provide:Yi,useValue:this},{provide:Ki,useValue:this.componentFactoryResolver}],e.parent||hy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gy(n,e,t=null){return new Dh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function SA(n){return Ky(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function mU(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Ky(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function hi(n,e,t){return n[e]=t}function Jh(n,e){return n[e]}function Hn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ma(n,e,t,r){let i=Hn(n,e,t);return Hn(n,e+1,r)||i}function AA(n,e,t,r,i){let o=ma(n,e,t,r);return Hn(n,e+2,i)||o}function ef(n,e,t,r,i,o){let s=ma(n,e,t,r);return ma(n,e+2,i,o)||s}function fl(n){return(n.flags&32)===32}function gU(n,e,t,r,i,o,s,a,c){let u=e.consts,d=hl(e,n,4,s||null,a||null);By(e,t,d,da(u,c)),Lh(e,d);let f=d.tView=Uy(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function vU(n,e,t,r,i,o,s,a,c,u){let d=t+_t,f=e.firstCreatePass?gU(d,e,n,r,i,o,s,a,c):e.data[d];Go(f,!1);let v=xA(e,n,f,t);Vh()&&Wh(e,n,v,f),Gi(v,n);let m=aA(v,n,v,f);return n[d]=m,Kh(n,m),rU(m,f,n),Nh(f)&&Ly(e,n,f),c!=null&&jy(n,f,u),f}function Y(n,e,t,r,i,o,s,a){let c=Ee(),u=$t(),d=da(u.consts,o);return vU(c,u,n,e,t,r,i,d,s,a),Y}var xA=MA;function MA(n,e,t,r){return Zi(!0),e[Xe].createComment("")}function yU(n,e,t,r){let i=e[Mr],o=!i||sl()||fl(t)||ll(i,r);if(Zi(o),o)return MA(n,e,t,r);let s=i.data[RL]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Qh(i,n,e,t);Bh(i,r,a);let c=xy(i,r);return Xh(c,a)}function _U(){xA=yU}var Gc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Gc||{}),wU=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Kb=class n{constructor(){this.ngZone=$(Se),this.scheduler=$(fa),this.errorHandler=$(ai,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Gc.EarlyRead,Gc.Write,Gc.MixedReadWrite,Gc.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}};function en(n,e,t,r){let i=Ee(),o=Fh();if(Hn(i,o,e)){let s=$t(),a=_y();ej(a,i,n,e,t,r)}return en}function EU(n,e,t,r){return Hn(n,Fh(),t)?e+Lo(t)+r:zn}function IU(n,e,t,r,i,o){let s=UV(),a=ma(n,s,t,i);return gy(2),a?e+Lo(t)+r+Lo(i)+o:zn}function Wd(n,e){return n<<17|e<<2}function qo(n){return n>>17&32767}function DU(n){return(n&2)==2}function CU(n,e){return n&131071|e<<17}function qv(n){return n|2}function ga(n){return(n&131068)>>2}function ov(n,e){return n&-131069|e<<2}function bU(n){return(n&1)===1}function Gv(n){return n|1}function TU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=qo(s),c=ga(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||il(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let v=qo(n[a+1]);n[r+1]=Wd(v,a),v!==0&&(n[v+1]=ov(n[v+1],r)),n[a+1]=CU(n[a+1],r)}else n[r+1]=Wd(a,0),a!==0&&(n[a+1]=ov(n[a+1],r)),a=r;else n[r+1]=Wd(c,0),a===0?a=r:n[c+1]=ov(n[c+1],r),c=r;u&&(n[r+1]=qv(n[r+1])),Yb(n,d,r,!0),Yb(n,d,r,!1),SU(e,d,n,r,o),s=Wd(a,c),o?e.classBindings=s:e.styleBindings=s}function SU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&il(o,e)>=0&&(t[r+1]=Gv(t[r+1]))}function Yb(n,e,t,r){let i=n[t+1],o=e===null,s=r?qo(i):ga(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];AU(c,e)&&(a=!0,n[s+1]=r?Gv(u):qv(u)),s=r?qo(u):ga(u)}a&&(n[t+1]=r?qv(i):Gv(i))}function AU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?il(n,e)>=0:!1}var sr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xU(n){return n.substring(sr.key,sr.keyEnd)}function MU(n){return RU(n),RA(n,NA(n,0,sr.textEnd))}function RA(n,e){let t=sr.textEnd;return t===e?-1:(e=sr.keyEnd=NU(n,sr.key=e,t),NA(n,e,t))}function RU(n){sr.key=0,sr.keyEnd=0,sr.value=0,sr.valueEnd=0,sr.textEnd=n.length}function NA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function NU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function F(n,e,t){let r=Ee(),i=Fh();if(Hn(r,i,e)){let o=$t(),s=_y();iA(o,s,r,n,e,r[Xe],t,!1)}return F}function Kv(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Hy(n,t,o[s],s,r)}function fi(n,e,t){return PA(n,e,t,!1),fi}function wt(n,e){return PA(n,e,null,!0),wt}function kA(n){PU(UU,kU,n,!0)}function kU(n,e){for(let t=MU(e);t>=0;t=RA(e,t))ly(n,xU(e),!0)}function PA(n,e,t,r){let i=Ee(),o=$t(),s=gy(2);if(o.firstUpdatePass&&FA(o,n,s,r),e!==zn&&Hn(i,s,e)){let a=o.data[Xi()];VA(o,a,i,i[Xe],n,i[s+1]=HU(e,t),r,s)}}function PU(n,e,t,r){let i=$t(),o=gy(2);i.firstUpdatePass&&FA(i,null,o,r);let s=Ee();if(t!==zn&&Hn(s,o,t)){let a=i.data[Xi()];if(LA(a,r)&&!OA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=uv(c,t||"")),Kv(i,a,s,t,r)}else BU(i,a,s,s[Xe],s[o+1],s[o+1]=jU(n,e,t),r,o)}}function OA(n,e){return e>=n.expandoStartIndex}function FA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Xi()],s=OA(n,t);LA(o,r)&&e===null&&!s&&(e=!1),e=OU(i,o,e,r),TU(i,o,e,t,s,r)}}function OU(n,e,t,r){let i=WV(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=sv(null,n,e,t,r),t=nl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=sv(i,n,e,t,r),o===null){let c=FU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=sv(null,n,e,c[1],r),c=nl(c,e.attrs,r),VU(n,e,r,c))}else o=LU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function FU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ga(r)!==0)return n[qo(r)]}function VU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[qo(i)]=r}function LU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=nl(r,s,t)}return nl(r,e.attrs,t)}function sv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=nl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function nl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ly(n,s,t?!0:e[++o]))}return n===void 0?null:n}function jU(n,e,t){if(t==null||t==="")return dn;let r=[],i=Yo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function UU(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&ly(n,r,t)}function BU(n,e,t,r,i,o,s,a){i===zn&&(i=dn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let v=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,D=null,R;d===f?(c+=2,u+=2,v!==m&&(D=f,R=m)):f===null||d!==null&&d<f?(c+=2,D=d):(u+=2,D=f,R=m),D!==null&&VA(n,e,t,r,D,R,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function VA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=bU(u)?Qb(c,e,t,i,ga(u),s):void 0;if(!Ch(d)){Ch(o)||DU(u)&&(o=Qb(c,null,t,i,a,s));let f=VT(Xi(),t);R2(r,s,f,i,o)}}function Qb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,v=t[i+1];v===zn&&(v=f?dn:void 0);let m=f?Kg(v,r):d===r?v:void 0;if(u&&!Ch(m)&&(m=Kg(c,r)),Ch(m)&&(a=m,s))return a;let D=n[i+1];i=s?qo(D):ga(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Kg(c,r))}return a}function Ch(n){return n!==void 0}function HU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=hn(Yo(n)))),n}function LA(n,e){return(n.flags&(e?8:16))!==0}function $U(n,e,t,r,i,o){let s=e.consts,a=da(s,i),c=hl(e,n,2,r,a);return By(e,t,c,da(s,o)),c.attrs!==null&&Eh(c,c.attrs,!1),c.mergedAttrs!==null&&Eh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function S(n,e,t,r){let i=Ee(),o=$t(),s=_t+n,a=i[Xe],c=o.firstCreatePass?$U(s,o,i,e,t,r):o.data[s],u=jA(o,i,c,a,e,n);i[s]=u;let d=Nh(c);return Go(c,!0),XS(a,u,c),!fl(c)&&Vh()&&Wh(o,i,u,c),NV()===0&&Gi(u,i),kV(),d&&(Ly(o,i,c),Vy(o,c,i)),r!==null&&jy(i,c),S}function x(){let n=Jt();my()?WT():(n=n.parent,Go(n,!1));let e=n;OV(e)&&VV(),PV();let t=$t();return t.firstCreatePass&&(Lh(t,n),fy(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&ZV(e)&&Kv(t,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JV(e)&&Kv(t,e,Ee(),e.stylesWithoutHost,!1),x}function se(n,e,t,r){return S(n,e,t,r),x(),se}var jA=(n,e,t,r,i,o)=>(Zi(!0),ky(r,i,JT()));function zU(n,e,t,r,i,o){let s=e[Mr],a=!s||sl()||fl(t)||ll(s,o);if(Zi(a),a)return ky(r,i,JT());let c=Qh(s,n,e,t);return xS(s,o)&&Bh(s,o,c.nextSibling),s&&(gS(t)||vS(c))&&ol(t)&&(FV(t),YS(c)),c}function WU(){jA=zU}function qU(n,e,t,r,i){let o=e.consts,s=da(o,r),a=hl(e,n,8,"ng-container",s);s!==null&&Eh(a,s,!0);let c=da(o,i);return By(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Qo(n,e,t){let r=Ee(),i=$t(),o=n+_t,s=i.firstCreatePass?qU(o,i,r,e,t):i.data[o];Go(s,!0);let a=UA(i,r,s,n);return r[o]=a,Vh()&&Wh(i,r,a,s),Gi(a,r),Nh(s)&&(Ly(i,r,s),Vy(i,s,r)),t!=null&&jy(r,s),Qo}function Xo(){let n=Jt(),e=$t();return my()?WT():(n=n.parent,Go(n,!1)),e.firstCreatePass&&(Lh(e,n),fy(n)&&e.queries.elementEnd(n)),Xo}function Yy(n,e,t){return Qo(n,e,t),Xo(),Yy}var UA=(n,e,t,r)=>(Zi(!0),HS(e[Xe],""));function GU(n,e,t,r){let i,o=e[Mr],s=!o||sl()||ll(o,r)||fl(t);if(Zi(s),s)return HS(e[Xe],"");let a=Qh(o,n,e,t),c=BL(o,r);return Bh(o,r,a),i=Xh(c,a),i}function KU(){UA=GU}function Fe(){return Ee()}var Fo=void 0;function YU(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var QU=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",YU],av={};function An(n){let e=XU(n),t=Xb(e);if(t)return t;let r=e.split("-")[0];if(t=Xb(r),t)return t;if(r==="en")return QU;throw new te(701,!1)}function BA(n){return An(n)[dt.PluralCase]}function Xb(n){return n in av||(av[n]=oi.ng&&oi.ng.common&&oi.ng.common.locales&&oi.ng.common.locales[n]),av[n]}var dt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(dt||{});function XU(n){return n.toLowerCase().replace(/_/g,"-")}var bh="en-US";var ZU=bh;function JU(n){typeof n=="string"&&(ZU=n.toLowerCase().replace(/_/g,"-"))}var eB=(n,e,t)=>{};function re(n,e,t,r){let i=Ee(),o=$t(),s=Jt();return HA(o,i,i[Xe],s,n,e,r),re}function tB(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[rh],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function HA(n,e,t,r,i,o,s){let a=Nh(r),u=n.firstCreatePass&&oj(n),d=e[lr],f=ij(e),v=!0;if(r.type&3||s){let R=Sn(r,e),A=s?s(R):R,P=f.length,U=s?W=>s(ur(W[r.index])):r.index,B=null;if(!s&&a&&(B=tB(n,e,i,r.index)),B!==null){let W=B.__ngLastListenerFn__||B;W.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,v=!1}else{o=Jb(r,e,d,o),eB(R,i,o);let W=t.listen(A,i,o);f.push(o,W),u&&u.push(i,U,P,P+1)}}else o=Jb(r,e,d,o);let m=r.outputs,D;if(v&&m!==null&&(D=m[i])){let R=D.length;if(R)for(let A=0;A<R;A+=2){let P=D[A],U=D[A+1],ie=e[P][U].subscribe(o),Q=f.length;f.push(o,ie),u&&u.push(i,r.index,Q,-(Q+1))}}}function Zb(n,e,t,r){let i=Pe(null);try{return Sr(6,e,t),t(r)!==!1}catch(o){return lA(n,o),!1}finally{Sr(7,e,t),Pe(i)}}function Jb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Qi(n.index,e):e;zy(s,5);let a=Zb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Zb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function V(n=1){return GV(n)}function nB(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function nt(n){let e=jV();return kh(e,_t+n)}function j(n,e=""){let t=Ee(),r=$t(),i=n+_t,o=r.firstCreatePass?hl(r,i,1,e,null):r.data[i],s=$A(r,t,o,e,n);t[i]=s,Vh()&&Wh(r,t,s,o),Go(o,!1)}var $A=(n,e,t,r,i)=>(Zi(!0),BS(e[Xe],r));function rB(n,e,t,r,i){let o=e[Mr],s=!o||sl()||fl(t)||ll(o,i);return Zi(s),s?BS(e[Xe],r):Qh(o,n,e,t)}function iB(){$A=rB}function Rt(n){return Nt("",n,""),Rt}function Nt(n,e,t){let r=Ee(),i=EU(r,n,e,t);return i!==zn&&uA(r,Xi(),i),Nt}function Qy(n,e,t,r,i){let o=Ee(),s=IU(o,n,e,t,r,i);return s!==zn&&uA(o,Xi(),s),Qy}function mt(n,e,t){TA(e)&&(e=e());let r=Ee(),i=Fh();if(Hn(r,i,e)){let o=$t(),s=_y();iA(o,s,r,n,e,r[Xe],t,!1)}return mt}function Et(n,e){let t=TA(n);return t&&n.set(e),t}function gt(n,e){let t=Ee(),r=$t(),i=Jt();return HA(r,t,t[Xe],i,n,e),gt}function oB(n,e,t){let r=$t();if(r.firstCreatePass){let i=qi(n);Yv(t,r.data,r.blueprint,i,!0),Yv(e,r.data,r.blueprint,i,!1)}}function Yv(n,e,t,r,i){if(n=un(n),Array.isArray(n))for(let o=0;o<n.length;o++)Yv(n[o],e,t,r,i);else{let o=$t(),s=Ee(),a=Jt(),c=aa(n)?n:un(n.provide),u=xT(n),d=a.providerIndexes&1048575,f=a.directiveStart,v=a.providerIndexes>>20;if(aa(n)||!n.multi){let m=new zo(u,i,O),D=lv(c,e,i?d:d+v,f);D===-1?(Dv(dh(a,s),o,c),cv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[D]=m,s[D]=m)}else{let m=lv(c,e,d+v,f),D=lv(c,e,d,d+v),R=m>=0&&t[m],A=D>=0&&t[D];if(i&&!A||!i&&!R){Dv(dh(a,s),o,c);let P=cB(i?aB:sB,t.length,i,r,u);!i&&A&&(t[D].providerFactory=P),cv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),s.push(P)}else{let P=zA(t[i?D:m],u,!i&&r);cv(o,n,m>-1?m:D,P)}!i&&r&&A&&t[D].componentProviders++}}}function cv(n,e,t,r){let i=aa(e),o=gV(e);if(i||o){let c=(o?un(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function zA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function lv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function sB(n,e,t,r){return Qv(this.multi,[])}function aB(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ha(t,t[be],this.providerFactory.index,r);o=a.slice(0,s),Qv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Qv(i,o);return o}function Qv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function cB(n,e,t,r,i){let o=new zo(n,t,O);return o.multi=[],o.index=e,o.componentProviders=0,zA(o,i,r&&!t),o}function Zo(n,e=[]){return t=>{t.providersResolver=(r,i)=>oB(r,i?i(n):n,e)}}var lB=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=TT(!1,t.type),i=r.length>0?Gy([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=X({token:n,providedIn:"environment",factory:()=>new n(ue(Un))})}}return n})();function ht(n){Ji("NgStandalone"),n.getStandaloneInjector=e=>e.get(lB).getOrCreateStandaloneInjector(n)}function fn(n,e,t){let r=$n()+n,i=Ee();return i[r]===zn?hi(i,r,t?e.call(t):e()):Jh(i,r)}function qn(n,e,t,r){return KA(Ee(),$n(),n,e,t,r)}function kt(n,e,t,r,i){return YA(Ee(),$n(),n,e,t,r,i)}function tf(n,e,t,r,i,o){return QA(Ee(),$n(),n,e,t,r,i,o)}function WA(n,e,t,r,i,o,s){return uB(Ee(),$n(),n,e,t,r,i,o,s)}function Xy(n,e,t,r,i,o,s,a){let c=$n()+n,u=Ee(),d=ef(u,c,t,r,i,o);return Hn(u,c+4,s)||d?hi(u,c+5,a?e.call(a,t,r,i,o,s):e(t,r,i,o,s)):Jh(u,c+5)}function qA(n,e,t,r,i,o,s,a,c){let u=$n()+n,d=Ee(),f=ef(d,u,t,r,i,o);return ma(d,u+4,s,a)||f?hi(d,u+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):Jh(d,u+6)}function GA(n,e,t,r,i,o,s,a,c,u){let d=$n()+n,f=Ee(),v=ef(f,d,t,r,i,o);return AA(f,d+4,s,a,c)||v?hi(f,d+7,u?e.call(u,t,r,i,o,s,a,c):e(t,r,i,o,s,a,c)):Jh(f,d+7)}function Zy(n,e,t,r){return dB(Ee(),$n(),n,e,t,r)}function pl(n,e){let t=n[e];return t===zn?void 0:t}function KA(n,e,t,r,i,o){let s=e+t;return Hn(n,s,i)?hi(n,s+1,o?r.call(o,i):r(i)):pl(n,s+1)}function YA(n,e,t,r,i,o,s){let a=e+t;return ma(n,a,i,o)?hi(n,a+2,s?r.call(s,i,o):r(i,o)):pl(n,a+2)}function QA(n,e,t,r,i,o,s,a){let c=e+t;return AA(n,c,i,o,s)?hi(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):pl(n,c+3)}function uB(n,e,t,r,i,o,s,a,c){let u=e+t;return ef(n,u,i,o,s,a)?hi(n,u+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):pl(n,u+4)}function dB(n,e,t,r,i,o){let s=e+t,a=!1;for(let c=0;c<i.length;c++)Hn(n,s++,i[c])&&(a=!0);return a?hi(n,s,r.apply(o,i)):pl(n,s)}function Ze(n,e){let t=$t(),r,i=n+_t;t.firstCreatePass?(r=hB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=jo(r.type,!0)),s,a=yn(O);try{let c=uh(!1),u=o();return uh(c),nB(t,Ee(),i,u),u}finally{yn(a)}}function hB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Jy(n,e,t){let r=n+_t,i=Ee(),o=kh(i,r);return e_(i,r)?KA(i,$n(),e,o.transform,t,o):o.transform(t)}function wn(n,e,t,r){let i=n+_t,o=Ee(),s=kh(o,i);return e_(o,i)?YA(o,$n(),e,s.transform,t,r,s):s.transform(t,r)}function Fr(n,e,t,r,i){let o=n+_t,s=Ee(),a=kh(s,o);return e_(s,o)?QA(s,$n(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function e_(n,e){return n[be].data[e].pure}function Vt(n,e){return vA(n,e)}var ci=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},XA=new ci("18.2.13");var nf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var ZA=new ne("");function eo(n){return!!n&&typeof n.then=="function"}function t_(n){return!!n&&typeof n.subscribe=="function"}var JA=new ne(""),ex=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=$(JA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(eo(o))t.push(o);else if(t_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_a=new ne("");function fB(){LC(()=>{throw new te(600,!1)})}function pB(n){return n.isBoundToModule}var mB=10;function gB(n,e,t){try{let r=t();return eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Vr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(_L),this.afterRenderManager=$(wU),this.zonelessEnabled=$(Zh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Te,this.afterTick=new Te,this.componentTypes=[],this.components=[],this.isStable=$(Ko).hasPendingTasks.pipe(ae(t=>!t)),this._injector=$(Un)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof wh;if(!this._injector.get(ex).done){let v=!i&&IT(t),m=!1;throw new te(405,m)}let s;i?s=t:s=this._injector.get(Ki).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=pB(s)?void 0:this._injector.get(Yi),c=r||s.selector,u=s.create(Ft.NULL,[],c,a),d=u.location.nativeElement,f=u.injector.get(ZA,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Xd(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new te(101,!1);let t=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Pe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(pa,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<mB;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)vB(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ph(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Xd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(_a,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var qd;function rf(n){qd??=new WeakMap;let e=qd.get(n);if(e)return e;let t=n.isStable.pipe(ir(r=>r)).toPromise().then(()=>{});return qd.set(n,t),n.onDestroy(()=>qd?.delete(n)),t}function vB(n,e,t,r){if(!t&&!Ph(n))return;fA(n,e,t&&!r?0:1)}var Xv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},n_=(()=>{class n{compileModuleSync(t){return new Wv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=DT(t),o=US(i.declarations).reduce((s,a)=>{let c=Bo(a);return c&&s.push(new el(c)),s},[]);return new Xv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yB=(()=>{class n{constructor(){this.zone=$(Se),this.changeDetectionScheduler=$(fa),this.applicationRef=$(Vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_B=new ne("",{factory:()=>!1});function tx({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(ve(H({},rx()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:Uo,multi:!0,useFactory:()=>{let r=$(yB,{optional:!0});return()=>r.initialize()}},{provide:Uo,multi:!0,useFactory:()=>{let r=$(wB);return()=>{r.initialize()}}},e===!0?{provide:EA,useValue:!0}:[],{provide:IA,useValue:t??hS}]}function nx(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=tx({ngZoneFactory:()=>{let i=rx(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ji("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Tn([{provide:_B,useValue:!0},{provide:Zh,useValue:!1},r])}function rx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var wB=(()=>{class n{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=$(Se),this.pendingTasks=$(Ko)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var EB=(()=>{class n{constructor(){this.appRef=$(Vr),this.taskService=$(Ko),this.ngZone=$(Se),this.zonelessEnabled=$(Zh),this.disableScheduling=$(EA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(IA,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Av||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?xb:pS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function IB(){return typeof $localize<"u"&&$localize.locale||bh}var pr=new ne("",{providedIn:"root",factory:()=>$(pr,Ce.Optional|Ce.SkipSelf)||IB()});var Zv=new ne("");function Gd(n){return!n.moduleRef}function DB(n){let e=Gd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{Gd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ai,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Gd(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Zv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Zv);s.add(o),n.moduleRef.onDestroy(()=>{Xd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return gB(r,t,()=>{let o=e.get(ex);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(pr,bh);if(JU(s||bh),Gd(n)){let a=e.get(Vr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return CB(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function CB(n,e){let t=n.injector.get(Vr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new te(-403,!1);e.push(n)}var Zd=null;function bB(n=[],e){return Ft.create({name:e,providers:[{provide:Mh,useValue:"platform"},{provide:Zv,useValue:new Set([()=>Zd=null])},...n]})}function TB(n=[]){if(Zd)return Zd;let e=bB(n);return Zd=e,fB(),SB(e),e}function SB(n){n.get(by,null)?.forEach(t=>t())}var mr=(()=>{class n{static{this.__NG_ELEMENT_ID__=AB}}return n})();function AB(n){return xB(Jt(),Ee(),(n&16)===16)}function xB(n,e,t){if(ol(n)&&!t){let r=Qi(n.index,e);return new Wo(r,r)}else if(n.type&175){let r=e[Bn];return new Wo(r,e)}return null}var Jv=class{constructor(){}supports(e){return SA(e)}create(e){return new ey(e)}},MB=(n,e)=>e,ey=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||MB}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<eT(r,i,o)?t:r,a=eT(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let v=0;v<u;v++){let m=v<o.length?o[v]:o[v]=0,D=m+v;d<=D&&D<u&&(o[v]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!SA(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,mU(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ty(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Th),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Th),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ty=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ny=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Th=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ny,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var ry=class{constructor(){}supports(e){return e instanceof Map||Ky(e)}create(){return new iy}},iy=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Ky(e)))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new oy(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},oy=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function tT(){return new r_([new Jv])}var r_=(()=>{class n{static{this.\u0275prov=X({token:n,providedIn:"root",factory:tT})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tT()),deps:[[n,new ay,new Xt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new te(901,!1)}}return n})();function nT(){return new i_([new ry])}var i_=(()=>{class n{static{this.\u0275prov=X({token:n,providedIn:"root",factory:nT})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nT()),deps:[[n,new ay,new Xt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new te(901,!1)}}return n})();function ix(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=TB(r),o=[tx({}),{provide:fa,useExisting:EB},...t||[]],s=new Dh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return DB({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var rT=!1;function RB(){rT||(rT=!0,VL(),WU(),iB(),KU(),_U(),sU(),Uj(),j2())}function NB(n,e){return rf(n)}function ox(){return Tn([{provide:jd,useFactory:()=>{let n=!0;return $d()&&(n=!!$(ya,{optional:!0})?.get(SS,null)),n&&Ji("NgHydration"),n}},{provide:Uo,useValue:()=>{kj(!1),$d()&&$(jd)&&(kB(),RB())},multi:!0},{provide:RS,useFactory:()=>$d()&&$(jd)},{provide:_a,useFactory:()=>{if($d()&&$(jd)){let n=$(Vr),e=$(Ft);return()=>{NB(n,e).then(()=>{Vj(n)})}}return()=>{}},multi:!0}])}function kB(){let n=cl(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===OL){e=t;break}if(!e)throw new te(-507,!1)}function to(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Jo(n,e){Ji("NgSignals");let t=OC(n);return e?.equal&&(t[ni].equal=e.equal),t}function gr(n){let e=Pe(null);try{return n()}finally{Pe(e)}}var hx=null;function gi(){return hx}function fx(n){hx??=n}var ff=class{};var Lt=new ne(""),px=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>$(PB),providedIn:"platform"})}}return n})();var PB=(()=>{class n extends px{constructor(){super(),this._doc=$(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gi().getBaseHref(this._doc)}onPopState(t){let r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function mx(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function sx(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function es(n){return n&&n[0]!=="?"?"?"+n:n}var Ea=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>$(gx),providedIn:"root"})}}return n})(),OB=new ne(""),gx=(()=>{class n extends Ea{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mx(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+es(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+es(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+es(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ue(px),ue(OB,8))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ml=(()=>{class n{constructor(t){this._subject=new J,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=LB(sx(ax(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+es(r))}normalize(t){return n.stripTrailingSlash(VB(this._basePath,ax(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+es(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+es(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=es}static{this.joinWithSlash=mx}static{this.stripTrailingSlash=sx}static{this.\u0275fac=function(r){return new(r||n)(ue(Ea))}}static{this.\u0275prov=X({token:n,factory:()=>FB(),providedIn:"root"})}}return n})();function FB(){return new ml(ue(Ea))}function VB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ax(n){return n.replace(/\/index.html$/,"")}function LB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var wa=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(wa||{}),pn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(pn||{}),We=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(We||{}),xn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(xn||{}),no={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function jB(n){return An(n)[dt.LocaleId]}function UB(n,e,t){let r=An(n),i=[r[dt.DayPeriodsFormat],r[dt.DayPeriodsStandalone]],o=Gn(i,e);return Gn(o,t)}function BB(n,e,t){let r=An(n),i=[r[dt.DaysFormat],r[dt.DaysStandalone]],o=Gn(i,e);return Gn(o,t)}function HB(n,e,t){let r=An(n),i=[r[dt.MonthsFormat],r[dt.MonthsStandalone]],o=Gn(i,e);return Gn(o,t)}function $B(n,e){let r=An(n)[dt.Eras];return Gn(r,e)}function of(n,e){let t=An(n);return Gn(t[dt.DateFormat],e)}function sf(n,e){let t=An(n);return Gn(t[dt.TimeFormat],e)}function af(n,e){let r=An(n)[dt.DateTimeFormat];return Gn(r,e)}function gf(n,e){let t=An(n),r=t[dt.NumberSymbols][e];if(typeof r>"u"){if(e===no.CurrencyDecimal)return t[dt.NumberSymbols][no.Decimal];if(e===no.CurrencyGroup)return t[dt.NumberSymbols][no.Group]}return r}var zB=BA;function vx(n){if(!n[dt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[dt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function WB(n){let e=An(n);return vx(e),(e[dt.ExtraData][2]||[]).map(r=>typeof r=="string"?o_(r):[o_(r[0]),o_(r[1])])}function qB(n,e,t){let r=An(n);vx(r);let i=[r[dt.ExtraData][0],r[dt.ExtraData][1]],o=Gn(i,e)||[];return Gn(o,t)||[]}function Gn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function o_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var GB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cf={},KB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,mi=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(mi||{}),je=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(je||{}),Le=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Le||{});function Dt(n,e,t,r){let i=rH(n);e=pi(t,e)||e;let s=[],a;for(;e;)if(a=KB.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=_x(r,c),i=nH(i,r,!0));let u="";return s.forEach(d=>{let f=eH(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function pf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function pi(n,e){let t=jB(n);if(cf[t]??={},cf[t][e])return cf[t][e];let r="";switch(e){case"shortDate":r=of(n,xn.Short);break;case"mediumDate":r=of(n,xn.Medium);break;case"longDate":r=of(n,xn.Long);break;case"fullDate":r=of(n,xn.Full);break;case"shortTime":r=sf(n,xn.Short);break;case"mediumTime":r=sf(n,xn.Medium);break;case"longTime":r=sf(n,xn.Long);break;case"fullTime":r=sf(n,xn.Full);break;case"short":let i=pi(n,"shortTime"),o=pi(n,"shortDate");r=lf(af(n,xn.Short),[i,o]);break;case"medium":let s=pi(n,"mediumTime"),a=pi(n,"mediumDate");r=lf(af(n,xn.Medium),[s,a]);break;case"long":let c=pi(n,"longTime"),u=pi(n,"longDate");r=lf(af(n,xn.Long),[c,u]);break;case"full":let d=pi(n,"fullTime"),f=pi(n,"fullDate");r=lf(af(n,xn.Full),[d,f]);break}return r&&(cf[t][e]=r),r}function lf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function vr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function YB(n,e){return vr(n,3).substring(0,e)}function It(n,e,t=0,r=!1,i=!1){return function(o,s){let a=QB(n,o);if((t>0||a>-t)&&(a+=t),n===je.Hours)a===0&&t===-12&&(a=12);else if(n===je.FractionalSeconds)return YB(a,e);let c=gf(s,no.MinusSign);return vr(a,e,c,r,i)}}function QB(n,e){switch(n){case je.FullYear:return e.getFullYear();case je.Month:return e.getMonth();case je.Date:return e.getDate();case je.Hours:return e.getHours();case je.Minutes:return e.getMinutes();case je.Seconds:return e.getSeconds();case je.FractionalSeconds:return e.getMilliseconds();case je.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ge(n,e,t=pn.Format,r=!1){return function(i,o){return XB(i,o,n,e,t,r)}}function XB(n,e,t,r,i,o){switch(t){case Le.Months:return HB(e,i,r)[n.getMonth()];case Le.Days:return BB(e,i,r)[n.getDay()];case Le.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let u=WB(e),d=qB(e,i,r),f=u.findIndex(v=>{if(Array.isArray(v)){let[m,D]=v,R=s>=m.hours&&a>=m.minutes,A=s<D.hours||s===D.hours&&a<D.minutes;if(m.hours<D.hours){if(R&&A)return!0}else if(R||A)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return UB(e,i,r)[s<12?0:1];case Le.Eras:return $B(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function uf(n){return function(e,t,r){let i=-1*r,o=gf(t,no.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case mi.Short:return(i>=0?"+":"")+vr(s,2,o)+vr(Math.abs(i%60),2,o);case mi.ShortGMT:return"GMT"+(i>=0?"+":"")+vr(s,1,o);case mi.Long:return"GMT"+(i>=0?"+":"")+vr(s,2,o)+":"+vr(Math.abs(i%60),2,o);case mi.Extended:return r===0?"Z":(i>=0?"+":"")+vr(s,2,o)+":"+vr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var ZB=0,hf=4;function JB(n){let e=pf(n,ZB,1).getDay();return pf(n,0,1+(e<=hf?hf:hf+7)-e)}function yx(n){let e=n.getDay(),t=e===0?-3:hf-e;return pf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function s_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=yx(t),s=JB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return vr(i,n,gf(r,no.MinusSign))}}function df(n,e=!1){return function(t,r){let o=yx(t).getFullYear();return vr(o,n,gf(r,no.MinusSign),e)}}var a_={};function eH(n){if(a_[n])return a_[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ge(Le.Eras,We.Abbreviated);break;case"GGGG":e=Ge(Le.Eras,We.Wide);break;case"GGGGG":e=Ge(Le.Eras,We.Narrow);break;case"y":e=It(je.FullYear,1,0,!1,!0);break;case"yy":e=It(je.FullYear,2,0,!0,!0);break;case"yyy":e=It(je.FullYear,3,0,!1,!0);break;case"yyyy":e=It(je.FullYear,4,0,!1,!0);break;case"Y":e=df(1);break;case"YY":e=df(2,!0);break;case"YYY":e=df(3);break;case"YYYY":e=df(4);break;case"M":case"L":e=It(je.Month,1,1);break;case"MM":case"LL":e=It(je.Month,2,1);break;case"MMM":e=Ge(Le.Months,We.Abbreviated);break;case"MMMM":e=Ge(Le.Months,We.Wide);break;case"MMMMM":e=Ge(Le.Months,We.Narrow);break;case"LLL":e=Ge(Le.Months,We.Abbreviated,pn.Standalone);break;case"LLLL":e=Ge(Le.Months,We.Wide,pn.Standalone);break;case"LLLLL":e=Ge(Le.Months,We.Narrow,pn.Standalone);break;case"w":e=s_(1);break;case"ww":e=s_(2);break;case"W":e=s_(1,!0);break;case"d":e=It(je.Date,1);break;case"dd":e=It(je.Date,2);break;case"c":case"cc":e=It(je.Day,1);break;case"ccc":e=Ge(Le.Days,We.Abbreviated,pn.Standalone);break;case"cccc":e=Ge(Le.Days,We.Wide,pn.Standalone);break;case"ccccc":e=Ge(Le.Days,We.Narrow,pn.Standalone);break;case"cccccc":e=Ge(Le.Days,We.Short,pn.Standalone);break;case"E":case"EE":case"EEE":e=Ge(Le.Days,We.Abbreviated);break;case"EEEE":e=Ge(Le.Days,We.Wide);break;case"EEEEE":e=Ge(Le.Days,We.Narrow);break;case"EEEEEE":e=Ge(Le.Days,We.Short);break;case"a":case"aa":case"aaa":e=Ge(Le.DayPeriods,We.Abbreviated);break;case"aaaa":e=Ge(Le.DayPeriods,We.Wide);break;case"aaaaa":e=Ge(Le.DayPeriods,We.Narrow);break;case"b":case"bb":case"bbb":e=Ge(Le.DayPeriods,We.Abbreviated,pn.Standalone,!0);break;case"bbbb":e=Ge(Le.DayPeriods,We.Wide,pn.Standalone,!0);break;case"bbbbb":e=Ge(Le.DayPeriods,We.Narrow,pn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(Le.DayPeriods,We.Abbreviated,pn.Format,!0);break;case"BBBB":e=Ge(Le.DayPeriods,We.Wide,pn.Format,!0);break;case"BBBBB":e=Ge(Le.DayPeriods,We.Narrow,pn.Format,!0);break;case"h":e=It(je.Hours,1,-12);break;case"hh":e=It(je.Hours,2,-12);break;case"H":e=It(je.Hours,1);break;case"HH":e=It(je.Hours,2);break;case"m":e=It(je.Minutes,1);break;case"mm":e=It(je.Minutes,2);break;case"s":e=It(je.Seconds,1);break;case"ss":e=It(je.Seconds,2);break;case"S":e=It(je.FractionalSeconds,1);break;case"SS":e=It(je.FractionalSeconds,2);break;case"SSS":e=It(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=uf(mi.Short);break;case"ZZZZZ":e=uf(mi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=uf(mi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=uf(mi.Long);break;default:return null}return a_[n]=e,e}function _x(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function tH(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function nH(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=_x(e,i);return tH(n,r*(o-i))}function rH(n){if(cx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return pf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(GB))return iH(r)}let e=new Date(n);if(!cx(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function iH(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function cx(n){return n instanceof Date&&!isNaN(n.valueOf())}var wx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:function(r){let i=null;return r?i=new r:i=(o=>new sH(o))(ue(pr)),i},providedIn:"root"})}}return n})();function oH(n,e,t,r){let i=`=${n}`;if(e.indexOf(i)>-1||(i=t.getPluralCategory(n,r),e.indexOf(i)>-1))return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}var sH=(()=>{class n extends wx{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(zB(r||this.locale)(t)){case wa.Zero:return"zero";case wa.One:return"one";case wa.Two:return"two";case wa.Few:return"few";case wa.Many:return"many";default:return"other"}}static{this.\u0275fac=function(r){return new(r||n)(ue(pr))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac})}}return n})();function f_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var c_=/\s+/,lx=[],tn=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=lx,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(c_):lx}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(c_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(c_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(O(tt),O(pt))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var l_=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new l_(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ux(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ux(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(O(hr),O(Yh),O(r_))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ux(n,e){n.context.$implicit=e.item}var st=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new u_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(O(hr),O(Yh))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),u_=class{constructor(){this.$implicit=null,this.ngIf=null}};function dx(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${hn(e)}'.`)}var gl=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Nr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(O(tt),O(i_),O(pt))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),Yn=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(O(hr))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Zt]})}}return n})();function vf(n,e){return new te(2100,!1)}var d_=class{createSubscription(e,t){return gr(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){gr(()=>e.unsubscribe())}},h_=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},aH=new h_,cH=new d_,Ex=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(eo(t))return aH;if(t_(t))return cH;throw vf(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(O(mr,16))}}static{this.\u0275pipe=ui({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var lH="mediumDate",uH=new ne(""),dH=new ne(""),Ix=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??lH,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Dt(t,s,o||this.locale,a)}catch(s){throw vf(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(O(pr,16),O(uH,24),O(dH,24))}}static{this.\u0275pipe=ui({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),hH=/#/g,yf=(()=>{class n{constructor(t){this._localization=t}transform(t,r,i){if(t==null)return"";if(typeof r!="object"||r===null)throw vf(n,r);let o=oH(t,Object.keys(r),this._localization,i);return r[o].replace(hH,t.toString())}static{this.\u0275fac=function(r){return new(r||n)(O(wx,16))}}static{this.\u0275pipe=ui({name:"i18nPlural",type:n,pure:!0,standalone:!0})}}return n})();var Dx=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!this.supports(t))throw vf(n,t);return t.slice(r,i)}supports(t){return typeof t=="string"||Array.isArray(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=ui({name:"slice",type:n,pure:!1,standalone:!0})}}return n})();var Ke=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mt({type:n})}static{this.\u0275inj=xt({})}}return n})(),p_="browser",fH="server";function Cx(n){return n===p_}function vl(n){return n===fH}var mf=class{};var wf=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Nx=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Nx||{}),m_=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new wf,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Ef=class n extends m_{constructor(e={}){super(e),this.type=Nx.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var pH=new ne("");var mH=new ne(""),bx="b",Tx="h",Sx="s",Ax="st",xx="u",Mx="rt",_f=new ne(""),gH=["GET","HEAD"];function vH(n,e){let m=$(_f),{isCacheActive:t}=m,r=sd(m,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!gH.includes(o)||!r.includeRequestsWithAuthHeaders&&yH(n)||r.filter?.(n)===!1)return e(n);let s=$(ya),a=$(mH,{optional:!0}),c=vl($(_n));if(a&&!c)throw new te(2803,!1);let u=c&&a?IH(n.url,a):n.url,d=wH(n,u),f=s.get(d,null),v=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(v=i.includeHeaders),f){let{[bx]:D,[Mx]:R,[Tx]:A,[Sx]:P,[Ax]:U,[xx]:B}=f,W=D;switch(R){case"arraybuffer":W=new TextEncoder().encode(D).buffer;break;case"blob":W=new Blob([D]);break}let ie=new wf(A);return pe(new Ef({body:W,headers:ie,status:P,statusText:U,url:B}))}return e(n).pipe(ot(D=>{D instanceof Ef&&c&&s.set(d,{[bx]:D.body,[Tx]:_H(D.headers,v),[Sx]:D.status,[Ax]:D.statusText,[xx]:u,[Mx]:n.responseType})}))}function yH(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function _H(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function Rx(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function wH(n,e){let{params:t,method:r,responseType:i}=n,o=Rx(t),s=n.serializeBody();s instanceof URLSearchParams?s=Rx(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=EH(a);return c}function EH(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function kx(n){return[{provide:_f,useFactory:()=>(Ji("NgHttpTransferCache"),H({isCacheActive:!0},n))},{provide:pH,useValue:vH,multi:!0,deps:[ya,_f]},{provide:_a,multi:!0,useFactory:()=>{let e=$(Vr),t=$(_f);return()=>{rf(e).then(()=>{t.isCacheActive=!1})}}}]}function IH(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var y_=class extends ff{constructor(){super(...arguments),this.supportsDOMEvents=!0}},__=class n extends y_{static makeCurrent(){fx(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=DH();return t==null?null:CH(t)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return f_(document.cookie,e)}},yl=null;function DH(){return yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null}function CH(n){return new URL(n,document.baseURI).pathname}var bH=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac})}}return n})(),w_=new ne(""),Vx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ue(w_),ue(Se))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac})}}return n})(),If=class{constructor(e){this._doc=e}},g_="ng-app-id",Lx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${g_}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(g_),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(g_,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ue(Lt),ue(Uh),ue(Ty,8),ue(_n))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac})}}return n})(),v_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},D_=/%COMP%/g,jx="%COMP%",TH=`_nghost-${jx}`,SH=`_ngcontent-${jx}`,AH=!0,xH=new ne("",{providedIn:"root",factory:()=>AH});function MH(n){return SH.replace(D_,n)}function RH(n){return TH.replace(D_,n)}function Ux(n,e){return e.map(t=>t.replace(D_,n))}var Px=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=vl(a),this.defaultRenderer=new _l(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xr.ShadowDom&&(r=ve(H({},r),{encapsulation:xr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Df?i.applyToHost(t):i instanceof wl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case xr.Emulated:o=new Df(c,u,r,this.appId,d,s,a,f);break;case xr.ShadowDom:return new E_(c,u,t,r,s,a,this.nonce,f);default:o=new wl(c,u,r,d,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ue(Vx),ue(Lx),ue(Uh),ue(xH),ue(Lt),ue(_n),ue(Se),ue(Ty))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac})}}return n})(),_l=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(v_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Ox(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ox(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=v_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=v_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Nr.DashCase|Nr.Important)?e.style.setProperty(t,r,i&Nr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Nr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=gi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Ox(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var E_=class extends _l{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Ux(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wl=class extends _l{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?Ux(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Df=class extends wl{constructor(e,t,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=MH(u),this.hostAttr=RH(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},NH=(()=>{class n extends If{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ue(Lt))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac})}}return n})(),Fx=["alt","control","meta","shift"],kH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},OH=(()=>{class n extends If{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fx.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=kH[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Fx.forEach(s=>{if(s!==i){let a=PH[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ue(Lt))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac})}}return n})();function Bx(n,e){return ix(H({rootComponent:n},FH(e)))}function FH(n){return{appProviders:[...BH,...n?.providers??[]],platformProviders:UH}}function VH(){__.makeCurrent()}function LH(){return new ai}function jH(){return IS(document),document}var UH=[{provide:_n,useValue:p_},{provide:by,useValue:VH,multi:!0},{provide:Lt,useFactory:jH,deps:[]}];var BH=[{provide:Mh,useValue:"root"},{provide:ai,useFactory:LH,deps:[]},{provide:w_,useClass:NH,multi:!0,deps:[Lt,Se,_n]},{provide:w_,useClass:OH,multi:!0,deps:[Lt]},Px,Lx,Vx,{provide:pa,useExisting:Px},{provide:mf,useClass:bH,deps:[]},[]];var Hx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ue(Lt))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var I_=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(I_||{});function $x(...n){let e=[],t=new Set,r=t.has(I_.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Tn([[],ox(),t.has(I_.NoHttpTransferCache)||r?[]:kx({}),e])}var Ie="primary",Fl=Symbol("RouteTitle"),A_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Sa(n){return new A_(n)}function $H(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function zH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Lr(n[t],e[t]))return!1;return!0}function Lr(n,e){let t=n?x_(n):void 0,r=e?x_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Xx(n[i],e[i]))return!1;return!0}function x_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Xx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Zx(n){return n.length>0?n[n.length-1]:null}function io(n){return Lg(n)?n:eo(n)?et(Promise.resolve(n)):pe(n)}var WH={exact:eM,subset:tM},Jx={exact:qH,subset:GH,ignored:()=>!0};function zx(n,e,t){return WH[t.paths](n.root,e.root,t.matrixParams)&&Jx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function qH(n,e){return Lr(n,e)}function eM(n,e,t){if(!ns(n.segments,e.segments)||!Tf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!eM(n.children[r],e.children[r],t))return!1;return!0}function GH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xx(n[t],e[t]))}function tM(n,e,t){return nM(n,e,e.segments,t)}function nM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ns(i,t)||e.hasChildren()||!Tf(i,t,r))}else if(n.segments.length===t.length){if(!ns(n.segments,t)||!Tf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!tM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ns(n.segments,i)||!Tf(n.segments,i,r)||!n.children[Ie]?!1:nM(n.children[Ie],e,o,r)}}function Tf(n,e,t){return e.every((r,i)=>Jx[t](n[i].parameters,r.parameters))}var yi=class{constructor(e=new Ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sa(this.queryParams),this._queryParamMap}toString(){return QH.serialize(this)}},Ue=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sf(this)}},ts=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Sa(this.parameters),this._parameterMap}toString(){return iM(this)}};function KH(n,e){return ns(n,e)&&n.every((t,r)=>Lr(t.parameters,e[r].parameters))}function ns(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function YH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ie&&(t=t.concat(e(i,r)))}),t}var tw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>new Sl,providedIn:"root"})}}return n})(),Sl=class{parse(e){let t=new R_(e);return new yi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${El(e.root,!0)}`,r=JH(e.queryParams),i=typeof e.fragment=="string"?`#${XH(e.fragment)}`:"";return`${t}${r}${i}`}},QH=new Sl;function Sf(n){return n.segments.map(e=>iM(e)).join("/")}function El(n,e){if(!n.hasChildren())return Sf(n);if(e){let t=n.children[Ie]?El(n.children[Ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ie&&r.push(`${i}:${El(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=YH(n,(r,i)=>i===Ie?[El(n.children[Ie],!1)]:[`${i}:${El(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ie]!=null?`${Sf(n)}/${t[0]}`:`${Sf(n)}/(${t.join("//")})`}}function rM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cf(n){return rM(n).replace(/%3B/gi,";")}function XH(n){return encodeURI(n)}function M_(n){return rM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(n){return decodeURIComponent(n)}function Wx(n){return Af(n.replace(/\+/g,"%20"))}function iM(n){return`${M_(n.path)}${ZH(n.parameters)}`}function ZH(n){return Object.entries(n).map(([e,t])=>`;${M_(e)}=${M_(t)}`).join("")}function JH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Cf(t)}=${Cf(i)}`).join("&"):`${Cf(t)}=${Cf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var e$=/^[^\/()?;#]+/;function C_(n){let e=n.match(e$);return e?e[0]:""}var t$=/^[^\/()?;=#]+/;function n$(n){let e=n.match(t$);return e?e[0]:""}var r$=/^[^=?&#]+/;function i$(n){let e=n.match(r$);return e?e[0]:""}var o$=/^[^&#]+/;function s$(n){let e=n.match(o$);return e?e[0]:""}var R_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ie]=new Ue(e,t)),r}parseSegment(){let e=C_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new ts(Af(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=n$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=C_(this.remaining);i&&(r=i,this.capture(r))}e[Af(t)]=Af(r)}parseQueryParam(e){let t=i$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=s$(this.remaining);s&&(r=s,this.capture(r))}let i=Wx(t),o=Wx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=C_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ie]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function oM(n){return n.segments.length>0?new Ue([],{[Ie]:n}):n}function sM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=sM(i);if(r===Ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ue(n.segments,e);return a$(t)}function a$(n){if(n.numberOfChildren===1&&n.children[Ie]){let e=n.children[Ie];return new Ue(n.segments.concat(e.segments),e.children)}return n}function rs(n){return n instanceof yi}function c$(n,e,t=null,r=null){let i=aM(n);return cM(i,e,t,r)}function aM(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ue(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=oM(r);return e??i}function cM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return b_(i,i,i,t,r);let o=l$(e);if(o.toRoot())return b_(i,i,new Ue([],{}),t,r);let s=u$(o,i,n),a=s.processChildren?Cl(s.segmentGroup,s.index,o.commands):uM(s.segmentGroup,s.index,o.commands);return b_(i,s.segmentGroup,a,t,r)}function xf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Al(n){return typeof n=="object"&&n!=null&&n.outlets}function b_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=lM(n,e,t);let a=oM(sM(s));return new yi(a,o,i)}function lM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=lM(o,e,t)}),new Ue(n.segments,r)}var Mf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xf(r[0]))throw new te(4003,!1);let i=r.find(Al);if(i&&i!==Zx(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function l$(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Mf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Mf(t,e,r)}var Ca=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function u$(n,e,t){if(n.isAbsolute)return new Ca(e,!0,0);if(!t)return new Ca(e,!1,NaN);if(t.parent===null)return new Ca(t,!0,0);let r=xf(n.commands[0])?0:1,i=t.segments.length-1+r;return d$(t,i,n.numberOfDoubleDots)}function d$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new Ca(r,!1,i-o)}function h$(n){return Al(n[0])?n[0].outlets:{[Ie]:n}}function uM(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Cl(n,e,t);let r=f$(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,r.pathIndex),{});return o.children[Ie]=new Ue(n.segments.slice(r.pathIndex),n.children),Cl(o,0,i)}else return r.match&&i.length===0?new Ue(n.segments,{}):r.match&&!n.hasChildren()?N_(n,e,t):r.match?Cl(n,0,i):N_(n,e,t)}function Cl(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let r=h$(t),i={};if(Object.keys(r).some(o=>o!==Ie)&&n.children[Ie]&&n.numberOfChildren===1&&n.children[Ie].segments.length===0){let o=Cl(n.children[Ie],e,t);return new Ue(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=uM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(n.segments,i)}}function f$(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Al(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Gx(c,u,s))return o;r+=2}else{if(!Gx(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function N_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Al(o)){let c=p$(o.outlets);return new Ue(r,c)}if(i===0&&xf(t[0])){let c=n.segments[e];r.push(new ts(c.path,qx(t[0]))),i++;continue}let s=Al(o)?o.outlets[Ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&xf(a)?(r.push(new ts(s,qx(a))),i+=2):(r.push(new ts(s,{})),i++)}return new Ue(r,{})}function p$(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=N_(new Ue([],{}),0,r))}),e}function qx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Gx(n,e,t){return n==t.path&&Lr(e,t.parameters)}var bl="imperative",zt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(zt||{}),Qn=class{constructor(e,t){this.id=e,this.url=t}},xl=class extends Qn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=zt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ro=class extends Qn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Rn||{}),k_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(k_||{}),vi=class extends Qn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},is=class extends Qn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=zt.NavigationSkipped}},Ml=class extends Qn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rf=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},P_=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},O_=class extends Qn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},F_=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V_=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},L_=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},j_=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},U_=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},B_=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H_=class{constructor(e){this.snapshot=e,this.type=zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$_=class{constructor(e){this.snapshot=e,this.type=zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Rl=class{},Aa=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function m$(n,e){return n.providers&&!n._injector&&(n._injector=Gy(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _r(n){return n.outlet||Ie}function g$(n,e){let t=n.filter(r=>_r(r)===e);return t.push(...n.filter(r=>_r(r)!==e)),t}function Vl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var z_=class{get injector(){return Vl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Lf(this.rootInjector),this.attachRef=null}},Lf=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new z_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ue(Un))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=W_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=W_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=q_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return q_(e,this._root).map(t=>t.value)}};function W_(n,e){if(n===e.value)return e;for(let t of e.children){let r=W_(n,t);if(r)return r}return null}function q_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=q_(n,t);if(r.length)return r.unshift(e),r}return[]}var Mn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Da(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var kf=class extends Nf{constructor(e,t){super(e),this.snapshot=t,nw(this,e)}toString(){return this.snapshot.toString()}};function dM(n){let e=v$(n),t=new ut([new ts("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new os(t,r,o,s,i,Ie,n,e.root);return a.snapshot=e.root,new kf(new Mn(a,[]),e)}function v$(n){let e={},t={},r={},i="",o=new ba([],e,r,i,t,Ie,n,null,{});return new Of("",new Mn(o,[]))}var os=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ae(u=>u[Fl]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Sa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Sa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:H(H({},e.params),n.params),data:H(H({},e.data),n.data),resolve:H(H(H(H({},n.data),e.data),i?.data),n._resolvedData)}:r={params:H({},n.params),data:H({},n.data),resolve:H(H({},n.data),n._resolvedData??{})},i&&fM(i)&&(r.resolve[Fl]=i.title),r}var ba=class{get title(){return this.data?.[Fl]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Of=class extends Nf{constructor(e,t){super(t),this.url=e,nw(this,t)}toString(){return hM(this._root)}};function nw(n,e){e.value._routerState=n,e.children.forEach(t=>nw(n,t))}function hM(n){let e=n.children.length>0?` { ${n.children.map(hM).join(", ")} } `:"";return`${n.value}${e}`}function T_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Lr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Lr(e.params,t.params)||n.paramsSubject.next(t.params),zH(e.url,t.url)||n.urlSubject.next(t.url),Lr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function G_(n,e){let t=Lr(n.params,e.params)&&KH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||G_(n.parent,e.parent))}function fM(n){return typeof n.title=="string"||n.title===null}var rw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new J,this.deactivateEvents=new J,this.attachEvents=new J,this.detachEvents=new J,this.parentContexts=$(Lf),this.location=$(hr),this.changeDetector=$(mr),this.inputBinder=$(iw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new K_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zt]})}}return n})(),K_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===os?this.route:e===Lf?this.childContexts:this.parent.get(e,t)}},iw=new ne("");function y$(n,e,t){let r=Nl(n,e._root,t?t._root:void 0);return new kf(r,e)}function Nl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_$(n,e,t);return new Mn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nl(n,a)),s}}let r=w$(e.value),i=e.children.map(o=>Nl(n,o));return new Mn(r,i)}}function _$(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nl(n,r,i);return Nl(n,r)})}function w$(n){return new os(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}var kl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},pM="ngNavigationCancelingError";function Ff(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mM(!1,Rn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function mM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[pM]=!0,t.cancellationCode=e,t}function E$(n){return gM(n)&&rs(n.url)}function gM(n){return!!n&&n[pM]}var I$=(n,e,t,r)=>ae(i=>(new Y_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Y_=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),T_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Da(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Da(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Da(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Da(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new B_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(T_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),T_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Vf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ta=class{constructor(e,t){this.component=e,this.route=t}};function D$(n,e,t){let r=n._root,i=e?e._root:null;return Il(r,i,t,[r.value])}function C$(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ma(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!aT(n)?n:e.get(n):r}function Il(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Da(e);return n.children.forEach(s=>{b$(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Tl(a,t.getContext(s),i)),i}function b$(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=T$(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Vf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Il(n,e,a?a.children:null,r,i):Il(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ta(a.outlet.component,s))}else s&&Tl(e,a,i),i.canActivateChecks.push(new Vf(r)),o.component?Il(n,null,a?a.children:null,r,i):Il(n,null,t,r,i);return i}function T$(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ns(n.url,e.url)||!Lr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!G_(n,e)||!Lr(n.queryParams,e.queryParams);case"paramsChange":default:return!G_(n,e)}}function Tl(n,e,t){let r=Da(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Tl(s,e.children.getContext(o),t):Tl(s,null,t):Tl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ta(e.outlet.component,i)):t.canDeactivateChecks.push(new Ta(null,i)):t.canDeactivateChecks.push(new Ta(null,i))}function Ll(n){return typeof n=="function"}function S$(n){return typeof n=="boolean"}function A$(n){return n&&Ll(n.canLoad)}function x$(n){return n&&Ll(n.canActivate)}function M$(n){return n&&Ll(n.canActivateChild)}function R$(n){return n&&Ll(n.canDeactivate)}function N$(n){return n&&Ll(n.canMatch)}function vM(n){return n instanceof ii||n?.name==="EmptyError"}var bf=Symbol("INITIAL_VALUE");function xa(){return Ht(n=>Xs(n.map(e=>e.pipe(Yt(1),Oo(bf)))).pipe(ae(e=>{for(let t of e)if(t!==!0){if(t===bf)return bf;if(t===!1||k$(t))return t}return!0}),Qe(e=>e!==bf),Yt(1)))}function k$(n){return rs(n)||n instanceof kl}function P$(n,e){return qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?pe(ve(H({},t),{guardsResult:!0})):O$(s,r,i,n).pipe(qe(a=>a&&S$(a)?F$(r,o,n,e):pe(a)),ae(a=>ve(H({},t),{guardsResult:a})))})}function O$(n,e,t,r){return et(n).pipe(qe(i=>B$(i.component,i.route,t,e,r)),ir(i=>i!==!0,!0))}function F$(n,e,t,r){return et(e).pipe(Po(i=>Zs(L$(i.route.parent,r),V$(i.route,r),U$(n,i.path,t),j$(n,i.route,t))),ir(i=>i!==!0,!0))}function V$(n,e){return n!==null&&e&&e(new H_(n)),pe(!0)}function L$(n,e){return n!==null&&e&&e(new U_(n)),pe(!0)}function j$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(o=>Od(()=>{let s=Vl(e)??t,a=Ma(o,s),c=x$(a)?a.canActivate(e,n):kr(s,()=>a(e,n));return io(c).pipe(ir())}));return pe(i).pipe(xa())}function U$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>C$(s)).filter(s=>s!==null).map(s=>Od(()=>{let a=s.guards.map(c=>{let u=Vl(s.node)??t,d=Ma(c,u),f=M$(d)?d.canActivateChild(r,n):kr(u,()=>d(r,n));return io(f).pipe(ir())});return pe(a).pipe(xa())}));return pe(o).pipe(xa())}function B$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let c=Vl(e)??i,u=Ma(a,c),d=R$(u)?u.canDeactivate(n,e,t,r):kr(c,()=>u(n,e,t,r));return io(d).pipe(ir())});return pe(s).pipe(xa())}function H$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let o=i.map(s=>{let a=Ma(s,n),c=A$(a)?a.canLoad(e,t):kr(n,()=>a(e,t));return io(c)});return pe(o).pipe(xa(),yM(r))}function yM(n){return Rg(ot(e=>{if(typeof e!="boolean")throw Ff(n,e)}),ae(e=>e===!0))}function $$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let o=i.map(s=>{let a=Ma(s,n),c=N$(a)?a.canMatch(e,t):kr(n,()=>a(e,t));return io(c)});return pe(o).pipe(xa(),yM(r))}var Pl=class{constructor(e){this.segmentGroup=e||null}},Ol=class extends Error{constructor(e){super(),this.urlTree=e}};function Ia(n){return Ys(new Pl(n))}function z$(n){return Ys(new te(4e3,!1))}function W$(n){return Ys(mM(!1,Rn.GuardRejected))}var Q_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[Ie])return z$(`${e.redirectTo}`);i=i.children[Ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:v,params:m,data:D,title:R}=i,A=kr(o,()=>a({params:m,data:D,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:v,title:R}));if(A instanceof yi)throw new Ol(A);t=A}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ol(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new yi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ue(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},X_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q$(n,e,t,r,i){let o=_M(n,e,t);return o.matched?(r=m$(e,r),$$(r,e,t,i).pipe(ae(s=>s===!0?o:H({},X_)))):pe(o)}function _M(n,e,t){if(e.path==="**")return G$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?H({},X_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$H)(t,n,e);if(!i)return H({},X_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?H(H({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function G$(n){return{matched:!0,parameters:n.length>0?Zx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Kx(n,e,t,r){return t.length>0&&Q$(n,t,r)?{segmentGroup:new Ue(e,Y$(r,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&X$(n,t,r)?{segmentGroup:new Ue(n.segments,K$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function K$(n,e,t,r){let i={};for(let o of t)if(jf(n,e,o)&&!r[_r(o)]){let s=new Ue([],{});i[_r(o)]=s}return H(H({},r),i)}function Y$(n,e){let t={};t[Ie]=e;for(let r of n)if(r.path===""&&_r(r)!==Ie){let i=new Ue([],{});t[_r(r)]=i}return t}function Q$(n,e,t){return t.some(r=>jf(n,e,r)&&_r(r)!==Ie)}function X$(n,e,t){return t.some(r=>jf(n,e,r))}function jf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Z$(n,e,t){return e.length===0&&!n.children[t]}var Z_=class{};function J$(n,e,t,r,i,o,s="emptyOnly"){return new J_(n,e,t,r,i,s,o).recognize()}var ez=31,J_=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Q_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=Kx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(({children:t,rootSnapshot:r})=>{let i=new Mn(r,t),o=new Of("",i),s=c$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ba([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ie,t).pipe(ae(r=>({children:r,rootSnapshot:t})),Ui(r=>{if(r instanceof Ol)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ae(s=>s instanceof Mn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return et(o).pipe(Po(s=>{let a=r.children[s],c=g$(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Wg((s,a)=>(s.push(...a),s)),Bi(null),zg(),qe(s=>{if(s===null)return Ia(r);let a=wM(s);return tz(a),pe(a)}))}processSegment(e,t,r,i,o,s,a){return et(t).pipe(Po(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Ui(u=>{if(u instanceof Pl)return pe(null);throw u}))),ir(c=>!!c),Ui(c=>{if(vM(c))return Z$(r,i,o)?pe(new Z_):Ia(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return _r(r)!==s&&(s===Ie||!jf(i,o,r))?Ia(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ia(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:v}=_M(t,i,o);if(!c)return Ia(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ez&&(this.allowRedirects=!1));let m=new ba(o,u,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Yx(i),_r(i),i.component??i._loadedComponent??null,i,Qx(i)),D=Pf(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let R=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(qe(A=>this.processSegment(e,r,t,A.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=q$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ht(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ht(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:v,remainingSegments:m}=c,D=new ba(v,f,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Yx(r),_r(r),r.component??r._loadedComponent??null,r,Qx(r)),R=Pf(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(R.params),D.data=Object.freeze(R.data);let{segmentGroup:A,slicedSegments:P}=Kx(t,v,m,u);if(P.length===0&&A.hasChildren())return this.processChildren(d,u,A,D).pipe(ae(B=>new Mn(D,B)));if(u.length===0&&P.length===0)return pe(new Mn(D,[]));let U=_r(r)===o;return this.processSegment(d,u,A,P,U?Ie:o,!0,D).pipe(ae(B=>new Mn(D,B instanceof Mn?[B]:[])))}))):Ia(t)))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):H$(e,t,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,t).pipe(ot(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):W$(t))):pe({routes:[],injector:e})}};function tz(n){n.sort((e,t)=>e.value.outlet===Ie?-1:t.value.outlet===Ie?1:e.value.outlet.localeCompare(t.value.outlet))}function nz(n){let e=n.value.routeConfig;return e&&e.path===""}function wM(n){let e=[],t=new Set;for(let r of n){if(!nz(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=wM(r.children);e.push(new Mn(r.value,i))}return e.filter(r=>!t.has(r))}function Yx(n){return n.data||{}}function Qx(n){return n.resolve||{}}function rz(n,e,t,r,i,o){return qe(s=>J$(n,e,t,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:c})=>ve(H({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function iz(n,e){return qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of EM(c))s.add(u);let a=0;return et(s).pipe(Po(c=>o.has(c)?oz(c,r,n,e):(c.data=Pf(c,c.parent,n).resolve,pe(void 0))),ot(()=>a++),Hi(1),qe(c=>a===s.size?pe(t):ln))})}function EM(n){let e=n.children.map(t=>EM(t)).flat();return[n,...e]}function oz(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!fM(i)&&(o[Fl]=i.title),sz(o,n,e,r).pipe(ae(s=>(n._resolvedData=s,n.data=Pf(n,n.parent,t).resolve,null)))}function sz(n,e,t,r){let i=x_(n);if(i.length===0)return pe({});let o={};return et(i).pipe(qe(s=>az(n[s],e,t,r).pipe(ir(),ot(a=>{if(a instanceof kl)throw Ff(new Sl,a);o[s]=a}))),Hi(1),Hg(o),Ui(s=>vM(s)?ln:Ys(s)))}function az(n,e,t,r){let i=Vl(e)??r,o=Ma(n,i),s=o.resolve?o.resolve(e,t):kr(i,()=>o(e,t));return io(s)}function S_(n){return Ht(e=>{let t=n(e);return t?et(t).pipe(ae(()=>e)):pe(e)})}var IM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ie);return r}getResolvedTitleForRoute(t){return t.data[Fl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>$(cz),providedIn:"root"})}}return n})(),cz=(()=>{class n extends IM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ue(Hx))}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ow=new ne("",{providedIn:"root",factory:()=>({})}),lz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=xe({type:n,selectors:[["ng-component"]],standalone:!0,features:[ht],decls:1,vars:0,template:function(r,i){r&1&&se(0,"router-outlet")},dependencies:[rw],encapsulation:2})}}return n})();function sw(n){let e=n.children&&n.children.map(sw),t=e?ve(H({},n),{children:e}):H({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ie&&(t.component=lz),t}var aw=new ne(""),uz=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(n_)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=io(t.loadComponent()).pipe(ae(DM),ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Js(()=>{this.componentLoaders.delete(t)})),i=new $s(r,()=>new Te).pipe(Hs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=dz(r,this.compiler,t,this.onLoadEndListener).pipe(Js(()=>{this.childrenLoaders.delete(r)})),s=new $s(o,()=>new Te).pipe(Hs());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dz(n,e,t,r){return io(n.loadChildren()).pipe(ae(DM),qe(i=>i instanceof tl||Array.isArray(i)?pe(i):et(e.compileModuleAsync(i))),ae(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(aw,[],{optional:!0,self:!0}).flat()),{routes:s.map(sw),injector:o}}))}function hz(n){return n&&typeof n=="object"&&"default"in n}function DM(n){return hz(n)?n.default:n}var cw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>$(fz),providedIn:"root"})}}return n})(),fz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pz=new ne("");var mz=new ne(""),gz=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=$(uz),this.environmentInjector=$(Un),this.urlSerializer=$(tw),this.rootContexts=$(Lf),this.location=$(ml),this.inputBindingEnabled=$(iw,{optional:!0})!==null,this.titleStrategy=$(IM),this.options=$(ow,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(cw),this.createViewTransition=$(pz,{optional:!0}),this.navigationErrorHandler=$(mz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null;let t=i=>this.events.next(new L_(i)),r=i=>this.events.next(new j_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ve(H(H({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ut({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:bl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(o=>o.id!==0),ae(o=>ve(H({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ht(o=>{let s=!1,a=!1;return pe(o).pipe(Ht(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Rn.SupersededByNewNavigation),ln;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ve(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new is(c.id,this.urlSerializer.serialize(c.rawUrl),f,k_.IgnoredSameUrlNavigation)),c.resolve(!1),ln}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return pe(c).pipe(Ht(f=>{let v=this.transitions?.getValue();return this.events.next(new xl(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),v!==this.transitions?.getValue()?ln:Promise.resolve(f)}),rz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ve(H({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let v=new Rf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:v,source:m,restoredState:D,extras:R}=c,A=new xl(f,this.urlSerializer.serialize(v),m,D);this.events.next(A);let P=dM(this.rootComponentType).snapshot;return this.currentTransition=o=ve(H({},c),{targetSnapshot:P,urlAfterRedirects:v,extras:ve(H({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,pe(o)}else{let f="";return this.events.next(new is(c.id,this.urlSerializer.serialize(c.extractedUrl),f,k_.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ln}}),ot(c=>{let u=new P_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ae(c=>(this.currentTransition=o=ve(H({},c),{guards:D$(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),P$(this.environmentInjector,c=>this.events.next(c)),ot(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ff(this.urlSerializer,c.guardsResult);let u=new O_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Qe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Rn.GuardRejected),!1)),S_(c=>{if(c.guards.canActivateChecks.length)return pe(c).pipe(ot(u=>{let d=new F_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ht(u=>{let d=!1;return pe(u).pipe(iz(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Rn.NoDataFromResolver)}}))}),ot(u=>{let d=new V_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),S_(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ot(v=>{d.component=v}),ae(()=>{})));for(let v of d.children)f.push(...u(v));return f};return Xs(u(c.targetSnapshot.root)).pipe(Bi(null),Yt(1))}),S_(()=>this.afterPreactivation()),Ht(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?et(d).pipe(ae(()=>o)):pe(o)}),ae(c=>{let u=y$(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ve(H({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),ot(()=>{this.events.next(new Rl)}),I$(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Yt(1),ot({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ro(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),vn(this.transitionAbortSubject.pipe(ot(c=>{throw c}))),Js(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Rn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ui(c=>{if(a=!0,gM(c))this.events.next(new vi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),E$(c)?this.events.next(new Aa(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Ml(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=kr(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof kl){let{message:f,cancellationCode:v}=Ff(this.urlSerializer,d);this.events.next(new vi(o.id,this.urlSerializer.serialize(o.extractedUrl),f,v)),this.events.next(new Aa(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=t.errorHandler(c);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ln}))}))}cancelNavigationTransition(t,r,i){let o=new vi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vz(n){return n!==bl}var yz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>$(_z),providedIn:"root"})}}return n})(),ew=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},_z=(()=>{class n extends ew{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:()=>$(wz),providedIn:"root"})}}return n})(),wz=(()=>{class n extends CM{constructor(){super(...arguments),this.location=$(ml),this.urlSerializer=$(tw),this.options=$(ow,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(cw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof xl)this.stateMemento=this.createStateMemento();else if(t instanceof is)this.rawUrlTree=r.initialUrl;else if(t instanceof Rf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Rl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof vi&&(t.code===Rn.GuardRejected||t.code===Rn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ml?this.restoreHistory(r,!0):t instanceof ro&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof yi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=H(H({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=H(H({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Dl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Dl||{});function Ez(n,e){n.events.pipe(Qe(t=>t instanceof ro||t instanceof vi||t instanceof Ml||t instanceof is),ae(t=>t instanceof ro||t instanceof is?Dl.COMPLETE:(t instanceof vi?t.code===Rn.Redirect||t.code===Rn.SupersededByNewNavigation:!1)?Dl.REDIRECTING:Dl.FAILED),Qe(t=>t!==Dl.REDIRECTING),Yt(1)).subscribe(()=>{e()})}function Iz(n){throw n}var Dz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=$(nf),this.stateManager=$(CM),this.options=$(ow,{optional:!0})||{},this.pendingTasks=$(Ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(gz),this.urlSerializer=$(tw),this.location=$(ml),this.urlHandlingStrategy=$(cw),this._events=new Te,this.errorHandler=this.options.errorHandler||Iz,this.navigated=!1,this.routeReuseStrategy=$(yz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(aw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(iw,{optional:!0}),this.eventsSubscription=new lt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vi&&r.code!==Rn.Redirect&&r.code!==Rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ro)this.navigated=!0;else if(r instanceof Aa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=H({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vz(i.source)},s);this.scheduleNavigation(a,bl,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Tz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=H({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(sw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=H(H({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let v=i?i.snapshot:this.routerState.snapshot.root;f=aM(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return cM(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=rs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,bl,null,r)}navigate(t,r={skipLocationChange:!1}){return bz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=H({},Dz):r===!1?i=H({},Cz):i=r,rs(t))return zx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return zx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,v)=>{a=f,c=v});let d=this.pendingTasks.add();return Ez(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new te(4008,!1)}function Tz(n){return!(n instanceof Rl)&&!(n instanceof Aa)}var Uf=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ro&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(rs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:jS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:rs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(O(mn),O(os),Iy("tabindex"),O(pt),O(tt),O(Ea))}}static{this.\u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&re("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&en("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",to],skipLocationChange:[2,"skipLocationChange","skipLocationChange",to],replaceUrl:[2,"replaceUrl","replaceUrl",to],routerLink:"routerLink"},standalone:!0,features:[qy,Zt]})}}return n})();var Sz=new ne("");function bM(n,...e){return Tn([{provide:aw,multi:!0,useValue:n},[],{provide:os,useFactory:Az,deps:[mn]},{provide:_a,multi:!0,useFactory:xz},e.map(t=>t.\u0275providers)])}function Az(n){return n.routerState.root}function xz(){let n=$(Ft);return e=>{let t=n.get(Vr);if(e!==t.components[0])return;let r=n.get(mn),i=n.get(Mz);n.get(Rz)===1&&r.initialNavigation(),n.get(Nz,null,Ce.Optional)?.setUpPreloading(),n.get(Sz,null,Ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Mz=new ne("",{factory:()=>new Te}),Rz=new ne("",{providedIn:"root",factory:()=>1});var Nz=new ne("");var TM={production:!0,firebase:{apiKey:"AIzaSyAOZ6R5siNGVKJp76i8uQunU9mojsKvU64",authDomain:"reportease-app.firebaseapp.com",projectId:"reportease-app",storageBucket:"reportease-app.firebasestorage.app",messagingSenderId:"540320774976",appId:"1:540320774976:web:6be3679164b40d903dd8a5",measurementId:"G-LGQ0WPDNRV"}};var FM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(O(pt),O(tt))}}static{this.\u0275dir=Ne({type:n})}}return n})(),uw=(()=>{class n extends FM{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,features:[fr]})}}return n})(),Yf=new ne("");var kz={provide:Yf,useExisting:li(()=>Xn),multi:!0};function Pz(){let n=gi()?gi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Oz=new ne(""),Xn=(()=>{class n extends FM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Pz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(O(pt),O(tt),O(Oz,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Zo([kz]),fr]})}}return n})();function Fz(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var dw=new ne(""),VM=new ne("");function Vz(n){return Fz(n.value)?{required:!0}:null}function SM(n){return null}function LM(n){return n!=null}function jM(n){return eo(n)?et(n):n}function UM(n){let e={};return n.forEach(t=>{e=t!=null?H(H({},e),t):e}),Object.keys(e).length===0?null:e}function BM(n,e){return e.map(t=>t(n))}function Lz(n){return!n.validate}function HM(n){return n.map(e=>Lz(e)?e:t=>e.validate(t))}function jz(n){if(!n)return null;let e=n.filter(LM);return e.length==0?null:function(t){return UM(BM(t,e))}}function hw(n){return n!=null?jz(HM(n)):null}function Uz(n){if(!n)return null;let e=n.filter(LM);return e.length==0?null:function(t){let r=BM(t,e).map(jM);return jg(r).pipe(ae(UM))}}function fw(n){return n!=null?Uz(HM(n)):null}function AM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Bz(n){return n._rawValidators}function Hz(n){return n._rawAsyncValidators}function lw(n){return n?Array.isArray(n)?n:[n]:[]}function $f(n,e){return Array.isArray(n)?n.includes(e):n===e}function xM(n,e){let t=lw(e);return lw(n).forEach(i=>{$f(t,i)||t.push(i)}),t}function MM(n,e){return lw(e).filter(t=>!$f(n,t))}var zf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ka=class extends zf{get formDirective(){return null}get path(){return null}},zl=class extends zf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$z={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Nne=ve(H({},$z),{"[class.ng-submitted]":"isSubmitted"}),jr=(()=>{class n extends Wf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(O(zl,2))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fr]})}}return n})(),Qf=(()=>{class n extends Wf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(O(ka,10))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[fr]})}}return n})();var jl="VALID",Hf="INVALID",Ra="PENDING",Ul="DISABLED",Pa=class{},qf=class extends Pa{constructor(e,t){super(),this.value=e,this.source=t}},Hl=class extends Pa{constructor(e,t){super(),this.pristine=e,this.source=t}},$l=class extends Pa{constructor(e,t){super(),this.touched=e,this.source=t}},Na=class extends Pa{constructor(e,t){super(),this.status=e,this.source=t}};function $M(n){return(Xf(n)?n.validators:n)||null}function zz(n){return Array.isArray(n)?hw(n):n||null}function zM(n,e){return(Xf(e)?e.asyncValidators:n)||null}function Wz(n){return Array.isArray(n)?fw(n):n||null}function Xf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function qz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[t])throw new te(1001,"")}function Gz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new te(1002,"")})}var Gf=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Jo(()=>this.statusReactive()),this.statusReactive=Wn(void 0),this._pristine=Jo(()=>this.pristineReactive()),this.pristineReactive=Wn(!0),this._touched=Jo(()=>this.touchedReactive()),this.touchedReactive=Wn(!1),this._events=new Te,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gr(this.statusReactive)}set status(e){gr(()=>this.statusReactive.set(e))}get valid(){return this.status===jl}get invalid(){return this.status===Hf}get pending(){return this.status==Ra}get disabled(){return this.status===Ul}get enabled(){return this.status!==Ul}get pristine(){return gr(this.pristineReactive)}set pristine(e){gr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return gr(this.touchedReactive)}set touched(e){gr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MM(e,this._rawAsyncValidators))}hasValidator(e){return $f(this._rawValidators,e)}hasAsyncValidator(e){return $f(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $l(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new $l(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Hl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Hl(!0,r))}markAsPending(e={}){this.status=Ra;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Na(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(H({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ul,this.errors=null,this._forEachChild(i=>{i.disable(ve(H({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qf(this.value,r)),this._events.next(new Na(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jl,this._forEachChild(r=>{r.enable(ve(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jl||this.status===Ra)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qf(this.value,t)),this._events.next(new Na(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(H({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ul:jl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ra,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=jM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Na(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?Ul:this.errors?Hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ra)?Ra:this._anyControlsHaveStatus(Hf)?Hf:jl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Hl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $l(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=zz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Wz(this._rawAsyncValidators)}},Kf=class extends Gf{constructor(e,t,r){super($M(t),zM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Gz(this,!0,e),Object.keys(e).forEach(r=>{qz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pw=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>mw}),mw="always";function Kz(n,e){return[...e.path,n]}function WM(n,e,t=mw){qM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Qz(n,e),Zz(n,e),Xz(n,e),Yz(n,e)}function RM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qM(n,e){let t=Bz(n);e.validator!==null?n.setValidators(AM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Hz(n);e.asyncValidator!==null?n.setAsyncValidators(AM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();RM(e._rawValidators,i),RM(e._rawAsyncValidators,i)}function Qz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&GM(n,e)})}function Xz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&GM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function GM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Jz(n,e){n==null,qM(n,e)}function e3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function t3(n){return Object.getPrototypeOf(n.constructor)===uw}function n3(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function r3(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Xn?t=o:t3(o)?r=o:i=o}),i||r||t||null}var i3={provide:ka,useExisting:li(()=>Wl)},Bl=Promise.resolve(),Wl=(()=>{class n extends ka{get submitted(){return gr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Jo(()=>this.submittedReactive()),this.submittedReactive=Wn(!1),this._directives=new Set,this.ngSubmit=new J,this.form=new Kf({},hw(t),fw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),WM(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bl.then(()=>{let r=this._findContainer(t.path),i=new Kf({});Jz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),n3(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(O(dw,10),O(VM,10),O(pw,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zo([i3]),fr]})}}return n})();function NM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var o3=class extends Gf{constructor(e=null,t,r){super($M(t),zM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(kM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var s3={provide:zl,useExisting:li(()=>wr)},PM=Promise.resolve(),wr=(()=>{class n extends zl{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new o3,this._registered=!1,this.name="",this.update=new J,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=r3(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),e3(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){WM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){PM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&to(r);PM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Kz(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(O(ka,9),O(dw,10),O(VM,10),O(Yf,10),O(mr,8),O(pw,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zo([s3]),fr,Zt]})}}return n})(),Zf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var a3={provide:Yf,useExisting:li(()=>Oa),multi:!0};function KM(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function c3(n){return n.split(":")[0]}var Oa=(()=>{class n extends uw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=KM(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=c3(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&re("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zo([a3]),fr]})}}return n})(),Jf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(KM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(O(tt),O(pt),O(Oa,9))}}static{this.\u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),l3={provide:Yf,useExisting:li(()=>YM),multi:!0};function OM(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function u3(n){return n.split(":")[0]}var YM=(()=>{class n extends uw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=u3(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&re("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zo([l3]),fr]})}}return n})(),ep=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(OM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(OM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(O(tt),O(pt),O(YM,9))}}static{this.\u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var d3=(()=>{class n{constructor(){this._validator=SM}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):SM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ne({type:n,features:[Zt]})}}return n})();var h3={provide:dw,useExisting:li(()=>gw),multi:!0};var gw=(()=>{class n extends d3{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=to,this.createValidator=t=>Vz}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&en("required",i._enabled?"":null)},inputs:{required:"required"},features:[Zo([h3]),fr]})}}return n})();var f3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mt({type:n})}static{this.\u0275inj=xt({})}}return n})();var Ur=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pw,useValue:t.callSetDisabledState??mw}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mt({type:n})}static{this.\u0275inj=xt({imports:[f3]})}}return n})();var XM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},p3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ZM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(v=64)),r.push(t[d],t[f],t[v],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):p3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new yw;let v=o<<2|a>>4;if(r.push(v),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let D=u<<6&192|f;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},yw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},m3=function(n){let e=XM(n);return ZM.encodeByteArray(e,!0)},Gl=function(n){return m3(n).replace(/\./g,"")},ww=function(n){try{return ZM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var v3=()=>g3().__FIREBASE_DEFAULTS__,y3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&ww(n[1]);return e&&JSON.parse(e)},np=()=>{try{return v3()||y3()||_3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ew=n=>{var e,t;return(t=(e=np())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JM=n=>{let e=Ew(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Iw=()=>{var n;return(n=np())===null||n===void 0?void 0:n.config},Dw=n=>{var e;return(e=np())===null||e===void 0?void 0:e[`_${n}`]};var tp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function eR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gl(JSON.stringify(t)),Gl(JSON.stringify(s)),""].join(".")}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function w3(){var n;let e=(n=np())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){let n=jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sR(){return!w3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cw(){try{return typeof indexedDB=="object"}catch{return!1}}function aR(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var E3="FirebaseError",Nn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=E3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_i.prototype.create)}},_i=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?I3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Nn(i,a,r)}};function I3(n,e){return n.replace(D3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var D3=/\{\$([^}]+)}/g;function cR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ss(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QM(o)&&QM(s)){if(!ss(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QM(n){return n!==null&&typeof n=="object"}function Fa(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Va(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function La(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lR(n,e){let t=new _w(n,e);return t.subscribe.bind(t)}var _w=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");C3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=vw),i.error===void 0&&(i.error=vw),i.complete===void 0&&(i.complete=vw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function C3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vw(){}var One=4*60*60*1e3;function vt(n){return n&&n._delegate?n._delegate:n}var Zn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var as="[DEFAULT]";var bw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new tp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T3(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function b3(n){return n===as?void 0:n}function T3(n){return n.instantiationMode==="EAGER"}var rp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new bw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var S3=[],Me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Me||{}),A3={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},x3=Me.INFO,M3={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},R3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=M3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},oo=class{constructor(e){this.name=e,this._logLevel=x3,this._logHandler=R3,this._userLogHandler=null,S3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var N3=(n,e)=>e.some(t=>n instanceof t),uR,dR;function k3(){return uR||(uR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P3(){return dR||(dR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hR=new WeakMap,Sw=new WeakMap,fR=new WeakMap,Tw=new WeakMap,xw=new WeakMap;function O3(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Br(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&hR.set(t,n)}).catch(()=>{}),xw.set(e,n),e}function F3(n){if(Sw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Sw.set(n,e)}var Aw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Br(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pR(n){Aw=n(Aw)}function V3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ip(this),e,...t);return fR.set(r,e.sort?e.sort():[e]),Br(r)}:P3().includes(n)?function(...e){return n.apply(ip(this),e),Br(hR.get(this))}:function(...e){return Br(n.apply(ip(this),e))}}function L3(n){return typeof n=="function"?V3(n):(n instanceof IDBTransaction&&F3(n),N3(n,k3())?new Proxy(n,Aw):n)}function Br(n){if(n instanceof IDBRequest)return O3(n);if(Tw.has(n))return Tw.get(n);let e=L3(n);return e!==n&&(Tw.set(n,e),xw.set(e,n)),e}var ip=n=>xw.get(n);function gR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Br(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Br(s.result),c.oldVersion,c.newVersion,Br(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var j3=["get","getKey","getAll","getAllKeys","count"],U3=["put","add","delete","clear"],Mw=new Map;function mR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mw.get(e))return Mw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=U3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j3.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Mw.set(e,o),o}pR(n=>ve(H({},n),{get:(e,t,r)=>mR(e,t)||n.get(e,t,r),has:(e,t)=>!!mR(e,t)||n.has(e,t)}));var Nw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function B3(n){let e=n.getComponent();return e?.type==="VERSION"}var kw="@firebase/app",vR="0.10.13";var wi=new oo("@firebase/app"),H3="@firebase/app-compat",$3="@firebase/analytics-compat",z3="@firebase/analytics",W3="@firebase/app-check-compat",q3="@firebase/app-check",G3="@firebase/auth",K3="@firebase/auth-compat",Y3="@firebase/database",Q3="@firebase/data-connect",X3="@firebase/database-compat",Z3="@firebase/functions",J3="@firebase/functions-compat",e4="@firebase/installations",t4="@firebase/installations-compat",n4="@firebase/messaging",r4="@firebase/messaging-compat",i4="@firebase/performance",o4="@firebase/performance-compat",s4="@firebase/remote-config",a4="@firebase/remote-config-compat",c4="@firebase/storage",l4="@firebase/storage-compat",u4="@firebase/firestore",d4="@firebase/vertexai-preview",h4="@firebase/firestore-compat",f4="firebase",p4="10.14.1";var Pw="[DEFAULT]",m4={[kw]:"fire-core",[H3]:"fire-core-compat",[z3]:"fire-analytics",[$3]:"fire-analytics-compat",[q3]:"fire-app-check",[W3]:"fire-app-check-compat",[G3]:"fire-auth",[K3]:"fire-auth-compat",[Y3]:"fire-rtdb",[Q3]:"fire-data-connect",[X3]:"fire-rtdb-compat",[Z3]:"fire-fn",[J3]:"fire-fn-compat",[e4]:"fire-iid",[t4]:"fire-iid-compat",[n4]:"fire-fcm",[r4]:"fire-fcm-compat",[i4]:"fire-perf",[o4]:"fire-perf-compat",[s4]:"fire-rc",[a4]:"fire-rc-compat",[c4]:"fire-gcs",[l4]:"fire-gcs-compat",[u4]:"fire-fst",[h4]:"fire-fst-compat",[d4]:"fire-vertex","fire-js":"fire-js",[f4]:"fire-js-all"};var Kl=new Map,g4=new Map,Ow=new Map;function yR(n,e){try{n.container.addComponent(e)}catch(t){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ao(n){let e=n.name;if(Ow.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;Ow.set(e,n);for(let t of Kl.values())yR(t,n);for(let t of g4.values())yR(t,n);return!0}function Ql(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n.settings!==void 0}var v4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new _i("app","Firebase",v4);var Fw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}};var co=p4;function jw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw so.create("bad-app-name",{appName:String(i)});if(t||(t=Iw()),!t)throw so.create("no-options");let o=Kl.get(i);if(o){if(ss(t,o.options)&&ss(r,o.config))return o;throw so.create("duplicate-app",{appName:i})}let s=new rp(i);for(let c of Ow.values())s.addComponent(c);let a=new Fw(t,r,s);return Kl.set(i,a),a}function cs(n=Pw){let e=Kl.get(n);if(!e&&n===Pw&&Iw())return jw();if(!e)throw so.create("no-app",{appName:n});return e}function Xl(){return Array.from(Kl.values())}function Ct(n,e,t){var r;let i=(r=m4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}ao(new Zn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var y4="firebase-heartbeat-database",_4=1,Yl="firebase-heartbeat-store",Rw=null;function IR(){return Rw||(Rw=gR(y4,_4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw so.create("idb-open",{originalErrorMessage:n.message})})),Rw}function w4(n){return w(this,null,function*(){try{let t=(yield IR()).transaction(Yl),r=yield t.objectStore(Yl).get(DR(n));return yield t.done,r}catch(e){if(e instanceof Nn)wi.warn(e.message);else{let t=so.create("idb-get",{originalErrorMessage:e?.message});wi.warn(t.message)}}})}function _R(n,e){return w(this,null,function*(){try{let r=(yield IR()).transaction(Yl,"readwrite");yield r.objectStore(Yl).put(e,DR(n)),yield r.done}catch(t){if(t instanceof Nn)wi.warn(t.message);else{let r=so.create("idb-set",{originalErrorMessage:t?.message});wi.warn(r.message)}}})}function DR(n){return`${n.name}!${n.options.appId}`}var E4=1024,I4=30*24*60*60*1e3,Vw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Lw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=I4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wi.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=wR(),{heartbeatsToSend:r,unsentEntries:i}=D4(this._heartbeatsCache.heartbeats),o=Gl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return wi.warn(t),""}})}};function wR(){return new Date().toISOString().substring(0,10)}function D4(n,e=E4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ER(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ER(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Lw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Cw()?aR().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield w4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _R(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return _R(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ER(n){return Gl(JSON.stringify({version:2,heartbeats:n})).length}function C4(n){ao(new Zn("platform-logger",e=>new Nw(e),"PRIVATE")),ao(new Zn("heartbeat",e=>new Vw(e),"PRIVATE")),Ct(kw,vR,n),Ct(kw,vR,"esm2017"),Ct("fire-js","")}C4("");var b4="firebase",T4="10.14.1";Ct(b4,T4,"app");var us=new ci("ANGULARFIRE2_VERSION");function sp(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Zl=(n,e)=>{let t=e?[e]:Xl(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ap=class{constructor(){return Zl(A4)}},A4="app-check";function ja(){}var CR=class{zone;delegate;constructor(n,e=Fg){this.zone=n,this.delegate=e}now(){return this.delegate.now()}schedule(n,e,t){let r=this.zone,i=function(o){r.runGuarded(()=>{n.apply(this,[o])})};return this.delegate.schedule(i,e,t)}},x4=class{zone;task=null;constructor(n){this.zone=n}call(n,e){let t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),e.pipe(ot({next:t,complete:t,error:t})).subscribe(n).add(t)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ua=class op{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new CR(Zone.current)),this.insideAngular=t.run(()=>new CR(Zone.current,Gs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||op)(ue(Se))};static \u0275prov=X({token:op,factory:op.\u0275fac,providedIn:"root"})};function cp(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function M4(n){return cp().ngZone.runOutsideAngular(()=>n())}function ls(n){return cp().ngZone.run(()=>n())}function R4(n){return N4(cp())(n)}function N4(n){return function(t){return t=t.lift(new x4(n.ngZone)),t.pipe(Li(n.outsideAngular),Vi(n.insideAngular))}}var k4=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ls(()=>n.apply(void 0,r))},Pt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja))),r[o]=k4(r[o],t));let i=M4(()=>n.apply(this,r));if(!e)if(i instanceof he){let o=cp();return i.pipe(Li(o.outsideAngular),Vi(o.insideAngular))}else return ls(()=>i);return i instanceof he?i.pipe(R4):i instanceof Promise?ls(()=>new Promise((o,s)=>i.then(a=>ls(()=>o(a)),a=>ls(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:ls(()=>i)};var ds=class{constructor(n){return n}},Jl=class{constructor(){return Xl()}};function P4(n){return n&&n.length===1?n[0]:new ds(cs())}var Uw=new ne("angularfire2._apps"),O4={provide:ds,useFactory:P4,deps:[[new Xt,Uw]]},F4={provide:Jl,deps:[[new Xt,Uw]]};function V4(n){return(e,t)=>{let r=t.get(_n);Ct("angularfire",us.full,"core"),Ct("angularfire",us.full,"app"),Ct("angular",XA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ds(i)}}function bR(n,...e){return Tn([O4,F4,{provide:Uw,useFactory:V4(n),multi:!0,deps:[Se,Ft,Ua,...e]}])}var TR=Pt(jw,!0);function $R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zR=$R,WR=new _i("auth","Firebase",$R());var pp=new oo("@firebase/auth");function L4(n,...e){pp.logLevel<=Me.WARN&&pp.warn(`Auth (${co}): ${n}`,...e)}function up(n,...e){pp.logLevel<=Me.ERROR&&pp.error(`Auth (${co}): ${n}`,...e)}function er(n,...e){throw a0(n,...e)}function Er(n,...e){return a0(n,...e)}function s0(n,e,t){let r=Object.assign(Object.assign({},zR()),{[e]:t});return new _i("auth","Firebase",r).create(e,{appName:n.name})}function Di(n){return s0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j4(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(n,"argument-error"),s0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function a0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return WR.create(n,...e)}function de(n,e,...t){if(!n)throw a0(e,...t)}function Ei(n){let e="INTERNAL ASSERTION FAILED: "+n;throw up(e),new Error(e)}function Ci(n,e){n||Ei(e)}function $w(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function U4(){return SR()==="http:"||SR()==="https:"}function SR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function B4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U4()||rR()||"connection"in navigator)?navigator.onLine:!0}function H4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var hs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ci(t>e,"Short delay should be less than long delay!"),this.isMobile=tR()||iR()}get(){return B4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function c0(n,e){Ci(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var mp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var z4=new hs(3e4,6e4);function uo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ho(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){return qR(n,i,()=>w(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Fa(Object.assign({key:n.config.apiKey},d)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:v},u);return nR()||(m.referrerPolicy="no-referrer"),mp.fetch()(GR(n,n.config.apiHost,t,f),m)}))})}function qR(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$4),e);try{let i=new zw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw lp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw lp(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw lp(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw s0(n,d,u);er(n,d)}}catch(i){if(i instanceof Nn)throw i;er(n,"network-request-failed",{message:String(i)})}})}function au(o,s,a,c){return w(this,arguments,function*(n,e,t,r,i={}){let u=yield ho(n,e,t,r,i);return"mfaPendingCredential"in u&&er(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function GR(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?c0(n.config,i):`${n.config.apiScheme}://${i}`}function W4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),z4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function lp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Er(n,e,r);return i.customData._tokenResponse=t,i}function AR(n){return n!==void 0&&n.enterprise!==void 0}var Ww=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return W4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function q4(n,e){return w(this,null,function*(){return ho(n,"GET","/v2/recaptchaConfig",uo(n,e))})}function G4(n,e){return w(this,null,function*(){return ho(n,"POST","/v1/accounts:delete",e)})}function KR(n,e){return w(this,null,function*(){return ho(n,"POST","/v1/accounts:lookup",e)})}function eu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function l0(n,e=!1){return w(this,null,function*(){let t=vt(n),r=yield t.getIdToken(e),i=u0(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:eu(Bw(i.auth_time)),issuedAtTime:eu(Bw(i.iat)),expirationTime:eu(Bw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Bw(n){return Number(n)*1e3}function u0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return up("JWT malformed, contained fewer than 3 sections"),null;try{let i=ww(t);return i?JSON.parse(i):(up("Failed to decode base64 JWT payload"),null)}catch(i){return up("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xR(n){let e=u0(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nu(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Nn&&K4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function K4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var qw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ru=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gp(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield nu(n,KR(t,{idToken:r}));de(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YR(o.providerUserInfo):[],a=Y4(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ru(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function d0(n){return w(this,null,function*(){let e=vt(n);yield gp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Y4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YR(n){return n.map(e=>{var{providerId:t}=e,r=Dd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Q4(n,e){return w(this,null,function*(){let t=yield qR(n,{},()=>w(this,null,function*(){let r=Fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=GR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function X4(n,e){return w(this,null,function*(){return ho(n,"POST","/v2/accounts:revokeToken",uo(n,e))})}var tu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");let t=xR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Q4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ei("not implemented")}};function lo(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ha=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Dd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ru(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield nu(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return l0(this,e)}reload(){return d0(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield gp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Jn(this.auth.app))return Promise.reject(Di(this.auth));let e=yield this.getIdToken();return yield nu(this,G4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,P=(u=t.createdAt)!==null&&u!==void 0?u:void 0,U=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:B,emailVerified:W,isAnonymous:ie,providerData:Q,stsTokenManager:T}=t;de(B&&T,e,"internal-error");let y=tu.fromJSON(this.name,T);de(typeof B=="string",e,"internal-error"),lo(f,e.name),lo(v,e.name),de(typeof W=="boolean",e,"internal-error"),de(typeof ie=="boolean",e,"internal-error"),lo(m,e.name),lo(D,e.name),lo(R,e.name),lo(A,e.name),lo(P,e.name),lo(U,e.name);let _=new n({uid:B,auth:e,email:v,emailVerified:W,displayName:f,isAnonymous:ie,photoURL:D,phoneNumber:m,tenantId:R,stsTokenManager:y,createdAt:P,lastLoginAt:U});return Q&&Array.isArray(Q)&&(_.providerData=Q.map(b=>Object.assign({},b))),A&&(_._redirectEventId=A),_}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new tu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?YR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new tu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ru(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var MR=new Map;function Ii(n){Ci(n instanceof Function,"Expected a class definition");let e=MR.get(n);return e?(Ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,MR.set(n,e),e)}var Z4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Gw=Z4;function dp(n,e,t){return`firebase:${n}:${e}:${t}`}var vp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=dp(this.userKey,i.apiKey,o),this.fullPersistenceKey=dp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ha._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Ii(Gw),e,r);let i=(yield Promise.all(t.map(u=>w(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Ii(Gw),s=dp(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f=Ha._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>w(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function RR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tN(e))return"Blackberry";if(nN(e))return"Webos";if(XR(e))return"Safari";if((e.includes("chrome/")||ZR(e))&&!e.includes("edge/"))return"Chrome";if(eN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function QR(n=jt()){return/firefox\//i.test(n)}function XR(n=jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZR(n=jt()){return/crios\//i.test(n)}function JR(n=jt()){return/iemobile/i.test(n)}function eN(n=jt()){return/android/i.test(n)}function tN(n=jt()){return/blackberry/i.test(n)}function nN(n=jt()){return/webos/i.test(n)}function h0(n=jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function J4(n=jt()){var e;return h0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eW(){return oR()&&document.documentMode===10}function rN(n=jt()){return h0(n)||eN(n)||nN(n)||tN(n)||/windows phone/i.test(n)||JR(n)}function iN(n,e=[]){let t;switch(n){case"Browser":t=RR(jt());break;case"Worker":t=`${RR(jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${co}/${r}`}var Kw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function tW(t){return w(this,arguments,function*(n,e={}){return ho(n,"GET","/v2/passwordPolicy",uo(n,e))})}var nW=6,Yw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:nW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Qw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yp(this),this.idTokenSubscription=new yp(this),this.beforeStateQueue=new Kw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield vp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield KR(this,{idToken:e}),r=yield Ha._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Jn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield gp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=H4()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Jn(this.app))return Promise.reject(Di(this));let t=e?vt(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Jn(this.app)?Promise.reject(Di(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Jn(this.app)?Promise.reject(Di(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Ii(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield tW(this),t=new Yw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _i("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield X4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ii(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=yield vp.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&L4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function fo(n){return vt(n)}var yp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lR(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Sp={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rW(n){Sp=n}function oN(n){return Sp.loadJS(n)}function iW(){return Sp.recaptchaEnterpriseScript}function oW(){return Sp.gapiScript}function sN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var sW="recaptcha-enterprise",aW="NO_RECAPTCHA",Xw=class{constructor(e){this.type=sW,this.auth=fo(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){q4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Ww(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;AR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(aW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&AR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=iW();c.length!==0&&(c+=a),oN(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function NR(n,e,t,r=!1){return w(this,null,function*(){let i=new Xw(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Zw(n,e,t,r){return w(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield NR(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield NR(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function f0(n,e){let t=Ql(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ss(o,e??{}))return i;er(i,"already-initialized")}return t.initialize({options:e})}function cW(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ii);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function p0(n,e,t){let r=fo(n);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=aN(e),{host:s,port:a}=lW(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uW()}function aN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lW(n){let e=aN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:kR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:kR(s)}}}function kR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function uW(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var $a=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}};function dW(n,e){return w(this,null,function*(){return ho(n,"POST","/v1/accounts:signUp",e)})}function hW(n,e){return w(this,null,function*(){return au(n,"POST","/v1/accounts:signInWithPassword",uo(n,e))})}function fW(n,e){return w(this,null,function*(){return au(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))})}function pW(n,e){return w(this,null,function*(){return au(n,"POST","/v1/accounts:signInWithEmailLink",uo(n,e))})}var iu=class n extends $a{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,t,"signInWithPassword",hW);case"emailLink":return fW(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zw(e,r,"signUpPassword",dW);case"emailLink":return pW(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ba(n,e){return w(this,null,function*(){return au(n,"POST","/v1/accounts:signInWithIdp",uo(n,e))})}var mW="http://localhost",_p=class n extends $a{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Dd(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Ba(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Ba(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ba(e,t)}buildRequest(){let e={requestUri:mW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fa(t)}return e}};function gW(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vW(n){let e=Va(La(n)).link,t=e?Va(La(e)).deep_link_id:null,r=Va(La(n)).deep_link_id;return(r?Va(La(r)).link:null)||r||t||e||n}var wp=class n{constructor(e){var t,r,i,o,s,a;let c=Va(La(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=gW((i=c.mode)!==null&&i!==void 0?i:null);de(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=vW(e);try{return new n(t)}catch{return null}}};var cN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return iu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=wp.parseLink(r);return de(i,"argument-error"),iu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),ou=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ep=class extends ou{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var m0=(()=>{class n extends Ep{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return _p._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function yW(n,e){return w(this,null,function*(){return au(n,"POST","/v1/accounts:signUp",uo(n,e))})}var za=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield Ha._fromIdTokenResponse(e,r,i),s=PR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=PR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function PR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Jw=class n extends Nn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function lN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jw._fromErrorAndOperation(n,o,e,r):o})}function _W(n,e,t=!1){return w(this,null,function*(){let r=yield nu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return za._forOperation(n,"link",r)})}function wW(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(Jn(r.app))return Promise.reject(Di(r));let i="reauthenticate";try{let o=yield nu(n,lN(r,i,e,n),t);de(o.idToken,r,"internal-error");let s=u0(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(n.uid===a,r,"user-mismatch"),za._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&er(r,"user-mismatch"),o}})}function uN(n,e,t=!1){return w(this,null,function*(){if(Jn(n.app))return Promise.reject(Di(n));let r="signIn",i=yield lN(n,r,e),o=yield za._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function g0(n,e){return w(this,null,function*(){return uN(fo(n),e)})}function dN(n){return w(this,null,function*(){let e=fo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function v0(n,e,t){return w(this,null,function*(){if(Jn(n.app))return Promise.reject(Di(n));let r=fo(n),s=yield Zw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yW).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&dN(n),c}),a=yield za._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function y0(n,e,t){return Jn(n.app)?Promise.reject(Di(n)):g0(vt(n),cN.credential(e,t)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dN(n),r}))}function _0(n,e,t,r){return vt(n).onIdTokenChanged(e,t,r)}function w0(n,e,t){return vt(n).beforeAuthStateChanged(e,t)}function E0(n,e,t,r){return vt(n).onAuthStateChanged(e,t,r)}function I0(n){return vt(n).signOut()}var Ip="__sak";var Dp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var EW=1e3,IW=10,DW=(()=>{class n extends Dp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);eW()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,IW):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},EW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield Fi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield Fi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield Fi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),hN=DW;var CW=(()=>{class n extends Dp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),D0=CW;function bW(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var TW=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>w(this,null,function*(){return d(r.origin,s)})),u=yield bW(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function C0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var e0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=C0("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let v=f;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Hr(){return window}function SW(n){Hr().location.href=n}function fN(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}function AW(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xW(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function MW(){return fN()?self:null}var pN="firebaseLocalStorageDb",RW=1,Cp="firebaseLocalStorage",mN="fbase_key",fs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ap(n,e){return n.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function NW(){let n=indexedDB.deleteDatabase(pN);return new fs(n).toPromise()}function t0(){let n=indexedDB.open(pN,RW);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Cp,{keyPath:mN})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Cp)?e(r):(r.close(),yield NW(),e(yield t0()))}))})}function OR(n,e,t){return w(this,null,function*(){let r=Ap(n,!0).put({[mN]:e,value:t});return new fs(r).toPromise()})}function kW(n,e){return w(this,null,function*(){let t=Ap(n,!1).get(e),r=yield new fs(t).toPromise();return r===void 0?null:r.value})}function FR(n,e){let t=Ap(n,!0).delete(e);return new fs(t).toPromise()}var PW=800,OW=3,FW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield t0(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>OW)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return fN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=TW._getInstance(MW()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield AW(),!this.activeServiceWorker)return;this.sender=new e0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield t0();return yield OR(t,Ip,"1"),yield FR(t,Ip),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>OR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>kW(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>FR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=Ap(o,!1).getAll();return new fs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),PW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),gN=FW;var kre=sN("rcb"),Pre=new hs(3e4,6e4);function vN(n,e){return e?Ii(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var su=class extends $a{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ba(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function VW(n){return uN(n.auth,new su(n),n.bypassAuthState)}function LW(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),wW(t,new su(n),n.bypassAuthState)}function jW(n){return w(this,null,function*(){let{auth:e,user:t}=n;return de(t,e,"internal-error"),_W(t,new su(n),n.bypassAuthState)})}var bp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VW;case"linkViaPopup":case"linkViaRedirect":return jW;case"reauthViaPopup":case"reauthViaRedirect":return LW;default:er(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var UW=new hs(2e3,1e4);function b0(n,e,t){return w(this,null,function*(){if(Jn(n.app))return Promise.reject(Er(n,"operation-not-supported-in-this-environment"));let r=fo(n);j4(n,e,ou);let i=vN(r,t);return new BW(r,"signInViaPopup",e,i).executeNotNull()})}var BW=(()=>{class n extends bp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return w(this,null,function*(){let t=yield this.execute();return de(t,this.auth,"internal-error"),t})}onExecution(){return w(this,null,function*(){Ci(this.filter.length===1,"Popup operations only handle one event");let t=C0();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UW.get())};t()}}n.currentPopupAction=null;return n})(),HW="pendingRedirect",hp=new Map,n0=class n extends bp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=hp.get(this.auth._key());if(!e){try{let r=(yield $W(this.resolver,this.auth))?yield Fi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hp.set(this.auth._key(),e)}return this.bypassAuthState||hp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Fi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Fi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function $W(n,e){return w(this,null,function*(){let t=qW(e),r=WW(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function zW(n,e){hp.set(n._key(),e)}function WW(n){return Ii(n._redirectPersistence)}function qW(n){return dp(HW,n.config.apiKey,n.name)}function GW(n,e,t=!1){return w(this,null,function*(){if(Jn(n.app))return Promise.reject(Di(n));let r=fo(n),i=vN(r,e),s=yield new n0(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var KW=10*60*1e3,r0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!yN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Er(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KW&&this.cachedEventUids.clear(),this.cachedEventUids.has(VR(e))}saveEventToCache(e){this.cachedEventUids.add(VR(e)),this.lastProcessedEventTime=Date.now()}};function VR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function yN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function YW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yN(n);default:return!1}}function QW(t){return w(this,arguments,function*(n,e={}){return ho(n,"GET","/v1/projects",e)})}var XW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZW=/^https?/;function JW(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield QW(n);for(let t of e)try{if(eq(t))return}catch{}er(n,"unauthorized-domain")})}function eq(n){let e=$w(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!ZW.test(t))return!1;if(XW.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var tq=new hs(3e4,6e4);function LR(){let n=Hr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nq(n){return new Promise((e,t)=>{var r,i,o;function s(){LR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LR(),t(Er(n,"network-request-failed"))},timeout:tq.get()})}if(!((i=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Hr().gapi)===null||o===void 0)&&o.load)s();else{let a=sN("iframefcb");return Hr()[a]=()=>{gapi.load?s():t(Er(n,"network-request-failed"))},oN(`${oW()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw fp=null,e})}var fp=null;function rq(n){return fp=fp||nq(n),fp}var iq=new hs(5e3,15e3),oq="__/auth/iframe",sq="emulator/auth/iframe",aq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lq(n){let e=n.config;de(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?c0(e,sq):`https://${n.config.authDomain}/${oq}`,r={apiKey:e.apiKey,appName:n.name,v:co},i=cq.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Fa(r).slice(1)}`}function uq(n){return w(this,null,function*(){let e=yield rq(n),t=Hr().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:lq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aq,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Er(n,"network-request-failed"),a=Hr().setTimeout(()=>{o(s)},iq.get());function c(){Hr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var dq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hq=500,fq=600,pq="_blank",mq="http://localhost",Tp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function gq(n,e,t,r=hq,i=fq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},dq),{width:r.toString(),height:i.toString(),top:o,left:s}),u=jt().toLowerCase();t&&(a=ZR(u)?pq:t),QR(u)&&(e=e||mq,c.scrollbars="yes");let d=Object.entries(c).reduce((v,[m,D])=>`${v}${m}=${D},`,"");if(J4(u)&&a!=="_self")return vq(e||"",a),new Tp(null);let f=window.open(e||"",a,d);de(f,n,"popup-blocked");try{f.focus()}catch{}return new Tp(f)}function vq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var yq="__/auth/handler",_q="emulator/auth/handler",wq=encodeURIComponent("fac");function jR(n,e,t,r,i,o){return w(this,null,function*(){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:co,eventId:i};if(e instanceof ou){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",cR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof Ep){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${wq}=${encodeURIComponent(c)}`:"";return`${Eq(n)}?${Fa(a).slice(1)}${u}`})}function Eq({config:n}){return n.emulator?c0(n,_q):`https://${n.authDomain}/${yq}`}var Hw="webStorageSupport",i0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D0,this._completeRedirectFn=GW,this._overrideRedirectResult=zW}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield jR(e,t,r,$w(),i);return gq(e,s,C0())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield jR(e,t,r,$w(),i);return SW(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ci(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield uq(e),r=new r0(e);return t.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hw,{type:Hw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Hw];s!==void 0&&t(!!s),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JW(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rN()||XR()||h0()}},_N=i0;var UR="@firebase/auth",BR="1.7.9";var o0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Iq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dq(n){ao(new Zn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iN(n)},u=new Qw(r,i,o,c);return cW(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ao(new Zn("auth-internal",e=>{let t=fo(e.getProvider("auth").getImmediate());return(r=>new o0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(UR,BR,Iq(n)),Ct(UR,BR,"esm2017")}var Cq=5*60,bq=Dw("authIdTokenMaxAge")||Cq,HR=null,Tq=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>bq)return;let i=t?.token;HR!==i&&(HR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function T0(n=cs()){let e=Ql(n,"auth");if(e.isInitialized())return e.getImmediate();let t=f0(n,{popupRedirectResolver:_N,persistence:[gN,hN,D0]}),r=Dw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Tq(o.toString());w0(t,s,()=>s(t.currentUser)),_0(t,a=>s(a))}}let i=Ew("auth");return i&&p0(t,`http://${i}`),t}function Sq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rW({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Er("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Sq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dq("Browser");var wN="auth",kn=class{constructor(n){return n}},S0=class{constructor(){return Zl(wN)}};var A0=new ne("angularfire2.auth-instances");function gG(n,e){let t=sp(wN,n,e);return t&&new kn(t)}function vG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new kn(r)}}var yG={provide:S0,deps:[[new Xt,A0]]},_G={provide:kn,useFactory:gG,deps:[[new Xt,A0],ds]};function EN(n,...e){return Ct("angularfire",us.full,"auth"),Tn([_G,yG,{provide:A0,useFactory:vG(n),multi:!0,deps:[Se,Ft,Ua,Jl,[new Xt,ap],...e]}])}var IN=Pt(v0,!0);var DN=Pt(T0,!0);var po=Pt(E0,!0);var CN=Pt(y0,!0);var bN=Pt(b0,!0);var TN=Pt(I0,!0);var mo=(()=>{class n{auth;router;userSubject=new ut(null);user$=this.userSubject.asObservable();isLoading=new ut(!0);constructor(t,r){this.auth=t,this.router=r,po(this.auth,i=>{this.userSubject.next(i),i?this.router.navigate(["/"]):this.router.navigate(["/login"])})}signUp(t,r){return w(this,null,function*(){try{let i=yield IN(this.auth,t,r);return console.log("User signed up:",i.user),this.userSubject.next(i.user),this.router.navigate(["/"]),i.user}catch(i){throw console.error("Error signing up:",i),i}})}login(t,r){return w(this,null,function*(){try{let i=yield CN(this.auth,t,r);return this.userSubject.next(i.user),this.router.navigate(["/"]),i.user}catch(i){throw console.error("Error logging in:",i),i}})}logout(){return w(this,null,function*(){try{yield TN(this.auth),this.userSubject.next(null),this.router.navigate(["/login"])}catch(t){throw console.error("Error logging out:",t),t}})}signinWithGoogle(){return w(this,null,function*(){try{let t=yield bN(this.auth,new m0);return this.userSubject.next(t.user),this.router.navigate(["/"]),t.user}catch(t){throw console.error("Error signing in with Google:",t),t}})}static \u0275fac=function(r){return new(r||n)(ue(kn),ue(mn))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wG(n,e){if(n&1&&(S(0,"p",18),j(1),x()),n&2){let t=V();k(),Nt(" ",t.errorMessage," ")}}var SN=(()=>{class n{auth;route;email="";password="";errorMessage="";constructor(t,r){this.auth=t,this.route=r}login(){return w(this,null,function*(){try{yield this.auth.login(this.email,this.password)}catch(t){this.errorMessage=t.message}})}signInWithGoogle(){return w(this,null,function*(){try{yield this.auth.signinWithGoogle(),this.route.navigate(["/"])}catch(t){this.errorMessage=t.message}})}static \u0275fac=function(r){return new(r||n)(O(mo),O(mn))};static \u0275cmp=xe({type:n,selectors:[["app-login"]],standalone:!0,features:[ht],decls:25,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","bg-white","p-8","rounded-2xl","shadow-lg","space-y-6",3,"submit"],[1,"text-3xl","font-bold","text-gray-700","text-center"],[1,"space-y-4"],[1,"relative"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["d","M4 4h16v16H4z"],["d","M22 6l-10 7L2 6"],["type","email","placeholder","Email","name","email","required","",1,"w-full","pl-10","pr-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["d","M8 11V7a4 4 0 0 1 8 0v4"],["width","18","height","11","x","3","y","11","rx","2"],["cx","12","cy","16","r","1"],["type","password","placeholder","Password","name","password","required","",1,"w-full","pl-10","pr-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","flex","items-center","justify-center","gap-2","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300","font-bold"],["type","button",1,"w-full","flex","items-center","justify-center","gap-2","bg-gray-100","text-gray-700","py-3","rounded-lg","hover:bg-gray-200","transition","duration-300","border","border-gray-300",3,"click"],[1,"bi","bi-google","text-dark"],["routerLink","/register",1,"text-center","text-blue-600","hover:underline"],["class","text-red-500 text-sm text-center",4,"ngIf"],[1,"text-red-500","text-sm","text-center"]],template:function(r,i){r&1&&(S(0,"div",0)(1,"form",1),re("submit",function(s){return i.login(),s.preventDefault()}),S(2,"h2",2),j(3,"Sign In"),x(),S(4,"div",3)(5,"div",4),al(),S(6,"svg",5),se(7,"path",6)(8,"path",7),x(),wy(),S(9,"input",8),gt("ngModelChange",function(s){return Et(i.email,s)||(i.email=s),s}),x()(),S(10,"div",4),al(),S(11,"svg",5),se(12,"path",9)(13,"rect",10)(14,"circle",11),x(),wy(),S(15,"input",12),gt("ngModelChange",function(s){return Et(i.password,s)||(i.password=s),s}),x()()(),S(16,"button",13),j(17," Login "),x(),S(18,"button",14),re("click",function(){return i.signInWithGoogle()}),se(19,"i",15),j(20," Sign in with Google "),x(),se(21,"br"),S(22,"a",16),j(23,"Create an account"),x(),Y(24,wG,2,1,"p",17),x()()),r&2&&(k(9),mt("ngModel",i.email),k(6),mt("ngModel",i.password),k(9),F("ngIf",i.errorMessage))},dependencies:[Ke,st,Ur,Zf,Xn,jr,Qf,gw,wr,Wl,Uf]})}return n})();var AN=(()=>{class n{auth=$(kn);router=$(mn);isAuthenticated=Wn(!1);constructor(){po(this.auth,t=>{this.isAuthenticated.set(!!t)})}canActivate(){return this.isAuthenticated()?!0:(this.router.navigateByUrl("/login",{replaceUrl:!0}),!1)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var EG=function(){function n(){}return n.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},n.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},n.prototype.isStaticPositioned=function(e){return(this.getStyle(e,"position")||"static")==="static"},n.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(e,t){t===void 0&&(t=!0);var r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(e,"position")==="fixed")r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var o=this.offsetParent(e);r=this.offset(e,!1),o!==document.documentElement&&(i=this.offset(o,!1)),i.top+=o.clientTop,i.left+=o.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(e,t){t===void 0&&(t=!0);var r=e.getBoundingClientRect(),i={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},o={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i.top,bottom:r.bottom+i.top,left:r.left+i.left,right:r.right+i.left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(e,t,r,i){var o=r.split("-"),s=o[0],a=s===void 0?"top":s,c=o[1],u=c===void 0?"center":c,d=i?this.offset(e,!1):this.position(e,!1),f=this.getAllStyles(t),v=parseFloat(f.marginTop),m=parseFloat(f.marginBottom),D=parseFloat(f.marginLeft),R=parseFloat(f.marginRight),A=0,P=0;switch(a){case"top":A=d.top-(t.offsetHeight+v+m);break;case"bottom":A=d.top+d.height;break;case"left":P=d.left-(t.offsetWidth+D+R);break;case"right":P=d.left+d.width;break}switch(u){case"top":A=d.top;break;case"bottom":A=d.top+d.height-t.offsetHeight;break;case"left":P=d.left;break;case"right":P=d.left+d.width-t.offsetWidth;break;case"center":a==="top"||a==="bottom"?P=d.left+d.width/2-t.offsetWidth/2:A=d.top+d.height/2-t.offsetHeight/2;break}t.style.transform="translate("+Math.round(P)+"px, "+Math.round(A)+"px)";var U=t.getBoundingClientRect(),B=document.documentElement,W=window.innerHeight||B.clientHeight,ie=window.innerWidth||B.clientWidth;return U.left>=0&&U.top>=0&&U.right<=ie&&U.bottom<=W},n}();var IG=/\s+/,xN=new EG;function M0(n,e,t,r,i){var o=Array.isArray(t)?t:t.split(IG),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,c=function(A){var P=A.split("-"),U=P[0],B=P[1],W=[];return i&&(W.push(i+"-"+U),B&&W.push(i+"-"+U+"-"+B),W.forEach(function(ie){a.add(ie)})),W};i&&s.forEach(function(A){a.remove(i+"-"+A)});var u=o.findIndex(function(A){return A==="auto"});u>=0&&s.forEach(function(A){o.find(function(P){return P.search("^"+A)!==-1})==null&&o.splice(u++,1,A)});var d=e.style;d.position="absolute",d.top="0",d.left="0",d["will-change"]="transform";for(var f,v=!1,m=0,D=o;m<D.length;m++){f=D[m];var R=c(f);if(xN.positionElements(n,e,f,r)){v=!0;break}i&&R.forEach(function(A){a.remove(A)})}return v||(f=o[0],c(f),xN.positionElements(n,e,f,r)),f}var Ir=function(){return Ir=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ir.apply(this,arguments)},R0=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Np=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(Np||{}),DG=[Np.SUNDAY,Np.SATURDAY],N0=7,k0=24,Mp=60,go=60*60*24;function MN(n,e){var t=e.startDate,r=e.seconds,i=e.excluded,o=e.precision;if(i.length<1)return 0;for(var s=n.addSeconds,a=n.getDay,c=n.addDays,u=s(t,r-1),d=a(t),f=a(u),v=0,m=t,D=function(){var R=a(m);i.some(function(A){return A===R})&&(v+=CG(n,{dayStart:d,dayEnd:f,day:R,precision:o,startDate:t,endDate:u})),m=c(m,1)};m<u;)D();return v}function CG(n,e){var t=e.precision,r=e.day,i=e.dayStart,o=e.dayEnd,s=e.startDate,a=e.endDate,c=n.differenceInSeconds,u=n.endOfDay,d=n.startOfDay;if(t==="minutes"){if(r===i)return c(u(s),s)+1;if(r===o)return c(a,d(a))+1}return go}function bG(n,e){var t=e.event,r=e.offset,i=e.startOfWeekDate,o=e.excluded,s=e.precision,a=e.totalDaysInView,c=n.max,u=n.differenceInSeconds,d=n.addDays,f=n.endOfDay,v=n.differenceInDays,m=go,D=c([t.start,i]);if(t.end)switch(s){case"minutes":m=u(t.end,D);break;default:m=v(d(f(t.end),1),D)*go;break}var R=r*go,A=R+m,P=a*go;return A>P&&(m=P-R),m-=MN(n,{startDate:D,seconds:m,excluded:o,precision:s}),m/go}function TG(n,e){var t=e.event,r=e.startOfWeek,i=e.excluded,o=e.precision,s=n.differenceInDays,a=n.startOfDay,c=n.differenceInSeconds;if(t.start<r)return 0;var u=0;switch(o){case"days":u=s(a(t.start),r)*go;break;case"minutes":u=c(t.start,r);break}return u-=MN(n,{startDate:r,seconds:u,excluded:i,precision:o}),Math.abs(u/go)}function SG(n,e){var t=e.event,r=e.periodStart,i=e.periodEnd,o=n.isSameSecond,s=t.start,a=t.end||t.start;return!!(s>r&&s<i||a>r&&a<i||s<r&&a>i||o(s,r)||o(s,i)||o(a,r)||o(a,i))}function cu(n,e){var t=e.events,r=e.periodStart,i=e.periodEnd;return t.filter(function(o){return SG(n,{event:o,periodStart:r,periodEnd:i})})}function RN(n,e){var t=e.date,r=e.weekendDays,i=r===void 0?DG:r,o=n.startOfDay,s=n.isSameDay,a=n.getDay,c=o(new Date),u=a(t);return{date:t,day:u,isPast:t<c,isToday:s(t,c),isFuture:t>c,isWeekend:i.indexOf(u)>-1}}function Op(n,e){for(var t=e.viewDate,r=e.weekStartsOn,i=e.excluded,o=i===void 0?[]:i,s=e.weekendDays,a=e.viewStart,c=a===void 0?n.startOfWeek(t,{weekStartsOn:r}):a,u=e.viewEnd,d=u===void 0?n.addDays(c,N0):u,f=n.addDays,v=n.getDay,m=[],D=c;D<d;)o.some(function(R){return v(D)===R})||m.push(RN(n,{date:D,weekendDays:s})),D=f(D,1);return m}function AG(n,e){for(var t=e.date1,r=e.date2,i=e.excluded,o=t,s=0;o<r;)i.indexOf(n.getDay(o))===-1&&s++,o=n.addDays(o,1);return s}function xG(n,e){var t=e.events,r=t===void 0?[]:t,i=e.excluded,o=i===void 0?[]:i,s=e.precision,a=s===void 0?"days":s,c=e.absolutePositionedEvents,u=c===void 0?!1:c,d=e.viewStart,f=e.viewEnd;d=n.startOfDay(d),f=n.endOfDay(f);var v=n.differenceInSeconds,m=n.differenceInDays,D=AG(n,{date1:d,date2:f,excluded:o}),R=m(f,d)+1,A=r.filter(function(B){return B.allDay}).map(function(B){var W=TG(n,{event:B,startOfWeek:d,excluded:o,precision:a}),ie=bG(n,{event:B,offset:W,startOfWeekDate:d,excluded:o,precision:a,totalDaysInView:R});return{event:B,offset:W,span:ie}}).filter(function(B){return B.offset<D}).filter(function(B){return B.span>0}).map(function(B){return{event:B.event,offset:B.offset,span:B.span,startsBeforeWeek:B.event.start<d,endsAfterWeek:(B.event.end||B.event.start)>f}}).sort(function(B,W){var ie=v(B.event.start,W.event.start);return ie===0?v(W.event.end||W.event.start,B.event.end||B.event.start):ie}),P=[],U=[];return A.forEach(function(B,W){if(U.indexOf(B)===-1){U.push(B);var ie=B.span+B.offset,Q=A.slice(W+1).filter(function(_){if(_.offset>=ie&&ie+_.span<=R&&U.indexOf(_)===-1){var b=_.offset-ie;return u||(_.offset=b),ie+=_.span+b,U.push(_),!0}}),T=R0([B],Q,!0),y=T.filter(function(_){return _.event.id}).map(function(_){return _.event.id}).join("-");P.push(Ir({row:T},y?{id:y}:{}))}}),P}function MG(n,e){var t=e.events,r=e.viewDate,i=e.hourSegments,o=e.hourDuration,s=e.dayStart,a=e.dayEnd,c=e.weekStartsOn,u=e.excluded,d=e.weekendDays,f=e.segmentHeight,v=e.viewStart,m=e.viewEnd,D=e.minimumEventHeight,R=NG(n,{viewDate:r,hourSegments:i,hourDuration:o,dayStart:s,dayEnd:a}),A=Op(n,{viewDate:r,weekStartsOn:c,excluded:u,weekendDays:d,viewStart:v,viewEnd:m}),P=n.setHours,U=n.setMinutes,B=n.getHours,W=n.getMinutes;return A.map(function(ie){var Q=RG(n,{events:t,viewDate:ie.date,hourSegments:i,dayStart:s,dayEnd:a,segmentHeight:f,eventWidth:1,hourDuration:o,minimumEventHeight:D}),T=R.map(function(b){var E=b.segments.map(function(C){var I=U(P(ie.date,B(C.date)),W(C.date));return Ir(Ir({},C),{date:I})});return Ir(Ir({},b),{segments:E})});function y(b,E){var C=Math.max.apply(Math,E.map(function(Ae){return Ae.left+1})),I=b.filter(function(Ae){return Ae.left>=C}).filter(function(Ae){return Rp(E,Ae.top,Ae.top+Ae.height).length>0});return I.length>0?y(b,I):C}var _=Q.events.map(function(b){var E=y(Q.events,Rp(Q.events,b.top,b.top+b.height)),C=100/E;return Ir(Ir({},b),{left:b.left*C,width:C})});return{hours:T,date:ie.date,events:_.map(function(b){var E=Rp(_.filter(function(C){return C.left>b.left}),b.top,b.top+b.height);return E.length>0?Ir(Ir({},b),{width:Math.min.apply(Math,E.map(function(C){return C.left}))-b.left}):b})}})}function NN(n,e){var t=e.events,r=t===void 0?[]:t,i=e.viewDate,o=e.weekStartsOn,s=e.excluded,a=s===void 0?[]:s,c=e.precision,u=c===void 0?"days":c,d=e.absolutePositionedEvents,f=d===void 0?!1:d,v=e.hourSegments,m=e.hourDuration,D=e.dayStart,R=e.dayEnd,A=e.weekendDays,P=e.segmentHeight,U=e.minimumEventHeight,B=e.viewStart,W=B===void 0?n.startOfWeek(i,{weekStartsOn:o}):B,ie=e.viewEnd,Q=ie===void 0?n.endOfWeek(i,{weekStartsOn:o}):ie;r||(r=[]);var T=n.startOfDay,y=n.endOfDay;W=T(W),Q=y(Q);var _=cu(n,{events:r,periodStart:W,periodEnd:Q}),b=Op(n,{viewDate:i,weekStartsOn:o,excluded:a,weekendDays:A,viewStart:W,viewEnd:Q});return{allDayEventRows:xG(n,{events:_,excluded:a,precision:u,absolutePositionedEvents:f,viewStart:W,viewEnd:Q}),period:{events:_,start:b[0].date,end:y(b[b.length-1].date)},hourColumns:MG(n,{events:r,viewDate:i,hourSegments:v,hourDuration:m,dayStart:D,dayEnd:R,weekStartsOn:o,excluded:a,weekendDays:A,segmentHeight:P,viewStart:W,viewEnd:Q,minimumEventHeight:U})}}function kN(n,e){var t=e.events,r=t===void 0?[]:t,i=e.viewDate,o=e.weekStartsOn,s=e.excluded,a=s===void 0?[]:s,c=e.viewStart,u=c===void 0?n.startOfMonth(i):c,d=e.viewEnd,f=d===void 0?n.endOfMonth(i):d,v=e.weekendDays;r||(r=[]);for(var m=n.startOfWeek,D=n.endOfWeek,R=n.differenceInDays,A=n.startOfDay,P=n.addHours,U=n.endOfDay,B=n.isSameMonth,W=n.getDay,ie=m(u,{weekStartsOn:o}),Q=D(f,{weekStartsOn:o}),T=cu(n,{events:r,periodStart:ie,periodEnd:Q}),y=[],_,b=function(Zr){var yt;if(_?(yt=A(P(_,k0)),_.getTime()===yt.getTime()&&(yt=A(P(_,k0+1))),_=yt):yt=_=ie,!a.some(function(Fn){return W(yt)===Fn})){var Jr=RN(n,{date:yt,weekendDays:v}),In=cu(n,{events:T,periodStart:A(yt),periodEnd:U(yt)});Jr.inMonth=B(yt,i),Jr.events=In,Jr.badgeTotal=In.length,y.push(Jr)}},E=0;E<R(Q,ie)+1;E++)b(E);var C=[],I=N0-a.length;if(I<N0)for(var E=0;E<y.length;E+=I){var Ae=y.slice(E,E+I),Xr=Ae.some(function(yt){return u<=yt.date&&yt.date<f});Xr&&(C=R0(R0([],C,!0),Ae,!0))}else C=y;for(var wc=Math.floor(C.length/I),br=[],E=0;E<wc;E++)br.push(E*I);return{rowOffsets:br,totalDaysVisibleInWeek:I,days:C,period:{start:C[0].date,end:U(C[C.length-1].date),events:T}}}function Rp(n,e,t){return n.filter(function(r){var i=r.top,o=r.top+r.height;return e<o&&o<t||e<i&&i<t?!0:i<=e&&t<=o})}function RG(n,e){var t=e.events,r=e.viewDate,i=e.hourSegments,o=e.dayStart,s=e.dayEnd,a=e.eventWidth,c=e.segmentHeight,u=e.hourDuration,d=e.minimumEventHeight,f=n.setMinutes,v=n.setHours,m=n.startOfDay,D=n.startOfMinute,R=n.endOfDay,A=n.differenceInMinutes,P=f(v(m(r),kp(o.hour)),Pp(o.minute)),U=f(v(D(R(r)),kp(s.hour)),Pp(s.minute));U.setSeconds(59,999);var B=[],W=cu(n,{events:t.filter(function(y){return!y.allDay}),periodStart:P,periodEnd:U}),ie=W.sort(function(y,_){return y.start.valueOf()-_.start.valueOf()}).map(function(y){var _=y.start,b=y.end||_,E=_<P,C=b>U,I=i*c/(u||Mp),Ae=0;if(_>P){var Xr=n.getTimezoneOffset(_),wc=n.getTimezoneOffset(P),br=wc-Xr;Ae+=A(_,P)+br}Ae*=I,Ae=Math.floor(Ae);var Zr=E?P:_,yt=C?U:b,Jr=n.getTimezoneOffset(Zr)-n.getTimezoneOffset(yt),In=A(yt,Zr)+Jr;y.end?In*=I:In=c,d&&In<d&&(In=d),In=Math.floor(In);for(var Fn=Ae+In,Ot=Rp(B,Ae,Fn),Ec=0;Ot.some(function(Km){return Km.left===Ec});)Ec+=a;var Ni={event:y,height:In,width:a,top:Ae,left:Ec,startsBeforeDay:E,endsAfterDay:C};return B.push(Ni),Ni}),Q=Math.max.apply(Math,ie.map(function(y){return y.left+y.width})),T=cu(n,{events:t.filter(function(y){return y.allDay}),periodStart:m(P),periodEnd:R(U)});return{events:ie,width:Q,allDayEvents:T,period:{events:W,start:P,end:U}}}function kp(n){return Math.max(Math.min(23,n),0)}function Pp(n){return Math.max(Math.min(59,n),0)}function NG(n,e){var t=e.viewDate,r=e.hourSegments,i=e.hourDuration,o=e.dayStart,s=e.dayEnd,a=n.setMinutes,c=n.setHours,u=n.startOfDay,d=n.startOfMinute,f=n.endOfDay,v=n.addMinutes,m=n.addDays,D=[],R=a(c(u(t),kp(o.hour)),Pp(o.minute)),A=a(c(d(f(t)),kp(s.hour)),Pp(s.minute)),P=(i||Mp)/r,U=u(t),B=f(t),W=function(b){return b};n.getTimezoneOffset(U)!==n.getTimezoneOffset(B)&&(U=m(U,1),R=m(R,1),A=m(A,1),W=function(b){return m(b,-1)});for(var ie=i?k0*60/i:Mp,Q=0;Q<ie;Q++){for(var T=[],y=0;y<r;y++){var _=v(v(R,Q*(i||Mp)),y*P);_>=R&&_<A&&T.push({date:W(_),displayDate:_,isStart:y===0})}T.length>0&&D.push({segments:T})}return D}var Wa=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(Wa||{});function PN(n,e){var t=!0;function r(i,o){e(i,o),t=!1}return Array.isArray(n)?(n.forEach(function(i){i.start?i.start instanceof Date||r(Wa.StartPropertyNotDate,i):r(Wa.StartPropertyMissing,i),i.end&&(i.end instanceof Date||r(Wa.EndPropertyNotDate,i),i.start>i.end&&r(Wa.EndsBeforeStart,i))}),t):(e(Wa.NotArray,n),!1)}function kG(n,e){return typeof n>"u"?typeof e>"u"?n:e:n}function V0(n,e){return n=kG(n,e),typeof n=="function"?function(){for(var r=arguments,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=r[s];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol?"symbol":typeof n},FN=function(n){return n!=null&&(typeof n>"u"?"undefined":P0(n))==="object"&&n.nodeType===1&&P0(n.style)==="object"&&P0(n.ownerDocument)==="object"};function VN(n,e){if(e=U0(e,!0),!FN(e))return-1;for(var t=0;t<n.length;t++)if(n[t]===e)return t;return-1}function L0(n,e){return VN(n,e)!==-1}function PG(n,e){for(var t=0;t<e.length;t++)L0(n,e[t])||n.push(e[t]);return e}function OG(n){for(var e=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=e[r+1];return t=t.map(U0),PG(n,t)}function FG(n){for(var e=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=e[r+1];return t.map(U0).reduce(function(i,o){var s=VN(n,o);return s!==-1?i.concat(n.splice(s,1)):i},[])}function U0(n,e){if(typeof n=="string")try{return document.querySelector(n)}catch(t){throw t}if(!FN(n)&&!e)throw new TypeError(n+" is not a DOM element.");return n}function VG(n,e){e=e||{};var t=V0(e.allowUpdate,!0);return function(i){if(i=i||window.event,n.target=i.target||i.srcElement||i.originalTarget,n.element=this,n.type=i.type,!!t(i)){if(i.targetTouches)n.x=i.targetTouches[0].clientX,n.y=i.targetTouches[0].clientY,n.pageX=i.targetTouches[0].pageX,n.pageY=i.targetTouches[0].pageY,n.screenX=i.targetTouches[0].screenX,n.screenY=i.targetTouches[0].screenY;else{if(i.pageX===null&&i.clientX!==null){var o=i.target&&i.target.ownerDocument||document,s=o.documentElement,a=o.body;n.pageX=i.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),n.pageY=i.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}else n.pageX=i.pageX,n.pageY=i.pageY;n.x=i.clientX,n.y=i.clientY,n.screenX=i.screenX,n.screenY=i.screenY}n.clientX=n.x,n.clientY=n.y}}}function LG(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var e={};return Object.defineProperties(e,n),e}function LN(n){if(n===window)return LG();try{var e=n.getBoundingClientRect();return e.x===void 0&&(e.x=e.left,e.y=e.top),e}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}function jG(n,e){var t=LN(e);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}var j0=void 0;typeof Object.create!="function"?j0=function(n){var e=function(){};return function(t,r){if(t!==Object(t)&&t!==null)throw TypeError("Argument must be an object, or null");e.prototype=t||{};var i=new e;return e.prototype=null,r!==n&&Object.defineProperties(i,r),t===null&&(i.__proto__=null),i}}():j0=Object.create;var UG=j0,ps=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function BG(n){var e={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};n!==void 0&&n.addEventListener("mousemove",t);function t(o){for(var s=0;s<ps.length;s++)e[ps[s]]=o[ps[s]]}var r=function(){if(MouseEvent)return function(s,a,c){var u=new MouseEvent("mousemove",O0(e,a));return F0(u,c),s.dispatchEvent(u)};if(typeof document.createEvent=="function")return function(s,a,c){var u=O0(e,a),d=document.createEvent("MouseEvents");return d.initMouseEvent("mousemove",!0,!0,window,0,u.screenX,u.screenY,u.clientX,u.clientY,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.button,u.relatedTarget),F0(d,c),s.dispatchEvent(d)};if(typeof document.createEventObject=="function")return function(s,a,c){var u=document.createEventObject(),d=O0(e,a);for(var f in d)u[f]=d[f];return F0(u,c),s.dispatchEvent(u)}}();function i(){n&&n.removeEventListener("mousemove",t,!1),e=null}return{destroy:i,dispatch:r}}function O0(n,e){e=e||{};for(var t=UG(n),r=0;r<ps.length;r++)e[ps[r]]!==void 0&&(t[ps[r]]=e[ps[r]]);return t}function F0(n,e){console.log("data ",e),n.data=e||{},n.dispatched="mousemove"}var uu=["webkit","moz","ms","o"],lu=function(){if(typeof window>"u")return function(){};for(var n=0,e=uu.length;n<e&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[uu[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(r){var i=new Date().getTime(),o=Math.max(0,16-i-t),s=window.setTimeout(function(){return r(i+o)},o);return t=i+o,s}}return window.requestAnimationFrame.bind(window)}(),qa=function(){if(typeof window>"u")return function(){};for(var n=0,e=uu.length;n<e&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[uu[n]+"CancelAnimationFrame"]||window[uu[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function HG(n,e){e===void 0&&(e={});var t=this,r=4,i=!1;if(typeof e.margin!="object"){var o=e.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=e.margin;this.scrollWhenOutside=e.scrollWhenOutside||!1;var s={},a=VG(s),c=BG(),u=!1;window.addEventListener("mousemove",a,!1),window.addEventListener("touchmove",a,!1),isNaN(e.maxSpeed)||(r=e.maxSpeed),typeof r!="object"&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=V0(e.autoScroll),this.syncMove=V0(e.syncMove,!1),this.destroy=function(E){window.removeEventListener("mousemove",a,!1),window.removeEventListener("touchmove",a,!1),window.removeEventListener("mousedown",R,!1),window.removeEventListener("touchstart",R,!1),window.removeEventListener("mouseup",A,!1),window.removeEventListener("touchend",A,!1),window.removeEventListener("pointerup",A,!1),window.removeEventListener("mouseleave",U,!1),window.removeEventListener("mousemove",ie,!1),window.removeEventListener("touchmove",ie,!1),window.removeEventListener("scroll",D,!0),n=[],E&&P()},this.add=function(){for(var E=[],C=arguments.length;C--;)E[C]=arguments[C];return OG.apply(void 0,[n].concat(E)),this},this.remove=function(){for(var E=[],C=arguments.length;C--;)E[C]=arguments[C];return FG.apply(void 0,[n].concat(E))};var d=null,f;Object.prototype.toString.call(n)!=="[object Array]"&&(n=[n]),function(E){n=[],E.forEach(function(C){C===window?d=window:t.add(C)})}(n),Object.defineProperties(this,{down:{get:function(){return u}},maxSpeed:{get:function(){return r}},point:{get:function(){return s}},scrolling:{get:function(){return i}}});var v=null,m;window.addEventListener("mousedown",R,!1),window.addEventListener("touchstart",R,!1),window.addEventListener("mouseup",A,!1),window.addEventListener("touchend",A,!1),window.addEventListener("pointerup",A,!1),window.addEventListener("mousemove",ie,!1),window.addEventListener("touchmove",ie,!1),window.addEventListener("mouseleave",U,!1),window.addEventListener("scroll",D,!0);function D(E){for(var C=0;C<n.length;C++)if(n[C]===E.target){i=!0;break}i&&lu(function(){return i=!1})}function R(){u=!0}function A(){u=!1,P()}function P(){qa(m),qa(f)}function U(){u=!1}function B(E){if(!E)return null;if(v===E||L0(n,E))return E;for(;E=E.parentNode;)if(L0(n,E))return E;return null}function W(){for(var E=null,C=0;C<n.length;C++)ON(s,n[C])&&(E=n[C]);return E}function ie(E){if(t.autoScroll()&&!E.dispatched){var C=E.target,I=document.body;v&&!ON(s,v)&&(t.scrollWhenOutside||(v=null)),C&&C.parentNode===I?C=W():(C=B(C),C||(C=W())),C&&C!==v&&(v=C),d&&(qa(f),f=lu(Q)),v&&(qa(m),m=lu(T))}}function Q(){y(d),qa(f),f=lu(Q)}function T(){v&&(y(v),qa(m),m=lu(T))}function y(E){var C=LN(E),I,Ae;s.x<C.left+t.margin.left?I=Math.floor(Math.max(-1,(s.x-C.left)/t.margin.left-1)*t.maxSpeed.left):s.x>C.right-t.margin.right?I=Math.ceil(Math.min(1,(s.x-C.right)/t.margin.right+1)*t.maxSpeed.right):I=0,s.y<C.top+t.margin.top?Ae=Math.floor(Math.max(-1,(s.y-C.top)/t.margin.top-1)*t.maxSpeed.top):s.y>C.bottom-t.margin.bottom?Ae=Math.ceil(Math.min(1,(s.y-C.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):Ae=0,t.syncMove()&&c.dispatch(E,{pageX:s.pageX+I,pageY:s.pageY+Ae,clientX:s.x+I,clientY:s.y+Ae}),setTimeout(function(){Ae&&_(E,Ae),I&&b(E,I)})}function _(E,C){E===window?window.scrollTo(E.pageXOffset,E.pageYOffset+C):E.scrollTop+=C}function b(E,C){E===window?window.scrollTo(E.pageXOffset+C,E.pageYOffset):E.scrollLeft+=C}}function $G(n,e){return new HG(n,e)}function ON(n,e,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:jG(n,e)}var jN=$G;function B0(n,e,t){t&&t.split(" ").forEach(r=>n.addClass(e.nativeElement,r))}function Fp(n,e,t){t&&t.split(" ").forEach(r=>n.removeClass(e.nativeElement,r))}var BN=(()=>{class n{constructor(){this.currentDrag=new Te}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HN=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(O(tt))},n.\u0275dir=Ne({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),Vp=(()=>{class n{constructor(t,r,i,o,s,a,c){this.element=t,this.renderer=r,this.draggableHelper=i,this.zone=o,this.vcr=s,this.scrollContainer=a,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new J,this.dragStart=new J,this.ghostElementCreated=new J,this.dragging=new J,this.dragEnd=new J,this.pointerDown$=new Te,this.pointerMove$=new Te,this.pointerUp$=new Te,this.eventListenerSubscriptions={},this.destroy$=new Te,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();let t=this.pointerDown$.pipe(Qe(()=>this.canDrag()),qe(r=>{r.event.stopPropagation&&!this.scrollContainer&&r.event.stopPropagation();let i=this.renderer.createElement("style");this.renderer.setAttribute(i,"type","text/css"),this.renderer.appendChild(i,this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)),requestAnimationFrame(()=>{this.document.head.appendChild(i)});let o=this.getScrollPosition(),s=new he(m=>{let D=this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window";return this.renderer.listen(D,"scroll",R=>m.next(R))}).pipe(Oo(o),ae(()=>this.getScrollPosition())),a=new Te,c=new Bc;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});let u=Vn(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe(Ln()),d=Xs([this.pointerMove$,s]).pipe(ae(([m,D])=>({currentDrag$:a,transformX:m.clientX-r.clientX,transformY:m.clientY-r.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:D.left,scrollTop:D.top,target:m.event.target})),ae(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),ae(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),ae(m=>{let D=m.scrollLeft-o.left,R=m.scrollTop-o.top;return ve(H({},m),{x:m.transformX+D,y:m.transformY+R})}),Qe(({x:m,y:D,transformX:R,transformY:A})=>!this.validateDrag||this.validateDrag({x:m,y:D,transform:{x:R,y:A}})),vn(u),Ln()),f=d.pipe(Yt(1),Ln()),v=d.pipe(Hi(1),Ln());return f.subscribe(({clientX:m,clientY:D,x:R,y:A})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=jN([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],ve(H({},this.autoScroll),{autoScroll(){return!0}})),B0(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){let P=this.element.nativeElement.getBoundingClientRect(),U=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(U):this.element.nativeElement.parentNode.insertBefore(U,this.element.nativeElement.nextSibling),this.ghostElement=U,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(U,{position:"fixed",top:`${P.top}px`,left:`${P.left}px`,width:`${P.width}px`,height:`${P.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){let B=this.vcr.createEmbeddedView(this.ghostElementTemplate);U.innerHTML="",B.rootNodes.filter(W=>W instanceof Node).forEach(W=>{U.appendChild(W)}),v.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(B))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-R,clientY:D-A,element:U})}),v.subscribe(()=>{U.parentElement.removeChild(U),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(a)}),v.pipe(qe(m=>{let D=c.pipe(Bg(),Yt(1),ae(R=>ve(H({},m),{dragCancelled:R>0})));return c.complete(),D})).subscribe(({x:m,y:D,dragCancelled:R})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y:D,dragCancelled:R})}),Fp(this.renderer,this.element,this.dragActiveClass),a.complete()}),Vn(u,v).pipe(Yt(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(i)})}),d}),Ln());Vn(t.pipe(Yt(1),ae(r=>[,r])),t.pipe(ea())).pipe(Qe(([r,i])=>r?r.x!==i.x||r.y!==i.y:!0),ae(([r,i])=>i)).subscribe(({x:r,y:i,currentDrag$:o,clientX:s,clientY:a,transformX:c,transformY:u,target:d})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:r,y:i})}),requestAnimationFrame(()=>{if(this.ghostElement){let f=`translate3d(${c}px, ${u}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:f,"-webkit-transform":f,"-ms-transform":f,"-moz-transform":f,"-o-transform":f})}}),o.next({clientX:s,clientY:a,dropData:this.dropData,target:d})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){let t=this.canDrag(),r=Object.keys(this.eventListenerSubscriptions).length>0;t&&!r?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",i=>{this.onMouseDown(i)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",i=>{this.onMouseUp(i)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",i=>{this.onTouchStart(i)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&r&&this.unsubscribeEventListeners()}onMouseDown(t){t.button===0&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",r=>{this.pointerMove$.next({event:r,clientX:r.clientX,clientY:r.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){t.button===0&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let r,i,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),i=!1,o=this.hasScrollbar(),r=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){let s=ji(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),a=ji(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!i&&o&&(i=this.shouldBeginDrag(t,c,r)),(!this.touchStartLongPress||!o||i)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),a.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,r){Object.keys(r).forEach(i=>{this.renderer.setStyle(t,i,r[i])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,r,i){let o=this.getScrollPosition(),s={top:Math.abs(o.top-i.top),left:Math.abs(o.left-i.left)},a=Math.abs(r.targetTouches[0].clientX-t.touches[0].clientX)-s.left,c=Math.abs(r.targetTouches[0].clientY-t.touches[0].clientY)-s.top,u=a+c,d=this.touchStartLongPress;return(u>d.delta||s.top>0||s.left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=d.delay?(this.disableScroll(),!0):!1}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){let t=this.getScrollElement(),r=t.scrollWidth>t.clientWidth,i=t.scrollHeight>t.clientHeight;return r||i}}return n.\u0275fac=function(t){return new(t||n)(O(tt),O(pt),O(BN),O(Se),O(hr),O(HN,8),O(Lt))},n.\u0275dir=Ne({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Zt]}),n})();function UN(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}var Lp=(()=>{class n{constructor(t,r,i,o,s){this.element=t,this.draggableHelper=r,this.zone=i,this.renderer=o,this.scrollContainer=s,this.dragEnter=new J,this.dragLeave=new J,this.dragOver=new J,this.drop=new J}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{B0(this.renderer,this.element,this.dragActiveClass);let r={updateCache:!0},i=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{r.updateCache=!0}),o,s=t.pipe(ae(({clientX:u,clientY:d,dropData:f,target:v})=>{o={clientX:u,clientY:d,dropData:f,target:v},r.updateCache&&(r.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(r.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),r.updateCache=!1);let m=UN(u,d,r.rect),D=!this.validateDrop||this.validateDrop({clientX:u,clientY:d,target:v,dropData:f});return r.scrollContainerRect?m&&D&&UN(u,d,r.scrollContainerRect):m&&D})),a=s.pipe($g()),c;a.pipe(Qe(u=>u)).subscribe(()=>{c=!0,B0(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),s.pipe(Qe(u=>u)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),a.pipe(ea(),Qe(([u,d])=>u&&!d)).subscribe(()=>{c=!1,Fp(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),t.subscribe({complete:()=>{i(),Fp(this.renderer,this.element,this.dragActiveClass),c&&(Fp(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(O(tt),O(BN),O(Se),O(pt),O(HN,8))},n.\u0275dir=Ne({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),du=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mt({type:n}),n.\u0275inj=xt({}),n})();var Ga=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ga||{});function $N(n,e){return{type:Ga.Trigger,name:n,definitions:e,options:{}}}function H0(n,e=null){return{type:Ga.Animate,styles:e,timings:n}}function $0(n){return{type:Ga.Style,styles:n,offset:null}}function z0(n,e,t){return{type:Ga.State,name:n,styles:e,options:t}}function W0(n,e,t=null){return{type:Ga.Transition,expr:n,animation:e,options:t}}var ms=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;function WG(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();return e.removeAttribute("id"),t.forEach(i=>{i.removeAttribute("id")}),r==="canvas"?qN(n,e):(r==="input"||r==="select"||r==="textarea")&&WN(n,e),zN("canvas",n,e,qN),zN("input, textarea, select",n,e,WN),e}function zN(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let o=t.querySelectorAll(n);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var qG=0;function WN(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${qG++}`)}function qN(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function GN(n,e,t,r){let i={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return e.top&&(i.top+=r),e.bottom&&(i.bottom+=r),e.left&&(i.left+=t),e.right&&(i.right+=t),i.height=i.bottom-i.top,i.width=i.right-i.left,i}function GG(n,e){let t=0,r=0,i=n.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(a=>i[a]).find(a=>!!a);if(s&&s.includes("translate")&&(t=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),e==="absolute")return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-r,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-r,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{let a=n.nativeElement.getBoundingClientRect();return{height:a.height,width:a.width,top:a.top-r,bottom:a.bottom-r,left:a.left-t,right:a.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}var KN=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function YN(n,e){return n.left&&n.top?e.topLeft:n.right&&n.top?e.topRight:n.left&&n.bottom?e.bottomLeft:n.right&&n.bottom?e.bottomRight:n.left||n.right?e.leftOrRight:n.top||n.bottom?e.topOrBottom:""}function jp({edges:n,initialRectangle:e,newRectangle:t}){let r={};return Object.keys(n).forEach(i=>{r[i]=(t[i]||0)-(e[i]||0)}),r}var QN="resize-active",KG="resize-ghost-element",YG=50,G0=(()=>{class n{constructor(t,r,i,o){this.platformId=t,this.renderer=r,this.elm=i,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=KN,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=YG,this.resizeStart=new J,this.resizing=new J,this.resizeEnd=new J,this.mouseup=new Te,this.mousedown=new Te,this.mousemove=new Te,this.destroy$=new Te,this.pointerEventListeners=q0.getInstance(r,o)}ngOnInit(){let t=Vn(this.pointerEventListeners.pointerDown,this.mousedown),r=Vn(this.pointerEventListeners.pointerMove,this.mousemove).pipe(ot(({event:u})=>{o&&u.cancelable&&u.preventDefault()}),Ln()),i=Vn(this.pointerEventListeners.pointerUp,this.mouseup),o,s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},a=()=>H(H({},KN),this.resizeCursors);t.pipe(qe(u=>{function d(m){return{clientX:m.clientX-u.clientX,clientY:m.clientY-u.clientY}}let f=()=>{let m={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?m.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(m.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?m.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(m.y=+this.resizeSnapGrid.bottom)),m};function v(m,D){return{x:Math.ceil(m.clientX/D.x),y:Math.ceil(m.clientY/D.y)}}return Vn(r.pipe(Yt(1)).pipe(ae(m=>[,m])),r.pipe(ea())).pipe(ae(([m,D])=>[m&&d(m),d(D)])).pipe(Qe(([m,D])=>{if(!m)return!0;let R=f(),A=v(m,R),P=v(D,R);return A.x!==P.x||A.y!==P.y})).pipe(ae(([,m])=>{let D=f();return{clientX:Math.round(m.clientX/D.x)*D.x,clientY:Math.round(m.clientY/D.y)*D.y}})).pipe(vn(Vn(i,t)))})).pipe(Qe(()=>!!o)).pipe(ae(({clientX:u,clientY:d})=>GN(o.startingRect,o.edges,u,d))).pipe(Qe(u=>this.allowNegativeResizes||!!(u.height&&u.width&&u.height>0&&u.width>0))).pipe(Qe(u=>this.validateResize?this.validateResize({rectangle:u,edges:jp({edges:o.edges,initialRectangle:o.startingRect,newRectangle:u})}):!0),vn(this.destroy$)).subscribe(u=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${u.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${u.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${u.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${u.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:jp({edges:o.edges,initialRectangle:o.startingRect,newRectangle:u}),rectangle:u})}),o.currentRect=u}),t.pipe(ae(({edges:u})=>u||{}),Qe(u=>Object.keys(u).length>0),vn(this.destroy$)).subscribe(u=>{o&&s();let d=GG(this.elm,this.ghostElementPositioning);o={edges:u,startingRect:d,currentRect:d};let f=a(),v=YN(o.edges,f);this.renderer.setStyle(document.body,"cursor",v),this.setElementClass(this.elm,QN,!0),this.enableGhostResize&&(o.clonedNode=WG(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",YN(o.edges,f)),this.renderer.addClass(o.clonedNode,KG),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:jp({edges:u,initialRectangle:d,newRectangle:d}),rectangle:GN(d,{},0,0)})})}),i.pipe(vn(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,QN),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:jp({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){Cx(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,r,i){i?this.renderer.addClass(t.nativeElement,r):this.renderer.removeClass(t.nativeElement,r)}}return n.\u0275fac=function(t){return new(t||n)(O(_n),O(pt),O(tt),O(Se))},n.\u0275dir=Ne({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})(),q0=class n{constructor(e,t){this.pointerDown=new he(r=>{let i,o;return t.runOutsideAngular(()=>{i=e.listen("document","mousedown",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ms&&(o=e.listen("document","touchstart",s=>{r.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{i(),ms&&o()}}).pipe(Ln()),this.pointerMove=new he(r=>{let i,o;return t.runOutsideAngular(()=>{i=e.listen("document","mousemove",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ms&&(o=e.listen("document","touchmove",s=>{r.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{i(),ms&&o()}}).pipe(Ln()),this.pointerUp=new he(r=>{let i,o,s;return t.runOutsideAngular(()=>{i=e.listen("document","mouseup",a=>{r.next({clientX:a.clientX,clientY:a.clientY,event:a})}),ms&&(o=e.listen("document","touchend",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}),s=e.listen("document","touchcancel",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}))}),()=>{i(),ms&&(o(),s())}}).pipe(Ln())}static getInstance(e,t){return n.instance||(n.instance=new n(e,t)),n.instance}},XN=(()=>{class n{constructor(t,r,i,o){this.renderer=t,this.element=r,this.zone=i,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new Te}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),ms&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),Vn(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,r,i){t.cancelable&&t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:i,edges:this.resizeEdges})}onMouseup(t,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,r,i){this.resizable.mousemove.next({clientX:r,clientY:i,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return ji(this.element.nativeElement,t).pipe(vn(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(O(pt),O(tt),O(Se),O(G0,8))},n.\u0275dir=Ne({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),K0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mt({type:n}),n.\u0275inj=xt({}),n})();var XG=(n,e)=>({event:n,trackByActionId:e}),ZG=n=>({action:n});function JG(n,e){if(n&1){let t=Fe();S(0,"a",5),Ze(1,"calendarA11y"),re("mwlClick",function(i){let o=G(t).$implicit,s=V(2).event;return K(o.onClick({event:s,sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=G(t).$implicit,s=V(2).event;return K(o.onClick({event:s,sourceEvent:i}))}),x()}if(n&2){let t=e.$implicit;F("ngClass",t.cssClass)("innerHtml",t.label,zh),en("aria-label",wn(1,3,qn(6,ZG,t),"actionButtonLabel"))}}function e5(n,e){if(n&1&&(S(0,"span",3),Y(1,JG,2,8,"a",4),x()),n&2){let t=V(),r=t.event,i=t.trackByActionId;k(),F("ngForOf",r.actions)("ngForTrackBy",i)}}function t5(n,e){if(n&1&&Y(0,e5,2,2,"span",2),n&2){let t=e.event;F("ngIf",t.actions)}}function n5(n,e){}var r5=(n,e)=>({event:n,view:e}),Ka=()=>({});function i5(n,e){if(n&1&&(se(0,"span",2),Ze(1,"calendarEventTitle"),Ze(2,"calendarA11y")),n&2){let t=e.event,r=e.view;F("innerHTML",Fr(1,2,t.title,r,t),zh),en("aria-hidden",wn(2,6,fn(9,Ka),"hideEventTitle"))}}function o5(n,e){}var s5=(n,e,t)=>({contents:n,placement:e,event:t});function a5(n,e){if(n&1&&(S(0,"div",2),se(1,"div",3)(2,"div",4),x()),n&2){let t=e.contents,r=e.placement;F("ngClass","cal-tooltip-"+r),k(2),F("innerHtml",t,zh)}}function c5(n,e){}var l5=(n,e,t,r,i,o,s,a,c,u,d,f)=>({day:n,openDay:e,locale:t,tooltipPlacement:r,highlightDay:i,unhighlightDay:o,eventClicked:s,tooltipTemplate:a,tooltipAppendToBody:c,tooltipDelay:u,trackByEventId:d,validateDrag:f}),u5=(n,e)=>({day:n,locale:e}),eE=n=>({backgroundColor:n}),d5=(n,e)=>({event:n,draggedFrom:e}),hu=(n,e)=>({x:n,y:e}),Hp=()=>({delay:300,delta:30});function h5(n,e){if(n&1&&(S(0,"span",7),j(1),x()),n&2){let t=V().day;k(),Rt(t.badgeTotal)}}function f5(n,e){if(n&1){let t=Fe();S(0,"div",10),Ze(1,"calendarEventTitle"),Ze(2,"calendarA11y"),re("mouseenter",function(){let i=G(t).$implicit,o=V(2).highlightDay;return K(o.emit({event:i}))})("mouseleave",function(){let i=G(t).$implicit,o=V(2).unhighlightDay;return K(o.emit({event:i}))})("mwlClick",function(i){let o=G(t).$implicit,s=V(2).eventClicked;return K(s.emit({event:o,sourceEvent:i}))}),x()}if(n&2){let t=e.$implicit,r=V(2),i=r.day,o=r.tooltipPlacement,s=r.tooltipTemplate,a=r.tooltipAppendToBody,c=r.tooltipDelay,u=r.validateDrag;wt("cal-draggable",t.draggable),F("ngStyle",qn(22,eE,t.color==null?null:t.color.primary))("ngClass",t==null?null:t.cssClass)("mwlCalendarTooltip",Fr(1,15,t.title,"monthTooltip",t))("tooltipPlacement",o)("tooltipEvent",t)("tooltipTemplate",s)("tooltipAppendToBody",a)("tooltipDelay",c)("dropData",kt(24,d5,t,i))("dragAxis",kt(27,hu,t.draggable,t.draggable))("validateDrag",u)("touchStartLongPress",fn(30,Hp)),en("aria-hidden",wn(2,19,fn(31,Ka),"hideMonthCellEvents"))}}function p5(n,e){if(n&1&&(S(0,"div",8),Y(1,f5,3,32,"div",9),x()),n&2){let t=V(),r=t.day,i=t.trackByEventId;k(),F("ngForOf",r.events)("ngForTrackBy",i)}}function m5(n,e){if(n&1&&(S(0,"div",2),Ze(1,"calendarA11y"),S(2,"span",3),Y(3,h5,2,1,"span",4),S(4,"span",5),j(5),Ze(6,"calendarDate"),x()()(),Y(7,p5,2,2,"div",6)),n&2){let t=e.day,r=e.locale;en("aria-label",wn(1,4,kt(11,u5,t,r),"monthCell")),k(3),F("ngIf",t.badgeTotal>0),k(2),Rt(Fr(6,7,t.date,"monthViewDayNumber",r)),k(2),F("ngIf",t.events.length>0)}}function g5(n,e){}var v5=(n,e,t,r,i)=>({events:n,eventClicked:e,isOpen:t,trackByEventId:r,validateDrag:i}),ZN=(n,e)=>({date:n,locale:e}),y5=n=>({event:n}),nk=(n,e)=>({event:n,locale:e});function _5(n,e){if(n&1){let t=Fe();S(0,"div",7),se(1,"span",8),j(2," "),S(3,"mwl-calendar-event-title",9),Ze(4,"calendarA11y"),re("mwlClick",function(i){let o=G(t).$implicit,s=V(2).eventClicked;return K(s.emit({event:o,sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=G(t).$implicit,s=V(2).eventClicked;return K(s.emit({event:o,sourceEvent:i}))}),x(),j(5," "),se(6,"mwl-calendar-event-actions",10),x()}if(n&2){let t=e.$implicit,r=V(2).validateDrag,i=V();wt("cal-draggable",t.draggable),F("ngClass",t==null?null:t.cssClass)("dropData",qn(16,y5,t))("dragAxis",kt(18,hu,t.draggable,t.draggable))("validateDrag",r)("touchStartLongPress",fn(21,Hp)),k(),F("ngStyle",qn(22,eE,t.color==null?null:t.color.primary)),k(2),F("event",t)("customTemplate",i.eventTitleTemplate),en("aria-label",wn(4,13,kt(24,nk,t,i.locale),"eventDescription")),k(3),F("event",t)("customTemplate",i.eventActionsTemplate)}}function w5(n,e){if(n&1&&(S(0,"div",3),se(1,"span",4),Ze(2,"calendarA11y"),se(3,"span",5),Ze(4,"calendarA11y"),Y(5,_5,7,27,"div",6),x()),n&2){let t=V(),r=t.events,i=t.trackByEventId,o=V();F("@collapse",void 0),k(),en("aria-label",wn(2,5,kt(11,ZN,o.date,o.locale),"openDayEventsAlert")),k(2),en("aria-label",wn(4,8,kt(14,ZN,o.date,o.locale),"openDayEventsLandmark")),k(2),F("ngForOf",r)("ngForTrackBy",i)}}function E5(n,e){if(n&1&&Y(0,w5,6,17,"div",2),n&2){let t=e.isOpen;F("ngIf",t)}}function I5(n,e){}var D5=(n,e,t)=>({days:n,locale:e,trackByWeekDayHeaderDate:t});function C5(n,e){if(n&1){let t=Fe();S(0,"div",4),re("click",function(i){let o=G(t).$implicit,s=V(2);return K(s.columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:i}))}),j(1),Ze(2,"calendarDate"),x()}if(n&2){let t=e.$implicit,r=V().locale;wt("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),F("ngClass",t.cssClass),k(),Nt(" ",Fr(2,10,t.date,"monthViewColumnHeader",r)," ")}}function b5(n,e){if(n&1&&(S(0,"div",2),Y(1,C5,3,14,"div",3),x()),n&2){let t=e.days,r=e.trackByWeekDayHeaderDate;k(),F("ngForOf",t)("ngForTrackBy",r)}}function T5(n,e){}function S5(n,e){if(n&1){let t=Fe();S(0,"mwl-calendar-month-cell",7),Ze(1,"calendarA11y"),re("mwlClick",function(i){let o=G(t).$implicit,s=V(2);return K(s.dayClicked.emit({day:o,sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=G(t).$implicit,s=V(2);return K(s.dayClicked.emit({day:o,sourceEvent:i}))})("highlightDay",function(i){G(t);let o=V(2);return K(o.toggleDayHighlight(i.event,!0))})("unhighlightDay",function(i){G(t);let o=V(2);return K(o.toggleDayHighlight(i.event,!1))})("drop",function(i){let o=G(t).$implicit,s=V(2);return K(s.eventDropped(o,i.dropData.event,i.dropData.draggedFrom))})("eventClicked",function(i){G(t);let o=V(2);return K(o.eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent}))}),x()}if(n&2){let t=e.$implicit,r=V(2);F("ngClass",t==null?null:t.cssClass)("day",t)("openDay",r.openDay)("locale",r.locale)("tooltipPlacement",r.tooltipPlacement)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipTemplate",r.tooltipTemplate)("tooltipDelay",r.tooltipDelay)("customTemplate",r.cellTemplate)("ngStyle",qn(15,eE,t.backgroundColor))("clickListenerDisabled",r.dayClicked.observers.length===0),en("tabindex",wn(1,12,fn(17,Ka),"monthCellTabIndex"))}}function A5(n,e){if(n&1){let t=Fe();S(0,"div")(1,"div",4),Y(2,S5,2,18,"mwl-calendar-month-cell",5),Ze(3,"slice"),x(),S(4,"mwl-calendar-open-day-events",6),re("eventClicked",function(i){G(t);let o=V();return K(o.eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent}))})("drop",function(i){G(t);let o=V();return K(o.eventDropped(o.openDay,i.dropData.event,i.dropData.draggedFrom))}),x()()}if(n&2){let t=e.$implicit,r=V();k(2),F("ngForOf",Fr(3,9,r.view.days,t,t+r.view.totalDaysVisibleInWeek))("ngForTrackBy",r.trackByDate),k(2),F("locale",r.locale)("isOpen",r.openRowIndex===t)("events",r.openDay==null?null:r.openDay.events)("date",r.openDay==null?null:r.openDay.date)("customTemplate",r.openDayEventsTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)}}var x5=(n,e,t,r,i,o)=>({days:n,locale:e,dayHeaderClicked:t,eventDropped:r,dragEnter:i,trackByWeekDayHeaderDate:o});function M5(n,e){if(n&1){let t=Fe();S(0,"div",4),re("mwlClick",function(i){let o=G(t).$implicit,s=V().dayHeaderClicked;return K(s.emit({day:o,sourceEvent:i}))})("drop",function(i){let o=G(t).$implicit,s=V().eventDropped;return K(s.emit({event:i.dropData.event,newStart:o.date}))})("dragEnter",function(){let i=G(t).$implicit,o=V().dragEnter;return K(o.emit({date:i.date}))}),S(1,"b"),j(2),Ze(3,"calendarDate"),x(),se(4,"br"),S(5,"span"),j(6),Ze(7,"calendarDate"),x()()}if(n&2){let t=e.$implicit,r=V().locale;wt("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),F("ngClass",t.cssClass),k(2),Rt(Fr(3,11,t.date,"weekViewColumnHeader",r)),k(4),Rt(Fr(7,15,t.date,"weekViewColumnSubHeader",r))}}function R5(n,e){if(n&1&&(S(0,"div",2),Y(1,M5,8,19,"div",3),x()),n&2){let t=e.days,r=e.trackByWeekDayHeaderDate;k(),F("ngForOf",t)("ngForTrackBy",r)}}function N5(n,e){}var k5=(n,e,t,r,i,o,s,a,c)=>({weekEvent:n,tooltipPlacement:e,eventClicked:t,tooltipTemplate:r,tooltipAppendToBody:i,tooltipDisabled:o,tooltipDelay:s,column:a,daysInWeek:c}),P5=(n,e,t)=>({color:n,backgroundColor:e,borderColor:t});function O5(n,e){if(n&1){let t=Fe();S(0,"div",2),Ze(1,"calendarEventTitle"),Ze(2,"calendarA11y"),re("mwlClick",function(i){let o=G(t).eventClicked;return K(o.emit({sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=G(t).eventClicked;return K(o.emit({sourceEvent:i}))}),se(3,"mwl-calendar-event-actions",3),j(4," "),se(5,"mwl-calendar-event-title",4),x()}if(n&2){let t=e.weekEvent,r=e.tooltipPlacement,i=e.tooltipTemplate,o=e.tooltipAppendToBody,s=e.tooltipDisabled,a=e.tooltipDelay,c=e.daysInWeek,u=V();F("ngStyle",tf(20,P5,t.event.color==null?null:t.event.color.secondaryText,t.event.color==null?null:t.event.color.secondary,t.event.color==null?null:t.event.color.primary))("mwlCalendarTooltip",s?"":Fr(1,13,t.event.title,c===1?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",r)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",i)("tooltipAppendToBody",o)("tooltipDelay",a),en("aria-label",wn(2,17,kt(24,nk,t.tempEvent||t.event,u.locale),"eventDescription")),k(3),F("event",t.tempEvent||t.event)("customTemplate",u.eventActionsTemplate),k(2),F("event",t.tempEvent||t.event)("customTemplate",u.eventTitleTemplate)("view",c===1?"day":"week")}}function F5(n,e){}var V5=(n,e,t,r,i)=>({segment:n,locale:e,segmentHeight:t,isTimeLabel:r,daysInWeek:i});function L5(n,e){if(n&1&&(S(0,"div",4),j(1),Ze(2,"calendarDate"),x()),n&2){let t=V(),r=t.segment,i=t.locale,o=t.daysInWeek;k(),Nt(" ",Fr(2,1,r.displayDate,o===1?"dayViewHour":"weekViewHour",i)," ")}}function j5(n,e){if(n&1&&(S(0,"div",2),Ze(1,"calendarA11y"),Y(2,L5,3,5,"div",3),x()),n&2){let t=e.segment,r=e.segmentHeight,i=e.isTimeLabel,o=e.daysInWeek;fi("height",r,"px"),wt("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),F("ngClass",t.cssClass),en("aria-hidden",wn(1,9,fn(12,Ka),o===1?"hideDayHourSegment":"hideWeekHourSegment")),k(2),F("ngIf",i)}}function U5(n,e){}var B5=(n,e,t,r,i,o,s)=>({columnDate:n,dayStartHour:e,dayStartMinute:t,dayEndHour:r,dayEndMinute:i,isVisible:o,topPx:s});function H5(n,e){if(n&1&&se(0,"div",3),n&2){let t=V().topPx;fi("top",t,"px")}}function $5(n,e){if(n&1&&Y(0,H5,1,2,"div",2),n&2){let t=e.isVisible;F("ngIf",t)}}function z5(n,e){}var W5=(n,e)=>({left:n,right:e}),rk=(n,e)=>({event:n,calendarId:e}),q5=n=>({x:n}),G5=()=>({left:!0}),K5=()=>({right:!0}),Y5=(n,e,t,r)=>({left:n,right:e,top:t,bottom:r}),Q5=()=>({left:!0,top:!0}),X5=()=>({right:!0,bottom:!0});function Z5(n,e){n&1&&Yy(0)}function J5(n,e){if(n&1){let t=Fe();S(0,"div",17),re("drop",function(i){let o=G(t).$implicit,s=V(2);return K(s.eventDropped(i,o.date,!0))})("dragEnter",function(){let i=G(t).$implicit,o=V(2);return K(o.dateDragEnter(i.date))}),x()}}function e6(n,e){n&1&&se(0,"div",24),n&2&&F("resizeEdges",fn(1,G5))}function t6(n,e){n&1&&se(0,"div",25),n&2&&F("resizeEdges",fn(1,K5))}function n6(n,e){if(n&1){let t=Fe();S(0,"div",20,3),re("resizeStart",function(i){let o=G(t).$implicit;V();let s=nt(1),a=V(2);return K(a.allDayEventResizeStarted(s,o,i))})("resizing",function(i){let o=G(t).$implicit,s=V(3);return K(s.allDayEventResizing(o,i,s.dayColumnWidth))})("resizeEnd",function(){let i=G(t).$implicit,o=V(3);return K(o.allDayEventResizeEnded(i))})("dragStart",function(){let i=G(t).$implicit,o=nt(1);V();let s=nt(1),a=V(2);return K(a.dragStarted(s,o,i,!1))})("dragging",function(){G(t);let i=V(3);return K(i.allDayEventDragMove())})("dragEnd",function(i){let o=G(t).$implicit,s=V(3);return K(s.dragEnded(o,i,s.dayColumnWidth))}),Y(2,e6,1,2,"div",21),S(3,"mwl-calendar-week-view-event",22),re("eventClicked",function(i){let o=G(t).$implicit,s=V(3);return K(s.eventClicked.emit({event:o.event,sourceEvent:i.sourceEvent}))}),x(),Y(4,t6,1,2,"div",23),x()}if(n&2){let t=e.$implicit,r=V(3);fi("width",100/r.days.length*t.span,"%")("margin-left",r.rtl?null:100/r.days.length*t.offset,"%")("margin-right",r.rtl?100/r.days.length*t.offset:null,"%"),wt("cal-draggable",t.event.draggable&&r.allDayEventResizes.size===0)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),F("ngClass",t.event==null?null:t.event.cssClass)("resizeCursors",r.resizeCursors)("resizeSnapGrid",kt(33,W5,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",kt(36,rk,t.event,r.calendarId))("dragAxis",kt(39,hu,t.event.draggable&&r.allDayEventResizes.size===0,!r.snapDraggedEvents&&t.event.draggable&&r.allDayEventResizes.size===0))("dragSnapGrid",r.snapDraggedEvents?qn(42,q5,r.dayColumnWidth):fn(44,Ka))("validateDrag",r.validateDrag)("touchStartLongPress",fn(45,Hp)),k(2),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),k(),F("locale",r.locale)("weekEvent",t)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),k(),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function r6(n,e){if(n&1&&(S(0,"div",18,2),Y(2,n6,5,46,"div",19),x()),n&2){let t=e.$implicit,r=V(2);k(2),F("ngForOf",t.row)("ngForTrackBy",r.trackByWeekAllDayEvent)}}function i6(n,e){if(n&1){let t=Fe();S(0,"div",12,1),re("dragEnter",function(){G(t);let i=V();return K(i.dragEnter("allDay"))})("dragLeave",function(){G(t);let i=V();return K(i.dragLeave("allDay"))}),S(2,"div",10)(3,"div",13),Y(4,Z5,1,0,"ng-container",14),x(),Y(5,J5,1,0,"div",15),x(),Y(6,r6,3,2,"div",16),x()}if(n&2){let t=V();k(4),F("ngTemplateOutlet",t.allDayEventsLabelTemplate),k(),F("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),k(),F("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function o6(n,e){if(n&1&&se(0,"mwl-calendar-week-view-hour-segment",29),n&2){let t=e.$implicit,r=V(3);fi("height",r.hourSegmentHeight,"px"),F("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",r.daysInWeek)}}function s6(n,e){if(n&1&&(S(0,"div",27),Y(1,o6,1,8,"mwl-calendar-week-view-hour-segment",28),x()),n&2){let t=e.$implicit,r=e.odd,i=V(2);wt("cal-hour-odd",r),k(),F("ngForOf",t.segments)("ngForTrackBy",i.trackByHourSegment)}}function a6(n,e){if(n&1&&(S(0,"div",13),Y(1,s6,2,4,"div",26),x()),n&2){let t=V();k(),F("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}function c6(n,e){n&1&&se(0,"div",24),n&2&&F("resizeEdges",fn(1,Q5))}function l6(n,e){}function u6(n,e){if(n&1){let t=Fe();S(0,"mwl-calendar-week-view-event",36),re("eventClicked",function(i){G(t);let o=V().$implicit,s=V(2);return K(s.eventClicked.emit({event:o.event,sourceEvent:i.sourceEvent}))}),x()}if(n&2){let t=V().$implicit,r=V().$implicit,i=V();F("locale",i.locale)("weekEvent",t)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDisabled",i.dragActive||i.timeEventResizes.size>0)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("column",r)("daysInWeek",i.daysInWeek)}}function d6(n,e){n&1&&se(0,"div",25),n&2&&F("resizeEdges",fn(1,X5))}function h6(n,e){if(n&1){let t=Fe();S(0,"div",34,3),re("resizeStart",function(i){let o=G(t).$implicit,s=V(2),a=nt(6);return K(s.timeEventResizeStarted(a,o,i))})("resizing",function(i){let o=G(t).$implicit,s=V(2);return K(s.timeEventResizing(o,i))})("resizeEnd",function(){let i=G(t).$implicit,o=V(2);return K(o.timeEventResizeEnded(i))})("dragStart",function(){let i=G(t).$implicit,o=nt(1),s=V(2),a=nt(6);return K(s.dragStarted(a,o,i,!0))})("dragging",function(i){let o=G(t).$implicit,s=V(2);return K(s.dragMove(o,i))})("dragEnd",function(i){let o=G(t).$implicit,s=V(2);return K(s.dragEnded(o,i,s.dayColumnWidth,!0))}),Y(2,c6,1,2,"div",21)(3,l6,0,0,"ng-template",35)(4,u6,1,12,"ng-template",null,4,Vt)(6,d6,1,2,"div",23),x()}if(n&2){let t=e.$implicit,r=nt(5),i=V(2);fi("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),wt("cal-draggable",t.event.draggable&&i.timeEventResizes.size===0)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),F("ngClass",t.event.cssClass)("hidden",t.height===0&&t.width===0)("resizeCursors",i.resizeCursors)("resizeSnapGrid",WA(30,Y5,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",kt(35,rk,t.event,i.calendarId))("dragAxis",kt(38,hu,t.event.draggable&&i.timeEventResizes.size===0,t.event.draggable&&i.timeEventResizes.size===0))("dragSnapGrid",i.snapDraggedEvents?kt(41,hu,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):fn(44,Ka))("touchStartLongPress",fn(45,Hp))("ghostDragEnabled",!i.snapDraggedEvents)("ghostElementTemplate",r)("validateDrag",i.validateDrag),k(2),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),k(),F("ngTemplateOutlet",r),k(3),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function f6(n,e){if(n&1){let t=Fe();S(0,"mwl-calendar-week-view-hour-segment",38),re("mwlClick",function(i){let o=G(t).$implicit,s=V(3);return K(s.hourSegmentClicked.emit({date:o.date,sourceEvent:i}))})("drop",function(i){let o=G(t).$implicit,s=V(3);return K(s.eventDropped(i,o.date,!1))})("dragEnter",function(){let i=G(t).$implicit,o=V(3);return K(o.dateDragEnter(i.date))}),x()}if(n&2){let t=e.$implicit,r=V(3);fi("height",r.hourSegmentHeight,"px"),F("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",r.hourSegmentClicked.observers.length===0)("dragOverClass",!r.dragActive||!r.snapDraggedEvents?"cal-drag-over":null)("isTimeLabel",r.daysInWeek===1)}}function p6(n,e){if(n&1&&(S(0,"div",27),Y(1,f6,1,10,"mwl-calendar-week-view-hour-segment",37),x()),n&2){let t=e.$implicit,r=e.odd,i=V(2);wt("cal-hour-odd",r),k(),F("ngForOf",t.segments)("ngForTrackBy",i.trackByHourSegment)}}function m6(n,e){if(n&1&&(S(0,"div",30),se(1,"mwl-calendar-week-view-current-time-marker",31),S(2,"div",32),Y(3,h6,7,46,"div",33),x(),Y(4,p6,2,4,"div",26),x()),n&2){let t=e.$implicit,r=V();k(),F("columnDate",t.date)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("customTemplate",r.currentTimeMarkerTemplate),k(2),F("ngForOf",t.events)("ngForTrackBy",r.trackByWeekTimeEvent),k(),F("ngForOf",t.hours)("ngForTrackBy",r.trackByHour)}}var vs=(()=>{class n{constructor(t,r,i){this.renderer=t,this.elm=r,this.document=i,this.clickListenerDisabled=!1,this.click=new J,this.destroy$=new Te}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(vn(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new he(t=>this.renderer.listen(this.elm.nativeElement,"click",r=>{t.next(r)}))}}return n.\u0275fac=function(t){return new(t||n)(O(pt),O(tt),O(Lt))},n.\u0275dir=Ne({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),$p=(()=>{class n{constructor(t,r,i){this.host=t,this.ngZone=r,this.renderer=i,this.keydown=new J,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(t.keyCode===13||t.which===13||t.key==="Enter")&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){this.keydownListener!==null&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(O(tt),O(Se),O(pt))},n.\u0275dir=Ne({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),Up=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:r}){return t.badgeTotal>0?`
        ${Dt(t.date,"EEEE MMMM d",r)},
        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${Dt(t.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:t,locale:r}){return`
      Beginning of expanded view for ${Dt(t,"EEEE MMMM dd",r)}
    `}openDayEventsAlert({date:t,locale:r}){return`${Dt(t,"EEEE MMMM dd",r)} expanded`}eventDescription({event:t,locale:r}){if(t.allDay===!0)return this.allDayEventDescription({event:t,locale:r});let i=`
      ${Dt(t.start,"EEEE MMMM dd",r)},
      ${t.title}, from ${Dt(t.start,"hh:mm a",r)}
    `;return t.end?i+` to ${Dt(t.end,"hh:mm a",r)}`:i}allDayEventDescription({event:t,locale:r}){let i=`
      ${t.title}, event spans multiple days:
      start time ${Dt(t.start,"MMMM dd hh:mm a",r)}
    `;return t.end?i+`, stop time ${Dt(t.end,"MMMM d hh:mm a",r)}`:i+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(ue(yf))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),ys=(()=>{class n{constructor(t,r){this.calendarA11y=t,this.locale=r}transform(t,r){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[r]>"u"){let i=Object.getOwnPropertyNames(Object.getPrototypeOf(Up.prototype)).filter(o=>o!=="constructor");throw new Error(`${r} is not a valid a11y method. Can only be one of ${i.join(", ")}`)}return this.calendarA11y[r](t)}}return n.\u0275fac=function(t){return new(t||n)(O(Up,16),O(pr,16))},n.\u0275pipe=ui({name:"calendarA11y",type:n,pure:!0}),n})(),ik=(()=>{class n{constructor(){this.trackByActionId=(t,r)=>r.id?r.id:r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(t,r){if(t&1&&Y(0,t5,1,1,"ng-template",null,0,Vt)(2,n5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",kt(2,XG,r.event,r.trackByActionId))}},dependencies:[tn,Kn,st,Yn,vs,$p,ys],encapsulation:2}),n})(),fu=class{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}},tE=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,r,i){return this.calendarEventTitle[r](i,t)}}return n.\u0275fac=function(t){return new(t||n)(O(fu,16))},n.\u0275pipe=ui({name:"calendarEventTitle",type:n,pure:!0}),n})(),ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,r){if(t&1&&Y(0,i5,3,10,"ng-template",null,0,Vt)(2,o5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",kt(2,r5,r.event,r.view))}},dependencies:[Yn,tE,ys],encapsulation:2}),n})(),g6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,r){if(t&1&&Y(0,a5,3,2,"ng-template",null,0,Vt)(2,c5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",tf(2,s5,r.contents,r.placement,r.event))}},dependencies:[tn,Yn],encapsulation:2}),n})(),sk=(()=>{class n{constructor(t,r,i,o,s,a){this.elementRef=t,this.injector=r,this.renderer=i,this.viewContainerRef=s,this.document=a,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Te,this.tooltipFactory=o.resolveComponentFactory(g6)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(this.delay===null?pe("now"):Wc(this.delay)).pipe(vn(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=M0(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),t.indexOf(this.tooltipRef.instance.placement)===-1&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(O(tt),O(Ft),O(pt),O(Ki),O(hr),O(Lt))},n.\u0275dir=Ne({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,r){t&1&&re("mouseenter",function(){return r.onMouseOver()})("mouseleave",function(){return r.onMouseOut()})},inputs:{contents:[0,"mwlCalendarTooltip","contents"],placement:[0,"tooltipPlacement","placement"],customTemplate:[0,"tooltipTemplate","customTemplate"],event:[0,"tooltipEvent","event"],appendToBody:[0,"tooltipAppendToBody","appendToBody"],delay:[0,"tooltipDelay","delay"]},features:[Zt]}),n})();var ak=n=>PN(n,(...t)=>console.warn("angular-calendar",...t));function ck(n,e){return Math.floor(n.left)<=Math.ceil(e.left)&&Math.floor(e.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(e.right)&&Math.floor(e.right)<=Math.ceil(n.right)}function v6(n,e){return Math.floor(n.top)<=Math.ceil(e.top)&&Math.floor(e.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(e.bottom)&&Math.floor(e.bottom)<=Math.ceil(n.bottom)}function y6(n,e){return ck(n,e)&&v6(n,e)}function lk(n,e){return Math.round(n/e)*e}var uk=(n,e)=>e.id?e.id:e,nE=(n,e)=>e.date.toISOString(),_6=(n,e)=>e.date.toISOString(),w6=(n,e)=>e.segments[0].date.toISOString(),E6=(n,e)=>e.event.id?e.event.id:e.event,I6=(n,e)=>e.event.id?e.event.id:e.event,D6=60;function C6(n,e,t){return(t||D6)/(n*e)}function Y0(n,e,t,r,i){let o=lk(n,r||t),s=C6(e,t,i);return o*s}function JN(n,e,t){return e.end?e.end:n.addMinutes(e.start,t)}function gs(n,e,t,r){let i=0,o=0,s=t<0?n.subDays:n.addDays,a=e;for(;o<=Math.abs(t);){a=s(e,i);let c=n.getDay(a);r.indexOf(c)===-1&&o++,i++}return a}function b6(n,e,t){let r=e||n;return t.start<=n&&n<=t.end||t.start<=r&&r<=t.end}function T6(n,e,t,r){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==r||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)}function Q0(n,e,t,r=[],i){let o=i?n.startOfDay(e):n.startOfWeek(e,{weekStartsOn:t}),s=n.endOfWeek(e,{weekStartsOn:t});for(;r.indexOf(n.getDay(o))>-1&&o<s;)o=n.addDays(o,1);if(i){let a=n.endOfDay(gs(n,o,i-1,r));return{viewStart:o,viewEnd:a}}else{let a=s;for(;r.indexOf(n.getDay(a))>-1&&a>o;)a=n.subDays(a,1);return{viewStart:o,viewEnd:a}}}function rE({x:n,y:e}){return Math.abs(n)>1||Math.abs(e)>1}var bi=class{};var S6=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:r}){return Dt(t,"EEEE",r)}monthViewDayNumber({date:t,locale:r}){return Dt(t,"d",r)}monthViewTitle({date:t,locale:r}){return Dt(t,"LLLL y",r)}weekViewColumnHeader({date:t,locale:r}){return Dt(t,"EEEE",r)}weekViewColumnSubHeader({date:t,locale:r}){return Dt(t,"MMM d",r)}weekViewTitle({date:t,locale:r,weekStartsOn:i,excludeDays:o,daysInWeek:s}){let{viewStart:a,viewEnd:c}=Q0(this.dateAdapter,t,i,o,s),u=(d,f)=>Dt(d,"MMM d"+(f?", yyyy":""),r);return`${u(a,a.getUTCFullYear()!==c.getUTCFullYear())} - ${u(c,!0)}`}weekViewHour({date:t,locale:r}){return Dt(t,"h a",r)}dayViewHour({date:t,locale:r}){return Dt(t,"h a",r)}dayViewTitle({date:t,locale:r}){return Dt(t,"EEEE, MMMM d, y",r)}}return n.\u0275fac=function(t){return new(t||n)(ue(bi))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Bp=(()=>{class n extends S6{}return n.\u0275fac=(()=>{let e;return function(r){return(e||(e=Or(n)))(r||n)}})(),n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),zp=(()=>{class n{constructor(t,r){this.dateFormatter=t,this.locale=r}transform(t,r,i=this.locale,o=0,s=[],a){if(typeof this.dateFormatter[r]>"u"){let c=Object.getOwnPropertyNames(Object.getPrototypeOf(Bp.prototype)).filter(u=>u!=="constructor");throw new Error(`${r} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[r]({date:t,locale:i,weekStartsOn:o,excludeDays:s,daysInWeek:a})}}return n.\u0275fac=function(t){return new(t||n)(O(Bp,16),O(pr,16))},n.\u0275pipe=ui({name:"calendarDate",type:n,pure:!0}),n})(),Wp=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return kN(this.dateAdapter,t)}getWeekViewHeader(t){return Op(this.dateAdapter,t)}getWeekView(t){return NN(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(ue(bi))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Aoe=new ne("Moment");var vo=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(vo||{}),pu=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||fu,r.dateFormatter||Bp,r.utils||Wp,r.a11y||Up]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mt({type:n}),n.\u0275inj=xt({providers:[yf],imports:[Ke]}),n})(),A6=(()=>{class n{constructor(){this.highlightDay=new J,this.unhighlightDay=new J,this.eventClicked=new J,this.trackByEventId=uk,this.validateDrag=rE}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,r){t&2&&wt("cal-past",r.day.isPast)("cal-today",r.day.isToday)("cal-future",r.day.isFuture)("cal-weekend",r.day.isWeekend)("cal-in-month",r.day.inMonth)("cal-out-month",!r.day.inMonth)("cal-has-events",r.day.events.length>0)("cal-open",r.day===r.openDay)("cal-event-highlight",!!r.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(t,r){if(t&1&&Y(0,m5,8,14,"ng-template",null,0,Vt)(2,g5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Zy(2,l5,[r.day,r.openDay,r.locale,r.tooltipPlacement,r.highlightDay,r.unhighlightDay,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDelay,r.trackByEventId,r.validateDrag]))}},dependencies:[tn,Kn,st,Yn,gl,Vp,sk,vs,zp,tE,ys],encapsulation:2}),n})(),x6=$N("collapse",[z0("void",$0({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),z0("*",$0({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),W0("* => void",H0("150ms ease-out")),W0("void => *",H0("150ms ease-in"))]),M6=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new J,this.trackByEventId=uk,this.validateDrag=rE}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(t,r){if(t&1&&Y(0,E5,1,1,"ng-template",null,0,Vt)(2,I5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Xy(2,v5,r.events,r.eventClicked,r.isOpen,r.trackByEventId,r.validateDrag))}},dependencies:[tn,Kn,st,Yn,gl,Vp,ik,ok,vs,$p,ys],encapsulation:2,data:{animation:[x6]}}),n})(),R6=(()=>{class n{constructor(){this.columnHeaderClicked=new J,this.trackByWeekDayHeaderDate=nE}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(t,r){if(t&1&&Y(0,b5,2,2,"ng-template",null,0,Vt)(2,T5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",tf(2,D5,r.days,r.locale,r.trackByWeekDayHeaderDate))}},dependencies:[tn,Kn,Yn,zp],encapsulation:2}),n})(),dk=(()=>{class n{constructor(t,r,i,o){this.cdr=t,this.utils=r,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new J,this.dayClicked=new J,this.eventClicked=new J,this.columnHeaderClicked=new J,this.eventTimesChanged=new J,this.trackByRowOffset=(s,a)=>this.view.days.slice(a,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(s,a)=>a.date.toISOString(),this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){let r=t.viewDate||t.excludeDays||t.weekendDays,i=t.viewDate||t.events||t.excludeDays||t.weekendDays;r&&this.refreshHeader(),t.events&&ak(this.events),i&&this.refreshBody(),(r||i)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,r){this.view.days.forEach(i=>{r&&i.events.indexOf(t)>-1?i.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete i.backgroundColor})}eventDropped(t,r,i){if(t!==i){let o=this.dateAdapter.getYear(t.date),s=this.dateAdapter.getMonth(t.date),a=this.dateAdapter.getDate(t.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(r.start,o),s),a),u;if(r.end){let d=this.dateAdapter.differenceInSeconds(c,r.start);u=this.dateAdapter.addSeconds(r.end,d)}this.eventTimesChanged.emit({event:r,newStart:c,newEnd:u,day:t,type:vo.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(this.activeDayIsOpen===!0){let t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(i=>this.dateAdapter.isSameDay(i.date,t));let r=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(r/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(O(mr),O(Wp),O(pr),O(bi))},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Zt],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"mwl-calendar-month-view-header",1),re("columnHeaderClicked",function(o){return r.columnHeaderClicked.emit(o)}),x(),S(2,"div",2),Y(3,A5,5,13,"div",3),x()()),t&2&&(k(),F("days",r.columnHeaders)("locale",r.locale)("customTemplate",r.headerTemplate),k(2),F("ngForOf",r.view.rowOffsets)("ngForTrackBy",r.trackByRowOffset))},dependencies:[tn,Kn,gl,Lp,vs,$p,A6,M6,R6,Dx,ys],encapsulation:2}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mt({type:n}),n.\u0275inj=xt({imports:[Ke,du,pu,du]}),n})(),X0=class{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:r,dragAlreadyMoved:i,transform:o}){let s=rE({x:e,y:t})||i;if(r){let a=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){let c=this.dragContainerElement.getBoundingClientRect(),u=c.top<a.top&&a.top<c.bottom,d=c.top<a.bottom&&a.bottom<c.bottom;return ck(c,a)&&(u||d)}return!1}else return s}},Z0=class{constructor(e,t,r){this.resizeContainerElement=e,this.minWidth=t,this.rtl=r}validateResize({rectangle:e,edges:t}){return this.rtl&&(typeof t.left<"u"?(e.left-=t.left,e.right+=t.left):typeof t.right<"u"&&(e.left+=t.right,e.right-=t.right),e.width=e.right-e.left),this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth)?!1:y6(this.resizeContainerElement.getBoundingClientRect(),e)}},N6=(()=>{class n{constructor(){this.dayHeaderClicked=new J,this.eventDropped=new J,this.dragEnter=new J,this.trackByWeekDayHeaderDate=nE}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(t,r){if(t&1&&Y(0,R5,2,2,"ng-template",null,0,Vt)(2,N5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",qA(2,x5,r.days,r.locale,r.dayHeaderClicked,r.eventDropped,r.dragEnter,r.trackByWeekDayHeaderDate))}},dependencies:[tn,Kn,Yn,Lp,vs,zp],encapsulation:2}),n})(),k6=(()=>{class n{constructor(){this.eventClicked=new J}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"mwlClick","mwlKeydownEnter","ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,r){if(t&1&&Y(0,O5,6,27,"ng-template",null,0,Vt)(2,F5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Zy(2,k5,[r.weekEvent,r.tooltipPlacement,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDisabled,r.tooltipDelay,r.column,r.daysInWeek]))}},dependencies:[Yn,gl,ik,ok,sk,vs,$p,tE,ys],encapsulation:2}),n})(),P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,r){if(t&1&&Y(0,j5,3,13,"ng-template",null,0,Vt)(2,U5,0,0,"ng-template",1),t&2){let i=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Xy(2,V5,r.segment,r.locale,r.segmentHeight,r.isTimeLabel,r.daysInWeek))}},dependencies:[tn,st,Yn,zp,ys],encapsulation:2}),n})(),O6=(()=>{class n{constructor(t,r){this.dateAdapter=t,this.zone=r,this.columnDate$=new ut(void 0),this.marker$=this.zone.onStable.pipe(Ht(()=>Ug(60*1e3)),Oo(0),Gg(this.columnDate$),ae(i=>{let o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayEndHour),this.dayEndMinute),a=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(i,c)&&c>=o&&c<=s,top:this.dateAdapter.differenceInMinutes(c,o)*a}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}}return n.\u0275fac=function(t){return new(t||n)(O(bi),O(Se))},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Zt],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,r){if(t&1&&(Y(0,$5,1,1,"ng-template",null,0,Vt)(2,z5,0,0,"ng-template",1),Ze(3,"async"),Ze(4,"async")),t&2){let i,o=nt(1);k(2),F("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",GA(6,B5,r.columnDate,r.dayStartHour,r.dayStartMinute,r.dayEndHour,r.dayEndMinute,(i=Jy(3,2,r.marker$))==null?null:i.isVisible,(i=Jy(4,4,r.marker$))==null?null:i.top))}},dependencies:[st,Yn,Ex],encapsulation:2}),n})(),iE=(()=>{class n{constructor(t,r,i,o,s){this.cdr=t,this.utils=r,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new J,this.eventClicked=new J,this.eventTimesChanged=new J,this.beforeViewRender=new J,this.hourSegmentClicked=new J,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=nE,this.trackByHourSegment=_6,this.trackByHour=w6,this.trackByWeekAllDayEvent=E6,this.trackByWeekTimeEvent=I6,this.trackByHourColumn=(a,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(a,c)=>c.id,this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){let r=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,i=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.hourDuration||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek||t.minimumEventHeight;r&&this.refreshHeader(),t.events&&ak(this.events),i&&this.refreshBody(),(r||i)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&getComputedStyle(this.element.nativeElement).direction==="rtl",this.cdr.detectChanges()}timeEventResizeStarted(t,r,i){this.timeEventResizes.set(r.event,i),this.resizeStarted(t,r)}timeEventResizing(t,r){this.timeEventResizes.set(t.event,r);let i=new Map,o=[...this.events];this.timeEventResizes.forEach((s,a)=>{let c=this.getTimeEventResizedDates(a,s),u=H(H({},a),c);i.set(u,a);let d=o.indexOf(a);o[d]=u}),this.restoreOriginalEvents(o,i,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);let r=this.timeEventResizes.get(t.event);if(r){this.timeEventResizes.delete(t.event);let i=this.getTimeEventResizedDates(t.event,r);this.eventTimesChanged.emit({newStart:i.start,newEnd:i.end,event:t.event,type:vo.Resize})}}allDayEventResizeStarted(t,r,i){this.allDayEventResizes.set(r,{originalOffset:r.offset,originalSpan:r.span,edge:typeof i.edges.left<"u"?"left":"right"}),this.resizeStarted(t,r,this.getDayColumnWidth(t))}allDayEventResizing(t,r,i){let o=this.allDayEventResizes.get(t),s=this.rtl?-1:1;if(typeof r.edges.left<"u"){let a=Math.round(+r.edges.left/i)*s;t.offset=o.originalOffset+a,t.span=o.originalSpan-a}else if(typeof r.edges.right<"u"){let a=Math.round(+r.edges.right/i)*s;t.span=o.originalSpan+a}}allDayEventResizeEnded(t){let r=this.allDayEventResizes.get(t);if(r){let i=r.edge==="left",o;i?o=t.offset-r.originalOffset:o=t.span-r.originalSpan,t.offset=r.originalOffset,t.span=r.originalSpan;let s=this.getAllDayEventResizedDates(t.event,o,i);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:t.event,type:vo.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,r,i){T6(t,r,i,this.calendarId)&&this.lastDragEnterDate.getTime()===r.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:vo.Drop,event:t.dropData.event,newStart:r,allDay:i}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,r,i,o){this.dayColumnWidth=this.getDayColumnWidth(t);let s=new X0(t,r);this.validateDrag=({x:a,y:c,transform:u})=>{let d=this.allDayEventResizes.size===0&&this.timeEventResizes.size===0&&s.validateDrag({x:a,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:u});if(d&&this.validateEventTimesChanged){let f=this.getDragMovedEventTimes(i,{x:a,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:vo.Drag,event:i.event,newStart:f.start,newEnd:f.end})}return d},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(a=>{let c=a.events.find(u=>u.event===i.event&&u!==i);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(t,r){let i=this.getDragMovedEventTimes(t,r,this.dayColumnWidth,!0),o=t.event,s=H(H({},o),i),a=this.events.map(c=>c===o?s:c);this.restoreOriginalEvents(a,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,r,i,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;let{start:s,end:a}=this.getDragMovedEventTimes(t,r,i,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&b6(s,a,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:s,newEnd:a,event:t.event,type:vo.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(H({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},Q0(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(H({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(H({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},Q0(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,r,i,o){let s=lk(r.x,i)/i*(this.rtl?-1:1),a=o?Y0(r.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(gs(this.dateAdapter,t.event.start,s,this.excludeDays),a),u;return t.event.end&&(u=this.dateAdapter.addMinutes(gs(this.dateAdapter,t.event.end,s,this.excludeDays),a)),{start:c,end:u}}restoreOriginalEvents(t,r,i=!0){let o=this.view;i&&(this.view=this.getWeekView(t));let s=t.filter(a=>r.has(a));this.view.hourColumns.forEach((a,c)=>{o.hourColumns[c].hours.forEach((u,d)=>{u.segments.forEach((f,v)=>{a.hours[d].segments[v].cssClass=f.cssClass})}),s.forEach(u=>{let d=r.get(u),f=a.events.find(v=>v.event===(i?u:d));if(f)f.event=d,f.tempEvent=u,i||(f.height=0,f.width=0);else{let v={event:d,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:u};a.events.push(v)}})}),r.clear()}getTimeEventResizedDates(t,r){let i={start:t.start,end:JN(this.dateAdapter,t,this.minimumEventHeight)},u=t,{end:o}=u,s=sd(u,["end"]),a={start:this.dateAdapter.addMinutes(i.end,this.minimumEventHeight*-1),end:JN(this.dateAdapter,s,this.minimumEventHeight)},c=this.rtl?-1:1;if(typeof r.edges.left<"u"){let d=Math.round(+r.edges.left/this.dayColumnWidth)*c,f=gs(this.dateAdapter,i.start,d,this.excludeDays);f<a.start?i.start=f:i.start=a.start}else if(typeof r.edges.right<"u"){let d=Math.round(+r.edges.right/this.dayColumnWidth)*c,f=gs(this.dateAdapter,i.end,d,this.excludeDays);f>a.end?i.end=f:i.end=a.end}if(typeof r.edges.top<"u"){let d=Y0(r.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(i.start,d);f<a.start?i.start=f:i.start=a.start}else if(typeof r.edges.bottom<"u"){let d=Y0(r.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(i.end,d);f>a.end?i.end=f:i.end=a.end}return i}resizeStarted(t,r,i){this.dayColumnWidth=this.getDayColumnWidth(t);let o=new Z0(t,i,this.rtl);this.validateResize=({rectangle:s,edges:a})=>{let c=o.validateResize({rectangle:H({},s),edges:a});if(c&&this.validateEventTimesChanged){let u;if(!i)u=this.getTimeEventResizedDates(r.event,{rectangle:s,edges:a});else{let d=this.rtl?-1:1;if(typeof a.left<"u"){let f=Math.round(+a.left/i)*d;u=this.getAllDayEventResizedDates(r.event,f,!this.rtl)}else{let f=Math.round(+a.right/i)*d;u=this.getAllDayEventResizedDates(r.event,f,this.rtl)}}return this.validateEventTimesChanged({type:vo.Resize,event:r.event,newStart:u.start,newEnd:u.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(t,r,i){let o=t.start,s=t.end||t.start;return i?o=gs(this.dateAdapter,o,r,this.excludeDays):s=gs(this.dateAdapter,s,r,this.excludeDays),{start:o,end:s}}}return n.\u0275fac=function(t){return new(t||n)(O(mr),O(Wp),O(pr),O(bi),O(tt))},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Zt],decls:8,vars:9,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["weekEventTemplate",""],["role","grid",1,"cal-week-view"],[3,"dayHeaderClicked","eventDropped","dragEnter","days","locale","customTemplate"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column"],[4,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag"],[3,"ngTemplateOutlet"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","dragEnter","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel"]],template:function(t,r){if(t&1){let i=Fe();S(0,"div",5)(1,"mwl-calendar-week-view-header",6),re("dayHeaderClicked",function(s){return G(i),K(r.dayHeaderClicked.emit(s))})("eventDropped",function(s){return G(i),K(r.eventDropped({dropData:s},s.newStart,!0))})("dragEnter",function(s){return G(i),K(r.dateDragEnter(s.date))}),x(),Y(2,i6,7,5,"div",7),S(3,"div",8),re("dragEnter",function(){return G(i),K(r.dragEnter("time"))})("dragLeave",function(){return G(i),K(r.dragLeave("time"))}),Y(4,a6,2,2,"div",9),S(5,"div",10,0),Y(7,m6,5,13,"div",11),x()()()}t&2&&(k(),F("days",r.days)("locale",r.locale)("customTemplate",r.headerTemplate),k(),F("ngIf",r.view.allDayEventRows.length>0),k(2),F("ngIf",r.view.hourColumns.length>0&&r.daysInWeek!==1),k(),wt("cal-resize-active",r.timeEventResizes.size>0),k(2),F("ngForOf",r.view.hourColumns)("ngForTrackBy",r.trackByHourColumn))},dependencies:[tn,Kn,st,Yn,G0,XN,Vp,Lp,vs,N6,k6,P6,O6],encapsulation:2}),n})(),J0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mt({type:n}),n.\u0275inj=xt({imports:[Ke,K0,du,pu,K0,du]}),n})(),hk=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new J,this.hourSegmentClicked=new J,this.eventTimesChanged=new J,this.beforeViewRender=new J}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender","daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged"]],template:function(t,r){t&1&&(S(0,"mwl-calendar-week-view",0),re("eventClicked",function(o){return r.eventClicked.emit(o)})("hourSegmentClicked",function(o){return r.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return r.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return r.beforeViewRender.emit(o)}),x()),t&2&&F("daysInWeek",1)("viewDate",r.viewDate)("events",r.events)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("minimumEventHeight",r.minimumEventHeight)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("refresh",r.refresh)("locale",r.locale)("eventSnapSize",r.eventSnapSize)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("resizeCursors",r.resizeCursors)("hourSegmentTemplate",r.hourSegmentTemplate)("eventTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("snapDraggedEvents",r.snapDraggedEvents)("allDayEventsLabelTemplate",r.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",r.currentTimeMarkerTemplate)("validateEventTimesChanged",r.validateEventTimesChanged)},dependencies:[iE],encapsulation:2}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mt({type:n}),n.\u0275inj=xt({imports:[Ke,pu,J0]}),n})(),oE=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||fu,r.dateFormatter||Bp,r.utils||Wp,r.a11y||Up]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mt({type:n}),n.\u0275inj=xt({imports:[pu,ek,J0,tk,pu,ek,J0,tk]}),n})();var V6=Math.pow(10,8)*24*60*60*1e3,Roe=-V6,fk=6048e5,pk=864e5,qp=6e4,mk=36e5;var L6=3600;var gk=L6*24,Noe=gk*7,j6=gk*365.2425,U6=j6/12,koe=U6*3,sE=Symbol.for("constructDateFrom");function Je(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&sE in n?n[sE](e):n instanceof Date?new n.constructor(e):new Date(e)}function oe(n,e){return Je(e||n,n)}function Ya(n,e,t){let r=oe(n,t?.in);return isNaN(e)?Je(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Qa(n,e,t){let r=oe(n,t?.in);if(isNaN(e))return Je(t?.in||n,NaN);if(!e)return r;let i=r.getDate(),o=Je(t?.in||n,r.getTime());o.setMonth(r.getMonth()+e+1,0);let s=o.getDate();return i>=s?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function Gp(n,e,t){return Je(t?.in||n,+oe(n)+e)}function vk(n,e,t){return Gp(n,e*mk,t)}var B6={};function Kp(){return B6}function Yp(n,e){let t=Kp(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=oe(n,e?.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function _s(n,e){return Yp(n,ve(H({},e),{weekStartsOn:1}))}function yk(n,e){let t=oe(n,e?.in),r=t.getFullYear(),i=Je(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let o=_s(i),s=Je(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let a=_s(s);return t.getTime()>=o.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function aE(n){let e=oe(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function yo(n,...e){let t=Je.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function _o(n,e){let t=oe(n,e?.in);return t.setHours(0,0,0,0),t}function _k(n,e,t){let[r,i]=yo(t?.in,n,e),o=_o(r),s=_o(i),a=+o-aE(o),c=+s-aE(s);return Math.round((a-c)/pk)}function wk(n,e){let t=yk(n,e),r=Je(e?.in||n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_s(r)}function Ek(n,e,t){let r=oe(n,t?.in);return r.setTime(r.getTime()+e*qp),r}function Ik(n,e,t){return Gp(n,e*1e3,t)}function Qp(n,e,t){return Ya(n,e*7,t)}function Dk(n,e){let t,r=e?.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Je.bind(null,i));let o=oe(i,r);(!t||t<o||isNaN(+o))&&(t=o)}),Je(r,t||NaN)}function Ck(n,e,t){let[r,i]=yo(t?.in,n,e);return+_o(r)==+_o(i)}function Tk(n,e,t){let[r,i]=yo(t?.in,n,e),o=bk(r,i),s=Math.abs(_k(r,i));r.setDate(r.getDate()-o*s);let a=+(bk(r,i)===-o),c=o*(s-a);return c===0?0:c}function bk(n,e){let t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Xp(n){return e=>{let r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function Zp(n,e){return+oe(n)-+oe(e)}function Sk(n,e,t){let r=Zp(n,e)/qp;return Xp(t?.roundingMethod)(r)}function Ak(n,e){let t=oe(n,e?.in);return t.setHours(23,59,59,999),t}function xk(n,e){let t=oe(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Mk(n,e,t){let r=Zp(n,e)/1e3;return Xp(t?.roundingMethod)(r)}function Rk(n,e){let t=oe(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Nk(n,e){let t=Kp(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=oe(n,e?.in),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function kk(n,e){let t=oe(n,e?.in),r=+_s(t)-+wk(t);return Math.round(r/fk)+1}function Pk(n,e){return oe(n,e?.in).getDate()}function Ok(n,e){return oe(n,e?.in).getDay()}function Fk(n,e){let t=oe(n,e?.in),r=t.getFullYear(),i=t.getMonth(),o=Je(t,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function Vk(n,e){return oe(n,e?.in).getHours()}function Lk(n,e){return oe(n,e?.in).getMinutes()}function jk(n,e){return oe(n,e?.in).getMonth()}function Uk(n,e){return oe(n,e?.in).getFullYear()}function Bk(n,e){let t=oe(n,e?.in);return t.setSeconds(0,0),t}function Hk(n,e,t){let[r,i]=yo(t?.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function cE(n,e){let t=oe(n,e?.in);return t.setMilliseconds(0),t}function $k(n,e){return+cE(n)==+cE(e)}function zk(n,e,t){return Ya(n,-e,t)}function Wk(n,e,t){let r=oe(n,t?.in),i=r.getFullYear(),o=r.getDate(),s=Je(t?.in||n,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);let a=Fk(s);return r.setMonth(e,Math.min(o,a)),r}function qk(n,e,t){let r=oe(n,t?.in);return r.setDate(e),r}function Gk(n,e,t){let r=oe(n,t?.in);return r.setHours(e),r}function Kk(n,e,t){let r=oe(n,t?.in);return r.setMinutes(e),r}function Yk(n,e,t){let r=oe(n,t?.in);return isNaN(+r)?Je(t?.in||n,NaN):(r.setFullYear(e),r)}function Jp(n,e,t){return Qa(n,-e,t)}function Qk(n,e,t){return Qp(n,-e,t)}function H6(n){return new Date(n).getTimezoneOffset()}function Xk(){return{addDays:Ya,addHours:vk,addMinutes:Ek,addSeconds:Ik,differenceInDays:Tk,differenceInMinutes:Sk,differenceInSeconds:Mk,endOfDay:Ak,endOfMonth:xk,endOfWeek:Nk,getDay:Ok,getMonth:jk,isSameDay:Ck,isSameMonth:Hk,isSameSecond:$k,max:Dk,setHours:Gk,setMinutes:Kk,startOfDay:_o,startOfMinute:Bk,startOfMonth:Rk,startOfWeek:Yp,getHours:Vk,getMinutes:Lk,getTimezoneOffset:H6}}function Zk(){return $c($c({},Xk()),{addWeeks:Qp,addMonths:Qa,subDays:zk,subWeeks:Qk,subMonths:Jp,getISOWeek:kk,setDate:qk,setMonth:Wk,setYear:Yk,getDate:Pk,getYear:Uk})}var Jk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mt({type:n});static \u0275inj=xt({imports:[Ke,oE.forRoot({provide:bi,useFactory:Zk}),oE]})}return n})();var eP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tP={};var wo,lE;(function(){var n;function e(T,y){function _(){}_.prototype=y.prototype,T.D=y.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(b,E,C){for(var I=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)I[Ae-2]=arguments[Ae];return y.prototype[E].apply(b,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,_){_||(_=0);var b=Array(16);if(typeof y=="string")for(var E=0;16>E;++E)b[E]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(E=0;16>E;++E)b[E]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=T.g[0],_=T.g[1],E=T.g[2];var C=T.g[3],I=y+(C^_&(E^C))+b[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=C+(E^y&(_^E))+b[1]+3905402710&4294967295,C=y+(I<<12&4294967295|I>>>20),I=E+(_^C&(y^_))+b[2]+606105819&4294967295,E=C+(I<<17&4294967295|I>>>15),I=_+(y^E&(C^y))+b[3]+3250441966&4294967295,_=E+(I<<22&4294967295|I>>>10),I=y+(C^_&(E^C))+b[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(E^y&(_^E))+b[5]+1200080426&4294967295,C=y+(I<<12&4294967295|I>>>20),I=E+(_^C&(y^_))+b[6]+2821735955&4294967295,E=C+(I<<17&4294967295|I>>>15),I=_+(y^E&(C^y))+b[7]+4249261313&4294967295,_=E+(I<<22&4294967295|I>>>10),I=y+(C^_&(E^C))+b[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(E^y&(_^E))+b[9]+2336552879&4294967295,C=y+(I<<12&4294967295|I>>>20),I=E+(_^C&(y^_))+b[10]+4294925233&4294967295,E=C+(I<<17&4294967295|I>>>15),I=_+(y^E&(C^y))+b[11]+2304563134&4294967295,_=E+(I<<22&4294967295|I>>>10),I=y+(C^_&(E^C))+b[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=C+(E^y&(_^E))+b[13]+4254626195&4294967295,C=y+(I<<12&4294967295|I>>>20),I=E+(_^C&(y^_))+b[14]+2792965006&4294967295,E=C+(I<<17&4294967295|I>>>15),I=_+(y^E&(C^y))+b[15]+1236535329&4294967295,_=E+(I<<22&4294967295|I>>>10),I=y+(E^C&(_^E))+b[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^E&(y^_))+b[6]+3225465664&4294967295,C=y+(I<<9&4294967295|I>>>23),I=E+(y^_&(C^y))+b[11]+643717713&4294967295,E=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(E^C))+b[0]+3921069994&4294967295,_=E+(I<<20&4294967295|I>>>12),I=y+(E^C&(_^E))+b[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^E&(y^_))+b[10]+38016083&4294967295,C=y+(I<<9&4294967295|I>>>23),I=E+(y^_&(C^y))+b[15]+3634488961&4294967295,E=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(E^C))+b[4]+3889429448&4294967295,_=E+(I<<20&4294967295|I>>>12),I=y+(E^C&(_^E))+b[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^E&(y^_))+b[14]+3275163606&4294967295,C=y+(I<<9&4294967295|I>>>23),I=E+(y^_&(C^y))+b[3]+4107603335&4294967295,E=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(E^C))+b[8]+1163531501&4294967295,_=E+(I<<20&4294967295|I>>>12),I=y+(E^C&(_^E))+b[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=C+(_^E&(y^_))+b[2]+4243563512&4294967295,C=y+(I<<9&4294967295|I>>>23),I=E+(y^_&(C^y))+b[7]+1735328473&4294967295,E=C+(I<<14&4294967295|I>>>18),I=_+(C^y&(E^C))+b[12]+2368359562&4294967295,_=E+(I<<20&4294967295|I>>>12),I=y+(_^E^C)+b[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^E)+b[8]+2272392833&4294967295,C=y+(I<<11&4294967295|I>>>21),I=E+(C^y^_)+b[11]+1839030562&4294967295,E=C+(I<<16&4294967295|I>>>16),I=_+(E^C^y)+b[14]+4259657740&4294967295,_=E+(I<<23&4294967295|I>>>9),I=y+(_^E^C)+b[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^E)+b[4]+1272893353&4294967295,C=y+(I<<11&4294967295|I>>>21),I=E+(C^y^_)+b[7]+4139469664&4294967295,E=C+(I<<16&4294967295|I>>>16),I=_+(E^C^y)+b[10]+3200236656&4294967295,_=E+(I<<23&4294967295|I>>>9),I=y+(_^E^C)+b[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^E)+b[0]+3936430074&4294967295,C=y+(I<<11&4294967295|I>>>21),I=E+(C^y^_)+b[3]+3572445317&4294967295,E=C+(I<<16&4294967295|I>>>16),I=_+(E^C^y)+b[6]+76029189&4294967295,_=E+(I<<23&4294967295|I>>>9),I=y+(_^E^C)+b[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=C+(y^_^E)+b[12]+3873151461&4294967295,C=y+(I<<11&4294967295|I>>>21),I=E+(C^y^_)+b[15]+530742520&4294967295,E=C+(I<<16&4294967295|I>>>16),I=_+(E^C^y)+b[2]+3299628645&4294967295,_=E+(I<<23&4294967295|I>>>9),I=y+(E^(_|~C))+b[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~E))+b[7]+1126891415&4294967295,C=y+(I<<10&4294967295|I>>>22),I=E+(y^(C|~_))+b[14]+2878612391&4294967295,E=C+(I<<15&4294967295|I>>>17),I=_+(C^(E|~y))+b[5]+4237533241&4294967295,_=E+(I<<21&4294967295|I>>>11),I=y+(E^(_|~C))+b[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~E))+b[3]+2399980690&4294967295,C=y+(I<<10&4294967295|I>>>22),I=E+(y^(C|~_))+b[10]+4293915773&4294967295,E=C+(I<<15&4294967295|I>>>17),I=_+(C^(E|~y))+b[1]+2240044497&4294967295,_=E+(I<<21&4294967295|I>>>11),I=y+(E^(_|~C))+b[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~E))+b[15]+4264355552&4294967295,C=y+(I<<10&4294967295|I>>>22),I=E+(y^(C|~_))+b[6]+2734768916&4294967295,E=C+(I<<15&4294967295|I>>>17),I=_+(C^(E|~y))+b[13]+1309151649&4294967295,_=E+(I<<21&4294967295|I>>>11),I=y+(E^(_|~C))+b[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=C+(_^(y|~E))+b[11]+3174756917&4294967295,C=y+(I<<10&4294967295|I>>>22),I=E+(y^(C|~_))+b[2]+718787259&4294967295,E=C+(I<<15&4294967295|I>>>17),I=_+(C^(E|~y))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(E+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var _=y-this.blockSize,b=this.B,E=this.h,C=0;C<y;){if(E==0)for(;C<=_;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<y;)if(b[E++]=T.charCodeAt(C++),E==this.blockSize){i(this,b),E=0;break}}else for(;C<y;)if(b[E++]=T[C++],E==this.blockSize){i(this,b),E=0;break}}this.h=E,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var _=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=_&255,_/=256;for(this.u(T),T=Array(16),y=_=0;4>y;++y)for(var b=0;32>b;b+=8)T[_++]=this.g[y]>>>b&255;return T};function o(T,y){var _=a;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=y(T)}function s(T,y){this.h=y;for(var _=[],b=!0,E=T.length-1;0<=E;E--){var C=T[E]|0;b&&C==y||(_[E]=C,b=!1)}this.g=_}var a={};function c(T){return-128<=T&&128>T?o(T,function(y){return new s([y|0],0>y?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return A(u(-T));for(var y=[],_=1,b=0;T>=_;b++)y[b]=T/_|0,_*=4294967296;return new s(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return A(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(y,8)),b=f,E=0;E<T.length;E+=8){var C=Math.min(8,T.length-E),I=parseInt(T.substring(E,E+C),y);8>C?(C=u(Math.pow(y,C)),b=b.j(C).add(u(I))):(b=b.j(_),b=b.add(u(I)))}return b}var f=c(0),v=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(R(this))return-A(this).m();for(var T=0,y=1,_=0;_<this.g.length;_++){var b=this.i(_);T+=(0<=b?b:4294967296+b)*y,y*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D(this))return"0";if(R(this))return"-"+A(this).toString(T);for(var y=u(Math.pow(T,6)),_=this,b="";;){var E=W(_,y).g;_=P(_,E.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=E,D(_))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function D(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function R(T){return T.h==-1}n.l=function(T){return T=P(this,T),R(T)?-1:D(T)?0:1};function A(T){for(var y=T.g.length,_=[],b=0;b<y;b++)_[b]=~T.g[b];return new s(_,~T.h).add(v)}n.abs=function(){return R(this)?A(this):this},n.add=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0,E=0;E<=y;E++){var C=b+(this.i(E)&65535)+(T.i(E)&65535),I=(C>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);b=I>>>16,C&=65535,I&=65535,_[E]=I<<16|C}return new s(_,_[_.length-1]&-2147483648?-1:0)};function P(T,y){return T.add(A(y))}n.j=function(T){if(D(this)||D(T))return f;if(R(this))return R(T)?A(this).j(A(T)):A(A(this).j(T));if(R(T))return A(this.j(A(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var y=this.g.length+T.g.length,_=[],b=0;b<2*y;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var E=0;E<T.g.length;E++){var C=this.i(b)>>>16,I=this.i(b)&65535,Ae=T.i(E)>>>16,Xr=T.i(E)&65535;_[2*b+2*E]+=I*Xr,U(_,2*b+2*E),_[2*b+2*E+1]+=C*Xr,U(_,2*b+2*E+1),_[2*b+2*E+1]+=I*Ae,U(_,2*b+2*E+1),_[2*b+2*E+2]+=C*Ae,U(_,2*b+2*E+2)}for(b=0;b<y;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=y;b<2*y;b++)_[b]=0;return new s(_,0)};function U(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function B(T,y){this.g=T,this.h=y}function W(T,y){if(D(y))throw Error("division by zero");if(D(T))return new B(f,f);if(R(T))return y=W(A(T),y),new B(A(y.g),A(y.h));if(R(y))return y=W(T,A(y)),new B(A(y.g),y.h);if(30<T.g.length){if(R(T)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var _=v,b=y;0>=b.l(T);)_=ie(_),b=ie(b);var E=Q(_,1),C=Q(b,1);for(b=Q(b,2),_=Q(_,2);!D(b);){var I=C.add(b);0>=I.l(T)&&(E=E.add(_),C=I),b=Q(b,1),_=Q(_,1)}return y=P(T,E.j(y)),new B(E,y)}for(E=f;0<=T.l(y);){for(_=Math.max(1,Math.floor(T.m()/y.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=u(_),I=C.j(y);R(I)||0<I.l(T);)_-=b,C=u(_),I=C.j(y);D(C)&&(C=v),E=E.add(C),T=P(T,I)}return new B(E,T)}n.A=function(T){return W(this,T).h},n.and=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)&T.i(b);return new s(_,this.h&T.h)},n.or=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)|T.i(b);return new s(_,this.h|T.h)},n.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)^T.i(b);return new s(_,this.h^T.h)};function ie(T){for(var y=T.g.length+1,_=[],b=0;b<y;b++)_[b]=T.i(b)<<1|T.i(b-1)>>>31;return new s(_,T.h)}function Q(T,y){var _=y>>5;y%=32;for(var b=T.g.length-_,E=[],C=0;C<b;C++)E[C]=0<y?T.i(C+_)>>>y|T.i(C+_+1)<<32-y:T.i(C+_);return new s(E,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lE=tP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,wo=tP.Integer=s}).apply(typeof eP<"u"?eP:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ti={};var uE,$6,Xa,dE,mu,tm,hE,fE,pE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var M=l[g];if(!(M in p))break e;p=p[M]}l=l[l.length-1],g=p[l],h=h(g),h!=g&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,g=!1,M={next:function(){if(!g&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,g),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function v(l,h,p){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,v.apply(null,arguments)}function m(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function D(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,M,N){for(var q=Array(arguments.length-2),He=2;He<arguments.length;He++)q[He-2]=arguments[He];return h.prototype[M].apply(g,q)}}function R(l){let h=l.length;if(0<h){let p=Array(h);for(let g=0;g<h;g++)p[g]=l[g];return p}return[]}function A(l,h){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let M=l.length||0,N=g.length||0;l.length=M+N;for(let q=0;q<N;q++)l[M+q]=g[q]}else l.push(g)}}class P{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function U(l){return/^[\s\xa0]*$/.test(l)}function B(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function W(l){return W[" "](l),l}W[" "]=function(){};var ie=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Q(l,h,p){for(let g in l)h.call(p,l[g],g,l)}function T(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function y(l){let h={};for(let p in l)h[p]=l[p];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,h){let p,g;for(let M=1;M<arguments.length;M++){g=arguments[M];for(p in g)l[p]=g[p];for(let N=0;N<_.length;N++)p=_[N],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function E(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function C(l){a.setTimeout(()=>{throw l},0)}function I(){var l=yt;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Ae{constructor(){this.h=this.g=null}add(h,p){let g=Xr.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Xr=new P(()=>new wc,l=>l.reset());class wc{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let br,Zr=!1,yt=new Ae,Jr=()=>{let l=a.Promise.resolve(void 0);br=()=>{l.then(In)}};var In=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){C(p)}var h=Xr;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Zr=!1};function Fn(){this.s=this.s,this.C=this.C}Fn.prototype.s=!1,Fn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ot(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var Ec=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Ni(l,h){if(Ot.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ie){e:{try{W(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Km[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ni.aa.h.call(this)}}D(Ni,Ot);var Km={2:"touch",3:"pen",4:"mouse"};Ni.prototype.h=function(){Ni.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),pO=0;function mO(l,h,p,g,M){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=M,this.key=++pO,this.da=this.fa=!1}function Hu(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $u(l){this.src=l,this.g={},this.h=0}$u.prototype.add=function(l,h,p,g,M){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var q=Qm(l,h,g,M);return-1<q?(h=l[q],p||(h.fa=!1)):(h=new mO(h,this.src,N,!!g,M),h.fa=p,l.push(h)),h};function Ym(l,h){var p=h.type;if(p in l.g){var g=l.g[p],M=Array.prototype.indexOf.call(g,h,void 0),N;(N=0<=M)&&Array.prototype.splice.call(g,M,1),N&&(Hu(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Qm(l,h,p,g){for(var M=0;M<l.length;++M){var N=l[M];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==g)return M}return-1}var Xm="closure_lm_"+(1e6*Math.random()|0),Zm={};function CD(l,h,p,g,M){if(g&&g.once)return TD(l,h,p,g,M);if(Array.isArray(h)){for(var N=0;N<h.length;N++)CD(l,h[N],p,g,M);return null}return p=ng(p),l&&l[Ic]?l.K(h,p,u(g)?!!g.capture:!!g,M):bD(l,h,p,!1,g,M)}function bD(l,h,p,g,M,N){if(!h)throw Error("Invalid event type");var q=u(M)?!!M.capture:!!M,He=eg(l);if(He||(l[Xm]=He=new $u(l)),p=He.add(h,p,g,q,N),p.proxy)return p;if(g=gO(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)Ec||(M=q),M===void 0&&(M=!1),l.addEventListener(h.toString(),g,M);else if(l.attachEvent)l.attachEvent(AD(h.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gO(){function l(p){return h.call(l.src,l.listener,p)}let h=vO;return l}function TD(l,h,p,g,M){if(Array.isArray(h)){for(var N=0;N<h.length;N++)TD(l,h[N],p,g,M);return null}return p=ng(p),l&&l[Ic]?l.L(h,p,u(g)?!!g.capture:!!g,M):bD(l,h,p,!0,g,M)}function SD(l,h,p,g,M){if(Array.isArray(h))for(var N=0;N<h.length;N++)SD(l,h[N],p,g,M);else g=u(g)?!!g.capture:!!g,p=ng(p),l&&l[Ic]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=Qm(N,p,g,M),-1<p&&(Hu(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=eg(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Qm(h,p,g,M)),(p=-1<l?h[l]:null)&&Jm(p))}function Jm(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Ic])Ym(h.i,l);else{var p=l.type,g=l.proxy;h.removeEventListener?h.removeEventListener(p,g,l.capture):h.detachEvent?h.detachEvent(AD(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=eg(h))?(Ym(p,l),p.h==0&&(p.src=null,h[Xm]=null)):Hu(l)}}}function AD(l){return l in Zm?Zm[l]:Zm[l]="on"+l}function vO(l,h){if(l.da)l=!0;else{h=new Ni(h,this);var p=l.listener,g=l.ha||l.src;l.fa&&Jm(l),l=p.call(g,h)}return l}function eg(l){return l=l[Xm],l instanceof $u?l:null}var tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ng(l){return typeof l=="function"?l:(l[tg]||(l[tg]=function(h){return l.handleEvent(h)}),l[tg])}function qt(){Fn.call(this),this.i=new $u(this),this.M=this,this.F=null}D(qt,Fn),qt.prototype[Ic]=!0,qt.prototype.removeEventListener=function(l,h,p,g){SD(this,l,h,p,g)};function sn(l,h){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=h.type||h,typeof h=="string")h=new Ot(h,l);else if(h instanceof Ot)h.target=h.target||l;else{var M=h;h=new Ot(g,l),b(h,M)}if(M=!0,p)for(var N=p.length-1;0<=N;N--){var q=h.g=p[N];M=zu(q,g,!0,h)&&M}if(q=h.g=l,M=zu(q,g,!0,h)&&M,M=zu(q,g,!1,h)&&M,p)for(N=0;N<p.length;N++)q=h.g=p[N],M=zu(q,g,!1,h)&&M}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],g=0;g<p.length;g++)Hu(p[g]);delete l.g[h],l.h--}}this.F=null},qt.prototype.K=function(l,h,p,g){return this.i.add(String(l),h,!1,p,g)},qt.prototype.L=function(l,h,p,g){return this.i.add(String(l),h,!0,p,g)};function zu(l,h,p,g){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,N=0;N<h.length;++N){var q=h[N];if(q&&!q.da&&q.capture==p){var He=q.listener,Bt=q.ha||q.src;q.fa&&Ym(l.i,q),M=He.call(Bt,g)!==!1&&M}}return M&&!g.defaultPrevented}function xD(l,h,p){if(typeof l=="function")p&&(l=v(l,p));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function MD(l){l.g=xD(()=>{l.g=null,l.i&&(l.i=!1,MD(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class yO extends Fn{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:MD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dc(l){Fn.call(this),this.h=l,this.g={}}D(Dc,Fn);var RD=[];function ND(l){Q(l.g,function(h,p){this.g.hasOwnProperty(p)&&Jm(h)},l),l.g={}}Dc.prototype.N=function(){Dc.aa.N.call(this),ND(this)},Dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rg=a.JSON.stringify,_O=a.JSON.parse,wO=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ig(){}ig.prototype.h=null;function kD(l){return l.h||(l.h=l.i())}function PD(){}var Cc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function og(){Ot.call(this,"d")}D(og,Ot);function sg(){Ot.call(this,"c")}D(sg,Ot);var To={},OD=null;function Wu(){return OD=OD||new qt}To.La="serverreachability";function FD(l){Ot.call(this,To.La,l)}D(FD,Ot);function bc(l){let h=Wu();sn(h,new FD(h))}To.STAT_EVENT="statevent";function VD(l,h){Ot.call(this,To.STAT_EVENT,l),this.stat=h}D(VD,Ot);function an(l){let h=Wu();sn(h,new VD(h,l))}To.Ma="timingevent";function LD(l,h){Ot.call(this,To.Ma,l),this.size=h}D(LD,Ot);function Tc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Sc(){this.g=!0}Sc.prototype.xa=function(){this.g=!1};function EO(l,h,p,g,M,N){l.info(function(){if(l.g)if(N)for(var q="",He=N.split("&"),Bt=0;Bt<He.length;Bt++){var Oe=He[Bt].split("=");if(1<Oe.length){var Gt=Oe[0];Oe=Oe[1];var Kt=Gt.split("_");q=2<=Kt.length&&Kt[1]=="type"?q+(Gt+"="+Oe+"&"):q+(Gt+"=redacted&")}}else q=null;else q=N;return"XMLHTTP REQ ("+g+") [attempt "+M+"]: "+h+`
`+p+`
`+q})}function IO(l,h,p,g,M,N,q){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+M+"]: "+h+`
`+p+`
`+N+" "+q})}function Ps(l,h,p,g){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+CO(l,p)+(g?" "+g:"")})}function DO(l,h){l.info(function(){return"TIMEOUT: "+h})}Sc.prototype.info=function(){};function CO(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var M=g[1];if(Array.isArray(M)&&!(1>M.length)){var N=M[0];if(N!="noop"&&N!="stop"&&N!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return rg(p)}catch{return h}}var qu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ag;function Gu(){}D(Gu,ig),Gu.prototype.g=function(){return new XMLHttpRequest},Gu.prototype.i=function(){return{}},ag=new Gu;function ki(l,h,p,g){this.j=l,this.i=h,this.l=p,this.R=g||1,this.U=new Dc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new UD}function UD(){this.i=null,this.g="",this.h=!1}var BD={},cg={};function lg(l,h,p){l.L=1,l.v=Xu(ei(h)),l.m=p,l.P=!0,HD(l,null)}function HD(l,h){l.F=Date.now(),Ku(l),l.A=ei(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),nC(p.i,"t",g),l.C=0,p=l.j.J,l.h=new UD,l.g=wC(l.j,p?h:null,!l.m),0<l.O&&(l.M=new yO(v(l.Y,l,l.g),l.O)),h=l.U,p=l.g,g=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(RD[0]=M.toString()),M=RD);for(var N=0;N<M.length;N++){var q=CD(p,M[N],g||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),bc(),EO(l.i,l.u,l.A,l.l,l.R,l.m)}ki.prototype.ca=function(l){l=l.target;let h=this.M;h&&ti(l)==3?h.j():this.Y(l)},ki.prototype.Y=function(l){try{if(l==this.g)e:{let Kt=ti(this.g);var h=this.g.Ba();let Vs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||lC(this.g)))){this.J||Kt!=4||h==7||(h==8||0>=Vs?bc(3):bc(2)),ug(this);var p=this.g.Z();this.X=p;t:if($D(this)){var g=lC(this.g);l="";var M=g.length,N=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){So(this),Ac(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(g[h],{stream:!(N&&h==M-1)});g.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,IO(this.i,this.u,this.A,this.l,this.R,Kt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Bt=this.g;if((He=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(He)){var Oe=He;break t}}Oe=null}if(p=Oe)Ps(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dg(this,p);else{this.o=!1,this.s=3,an(12),So(this),Ac(this);break e}}if(this.P){p=!0;let nr;for(;!this.J&&this.C<q.length;)if(nr=bO(this,q),nr==cg){Kt==4&&(this.s=4,an(14),p=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==BD){this.s=4,an(15),Ps(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else Ps(this.i,this.l,nr,null),dg(this,nr);if($D(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||q.length!=0||this.h.h||(this.s=1,an(16),p=!1),this.o=this.o&&p,!p)Ps(this.i,this.l,q,"[Invalid Chunked Response]"),So(this),Ac(this);else if(0<q.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),vg(Gt),Gt.M=!0,an(11))}}else Ps(this.i,this.l,q,null),dg(this,q);Kt==4&&So(this),this.o&&!this.J&&(Kt==4?gC(this.j,this):(this.o=!1,Ku(this)))}else HO(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),So(this),Ac(this)}}}catch{}finally{}};function $D(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function bO(l,h){var p=l.C,g=h.indexOf(`
`,p);return g==-1?cg:(p=Number(h.substring(p,g)),isNaN(p)?BD:(g+=1,g+p>h.length?cg:(h=h.slice(g,g+p),l.C=g+p,h)))}ki.prototype.cancel=function(){this.J=!0,So(this)};function Ku(l){l.S=Date.now()+l.I,zD(l,l.I)}function zD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tc(v(l.ba,l),h)}function ug(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ki.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(DO(this.i,this.A),this.L!=2&&(bc(),an(17)),So(this),this.s=2,Ac(this)):zD(this,this.S-l)};function Ac(l){l.j.G==0||l.J||gC(l.j,l)}function So(l){ug(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,ND(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function dg(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||hg(p.h,l))){if(!l.K&&hg(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var M=g;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)nd(p),ed(p);else break e;gg(p),an(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=Tc(v(p.Za,p),6e3));if(1>=GD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else xo(p,11)}else if((l.K||p.g==l)&&nd(p),!U(h))for(M=p.Da.g.parse(h),h=0;h<M.length;h++){let Oe=M[h];if(p.T=Oe[0],Oe=Oe[1],p.G==2)if(Oe[0]=="c"){p.K=Oe[1],p.ia=Oe[2];let Gt=Oe[3];Gt!=null&&(p.la=Gt,p.j.info("VER="+p.la));let Kt=Oe[4];Kt!=null&&(p.Aa=Kt,p.j.info("SVER="+p.Aa));let Vs=Oe[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(g=1.5*Vs,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let nr=l.g;if(nr){let id=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(id){var N=g.h;N.g||id.indexOf("spdy")==-1&&id.indexOf("quic")==-1&&id.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(fg(N,N.h),N.h=null))}if(g.D){let yg=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;yg&&(g.ya=yg,Ye(g.I,g.D,yg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var q=l;if(g.qa=_C(g,g.J?g.ia:null,g.W),q.K){KD(g.h,q);var He=q,Bt=g.L;Bt&&(He.I=Bt),He.B&&(ug(He),Ku(He)),g.g=q}else pC(g);0<p.i.length&&td(p)}else Oe[0]!="stop"&&Oe[0]!="close"||xo(p,7);else p.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?xo(p,7):mg(p):Oe[0]!="noop"&&p.l&&p.l.ta(Oe),p.v=0)}}bc(4)}catch{}}var TO=class{constructor(l,h){this.g=l,this.map=h}};function WD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function GD(l){return l.h?1:l.g?l.g.size:0}function hg(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function fg(l,h){l.g?l.g.add(h):l.h=h}function KD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}WD.prototype.cancel=function(){if(this.i=YD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function YD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return R(l.i)}function SO(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,g=0;g<p;g++)h.push(l[g]);return h}h=[],p=0;for(g in l)h[p++]=l[g];return h}function AO(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let g in l)h[p++]=g;return h}}}function QD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=AO(l),g=SO(l),M=g.length,N=0;N<M;N++)h.call(void 0,g[N],p&&p[N],l)}var XD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xO(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),M=null;if(0<=g){var N=l[p].substring(0,g);M=l[p].substring(g+1)}else N=l[p];h(N,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ao(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ao){this.h=l.h,Yu(this,l.j),this.o=l.o,this.g=l.g,Qu(this,l.s),this.l=l.l;var h=l.i,p=new Rc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),ZD(this,p),this.m=l.m}else l&&(h=String(l).match(XD))?(this.h=!1,Yu(this,h[1]||"",!0),this.o=xc(h[2]||""),this.g=xc(h[3]||"",!0),Qu(this,h[4]),this.l=xc(h[5]||"",!0),ZD(this,h[6]||"",!0),this.m=xc(h[7]||"")):(this.h=!1,this.i=new Rc(null,this.h))}Ao.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Mc(h,JD,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Mc(h,JD,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Mc(p,p.charAt(0)=="/"?NO:RO,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Mc(p,PO)),l.join("")};function ei(l){return new Ao(l)}function Yu(l,h,p){l.j=p?xc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Qu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function ZD(l,h,p){h instanceof Rc?(l.i=h,OO(l.i,l.h)):(p||(h=Mc(h,kO)),l.i=new Rc(h,l.h))}function Ye(l,h,p){l.i.set(h,p)}function Xu(l){return Ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,MO),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function MO(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var JD=/[#\/\?@]/g,RO=/[#\?:]/g,NO=/[#\?]/g,kO=/[#\?@]/g,PO=/#/g;function Rc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Pi(l){l.g||(l.g=new Map,l.h=0,l.i&&xO(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Rc.prototype,n.add=function(l,h){Pi(this),this.i=null,l=Os(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function eC(l,h){Pi(l),h=Os(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function tC(l,h){return Pi(l),h=Os(l,h),l.g.has(h)}n.forEach=function(l,h){Pi(this),this.g.forEach(function(p,g){p.forEach(function(M){l.call(h,M,g,this)},this)},this)},n.na=function(){Pi(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){let M=l[g];for(let N=0;N<M.length;N++)p.push(h[g])}return p},n.V=function(l){Pi(this);let h=[];if(typeof l=="string")tC(this,l)&&(h=h.concat(this.g.get(Os(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return Pi(this),this.i=null,l=Os(this,l),tC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function nC(l,h,p){eC(l,h),0<p.length&&(l.i=null,l.g.set(Os(l,h),R(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];let N=encodeURIComponent(String(g)),q=this.V(g);for(g=0;g<q.length;g++){var M=N;q[g]!==""&&(M+="="+encodeURIComponent(String(q[g]))),l.push(M)}}return this.i=l.join("&")};function Os(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function OO(l,h){h&&!l.j&&(Pi(l),l.i=null,l.g.forEach(function(p,g){var M=g.toLowerCase();g!=M&&(eC(this,g),nC(this,M,p))},l)),l.j=h}function FO(l,h){let p=new Sc;if(a.Image){let g=new Image;g.onload=m(Oi,p,"TestLoadImage: loaded",!0,h,g),g.onerror=m(Oi,p,"TestLoadImage: error",!1,h,g),g.onabort=m(Oi,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=m(Oi,p,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else h(!1)}function VO(l,h){let p=new Sc,g=new AbortController,M=setTimeout(()=>{g.abort(),Oi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:g.signal}).then(N=>{clearTimeout(M),N.ok?Oi(p,"TestPingServer: ok",!0,h):Oi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Oi(p,"TestPingServer: error",!1,h)})}function Oi(l,h,p,g,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),g(p)}catch{}}function LO(){this.g=new wO}function jO(l,h,p){let g=p||"";try{QD(l,function(M,N){let q=M;u(M)&&(q=rg(M)),h.push(g+N+"="+encodeURIComponent(q))})}catch(M){throw h.push(g+"type="+encodeURIComponent("_badmap")),M}}function Nc(l){this.l=l.Ub||null,this.j=l.eb||!1}D(Nc,ig),Nc.prototype.g=function(){return new Zu(this.l,this.j)},Nc.prototype.i=function(l){return function(){return l}}({});function Zu(l,h){qt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Zu,qt),n=Zu.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Pc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pc(this)),this.g&&(this.readyState=3,Pc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function rC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?kc(this):Pc(this),this.readyState==3&&rC(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,kc(this))},n.Qa=function(l){this.g&&(this.response=l,kc(this))},n.ga=function(){this.g&&kc(this)};function kc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pc(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Pc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function iC(l){let h="";return Q(l,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function pg(l,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=iC(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ye(l,h,p))}function ct(l){qt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ct,qt);var UO=/^https?$/i,BO=["POST","PUT"];n=ct.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ag.g(),this.v=this.o?kD(this.o):kD(ag),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){oC(this,N);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var M in g)p.set(M,g[M]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())p.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BO,h,void 0))||g||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,q]of p)this.g.setRequestHeader(N,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cC(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){oC(this,N)}};function oC(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,sC(l),Ju(l)}function sC(l){l.A||(l.A=!0,sn(l,"complete"),sn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,sn(this,"complete"),sn(this,"abort"),Ju(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ju(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?aC(this):this.bb())},n.bb=function(){aC(this)};function aC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ti(l)!=4||l.Z()!=2)){if(l.u&&ti(l)==4)xD(l.Ea,0,l);else if(sn(l,"readystatechange"),ti(l)==4){l.h=!1;try{let q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=q===0){var M=String(l.D).match(XD)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),g=!UO.test(M?M.toLowerCase():"")}p=g}if(p)sn(l,"complete"),sn(l,"success");else{l.m=6;try{var N=2<ti(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",sC(l)}}finally{Ju(l)}}}}function Ju(l,h){if(l.g){cC(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||sn(l,"ready");try{p.onreadystatechange=g}catch{}}}function cC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ti(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),_O(h)}};function lC(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function HO(l){let h={};l=(l.g&&2<=ti(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(U(l[g]))continue;var p=E(l[g]);let M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[M]||[];h[M]=N,N.push(p)}T(h,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oc(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function uC(l){this.Aa=0,this.i=[],this.j=new Sc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oc("baseRetryDelayMs",5e3,l),this.cb=Oc("retryDelaySeedMs",1e4,l),this.Wa=Oc("forwardChannelMaxRetries",2,l),this.wa=Oc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new WD(l&&l.concurrentRequestLimit),this.Da=new LO,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=uC.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,g){an(0),this.W=l,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=_C(this,null,this.W),td(this)};function mg(l){if(dC(l),l.G==3){var h=l.U++,p=ei(l.I);if(Ye(p,"SID",l.K),Ye(p,"RID",h),Ye(p,"TYPE","terminate"),Fc(l,p),h=new ki(l,l.j,h),h.L=2,h.v=Xu(ei(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=wC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ku(h)}yC(l)}function ed(l){l.g&&(vg(l),l.g.cancel(),l.g=null)}function dC(l){ed(l),l.u&&(a.clearTimeout(l.u),l.u=null),nd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function td(l){if(!qD(l.h)&&!l.s){l.s=!0;var h=l.Ga;br||Jr(),Zr||(br(),Zr=!0),yt.add(h,l),l.B=0}}function $O(l,h){return GD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tc(v(l.Ga,l,h),vC(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let M=new ki(this,this.j,l),N=this.o;if(this.S&&(N?(N=y(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(M.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=fC(this,M,h),p=ei(this.I),Ye(p,"RID",l),Ye(p,"CVER",22),this.D&&Ye(p,"X-HTTP-Session-Id",this.D),Fc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(iC(N)))+"&"+h:this.m&&pg(p,this.m,N)),fg(this.h,M),this.Ua&&Ye(p,"TYPE","init"),this.P?(Ye(p,"$req",h),Ye(p,"SID","null"),M.T=!0,lg(M,p,null)):lg(M,p,h),this.G=2}}else this.G==3&&(l?hC(this,l):this.i.length==0||qD(this.h)||hC(this))};function hC(l,h){var p;h?p=h.l:p=l.U++;let g=ei(l.I);Ye(g,"SID",l.K),Ye(g,"RID",p),Ye(g,"AID",l.T),Fc(l,g),l.m&&l.o&&pg(g,l.m,l.o),p=new ki(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=fC(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),fg(l.h,p),lg(p,g,h)}function Fc(l,h){l.H&&Q(l.H,function(p,g){Ye(h,g,p)}),l.l&&QD({},function(p,g){Ye(h,g,p)})}function fC(l,h,p){p=Math.min(l.i.length,p);var g=l.l?v(l.l.Na,l.l,l):null;e:{var M=l.i;let N=-1;for(;;){let q=["count="+p];N==-1?0<p?(N=M[0].g,q.push("ofs="+N)):N=0:q.push("ofs="+N);let He=!0;for(let Bt=0;Bt<p;Bt++){let Oe=M[Bt].g,Gt=M[Bt].map;if(Oe-=N,0>Oe)N=Math.max(0,M[Bt].g-100),He=!1;else try{jO(Gt,q,"req"+Oe+"_")}catch{g&&g(Gt)}}if(He){g=q.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,g}function pC(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;br||Jr(),Zr||(br(),Zr=!0),yt.add(h,l),l.v=0}}function gg(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tc(v(l.Fa,l),vC(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,mC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tc(v(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),ed(this),mC(this))};function vg(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function mC(l){l.g=new ki(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=ei(l.qa);Ye(h,"RID","rpc"),Ye(h,"SID",l.K),Ye(h,"AID",l.T),Ye(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ye(h,"TO",l.ja),Ye(h,"TYPE","xmlhttp"),Fc(l,h),l.m&&l.o&&pg(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Xu(ei(h)),p.m=null,p.P=!0,HD(p,l)}n.Za=function(){this.C!=null&&(this.C=null,ed(this),gg(this),an(19))};function nd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function gC(l,h){var p=null;if(l.g==h){nd(l),vg(l),l.g=null;var g=2}else if(hg(l.h,h))p=h.D,KD(l.h,h),g=1;else return;if(l.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;g=Wu(),sn(g,new LD(g,p)),td(l)}else pC(l);else if(M=h.s,M==3||M==0&&0<h.X||!(g==1&&$O(l,h)||g==2&&gg(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),M){case 1:xo(l,5);break;case 4:xo(l,10);break;case 3:xo(l,6);break;default:xo(l,2)}}}function vC(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function xo(l,h){if(l.j.info("Error code "+h),h==2){var p=v(l.fb,l),g=l.Xa;let M=!g;g=new Ao(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yu(g,"https"),Xu(g),M?FO(g.toString(),p):VO(g.toString(),p)}else an(2);l.G=0,l.l&&l.l.sa(h),yC(l),dC(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function yC(l){if(l.G=0,l.ka=[],l.l){let h=YD(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function _C(l,h,p){var g=p instanceof Ao?ei(p):new Ao(p);if(g.g!="")h&&(g.g=h+"."+g.g),Qu(g,g.s);else{var M=a.location;g=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var N=new Ao(null);g&&Yu(N,g),h&&(N.g=h),M&&Qu(N,M),p&&(N.l=p),g=N}return p=l.D,h=l.ya,p&&h&&Ye(g,p,h),Ye(g,"VER",l.la),Fc(l,g),g}function wC(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ct(new Nc({eb:p})):new ct(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function EC(){}n=EC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function rd(){}rd.prototype.g=function(l,h){return new Dn(l,h)};function Dn(l,h){qt.call(this),this.g=new uC(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!U(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!U(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Fs(this)}D(Dn,qt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){mg(this.g)},Dn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=rg(l),l=p);h.i.push(new TO(h.Ya++,l)),h.G==3&&td(h)},Dn.prototype.N=function(){this.g.l=null,delete this.j,mg(this.g),delete this.g,Dn.aa.N.call(this)};function IC(l){og.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}D(IC,og);function DC(){sg.call(this),this.status=1}D(DC,sg);function Fs(l){this.g=l}D(Fs,EC),Fs.prototype.ua=function(){sn(this.g,"a")},Fs.prototype.ta=function(l){sn(this.g,new IC(l))},Fs.prototype.sa=function(l){sn(this.g,new DC)},Fs.prototype.ra=function(){sn(this.g,"b")},rd.prototype.createWebChannel=rd.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,pE=Ti.createWebChannelTransport=function(){return new rd},fE=Ti.getStatEventTarget=function(){return Wu()},hE=Ti.Event=To,tm=Ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,mu=Ti.ErrorCode=qu,jD.COMPLETE="complete",dE=Ti.EventType=jD,PD.EventType=Cc,Cc.OPEN="a",Cc.CLOSE="b",Cc.ERROR="c",Cc.MESSAGE="d",qt.prototype.listen=qt.prototype.K,Xa=Ti.WebChannel=PD,$6=Ti.FetchXmlHttpFactory=Nc,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,uE=Ti.XhrIo=ct}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});var nP="@firebase/firestore";var Ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");var vc="10.14.0";var Ds=new oo("@firebase/firestore");function gu(){return Ds.logLevel}function ee(n,...e){if(Ds.logLevel<=Me.DEBUG){let t=e.map(ZI);Ds.debug(`Firestore (${vc}): ${n}`,...t)}}function Ai(n,...e){if(Ds.logLevel<=Me.ERROR){let t=e.map(ZI);Ds.error(`Firestore (${vc}): ${n}`,...t)}}function ic(n,...e){if(Ds.logLevel<=Me.WARN){let t=e.map(ZI);Ds.warn(`Firestore (${vc}): ${n}`,...t)}}function ZI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function fe(n="Unexpected state"){let e=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function Be(n,e){n||fe()}function ge(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends Nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var sm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_E=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}},wE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},EE=class{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new sm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ut(e)}},IE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},DE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new IE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},CE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);let r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new CE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function z6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var am=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=z6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Ve(n,e){return n<e?-1:n>e?1:0}function oc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Wt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var we=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Wt(0,0))}static max(){return new n(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&fe(),r===void 0?r=e.length-t:r>e.length-t&&fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},at=class n extends cm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},W6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,On=class n extends cm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return W6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var le=class n{constructor(e){this.path=e}static fromPath(e){return new n(at.fromString(e))}static fromName(e){return new n(at.fromString(e).popFirst(5))}static empty(){return new n(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new at(e.slice()))}};var TE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};TE.UNKNOWN_ID=-1;function q6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Wt(t+1,0):new Wt(t,r));return new Cs(i,le.empty(),e)}function G6(n){return new Cs(n.readTime,n.key,-1)}var Cs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(we.min(),le.empty(),-1)}static max(){return new n(we.max(),le.empty(),-1)}};function K6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}var Y6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",SE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Fu(n){return w(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==Y6)throw n;ee("LocalStore","Unexpectedly lost primary lease")})}var z=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Q6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vu(n){return n.name==="IndexedDbTransactionError"}var VP=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Lm(n){return n==null}function Iu(n){return n===0&&1/n==-1/0}function X6(n){return typeof n=="number"&&Number.isInteger(n)&&!Iu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Z6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yce=[...Z6,"documentOverlays"],J6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],e9=J6,t9=[...e9,"indexConfiguration","indexState","indexEntries"];var _ce=[...t9,"globals"];function rP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ft=class n{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}},tc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();let e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1;Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Wr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rn=class n{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lm(this.data.getIterator())}getIteratorFrom(e){return new lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},lm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tr=class n{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new n([])}unionWith(e){let t=new rn(On.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var um=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var on=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new um("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};on.EMPTY_BYTE_STRING=new on("");var n9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(n){if(Be(!!n),typeof n=="string"){let e=0,t=n9.exec(n);if(Be(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(n.seconds),nanos:it(n.nanos)}}function it(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Io(n){return typeof n=="string"?on.fromBase64String(n):on.fromUint8Array(n)}function JI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function eD(n){let e=n.mapValue.fields.__previous_value__;return JI(e)?eD(e):e}function Du(n){let e=xi(n.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}var AE=class{constructor(e,t,r,i,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},dm=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var nm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JI(n)?4:UP(n)?9007199254740991:jP(n)?10:11:fe()}function Yr(n,e){if(n===e)return!0;let t=bs(n);if(t!==bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Du(n).isEqual(Du(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xi(i.timestampValue),a=xi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Io(i.bytesValue).isEqual(Io(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return it(i.geoPointValue.latitude)===it(o.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return it(i.integerValue)===it(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=it(i.doubleValue),a=it(o.doubleValue);return s===a?Iu(s)===Iu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return oc(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(rP(s)!==rP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Yr(s[c],a[c])))return!1;return!0}(n,e);default:return fe()}}function Cu(n,e){return(n.values||[]).find(t=>Yr(t,e))!==void 0}function sc(n,e){if(n===e)return 0;let t=bs(n),r=bs(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=it(o.integerValue||o.doubleValue),c=it(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return iP(n.timestampValue,e.timestampValue);case 4:return iP(Du(n),Du(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Io(o),c=Io(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ve(a[u],c[u]);if(d!==0)return d}return Ve(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ve(it(o.latitude),it(s.latitude));return a!==0?a:Ve(it(o.longitude),it(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return oP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},v=s.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,D=(c=v.value)===null||c===void 0?void 0:c.arrayValue,R=Ve(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=D?.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:oP(m,D)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===nm.mapValue&&s===nm.mapValue)return 0;if(o===nm.mapValue)return 1;if(s===nm.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let v=Ve(c[f],d[f]);if(v!==0)return v;let m=sc(a[c[f]],u[d[f]]);if(m!==0)return m}return Ve(c.length,d.length)}(n.mapValue,e.mapValue);default:throw fe()}}function iP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);let t=xi(n),r=xi(e),i=Ve(t.seconds,r.seconds);return i!==0?i:Ve(t.nanos,r.nanos)}function oP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=sc(t[i],r[i]);if(o)return o}return Ve(t.length,r.length)}function ac(n){return xE(n)}function xE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Io(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=xE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${xE(t.fields[s])}`;return i+"}"}(n.mapValue):fe()}function sP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ME(n){return!!n&&"integerValue"in n}function tD(n){return!!n&&"arrayValue"in n}function aP(n){return!!n&&"nullValue"in n}function cP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function im(n){return!!n&&"mapValue"in n}function jP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Rs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Pn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!im(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=On.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=yu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());im(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];im(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(yu(this.value))}};function BP(n){let e=[];return Rs(n.fields,(t,r)=>{let i=new On([t]);if(im(r)){let o=BP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new tr(e)}var Dr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,we.min(),we.min(),we.min(),Pn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,we.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,we.min(),we.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,we.min(),we.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var cc=class{constructor(e,t){this.position=e,this.inclusive=t}};function lP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(s.referenceValue),t.key):r=sc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}var lc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function r9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var hm=class{},St=class n extends hm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new NE(e,t,r):t==="array-contains"?new OE(e,r):t==="in"?new FE(e,r):t==="not-in"?new VE(e,r):t==="array-contains-any"?new LE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kE(e,r):new PE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sc(t,this.value)):t!==null&&bs(this.value)===bs(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cr=class n extends hm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return HP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function HP(n){return n.op==="and"}function $P(n){return i9(n)&&HP(n)}function i9(n){for(let e of n.filters)if(e instanceof Cr)return!1;return!0}function RE(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+ac(n.value);if($P(n))return n.filters.map(e=>RE(e)).join(",");{let e=n.filters.map(t=>RE(t)).join(",");return`${n.op}(${e})`}}function zP(n,e){return n instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)}(n,e):n instanceof Cr?function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zP(s,i.filters[a]),!0):!1}(n,e):void fe()}function WP(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${ac(t.value)}`}(n):n instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(WP).join(" ,")+"}"}(n):"Filter"}var NE=class extends St{constructor(e,t,r){super(e,t,r),this.key=le.fromName(r.referenceValue)}matches(e){let t=le.comparator(e.key,this.key);return this.matchesComparison(t)}},kE=class extends St{constructor(e,t){super(e,"in",t),this.keys=qP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},PE=class extends St{constructor(e,t){super(e,"not-in",t),this.keys=qP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function qP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>le.fromName(r.referenceValue))}var OE=class extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return tD(t)&&Cu(t.arrayValue,this.value)}},FE=class extends St{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Cu(this.value.arrayValue,t)}},VE=class extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Cu(this.value.arrayValue,t)}},LE=class extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!tD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}};var jE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function dP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new jE(n,e,t,r,i,o,s)}function nD(n){let e=ge(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>RE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ac(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ac(r)).join(",")),e.ue=t}return e.ue}function rD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uP(n.startAt,e.startAt)&&uP(n.endAt,e.endAt)}function UE(n){return le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ts=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function o9(n,e,t,r,i,o,s,a){return new Ts(n,e,t,r,i,o,s,a)}function iD(n){return new Ts(n)}function hP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GP(n){return n.collectionGroup!==null}function _u(n){let e=ge(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rn(On.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new lc(o,r))}),t.has(On.keyField().canonicalString())||e.ce.push(new lc(On.keyField(),r))}return e.ce}function qr(n){let e=ge(n);return e.le||(e.le=s9(e,_u(n))),e.le}function s9(n,e){if(n.limitType==="F")return dP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new lc(i.field,o)});let t=n.endAt?new cc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cc(n.startAt.position,n.startAt.inclusive):null;return dP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function BE(n,e){let t=n.filters.concat([e]);return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function HE(n,e,t){return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jm(n,e){return rD(qr(n),qr(e))&&n.limitType===e.limitType}function KP(n){return`${nD(qr(n))}|lt:${n.limitType}`}function Za(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>WP(i)).join(", ")}]`),Lm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ac(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ac(i)).join(",")),`Target(${r})`}(qr(n))}; limitType=${n.limitType})`}function Um(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of _u(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=lP(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,_u(r),i)||r.endAt&&!function(s,a,c){let u=lP(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,_u(r),i))}(n,e)}function a9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YP(n){return(e,t)=>{let r=!1;for(let i of _u(n)){let o=c9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function c9(n,e,t){let r=n.field.isKeyField()?le.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?sc(c,u):fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}var Do=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return LP(this.inner)}size(){return this.innerSize}};var l9=new ft(le.comparator);function Mi(){return l9}var QP=new ft(le.comparator);function vu(...n){let e=QP;for(let t of n)e=e.insert(t.key,t);return e}function XP(n){let e=QP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return wu()}function ZP(){return wu()}function wu(){return new Do(n=>n.toString(),(n,e)=>n.isEqual(e))}var u9=new ft(le.comparator),d9=new rn(le.comparator);function Re(...n){let e=d9;for(let t of n)e=e.add(t);return e}var h9=new rn(Ve);function f9(){return h9}function oD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function JP(n){return{integerValue:""+n}}function p9(n,e){return X6(e)?JP(e):oD(n,e)}var uc=class{constructor(){this._=void 0}};function m9(n,e,t){return n instanceof dc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&JI(o)&&(o=eD(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ss?t1(n,e):n instanceof As?n1(n,e):function(i,o){let s=e1(i,o),a=fP(s)+fP(i.Pe);return ME(s)&&ME(i.Pe)?JP(a):oD(i.serializer,a)}(n,e)}function g9(n,e,t){return n instanceof Ss?t1(n,e):n instanceof As?n1(n,e):t}function e1(n,e){return n instanceof hc?function(r){return ME(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var dc=class extends uc{},Ss=class extends uc{constructor(e){super(),this.elements=e}};function t1(n,e){let t=r1(e);for(let r of n.elements)t.some(i=>Yr(i,r))||t.push(r);return{arrayValue:{values:t}}}var As=class extends uc{constructor(e){super(),this.elements=e}};function n1(n,e){let t=r1(e);for(let r of n.elements)t=t.filter(i=>!Yr(i,r));return{arrayValue:{values:t}}}var hc=class extends uc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function fP(n){return it(n.integerValue||n.doubleValue)}function r1(n){return tD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function v9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ss&&i instanceof Ss||r instanceof As&&i instanceof As?oc(r.elements,i.elements,Yr):r instanceof hc&&i instanceof hc?Yr(r.Pe,i.Pe):r instanceof dc&&i instanceof dc}(n.transform,e.transform)}var $E=class{constructor(e,t){this.version=e,this.transformResults=t}},Si=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function om(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var fc=class{};function i1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bu(n.key,Si.none()):new xs(n.key,n.data,Si.none());{let t=n.data,r=Pn.empty(),i=new rn(On.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qr(n.key,r,new tr(i.toArray()),Si.none())}}function y9(n,e,t){n instanceof xs?function(i,o,s){let a=i.value.clone(),c=mP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Qr?function(i,o,s){if(!om(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=mP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(o1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Eu(n,e,t,r){return n instanceof xs?function(o,s,a,c){if(!om(o.precondition,s))return a;let u=o.value.clone(),d=gP(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qr?function(o,s,a,c){if(!om(o.precondition,s))return a;let u=gP(o.fieldTransforms,c,s),d=s.data;return d.setAll(o1(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return om(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function _9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=e1(r.transform,i||null);o!=null&&(t===null&&(t=Pn.empty()),t.set(r.field,o))}return t||null}function pP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oc(r,i,(o,s)=>v9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var xs=class extends fc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qr=class extends fc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function o1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function mP(n,e,t){let r=new Map;Be(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,g9(s,a,t[i]))}return r}function gP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,m9(o,s,e))}return r}var bu=class extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},zE=class extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var WE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&y9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ZP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=i1(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Re())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(t,r)=>pP(t,r))&&oc(this.baseMutations,e.baseMutations,(t,r)=>pP(t,r))}},qE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Be(e.mutations.length===r.length);let i=function(){return u9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var GE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var KE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var bt,ke;function w9(n){switch(n){default:return fe();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function s1(n){if(n===void 0)return Ai("GRPC error has no .code"),L.UNKNOWN;switch(n){case bt.OK:return L.OK;case bt.CANCELLED:return L.CANCELLED;case bt.UNKNOWN:return L.UNKNOWN;case bt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case bt.INTERNAL:return L.INTERNAL;case bt.UNAVAILABLE:return L.UNAVAILABLE;case bt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case bt.NOT_FOUND:return L.NOT_FOUND;case bt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case bt.ABORTED:return L.ABORTED;case bt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case bt.DATA_LOSS:return L.DATA_LOSS;default:return fe()}}(ke=bt||(bt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var vP=null;function E9(){return new TextEncoder}var I9=new wo([4294967295,4294967295],0);function yP(n){let e=E9().encode(n),t=new lE;return t.update(e),new Uint8Array(t.digest())}function _P(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([t,r],0),new wo([i,o],0)]}var YE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Es(`Invalid padding: ${t}`);if(r<0)throw new Es(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Es(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Es(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=wo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(wo.fromNumber(r)));return i.compare(I9)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=yP(e),[r,i]=_P(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=yP(e),[r,i]=_P(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Es=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var fm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(we.min(),i,new ft(Ve),Mi(),Re())}},Tu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Re(),Re(),Re())}};var nc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},pm=class{constructor(e,t){this.targetId=e,this.me=t}},mm=class{constructor(e,t,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},gm=class{constructor(){this.fe=0,this.ge=EP(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),t=Re(),r=Re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Tu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=EP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},QE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=wP(),this.Qe=new ft(Ve)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(UE(o))if(r===0){let s=new le(o.path);this.Ue(t,s,Dr.newNoDocument(s,we.min()))}else Be(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}vP?.et(function(d,f,v,m,D){var R,A,P,U,B,W;let ie={localCacheCount:d,existenceFilterCount:f.count,databaseId:v.database,projectId:v.projectId},Q=f.unchangedNames;return Q&&(ie.bloomFilter={applied:D===0,hashCount:(R=Q?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(U=(P=(A=Q?.bits)===null||A===void 0?void 0:A.bitmap)===null||P===void 0?void 0:P.length)!==null&&U!==void 0?U:0,padding:(W=(B=Q?.bits)===null||B===void 0?void 0:B.padding)!==null&&W!==void 0?W:0,mightContain:T=>{var y;return(y=m?.mightContain(T))!==null&&y!==void 0&&y}}),ie}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Io(r).toUint8Array()}catch(c){if(c instanceof um)return ic("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new YE(s,i,o)}catch(c){return ic(c instanceof Es?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&UE(a.target)){let c=new le(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Dr.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Re();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new fm(e,t,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=wP(),this.Qe=new ft(Ve),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new gm,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new rn(Ve),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new gm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function wP(){return new ft(le.comparator)}function EP(){return new ft(le.comparator)}var D9={asc:"ASCENDING",desc:"DESCENDING"},C9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b9={and:"AND",or:"OR"},XE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ZE(n,e){return n.useProto3Json||Lm(e)?e:{value:e}}function vm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T9(n,e){return vm(n,e.toTimestamp())}function Gr(n){return Be(!!n),we.fromTimestamp(function(t){let r=xi(t);return new Wt(r.seconds,r.nanos)}(n))}function sD(n,e){return JE(n,e).canonicalString()}function JE(n,e){let t=function(i){return new at(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function c1(n){let e=at.fromString(n);return Be(f1(e)),e}function eI(n,e){return sD(n.databaseId,e.path)}function mE(n,e){let t=c1(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new le(u1(t))}function l1(n,e){return sD(n.databaseId,e)}function S9(n){let e=c1(n);return e.length===4?at.emptyPath():u1(e)}function tI(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function u1(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function IP(n,e,t){return{name:eI(n,e),fields:t.value.mapValue.fields}}function A9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Be(d===void 0||typeof d=="string"),on.fromBase64String(d||"")):(Be(d===void 0||d instanceof Buffer||d instanceof Uint8Array),on.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?L.UNKNOWN:s1(u.code);return new Z(d,u.message||"")}(s);t=new mm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mE(n,r.document.name),o=Gr(r.document.updateTime),s=r.document.createTime?Gr(r.document.createTime):we.min(),a=new Pn({mapValue:{fields:r.document.fields}}),c=Dr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new nc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mE(n,r.document),o=r.readTime?Gr(r.readTime):we.min(),s=Dr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new nc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mE(n,r.document),o=r.removedTargetIds||[];t=new nc([],o,i,null)}else{if(!("filter"in e))return fe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new KE(i,o),a=r.targetId;t=new pm(a,s)}}return t}function x9(n,e){let t;if(e instanceof xs)t={update:IP(n,e.key,e.value)};else if(e instanceof bu)t={delete:eI(n,e.key)};else if(e instanceof Qr)t={update:IP(n,e.key,e.data),updateMask:L9(e.fieldMask)};else{if(!(e instanceof zE))return fe();t={verify:eI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:T9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe()}(n,e.precondition)),t}function M9(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Gr(i.updateTime):Gr(o);return s.isEqual(we.min())&&(s=Gr(o)),new $E(s,i.transformResults||[])}(t,e))):[]}function R9(n,e){return{documents:[l1(n,e.path)]}}function N9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=l1(n,i);let o=function(u){if(u.length!==0)return h1(Cr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:Ja(v.field),direction:O9(v.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=ZE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function k9(n){let e=S9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Be(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let v=d1(f);return v instanceof Cr&&$P(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(v=>function(D){return new lc(ec(D.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(f){let v;return v=typeof f=="object"?f.value:f,Lm(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(f){let v=!!f.before,m=f.values||[];return new cc(m,v)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let v=!f.before,m=f.values||[];return new cc(m,v)}(t.endAt)),o9(e,i,s,o,a,"F",c,u)}function P9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function d1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ec(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ec(t.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ec(t.unaryFilter.field);return St.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ec(t.unaryFilter.field);return St.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):n.fieldFilter!==void 0?function(t){return St.create(ec(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(r=>d1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(t.compositeFilter.op))}(n):fe()}function O9(n){return D9[n]}function F9(n){return C9[n]}function V9(n){return b9[n]}function Ja(n){return{fieldPath:n.canonicalString()}}function ec(n){return On.fromServerFormat(n.fieldPath)}function h1(n){return n instanceof St?function(t){if(t.op==="=="){if(cP(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NAN"}};if(aP(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cP(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NOT_NAN"}};if(aP(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(t.field),op:F9(t.op),value:t.value}}}(n):n instanceof Cr?function(t){let r=t.getFilters().map(i=>h1(i));return r.length===1?r[0]:{compositeFilter:{op:V9(t.op),filters:r}}}(n):fe()}function L9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function f1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Su=class n{constructor(e,t,r,i,o=we.min(),s=we.min(),a=on.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var nI=class{constructor(e){this.ct=e}};function j9(n){let e=k9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?HE(e,e.limit,"L"):e}var ym=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(it(e.integerValue));else if("doubleValue"in e){let r=it(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Iu(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=xi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Io(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?UP(e)?this.dt(t,Number.MAX_SAFE_INTEGER):jP(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(it(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),le.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};ym.vt=new ym;var rI=class{constructor(){this.un=new iI}addToCollectionParentIndex(e,t){return this.un.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Cs.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}},iI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rn(at.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(at.comparator)).toArray()}};var Ece=new Uint8Array(0);var $r=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var Au=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var oI=class{constructor(){this.changes=new Do(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var aI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Eu(r.mutation,i,tr.empty(),Wt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Re()){let i=ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=vu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Re()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Mi(),s=wu(),a=function(){return wu()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Qr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Eu(d.mutation,u,d.mutation.getFieldMask(),Wt.now())):s.set(u.key,tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new sI(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=wu(),i=new ft((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||tr.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||Re()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=ZP();d.forEach(v=>{if(!o.has(v)){let m=i1(t.get(v),r.get(v));m!==null&&f.set(v,m),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):z.resolve(ws()),a=-1,c=o;return s.next(u=>z.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Re())).next(d=>({batchId:a,changes:XP(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=vu();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,c=>{let u=function(f,v){return new Ts(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,v)=>{s=s.insert(f,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Dr.newInvalidDocument(d)))});let a=vu();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Eu(d.mutation,u,tr.empty(),Wt.now()),Um(t,u)&&(a=a.insert(c,u))}),a})}};var cI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return z.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:j9(i.bundledQuery),readTime:Gr(i.readTime)}}(t)),z.resolve()}};var lI=class{constructor(){this.overlays=new ft(le.comparator),this.Ir=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ws();return z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),z.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){let i=ws(),o=t.length+1,s=new le(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ft((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ws(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=ws(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new GE(t,r));let o=this.Ir.get(t);o===void 0&&(o=Re(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var uI=class{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}};var xu=class{constructor(){this.Tr=new rn(Tt.Er),this.dr=new rn(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Tt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Tt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new le(new at([])),r=new Tt(t,e),i=new Tt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new le(new at([])),r=new Tt(t,e),i=new Tt(t,e+1),o=Re();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Tt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Tt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return le.comparator(e.key,t.key)||Ve(e.wr,t.wr)}static Ar(e,t){return Ve(e.wr,t.wr)||le.comparator(e.key,t.key)}};var dI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new rn(Tt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new WE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,t){return z.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Tt(t,0),i=new Tt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rn(Ve);return t.forEach(i=>{let o=new Tt(i,0),s=new Tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;le.isDocumentKey(o)||(o=o.child(""));let s=new Tt(new le(o),0),a=new rn(Ve);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),z.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Be(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(t.mutations,i=>{let o=new Tt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Tt(t,0),i=this.br.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var hI=class{constructor(e){this.Mr=e,this.docs=function(){return new ft(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let r=Mi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dr.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Mi(),s=t.path,a=new le(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||K6(G6(d),r)<=0||(i.has(d.key)||Um(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){fe()}Or(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fI(this)}getSize(e){return z.resolve(this.size)}},fI=class extends oI{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var pI=class{constructor(e){this.persistence=e,this.Nr=new Do(t=>nD(t),rD),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xu,this.targetCount=0,this.kr=Au.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),z.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Au(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Kn(t),z.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),z.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.Br.containsKey(t))}};var mI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new VP(0),this.Kr=!1,this.Kr=!0,this.$r=new uI,this.referenceDelegate=e(this),this.Ur=new pI(this),this.indexManager=new rI,this.remoteDocumentCache=function(i){return new hI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nI(t),this.Gr=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new dI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);let i=new gI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},gI=class extends SE{constructor(e){super(),this.currentSequenceNumber=e}},vI=class n{constructor(e){this.persistence=e,this.Jr=new xu,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),z.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{let i=le.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return z.or([()=>z.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var yI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Re(),i=Re();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var _I=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var wI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sR()?8:Q6(jt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new _I;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(gu()<=Me.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(gu()<=Me.DEBUG&&ee("QueryEngine","Query:",Za(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gu()<=Me.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):z.resolve())}Yi(e,t){if(hP(t))return z.resolve(null);let r=qr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=HE(t,null,"F"),r=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Re(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,HE(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return hP(t)||i.isEqual(we.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?z.resolve(null):(gu()<=Me.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Za(t)),this.rs(e,s,t,q6(i,-1)).next(a=>a))})}ts(e,t){let r=new rn(YP(e));return t.forEach((i,o)=>{Um(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return gu()<=Me.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Za(t)),this.Ji.getDocumentsMatchingQuery(e,t,Cs.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var EI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ft(Ve),this._s=new Do(o=>nD(o),rD),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function U9(n,e,t,r){return new EI(n,e,t,r)}function p1(n,e){return w(this,null,function*(){let t=ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Re();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function B9(n,e){let t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,v=f.keys(),m=z.resolve();return v.forEach(D=>{m=m.next(()=>d.getEntry(c,D)).next(R=>{let A=u.docVersions.get(D);Be(A!==null),R.version.compareTo(A)<0&&(f.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),d.addEntry(R)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function m1(n){let e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function H9(n,e){let t=ge(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let v=i.get(f);if(!v)return;a.push(t.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,d.addedDocuments,f)));let m=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(on.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(R,A,P){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(v,m,d)&&a.push(t.Ur.updateTargetData(o,m))});let c=Mi(),u=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push($9(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(we.min())){let d=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.os=i,o))}function $9(n,e,t){let r=Re(),i=Re();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Mi();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(we.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function z9(n,e){let t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W9(n,e){let t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Su(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function II(n,e,t){return w(this,null,function*(){let r=ge(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vu(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function DP(n,e,t){let r=ge(n),i=we.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=ge(c),v=f._s.get(d);return v!==void 0?z.resolve(f.os.get(v)):f.Ur.getTargetData(u,d)}(r,s,qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:we.min(),t?o:Re())).next(a=>(q9(r,a9(e),a),{documents:a,Ts:o})))}function q9(n,e,t){let r=n.us.get(e)||we.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var _m=class{constructor(){this.activeTargetIds=f9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var DI=class{constructor(){this.so=new _m,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _m,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var CI=class{_o(e){}shutdown(){}};var wm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rm=null;function gE(){return rm===null?rm=function(){return 268435456+Math.round(2147483648*Math.random())}():rm++,"0x"+rm.toString(16)}var G9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var bI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var nn="WebChannelConnection",TI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=gE(),c=this.xo(t,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,c,u,i).then(d=>(ee("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw ic("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=G9[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=gE();return new Promise((s,a)=>{let c=new uE;c.setWithCredentials(!0),c.listenOnce(dE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mu.NO_ERROR:let d=c.getResponseJson();ee(nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case mu.TIMEOUT:ee(nn,`RPC '${e}' ${o} timed out`),a(new Z(L.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:let f=c.getStatus();if(ee(nn,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let m=v?.error;if(m&&m.status&&m.message){let D=function(A){let P=A.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(P)>=0?P:L.UNKNOWN}(m.status);a(new Z(D,m.message))}else a(new Z(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Z(L.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ee(nn,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);ee(nn,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=gE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pE(),a=fE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");ee(nn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),v=!1,m=!1,D=new bI({Io:A=>{m?ee(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(ee(nn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),v=!0),ee(nn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},To:()=>f.close()}),R=(A,P,U)=>{A.listen(P,B=>{try{U(B)}catch(W){setTimeout(()=>{throw W},0)}})};return R(f,Xa.EventType.OPEN,()=>{m||(ee(nn,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),R(f,Xa.EventType.CLOSE,()=>{m||(m=!0,ee(nn,`RPC '${e}' stream ${i} transport closed`),D.So())}),R(f,Xa.EventType.ERROR,A=>{m||(m=!0,ic(nn,`RPC '${e}' stream ${i} transport errored:`,A),D.So(new Z(L.UNAVAILABLE,"The operation could not be completed")))}),R(f,Xa.EventType.MESSAGE,A=>{var P;if(!m){let U=A.data[0];Be(!!U);let B=U,W=B.error||((P=B[0])===null||P===void 0?void 0:P.error);if(W){ee(nn,`RPC '${e}' stream ${i} received error:`,W);let ie=W.status,Q=function(_){let b=bt[_];if(b!==void 0)return s1(b)}(ie),T=W.message;Q===void 0&&(Q=L.INTERNAL,T="Unknown error status: "+ie+" with message "+W.message),m=!0,D.So(new Z(Q,T)),f.close()}else ee(nn,`RPC '${e}' stream ${i} received:`,U),D.bo(U)}}),R(a,hE.STAT_EVENT,A=>{A.stat===tm.PROXY?ee(nn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===tm.NOPROXY&&ee(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function vE(){return typeof document<"u"?document:null}function Bm(n){return new XE(n,!0)}var Em=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Im=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Em(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new Z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},SI=class extends Im{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=A9(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Gr(s.readTime):we.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=tI(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=UE(c)?{documents:R9(o,c)}:{query:N9(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=a1(o,s.resumeToken);let u=ZE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=vm(o,s.snapshotVersion.toTimestamp());let u=ZE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=P9(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=tI(this.serializer),t.removeTarget=e,this.a_(t)}},AI=class extends Im{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=M9(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=tI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>x9(this.serializer,r))};this.a_(t)}};var xI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,JE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(L.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,JE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(L.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},MI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(t),this.D_=!1):ee("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var RI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Ns(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let u=ge(c);u.L_.add(4),yield Lu(u),u.q_.set("Unknown"),u.L_.delete(4),yield Hm(u)})}(this))}))}),this.q_=new MI(r,i)}};function Hm(n){return w(this,null,function*(){if(Ns(n))for(let e of n.B_)yield e(!0)})}function Lu(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function g1(n,e){let t=ge(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),uD(t)?lD(t):yc(t).r_()&&cD(t,e))}function aD(n,e){let t=ge(n),r=yc(t);t.N_.delete(e),r.r_()&&v1(t,e),t.N_.size===0&&(r.r_()?r.o_():Ns(t)&&t.q_.set("Unknown"))}function cD(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yc(n).A_(e)}function v1(n,e){n.Q_.xe(e),yc(n).R_(e)}function lD(n){n.Q_=new QE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),yc(n).start(),n.q_.v_()}function uD(n){return Ns(n)&&!yc(n).n_()&&n.N_.size>0}function Ns(n){return ge(n).L_.size===0}function y1(n){n.Q_=void 0}function K9(n){return w(this,null,function*(){n.q_.set("Online")})}function Y9(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{cD(n,e)})})}function Q9(n,e){return w(this,null,function*(){y1(n),uD(n)?(n.q_.M_(e),lD(n)):n.q_.set("Unknown")})}function X9(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof mm&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Dm(n,r)}else if(e instanceof nc?n.Q_.Ke(e):e instanceof pm?n.Q_.He(e):n.Q_.We(e),!t.isEqual(we.min()))try{let r=yield m1(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(on.EMPTY_BYTE_STRING,d.snapshotVersion)),v1(o,c);let f=new Su(d.target,c,u,d.sequenceNumber);cD(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),yield Dm(n,r)}})}function Dm(n,e,t){return w(this,null,function*(){if(!Vu(e))throw e;n.L_.add(1),yield Lu(n),n.q_.set("Offline"),t||(t=()=>m1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Hm(n)}))})}function _1(n,e){return e().catch(t=>Dm(n,t,e))}function $m(n){return w(this,null,function*(){let e=ge(n),t=Co(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Z9(e);)try{let i=yield z9(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,J9(e,i)}catch(i){yield Dm(e,i)}w1(e)&&E1(e)})}function Z9(n){return Ns(n)&&n.O_.length<10}function J9(n,e){n.O_.push(e);let t=Co(n);t.r_()&&t.V_&&t.m_(e.mutations)}function w1(n){return Ns(n)&&!Co(n).n_()&&n.O_.length>0}function E1(n){Co(n).start()}function e8(n){return w(this,null,function*(){Co(n).p_()})}function t8(n){return w(this,null,function*(){let e=Co(n);for(let t of n.O_)e.m_(t.mutations)})}function n8(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=qE.from(r,e,t);yield _1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $m(n)})}function r8(n,e){return w(this,null,function*(){e&&Co(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return w9(s)&&s!==L.ABORTED}(i.code)){let o=r.O_.shift();Co(r).s_(),yield _1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $m(r)}})}(n,e)),w1(n)&&E1(n)})}function CP(n,e){return w(this,null,function*(){let t=ge(n);t.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");let r=Ns(t);t.L_.add(3),yield Lu(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Hm(t)})}function i8(n,e){return w(this,null,function*(){let t=ge(n);e?(t.L_.delete(2),yield Hm(t)):e||(t.L_.add(2),yield Lu(t),t.q_.set("Unknown"))})}function yc(n){return n.K_||(n.K_=function(t,r,i){let o=ge(t);return o.w_(),new SI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:K9.bind(null,n),Ro:Y9.bind(null,n),mo:Q9.bind(null,n),d_:X9.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),uD(n)?lD(n):n.q_.set("Unknown")):(yield n.K_.stop(),y1(n))}))),n.K_}function Co(n){return n.U_||(n.U_=function(t,r,i){let o=ge(t);return o.w_(),new AI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e8.bind(null,n),mo:r8.bind(null,n),f_:t8.bind(null,n),g_:n8.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield $m(n)):(yield n.U_.stop(),n.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var NI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dD(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),Vu(n))return new Z(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Cm=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||le.comparator(t.key,r.key):(t,r)=>le.comparator(t.key,r.key),this.keyedMap=vu(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var bm=class{constructor(){this.W_=new ft(le.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):fe():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},pc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Cm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var kI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},PI=class{constructor(){this.queries=bP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ge(t),o=i.queries;i.queries=bP(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new Z(L.ABORTED,"Firestore shutting down"))}};function bP(){return new Do(n=>KP(n),jm)}function I1(n,e){return w(this,null,function*(){let t=ge(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new kI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=dD(s,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&hD(t)})}function D1(n,e){return w(this,null,function*(){let t=ge(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function o8(n,e){let t=ge(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&hD(t)}function s8(n,e,t){let r=ge(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function hD(n){n.Y_.forEach(e=>{e.next()})}var OI,TP;(TP=OI||(OI={})).ea="default",TP.Cache="cache";var Tm=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==OI.Cache}};var Sm=class{constructor(e){this.key=e}},Am=class{constructor(e){this.key=e}},FI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=YP(e),this.Ra=new Cm(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new bm,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let v=i.get(d),m=Um(this.query,f)?f:null,D=!!v&&this.mutatedKeys.has(v.key),R=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;v&&m?v.data.isEqual(m.data)?D!==R&&(r.track({type:3,doc:m}),A=!0):this.ga(v,m)||(r.track({type:2,doc:m}),A=!0,(c&&this.Aa(m,c)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!v&&m?(r.track({type:0,doc:m}),A=!0):v&&!m&&(r.track({type:1,doc:v}),A=!0,(c||u)&&(a=!0)),A&&(m?(s=s.add(m),o=R?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(m,D){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return R(m)-R(D)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new pc(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Am(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Sm(r))}),t}ba(e){this.Ta=e.Ts,this.da=Re();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return pc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},VI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},LI=class{constructor(e){this.key=e,this.va=!1}},jI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Do(a=>KP(a),jm),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(le.comparator),this.Na=new Map,this.La=new xu,this.Ba={},this.ka=new Map,this.qa=Au.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function a8(n,e,t=!0){return w(this,null,function*(){let r=x1(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield C1(r,e,t,!0),i})}function c8(n,e){return w(this,null,function*(){let t=x1(n);yield C1(t,e,!0,!1)})}function C1(n,e,t,r){return w(this,null,function*(){let i=yield W9(n.localStore,qr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield l8(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&g1(n.remoteStore,i),a})}function l8(n,e,t,r,i){return w(this,null,function*(){n.Ka=(f,v,m)=>function(R,A,P,U){return w(this,null,function*(){let B=A.view.ma(P);B.ns&&(B=yield DP(R.localStore,A.query,!1).then(({documents:T})=>A.view.ma(T,B)));let W=U&&U.targetChanges.get(A.targetId),ie=U&&U.targetMismatches.get(A.targetId)!=null,Q=A.view.applyChanges(B,R.isPrimaryClient,W,ie);return AP(R,A.targetId,Q.wa),Q.snapshot})}(n,f,v,m);let o=yield DP(n.localStore,e,!0),s=new FI(e,o.Ts),a=s.ma(o.documents),c=Tu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);AP(n,t,u.wa);let d=new VI(e,t,s);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function u8(n,e,t){return w(this,null,function*(){let r=ge(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!jm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield II(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&aD(r.remoteStore,i.targetId),UI(r,i.targetId)}).catch(Fu))):(UI(r,i.targetId),yield II(r.localStore,i.targetId,!0))})}function d8(n,e){return w(this,null,function*(){let t=ge(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),aD(t.remoteStore,r.targetId))})}function h8(n,e,t){return w(this,null,function*(){let r=_8(n);try{let i=yield function(s,a){let c=ge(s),u=Wt.now(),d=a.reduce((m,D)=>m.add(D.key),Re()),f,v;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let D=Mi(),R=Re();return c.cs.getEntries(m,d).next(A=>{D=A,D.forEach((P,U)=>{U.isValidDocument()||(R=R.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,D)).next(A=>{f=A;let P=[];for(let U of a){let B=_9(U,f.get(U.key).overlayedDocument);B!=null&&P.push(new Qr(U.key,B,BP(B.value.mapValue),Si.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,P,a)}).next(A=>{v=A;let P=A.applyToLocalDocumentSet(f,R);return c.documentOverlayCache.saveOverlays(m,A.batchId,P)})}).then(()=>({batchId:v.batchId,changes:XP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new ft(Ve)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ju(r,i.changes),yield $m(r.remoteStore)}catch(i){let o=dD(i,"Failed to persist write");t.reject(o)}})}function b1(n,e){return w(this,null,function*(){let t=ge(n);try{let r=yield H9(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Be(s.va):i.removedDocuments.size>0&&(Be(s.va),s.va=!1))}),yield ju(t,r,e)}catch(r){yield Fu(r)}})}function SP(n,e,t){let r=ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ge(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let v of f.j_)v.Z_(a)&&(u=!0)}),u&&hD(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function f8(n,e,t){return w(this,null,function*(){let r=ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ft(le.comparator);s=s.insert(o,Dr.newNoDocument(o,we.min()));let a=Re().add(o),c=new fm(we.min(),new Map,new ft(Ve),s,a);yield b1(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),fD(r)}else yield II(r.localStore,e,!1).then(()=>UI(r,e,t)).catch(Fu)})}function p8(n,e){return w(this,null,function*(){let t=ge(n),r=e.batch.batchId;try{let i=yield B9(t.localStore,e);S1(t,r,null),T1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ju(t,i)}catch(i){yield Fu(i)}})}function m8(n,e,t){return w(this,null,function*(){let r=ge(n);try{let i=yield function(s,a){let c=ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Be(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);S1(r,e,t),T1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ju(r,i)}catch(i){yield Fu(i)}})}function T1(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function S1(n,e,t){let r=ge(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function UI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||A1(n,r)})}function A1(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(aD(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),fD(n))}function AP(n,e,t){for(let r of t)r instanceof Sm?(n.La.addReference(r.key,e),g8(n,r)):r instanceof Am?(ee("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||A1(n,r.key)):fe()}function g8(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ee("SyncEngine","New document in limbo: "+t),n.xa.add(r),fD(n))}function fD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new le(at.fromString(e)),r=n.qa.next();n.Na.set(r,new LI(t)),n.Oa=n.Oa.insert(t,r),g1(n.remoteStore,new Su(qr(iD(t.path)),r,"TargetPurposeLimboResolution",VP.oe))}}function ju(n,e,t){return w(this,null,function*(){let r=ge(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=yI.Wi(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,u){return w(this,null,function*(){let d=ge(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,v=>z.forEach(v.$i,m=>d.persistence.referenceDelegate.addReference(f,v.targetId,m)).next(()=>z.forEach(v.Ui,m=>d.persistence.referenceDelegate.removeReference(f,v.targetId,m)))))}catch(f){if(!Vu(f))throw f;ee("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let v=f.targetId;if(!f.fromCache){let m=d.os.get(v),D=m.snapshotVersion,R=m.withLastLimboFreeSnapshotVersion(D);d.os=d.os.insert(v,R)}}})}(r.localStore,o))})}function v8(n,e){return w(this,null,function*(){let t=ge(n);if(!t.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());let r=yield p1(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new Z(L.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ju(t,r.hs)}})}function y8(n,e){let t=ge(n),r=t.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function x1(n){let e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=b1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f8.bind(null,e),e.Ca.d_=o8.bind(null,e.eventManager),e.Ca.$a=s8.bind(null,e.eventManager),e}function _8(n){let e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m8.bind(null,e),e}var xP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Bm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return U9(this.persistence,new wI,t.initialUser,this.serializer)}Ga(t){return new mI(vI.Zr,this.serializer)}Wa(t){return new DI}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var w8=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=v8.bind(null,this.syncEngine),yield i8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new PI}()}createDatastore(t){let r=Bm(t.databaseInfo.databaseId),i=function(s){return new TI(s)}(t.databaseInfo);return function(s,a,c,u){return new xI(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new RI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>SP(this.syncEngine,r,0),function(){return wm.D()?new wm:new CI}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let v=new jI(o,s,a,c,u,d);return f&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=ge(o);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Lu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var xm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var BI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){ee("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=dD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yE(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield p1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function MP(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield E8(n);ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>CP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>CP(e.remoteStore,i)),n._onlineComponents=e})}function E8(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ic("Error using user provided cache. Falling back to memory cache: "+t),yield yE(n,new xP)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),yield yE(n,new xP);return n._offlineComponents})}function M1(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield MP(n,n._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),yield MP(n,new w8))),n._onlineComponents})}function I8(n){return M1(n).then(e=>e.syncEngine)}function HI(n){return w(this,null,function*(){let e=yield M1(n),t=e.eventManager;return t.onListen=a8.bind(null,e.syncEngine),t.onUnlisten=u8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=c8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d8.bind(null,e.syncEngine),t})}function D8(n,e,t={}){let r=new zr;return n.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,u){let d=new xm({next:v=>{d.Za(),s.enqueueAndForget(()=>D1(o,f)),v.fromCache&&c.source==="server"?u.reject(new Z(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),f=new Tm(a,d,{includeMetadataChanges:!0,_a:!0});return I1(o,f)}(yield HI(n),n.asyncQueue,e,t,r)})),r.promise}function R1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var RP=new Map;function N1(n,e,t){if(!t)throw new Z(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C8(n,e,t,r){if(e===!0&&r===!0)throw new Z(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NP(n){if(!le.isDocumentKey(n))throw new Z(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kP(n){if(le.isDocumentKey(n))throw new Z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":fe()}function Kr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=zm(n);throw new Z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Mm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _E;switch(r.type){case"firstParty":return new DE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=RP.get(t);r&&(ee("ComponentProvider","Removing Datastore"),RP.delete(t),r.terminate())}(this),Promise.resolve()}};function k1(n,e,t,r={}){var i;let o=(n=Kr(n,mc))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ut.MOCK_USER;else{a=eR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ut(u)}n._authCredentials=new wE(new sm(a,c))}}var Ms=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},En=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Eo=class n extends Ms{constructor(e,t,r){super(e,t,iD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new le(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function P1(n,e,...t){if(n=vt(n),N1("collection","path",e),n instanceof mc){let r=at.fromString(e,...t);return kP(r),new Eo(n,null,r)}{if(!(n instanceof En||n instanceof Eo))throw new Z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(at.fromString(e,...t));return kP(r),new Eo(n.firestore,null,r)}}function pD(n,e,...t){if(n=vt(n),arguments.length===1&&(e=am.newId()),N1("doc","path",e),n instanceof mc){let r=at.fromString(e,...t);return NP(r),new En(n,null,new le(r))}{if(!(n instanceof En||n instanceof Eo))throw new Z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(at.fromString(e,...t));return NP(r),new En(n.firestore,n instanceof Eo?n.converter:null,new le(r))}}var Rm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Em(this,"async_queue_retry"),this.Vu=()=>{let r=vE();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=vE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=vE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new zr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vu(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=NI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function PP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ri=class extends mc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Rm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Rm(e),this._firestoreClient=void 0,yield e}})}};function O1(n,e){let t=typeof n=="object"?n:cs(),r=typeof n=="string"?n:e||"(default)",i=Ql(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=JM("firestore");o&&k1(i,...o)}return i}function mD(n){if(n._terminated)throw new Z(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b8(n),n._firestoreClient}function b8(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new AE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,R1(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new BI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Mu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(on.fromBase64String(e))}catch(t){throw new Z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var gc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ru=class{constructor(e){this._methodName=e}};var Nu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}};var ku=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var T8=/^__.*__$/,$I=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,t,this.fieldTransforms):new xs(e,this.data,t,this.fieldTransforms)}},Nm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function F1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var zI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(F1(this.Cu)&&T8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},WI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bm(e)}Qu(e,t,r,i=!1){return new zI({Cu:e,methodName:t,qu:r,path:On.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function gD(n){let e=n._freezeSettings(),t=Bm(n._databaseId);return new WI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function S8(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);vD("Data must be an object, but it was:",s,r);let a=V1(r,s),c,u;if(o.merge)c=new tr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let v=qI(e,f,t);if(!s.contains(v))throw new Z(L.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);j1(d,v)||d.push(v)}c=new tr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new $I(new Pn(a),c,u)}var km=class n extends Ru{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function A8(n,e,t,r){let i=n.Qu(1,e,t);vD("Data must be an object, but it was:",i,r);let o=[],s=Pn.empty();Rs(r,(c,u)=>{let d=yD(e,c,t);u=vt(u);let f=i.Nu(d);if(u instanceof km)o.push(d);else{let v=Uu(u,f);v!=null&&(o.push(d),s.set(d,v))}});let a=new tr(o);return new Nm(s,a,i.fieldTransforms)}function x8(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[qI(e,r,t)],c=[i];if(o.length%2!=0)throw new Z(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(qI(e,o[v])),c.push(o[v+1]);let u=[],d=Pn.empty();for(let v=a.length-1;v>=0;--v)if(!j1(u,a[v])){let m=a[v],D=c[v];D=vt(D);let R=s.Nu(m);if(D instanceof km)u.push(m);else{let A=Uu(D,R);A!=null&&(u.push(m),d.set(m,A))}}let f=new tr(u);return new Nm(d,f,s.fieldTransforms)}function M8(n,e,t,r=!1){return Uu(t,n.Qu(r?4:3,e))}function Uu(n,e){if(L1(n=vt(n)))return vD("Unsupported field value:",e,n),V1(n,e);if(n instanceof Ru)return function(r,i){if(!F1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Uu(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Wt.fromDate(r);return{timestampValue:vm(i.serializer,o)}}if(r instanceof Wt){let o=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vm(i.serializer,o)}}if(r instanceof Nu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mu)return{bytesValue:a1(i.serializer,r._byteString)};if(r instanceof En){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ku)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return oD(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${zm(r)}`)}(n,e)}function V1(n,e){let t={};return LP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(n,(r,i)=>{let o=Uu(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function L1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wt||n instanceof Nu||n instanceof Mu||n instanceof En||n instanceof Ru||n instanceof ku)}function vD(n,e,t){if(!L1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=zm(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function qI(n,e,t){if((e=vt(e))instanceof gc)return e._internalPath;if(typeof e=="string")return yD(n,e);throw Pm("Field path arguments must be of type string or ",n,!1,void 0,t)}var R8=new RegExp("[~\\*/\\[\\]]");function yD(n,e,t){if(e.search(R8)>=0)throw Pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch{throw Pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Z(L.INVALID_ARGUMENT,a+n+c)}function j1(n,e){return n.some(t=>t.isEqual(e))}var Om=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(U1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},GI=class extends Om{data(){return super.data()}};function U1(n,e){return typeof e=="string"?yD(n,e):e instanceof gc?e._internalPath:e._delegate._internalPath}function B1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pu=class{},KI=class extends Pu{};function H1(n,e,...t){let r=[];e instanceof Pu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof QI).length,a=o.filter(c=>c instanceof YI).length;if(s>1||s>0&&a>0)throw new Z(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var YI=class n extends KI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return $1(e._query,t),new Ms(e.firestore,e.converter,BE(e._query,t))}_parse(e){let t=gD(e.firestore);return function(o,s,a,c,u,d,f){let v;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){FP(f,d);let m=[];for(let D of f)m.push(OP(c,o,D));v={arrayValue:{values:m}}}else v=OP(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||FP(f,d),v=M8(a,s,f,d==="in"||d==="not-in");return St.create(u,d,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var QI=class n extends Pu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)$1(s,c),s=BE(s,c)}(e._query,t),new Ms(e.firestore,e.converter,BE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function OP(n,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new Z(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GP(e)&&t.indexOf("/")!==-1)throw new Z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(at.fromString(t));if(!le.isDocumentKey(r))throw new Z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sP(n,new le(r))}if(t instanceof En)return sP(n,t._key);throw new Z(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(t)}.`)}function FP(n,e){if(!Array.isArray(n)||n.length===0)throw new Z(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $1(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Z(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var XI=class{convertValue(e,t="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Rs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>it(s.doubleValue));return new ku(o)}convertGeoPoint(e){return new Nu(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=eD(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){let t=xi(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=at.fromString(e);Be(f1(r));let i=new dm(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(t)||Ai(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function N8(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Is=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fm=class extends Om{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(U1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},rc=class extends Fm{data(e={}){return super.data(e)}},Vm=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new rc(this._firestore,this._userDataWriter,r.key,r,new Is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:k8(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function k8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}var Ou=class extends XI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}};function z1(n){n=Kr(n,Ms);let e=Kr(n.firestore,Ri),t=mD(e),r=new Ou(e);return B1(n._query),D8(t,n._query).then(i=>new Vm(e,r,n,i))}function W1(n,e,t,...r){n=Kr(n,En);let i=Kr(n.firestore,Ri),o=gD(i),s;return s=typeof(e=vt(e))=="string"||e instanceof gc?x8(o,"updateDoc",n._key,e,t,r):A8(o,"updateDoc",n._key,e),_D(i,[s.toMutation(n._key,Si.exists(!0))])}function q1(n){return _D(Kr(n.firestore,Ri),[new bu(n._key,Si.none())])}function G1(n,e){let t=Kr(n.firestore,Ri),r=pD(n),i=N8(n.converter,e);return _D(t,[S8(gD(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}function K1(n,...e){var t,r,i;n=vt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(PP(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof En)u=Kr(n.firestore,Ri),d=iD(n._key.path),c={next:f=>{e[s]&&e[s](P8(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Kr(n,Ms);u=Kr(f.firestore,Ri),d=f._query;let v=new Ou(u);c={next:m=>{e[s]&&e[s](new Vm(u,v,f,m))},error:e[s+1],complete:e[s+2]},B1(n._query)}return function(v,m,D,R){let A=new xm(R),P=new Tm(m,A,D);return v.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return I1(yield HI(v),P)})),()=>{A.Za(),v.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return D1(yield HI(v),P)}))}}(mD(u),d,a,c)}function _D(n,e){return function(r,i){let o=new zr;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return h8(yield I8(r),i,o)})),o.promise}(mD(n),e)}function P8(n,e,t){let r=t.docs.get(e._key),i=new Ou(n);return new Fm(n,i,e._key,r,new Is(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){vc=i})(co),ao(new Zn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ri(new EE(r.getProvider("auth-internal")),new bE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dm(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ct(nP,"4.7.3",e),Ct(nP,"4.7.3","esm2017")})();var Bu=class{constructor(n){return n}},Y1="firestore",F8=class{constructor(){return Zl(Y1)}};var wD=new ne("angularfire2.firestore-instances");function V8(n,e){let t=sp(Y1,n,e);return t&&new Bu(t)}function L8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Bu(r)}}var j8={provide:F8,deps:[[new Xt,wD]]},U8={provide:Bu,useFactory:V8,deps:[[new Xt,wD],ds]};function Q1(n,...e){return Ct("angularfire",us.full,"fst"),Tn([U8,j8,{provide:wD,useFactory:L8(n),multi:!0,deps:[Se,Ft,Ua,Jl,[new Xt,S0],[new Xt,ap],...e]}])}var ED=Pt(G1,!0);var _c=Pt(P1,!0);var X1=Pt(q1,!0);var Wm=Pt(pD,!0);var ks=Pt(z1,!0);var Z1=Pt(O1,!0);var J1=Pt(K1,!0);var eO=Pt(H1,!0);var ID=Pt(W1,!0);var bo=(()=>{class n{auth;fireStore;reportSignal=Wn([]);bibleStudySignal=Wn([]);constructor(t,r){this.auth=t,this.fireStore=r,this.listenToReports()}listenToReports(){let t=this.auth.currentUser;if(!t)return;let r=_c(this.fireStore,"users",t.uid,"reports"),i=eO(r);J1(i,o=>{let s=o.docs.map(a=>H({id:a.id},a.data()));this.reportSignal.set(s)})}createReport(t){return w(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");let i=_c(this.fireStore,"users",r.uid,"reports");yield ED(i,t),console.log("Report added successfully")}catch(r){throw console.error("Error creating report:",r),r}})}getReports(){return w(this,null,function*(){try{let t=this.auth.currentUser;if(!t)throw new Error("User not logged in");let r=_c(this.fireStore,"users",t.uid,"reports"),i;try{i=yield ks(r),i.empty?(console.log("Cache is empty, fetching from Firestore..."),i=yield ks(r)):console.log("Loaded from cache")}catch(s){console.warn("Cache unavailable, fetching from Firestore...",s),i=yield ks(r)}let o=i.docs.map(s=>H({id:s.id},s.data()));return this.reportSignal.set(o),o}catch(t){throw console.error("Error getting reports:",t),t}})}updateReport(t){return w(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");if(!t?.id)throw new Error("Report ID is required");let i=Wm(this.fireStore,"users",r.uid,"reports",t.id);yield ID(i,H({},t))}catch(r){throw console.error("Error updating report:",r),r}})}addStudy(t){return w(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");let i=_c(this.fireStore,"users",r.uid,"bibleStudies"),o=yield ED(i,t);this.bibleStudySignal.set([...this.bibleStudySignal(),H({id:o.id},t)]),console.log("Bible study added successfully:",o.id)}catch(r){throw console.error("Error adding study:",r),r}})}getBibleStudies(){return w(this,null,function*(){try{let t=this.auth.currentUser;if(!t)throw new Error("User not logged in");let r=_c(this.fireStore,"users",t.uid,"bibleStudies"),i;try{i=yield ks(r),i.empty?(console.log("Cache is empty, fetching from Firestore..."),i=yield ks(r)):console.log("Loaded from cache")}catch(s){console.warn("Cache unavailable, fetching from Firestore...",s),i=yield ks(r)}let o=i.docs.map(s=>H({id:s.id},s.data()));return this.bibleStudySignal.set(o),o}catch(t){throw console.error("Error getting studies:",t),t}})}deleteStudy(t){return w(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");if(!t?.id)throw new Error("Study ID is required");let i=Wm(this.fireStore,"users",r.uid,"bibleStudies",t.id);yield X1(i),console.log("Study deleted successfully")}catch(r){throw console.error("Error deleting study:",r),r}})}updateStudy(t){return w(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");if(!t?.id)throw new Error("Study ID is required");let i=Wm(this.fireStore,"users",r.uid,"bibleStudies",t.id);yield ID(i,H({},t))}catch(r){throw console.error("Error updating study:",r),r}})}static \u0275fac=function(r){return new(r||n)(ue(kn),ue(Bu))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Gm=(()=>{class n{constructor(){}calculateDaysAgo(t){if(!t||!t.seconds)return 0;let r=new Date(t.seconds*1e3),o=Math.abs(new Date().getTime()-r.getTime());return Math.ceil(o/(1e3*60*60*24))}formatDate(t){return!t||!t.seconds?"Invalid Date":new Date(t.seconds*1e3).toLocaleDateString("en-US",{year:"numeric",month:"long"})}formatDateToHumanReadable(t){return!t||!t.seconds?"Invalid Date":new Date(t.seconds*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}formatDateTime(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nO=n=>({"opacity-50 cursor-not-allowed":n});function H8(n,e){n&1&&(S(0,"div",5),se(1,"div",6),x())}function $8(n,e){if(n&1){let t=Fe();S(0,"mwl-calendar-month-view",15),re("dayClicked",function(i){G(t);let o=V(2);return K(o.dayClicked(i.day))}),x()}if(n&2){let t=V(2);F("viewDate",t.viewDate)("events",t.events)}}function z8(n,e){if(n&1&&se(0,"mwl-calendar-week-view",16),n&2){let t=V(2);F("viewDate",t.viewDate)("events",t.events)}}function W8(n,e){if(n&1&&se(0,"mwl-calendar-day-view",16),n&2){let t=V(2);F("viewDate",t.viewDate)("events",t.events)}}function q8(n,e){if(n&1){let t=Fe();S(0,"div")(1,"div",7)(2,"button",8),re("click",function(){G(t);let i=V();return K(i.previousMonth())}),j(3," \u25C0 "),x(),S(4,"h2",9),j(5),Ze(6,"date"),x(),S(7,"button",8),re("click",function(){G(t);let i=V();return K(i.nextMonth())}),j(8," \u25B6 "),x()(),S(9,"div",10)(10,"button",11),re("click",function(){G(t);let i=V();return K(i.viewMode="month")}),j(11," Month "),x(),S(12,"button",11),re("click",function(){G(t);let i=V();return K(i.viewMode="week")}),j(13," Week "),x(),S(14,"button",11),re("click",function(){G(t);let i=V();return K(i.viewMode="day")}),j(15," Day "),x()(),S(16,"div",12),Y(17,$8,1,2,"mwl-calendar-month-view",13)(18,z8,1,2,"mwl-calendar-week-view",14)(19,W8,1,2,"mwl-calendar-day-view",14),x()()}if(n&2){let t=V();k(5),Rt(wn(6,16,t.viewDate,"MMMM yyyy")),k(5),wt("bg-green-600",t.viewMode==="month")("text-white",t.viewMode==="month"),k(2),wt("bg-green-600",t.viewMode==="week")("text-white",t.viewMode==="week"),k(2),wt("bg-green-600",t.viewMode==="day")("text-white",t.viewMode==="day"),k(3),F("ngIf",t.viewMode==="month"),k(),F("ngIf",t.viewMode==="week"),k(),F("ngIf",t.viewMode==="day")}}function G8(n,e){if(n&1){let t=Fe();S(0,"div",20)(1,"label",29),j(2,"Did you participate in the ministry today?"),x(),S(3,"input",30),gt("ngModelChange",function(i){G(t);let o=V(2);return Et(o.joined_ministry,i)||(o.joined_ministry=i),K(i)}),x()()}if(n&2){let t=V(2);k(3),mt("ngModel",t.joined_ministry)}}function K8(n,e){if(n&1){let t=Fe();S(0,"div",20)(1,"label",29),j(2,"Did you participate in the ministry today?"),x(),S(3,"select",31),gt("ngModelChange",function(i){G(t);let o=V(2);return Et(o.joined_ministry,i)||(o.joined_ministry=i),K(i)}),S(4,"option",32),j(5,"Yes"),x(),S(6,"option",33),j(7,"No"),x()()()}if(n&2){let t=V(2);k(3),mt("ngModel",t.joined_ministry)}}function Y8(n,e){n&1&&(S(0,"div",34)(1,"p",35),j(2,"No modifications detected. The system will not commit any updates."),x()())}function Q8(n,e){n&1&&(S(0,"div",34)(1,"p",35),j(2,"Warning: Please verify your input carefully."),x()())}function X8(n,e){if(n&1){let t=Fe();Qo(0),S(1,"button",36),re("click",function(){G(t);let i=V(2);return K(i.updateReport())}),j(2,"Update"),x(),Xo()}if(n&2){let t=V(2);k(),F("disabled",t.hours==0||!t.joined_ministry)("ngClass",qn(2,nO,t.hours==0||!t.joined_ministry))}}function Z8(n,e){if(n&1){let t=Fe();S(0,"button",36),re("click",function(){G(t);let i=V(2);return K(i.saveReport())}),j(1,"Save"),x()}if(n&2){let t=V(2);F("disabled",t.hours==0||!t.joined_ministry)("ngClass",qn(2,nO,t.hours==0||!t.joined_ministry))}}function J8(n,e){if(n&1){let t=Fe();S(0,"div",17)(1,"div",18)(2,"h3",19),j(3),Ze(4,"date"),x(),S(5,"form")(6,"div",20)(7,"label",21),j(8,"Hours"),x(),S(9,"input",22),gt("ngModelChange",function(i){G(t);let o=V();return Et(o.hours,i)||(o.hours=i),K(i)}),x()(),Y(10,G8,4,1,"div",23)(11,K8,8,1,"ng-template",null,0,Vt),S(13,"div",20)(14,"label",24),j(15,"Notes "),S(16,"span"),j(17,"(Optional)"),x()(),S(18,"textarea",25),gt("ngModelChange",function(i){G(t);let o=V();return Et(o.note,i)||(o.note=i),K(i)}),j(19,"                "),x()(),Y(20,Y8,3,0,"div",26)(21,Q8,3,0,"div",26),x(),Y(22,X8,3,4,"ng-container",27)(23,Z8,2,4,"ng-template",null,1,Vt),S(25,"button",28),re("click",function(){G(t);let i=V();return K(i.closeModal())}),j(26,"Close"),x()()()}if(n&2){let t=nt(12),r=nt(24),i=V();k(3),Nt("Report for ",wn(4,9,i.selectedDate,"fullDate"),""),k(6),mt("ngModel",i.hours),k(),F("ngIf",i.hasExistingEvent)("ngIfElse",t),k(8),mt("ngModel",i.note),k(2),F("ngIf",i.noChangeDetected),k(),F("ngIf",!i.noChangeDetected),k(),F("ngIf",i.hasExistingEvent)("ngIfElse",r)}}var rO=(()=>{class n{api;util;viewDate=new Date;selectedDate=null;events=[];viewMode="month";hours=0;joined_ministry="";notes="";report_date="";created_at="";updated_at="";isLoading=!1;hasExistingEvent=!1;report_id="";note="";noChangeDetected=!1;constructor(t,r){this.api=t,this.util=r}ngOnInit(){this.loadReports()}dayClicked(t){return w(this,null,function*(){this.selectedDate=t.date;let r=this.events.find(i=>i.start.toDateString()===this.selectedDate?.toDateString());this.hasExistingEvent=!!r,r?(this.hours=parseInt(r.title.split(" ")[0],10),this.report_id=r.meta.report_id,this.selectedDate=r.start,this.joined_ministry=this.util.capitalizeFirstLetter(r.meta.joined_ministry),this.note=r.meta.notes):this.reInitializeVariables()})}loadReports(){return w(this,null,function*(){this.isLoading=!0,yield this.api.getReports().then(t=>{this.events=t.map(r=>(this.report_id=r.id,{title:r.hours+" Hours",start:new Date(r.report_date.seconds*1e3),color:{primary:"#008000",secondary:"#90EE90"},meta:{report_id:r.id,notes:r.notes,joined_ministry:r.is_joined_ministry}}))}).catch(t=>{console.error("Error fetching reports:",t),this.isLoading=!1}),this.isLoading=!1})}saveReport(){return w(this,null,function*(){if(!this.selectedDate)return;let t={hours:this.hours,is_joined_ministry:this.joined_ministry,notes:this.note,report_date:this.selectedDate,created_at:new Date,updated_at:new Date};try{yield this.api.createReport(t),this.noChangeDetected=!1,this.selectedDate=null,yield this.loadReports(),this.reInitializeVariables()}catch(r){console.error("Error saving report:",r)}})}updateReport(){return w(this,null,function*(){if(!this.selectedDate)return;let t=this.events.find(i=>i.start.toDateString()===this.selectedDate?.toDateString());if(t){let i=parseInt(t.title.split(" ")[0],10),o=t.meta.joined_ministry,s=t.meta.notes;if(i===this.hours&&o===this.joined_ministry&&s===this.note){this.noChangeDetected=!0;return}}let r={id:this.report_id,hours:this.hours,is_joined_ministry:this.joined_ministry,notes:this.note,report_date:this.selectedDate,created_at:new Date,updated_at:new Date};try{yield this.api.updateReport(r),this.noChangeDetected=!1,this.selectedDate=null,yield this.loadReports(),this.reInitializeVariables()}catch(i){console.error("Error updating report:",i)}})}previousMonth(){this.viewDate=Jp(this.viewDate,1)}nextMonth(){this.viewDate=Qa(this.viewDate,1)}closeModal(){this.selectedDate=null,this.noChangeDetected=!1}reInitializeVariables(){this.hours=0,this.joined_ministry="",this.notes="",this.report_date="",this.created_at="",this.updated_at="",this.report_id="",this.note=""}get dayOfWeek(){return this.viewDate.toLocaleDateString("en-US",{weekday:"short"})}static \u0275fac=function(r){return new(r||n)(O(bo),O(Gm))};static \u0275cmp=xe({type:n,selectors:[["app-calendar"]],standalone:!0,features:[ht],decls:3,vars:3,consts:[["noEvent",""],["noExistingEvent",""],["class","flex justify-center items-center min-h-screen",4,"ngIf"],[4,"ngIf"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-4","border-blue-500"],[1,"flex","justify-between","items-center","mb-4"],[1,"px-4","py-2","bg-gray-300","text-gray-800","rounded","hover:bg-gray-400",3,"click"],[1,"text-xl","font-semibold"],[1,"flex","space-x-2","bg-gray-100","p-1","rounded-lg"],[1,"px-4","py-2","rounded-lg","transition-colors","duration-200","text-gray-800","hover:bg-green-500","hover:text-white",3,"click"],[1,"calendar-container"],[3,"viewDate","events","dayClicked",4,"ngIf"],[3,"viewDate","events",4,"ngIf"],[3,"dayClicked","viewDate","events"],[3,"viewDate","events"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50"],[1,"bg-white","p-4","rounded","shadow-lg","sm:w-full","md:w-1/2","lg:w-1/3","xl:w-1/3","max-h-full","overflow-auto"],[1,"text-lg","font-medium","mb-2"],[1,"mb-4"],["for","hours",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","hours","name","title",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["class","mb-4",4,"ngIf","ngIfElse"],["for","note",1,"block","text-sm","font-medium","text-gray-700"],["id","note","name","note","rows","5",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["class","mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-700",3,"click"],["for","is_joined_ministry",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","is_joined_ministry","name","is_joined_ministry","readonly","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["id","is_joined_ministry","name","is_joined_ministry",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","yes"],["value","no"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700"],[1,"text-sm"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-700","me-2",3,"click","disabled","ngClass"]],template:function(r,i){r&1&&Y(0,H8,2,0,"div",2)(1,q8,20,19,"div",3)(2,J8,27,12,"div",4),r&2&&(F("ngIf",i.isLoading),k(),F("ngIf",!i.isLoading),k(),F("ngIf",i.selectedDate))},dependencies:[Jk,dk,iE,hk,Ke,tn,st,Ix,Ur,Zf,Jf,ep,Xn,Oa,jr,Qf,wr,Wl],styles:[".custom-day-cell[_ngcontent-%COMP%]{text-align:center;padding:5px;min-height:50px}.event-box[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:3px;margin-top:3px;border-radius:4px;font-size:12px}@media (max-width: 600px){.cal-day-cell[_ngcontent-%COMP%]{min-height:50px;font-size:10px}}"]})}return n})();var e7=(n,e)=>({"text-blue-500 border-b-2 border-blue-500 scale-105":n,"text-gray-500":e});function t7(n,e){if(n&1){let t=Fe();S(0,"div",4),re("click",function(){let i=G(t).$implicit,o=V();return K(o.selectTab(i.id))}),S(1,"div",5),se(2,"i"),j(3),x()()}if(n&2){let t=e.$implicit,r=V();F("ngClass",kt(4,e7,r.activeTab===t.id,r.activeTab!==t.id)),k(2),kA(t.icon),k(),Nt(" ",t.title,"")}}var iO=(()=>{class n{tabChange=new J;activeTab="calendar";tabs=[{id:"calendar",title:"Calendar",icon:"bi bi-calendar-fill",description:"View upcoming events"},{id:"reports",title:"Reports",icon:"bi bi-clipboard2-data",description:"Track your progress"},{id:"other",title:"Settings",icon:"bi bi-gear-fill",description:"Customize options"}];getActiveTabTitle(){let t=this.tabs.find(r=>r.id===this.activeTab);return t?t.title:""}selectTab(t){this.activeTab=t,this.tabChange.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=xe({type:n,selectors:[["app-tab-card"]],outputs:{tabChange:"tabChange"},standalone:!0,features:[ht],decls:4,vars:1,consts:[[1,"flex","flex-col","items-center","py-4","space-y-6","w-full","max-w-3xl","mx-auto"],[1,"bg-white","shadow-md","border-t","border-gray-200","w-full"],[1,"flex","justify-around","p-4"],["class","flex flex-col items-center cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","cursor-pointer",3,"click","ngClass"],[1,"text-lg","font-semibold"]],template:function(r,i){r&1&&(S(0,"div",0)(1,"div",1)(2,"div",2),Y(3,t7,4,7,"div",3),x()()()),r&2&&(k(3),F("ngForOf",i.tabs))},dependencies:[Ke,tn,Kn]})}return n})();function n7(n,e){if(n&1){let t=Fe();S(0,"div",11),se(1,"hr"),S(2,"button",12),re("click",function(){G(t);let i=V();return K(i.signOut())}),j(3,"Sign Out"),x()()}}var oO=(()=>{class n{authService;dropdownOpen=!1;userData;constructor(t){this.authService=t,this.authService.user$.subscribe(r=>{this.userData=r})}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}signOut(){this.authService.logout()}static \u0275fac=function(r){return new(r||n)(O(mo))};static \u0275cmp=xe({type:n,selectors:[["app-header"]],standalone:!0,features:[ht],decls:13,vars:2,consts:[[1,"bg-white","shadow-md","py-4","px-6","flex","items-center","justify-between","sticky","top-0","z-10"],[1,"flex","items-center"],[1,"ml-4","text-xl","font-semibold","text-gray-800"],[1,"text-xl","font-bold","text-transparent","bg-clip-text","bg-gradient-to-r","from-blue-400","to-purple-500"],[1,"relative",3,"click"],[1,"flex","items-center","space-x-3","focus:outline-none"],[1,"bi","bi-person-circle","text-gray-800","text-2xl"],[1,"text-gray-800","font-medium","hidden","sm:block"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg z-10",4,"ngIf"],[1,"absolute","right-0","mt-2","w-48","bg-white","border","rounded-lg","shadow-lg","z-10"],[1,"w-full","text-left","px-4","py-2","text-red-600","hover:bg-gray-100",3,"click"]],template:function(r,i){r&1&&(S(0,"header",0)(1,"div",1)(2,"h1",2)(3,"span",3),j(4,"Field Service Tracker"),x()()(),S(5,"div",4),re("click",function(){return i.toggleDropdown()}),S(6,"button",5),se(7,"i",6),S(8,"span",7),j(9),x(),al(),S(10,"svg",8),se(11,"path",9),x()(),Y(12,n7,4,0,"div",10),x()()),r&2&&(k(9),Rt(i.userData==null?null:i.userData.email),k(3),F("ngIf",i.dropdownOpen))},dependencies:[Ke,st]})}return n})();function r7(n,e){n&1&&se(0,"i",23)}function i7(n,e){n&1&&se(0,"i",24)}function o7(n,e){if(n&1&&(S(0,"div",10)(1,"div",11),j(2," Monthly Report "),x(),S(3,"div",12),se(4,"i",13),S(5,"h3",14),j(6),x()(),S(7,"div",15),se(8,"i",16),S(9,"p",17),j(10,"Hours: "),S(11,"span",18),j(12),x()()(),S(13,"div",19),se(14,"i",20),S(15,"p",17),j(16,"Participated in Ministry: \xA0 "),S(17,"span",18),Y(18,r7,1,0,"i",21)(19,i7,1,0,"i",22),x()()()()),n&2){let t=e.$implicit;k(6),Rt(t.monthYear),k(6),Rt(t.hours),k(6),F("ngIf",t.is_joined_ministry),k(),F("ngIf",!t.is_joined_ministry)}}function s7(n,e){if(n&1&&(S(0,"div"),Y(1,o7,20,4,"div",9),x()),n&2){let t=V();k(),F("ngForOf",t.filteredReports())}}function a7(n,e){n&1&&(S(0,"div",25)(1,"div",26)(2,"p",27),j(3,"You have no reports for this month."),x(),se(4,"i",28),x()())}function c7(n,e){n&1&&(S(0,"div",29)(1,"p",27),j(2,"You have no Bible studies recorded."),x(),se(3,"i",28),x())}function l7(n,e){if(n&1){let t=Fe();S(0,"tr",34),re("click",function(){let i=G(t).$implicit,o=V(2);return K(o.editStudy(i))}),S(1,"td",35),j(2),x(),S(3,"td",35),j(4),x()()}if(n&2){let t=e.$implicit;k(2),Rt(t.bible_study),k(2),Rt(t.schedule)}}function u7(n,e){if(n&1&&(S(0,"table",30)(1,"thead",31)(2,"tr")(3,"th",32),j(4,"Name"),x(),S(5,"th",32),j(6,"Schedule"),x()()(),S(7,"tbody"),Y(8,l7,5,2,"tr",33),x()()),n&2){let t=V();k(8),F("ngForOf",t.api.bibleStudySignal())}}function d7(n,e){if(n&1&&(S(0,"span"),j(1),S(2,"small",55),j(3),x()()),n&2){let t=V(2);k(),Nt(" Last Studied On: ",t.util.formatDateToHumanReadable(t.studySelected.updated_at)," "),k(2),Qy(" (",t.util.calculateDaysAgo(t.studySelected.updated_at)," ",t.util.calculateDaysAgo(t.studySelected.updated_at)===1?"day":"days"," ago) ")}}function h7(n,e){n&1&&(S(0,"em",56),j(1,"No recent study activity detected!"),x())}function f7(n,e){if(n&1){let t=Fe();Qo(0),S(1,"div",36)(2,"div",37)(3,"div",38)(4,"div")(5,"h3",39),se(6,"i",40),j(7),x(),S(8,"span",41),j(9),x()(),S(10,"div",42)(11,"button",43),re("click",function(){G(t);let i=V();return K(i.deleteStudy(i.studySelected))}),se(12,"i",44),x(),S(13,"button",45),re("click",function(){G(t);let i=V();return K(i.closeStudyDetails())}),se(14,"i",46),x()()(),S(15,"div",47)(16,"p",48),j(17,"Address"),x(),S(18,"p",49),j(19),x()(),S(20,"div",47)(21,"p",48),j(22,"Schedule"),x(),S(23,"p",49),j(24),x()(),S(25,"div",47)(26,"label",50),j(27,"Next Lesson "),S(28,"small"),j(29,"(e.g., Lesson 1: Title)"),x()(),S(30,"textarea",51),gt("ngModelChange",function(i){G(t);let o=V();return Et(o.next_lesson,i)||(o.next_lesson=i),K(i)}),x()(),S(31,"p",52),Y(32,d7,4,3,"span",3)(33,h7,2,0,"ng-template",null,1,Vt),x(),S(35,"div",53)(36,"button",54),re("click",function(){G(t);let i=V();return K(i.updateStudy(i.studySelected))}),j(37," Save "),x()()()(),Xo()}if(n&2){let t=nt(34),r=V();k(7),Nt(" ",r.studySelected.bible_study," "),k(2),Nt(" ",r.studySelected.type==="rv"?"Return Visit":"Bible Study"," "),k(10),Rt(r.studySelected.address),k(5),Rt(r.studySelected.schedule),k(6),mt("ngModel",r.next_lesson),k(2),F("ngIf",(r.studySelected==null?null:r.studySelected.updated_at)&&r.util.calculateDaysAgo(r.studySelected.updated_at)>0)("ngIfElse",t)}}function p7(n,e){if(n&1){let t=Fe();Qo(0),S(1,"div",36)(2,"div",57)(3,"div",58)(4,"h3",59),j(5,"Confirm Deletion"),x(),S(6,"button",45),re("click",function(){G(t);let i=V();return K(i.closeDeleteModal())}),se(7,"i",46),x()(),S(8,"p",60),j(9,"Are you sure you want to delete this study?"),x(),S(10,"div",61)(11,"button",62),re("click",function(){G(t);let i=V();return K(i.confirmDelete())}),j(12," Yes "),x(),S(13,"button",63),re("click",function(){G(t);let i=V();return K(i.closeDeleteModal())}),j(14," No "),x()()()(),Xo()}}var sO=(()=>{class n{api;util;reports;bibleStudies=[];studySelected=null;isSelected=!1;studyDelete=!1;next_lesson="";constructor(t,r){this.api=t,this.util=r,this.reports=this.api.reportSignal(),this.bibleStudies=this.api.bibleStudySignal()}loadBibLeStudies(){return w(this,null,function*(){yield this.api.getBibleStudies().then(()=>{}).catch(t=>{console.error("Error loading bible studies:",t)})})}aggregatedReports=Jo(()=>{let t={};return this.reports.forEach(r=>{if(!r.report_date)return;let i=new Date(r.report_date.seconds*1e3),o=`${i.getFullYear()}-${i.getMonth()+1}`;t[o]||(t[o]={hours:0,minutes:0,monthYear:this.util.formatDate(r.report_date),is_joined_ministry:r.is_joined_ministry}),t[o].hours+=parseInt(r.hours,10)||0,t[o].minutes+=parseInt(r.minutes,10)||0}),Object.values(t).forEach(r=>{r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60}),Object.values(t)});filteredReports(){let t=this.aggregatedReports();return!t||t.length===0?[]:(t.sort((r,i)=>new Date(i.monthYear).getTime()-new Date(r.monthYear).getTime()),t.slice(0,2))}editStudy(t){this.isSelected=!0,this.studySelected=t,this.next_lesson=t.lesson}closeStudyDetails(){this.isSelected=!1,this.studySelected=null}deleteStudy(t){this.studyDelete=!0,this.studySelected=t}confirmDelete(){return w(this,null,function*(){if(this.studyDelete=!1,!this.studySelected?.id)return;let t=this.studySelected;console.log("Deleting study:",t),yield this.api.deleteStudy(t).then(()=>{this.loadBibLeStudies()}).catch(r=>{console.error("Error deleting study:",r)}),this.closeStudyDetails()})}closeDeleteModal(){this.studyDelete=!1}updateStudy(t){if(this.isSelected=!1,this.studySelected=null,this.next_lesson===t.lesson)return;let r={bible_study:t.bible_study,address:t.address,schedule:t.schedule,type:t.type,lesson:this.next_lesson,updated_at:new Date,id:t.id};this.api.updateStudy(r).then(()=>{this.loadBibLeStudies()}).catch(i=>{console.error("Error updating study:",i)})}static \u0275fac=function(r){return new(r||n)(O(bo),O(Gm))};static \u0275cmp=xe({type:n,selectors:[["app-reports"]],standalone:!0,features:[ht],decls:11,vars:6,consts:[["noReports",""],["noDate",""],[1,""],[4,"ngIf","ngIfElse"],[1,"mt-6"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],["class","mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 flex items-center justify-between shadow-md",4,"ngIf"],["class","min-w-full bg-white shadow-md rounded-lg overflow-hidden",4,"ngIf"],[4,"ngIf"],["class","relative p-6 bg-white shadow-md rounded-xl border border-gray-300 transition duration-300 hover:shadow-2xl hover:border-gray-400 mt-3",4,"ngFor","ngForOf"],[1,"relative","p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3"],[1,"absolute","top-2","right-2","px-3","py-1","bg-blue-100","text-blue-600","text-xs","font-medium","rounded-full","shadow-sm"],[1,"flex","items-center","gap-3","border-b","pb-3","mb-3"],[1,"bi","bi-calendar-event","text-indigo-500","text-2xl"],[1,"text-xl","font-bold","text-gray-800"],[1,"flex","items-center","gap-3","border-b","pb-2","mb-2"],[1,"bi","bi-clock","text-blue-500","text-xl"],[1,"text-gray-700"],[1,"font-semibold","text-gray-900"],[1,"flex","items-center","gap-3"],[1,"bi","bi-people-fill","text-blue-500","text-lg"],["class","bi bi-check-circle-fill text-green-500",4,"ngIf"],["class","bi bi-x-circle-fill text-red-500",4,"ngIf"],[1,"bi","bi-check-circle-fill","text-green-500"],[1,"bi","bi-x-circle-fill","text-red-500"],[1,"col-span-full"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700","flex","align-items-center","justify-between","shadow-md"],[1,"text-base"],[1,"bi","bi-exclamation-circle-fill","text-yellow-500","text-xl"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700","flex","items-center","justify-between","shadow-md"],[1,"min-w-full","bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"bg-gray-200"],[1,"py-2","px-4","text-left","text-gray-600","font-semibold"],["class","cursor-pointer hover:bg-gray-100 transition duration-300",3,"click",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover:bg-gray-100","transition","duration-300",3,"click"],[1,"py-2","px-4","border-b","border-gray-200"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3","relative","w-full","max-w-lg"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-lg","font-semibold","text-gray-800"],[1,"bi","bi-person-fill","text-2xl","text-green-700"],[1,"px-2","py-1","bg-blue-100","text-blue-600","text-xs","font-medium","rounded-full","shadow-sm"],[1,"absolute","top-4","right-4","flex","space-x-2"],[1,"text-white","bg-red-700","px-2","rounded-sm","me-2",3,"click"],[1,"bi","bi-trash","font-bold"],[1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"bi","bi-x-lg"],[1,"mb-2","p-2","bg-gray-100","rounded-lg"],[1,"text-gray-700","font-medium","mb-1"],[1,"text-gray-900"],[1,"block","text-gray-700","font-medium","mb-1"],[1,"w-full","p-1","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"mb-2"],[1,"flex","justify-start"],[1,"text-white","bg-blue-700","p-2","rounded-md","mr-3",3,"click"],[1,"text-gray-500"],[1,"ml-2","text-yellow-600"],[1,"p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3","relative","w-full","max-w-md"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-700","mb-6"],[1,"flex","justify-end"],[1,"text-white","bg-red-700","p-2","rounded-md","mr-3",3,"click"],[1,"text-gray-500","hover:text-gray-700","p-2","rounded-md",3,"click"]],template:function(r,i){if(r&1&&(S(0,"div",2),Y(1,s7,2,1,"div",3)(2,a7,5,0,"ng-template",null,0,Vt),x(),S(4,"div",4)(5,"h2",5),j(6,"Bible Studies / Return Visits"),x(),Y(7,c7,4,0,"div",6)(8,u7,9,1,"table",7),x(),Y(9,f7,38,7,"ng-container",8)(10,p7,15,0,"ng-container",8)),r&2){let o=nt(3);k(),F("ngIf",i.aggregatedReports().length>0)("ngIfElse",o),k(6),F("ngIf",i.api.bibleStudySignal().length===0),k(),F("ngIf",i.api.bibleStudySignal().length>0),k(),F("ngIf",i.studySelected),k(),F("ngIf",i.studyDelete)}},dependencies:[Ke,Kn,st,Ur,Xn,jr,wr]})}return n})();function m7(n,e){if(n&1&&(S(0,"div",2)(1,"p",3),j(2),x()()),n&2){let t=V();k(2),Rt(t.alertMessage)}}function g7(n,e){if(n&1&&(S(0,"div",4)(1,"p",3),j(2),x()()),n&2){let t=V();k(2),Nt("",t.alertMessage," ")}}var aO=(()=>{class n{isSuccess=!1;alertMessage="";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=xe({type:n,selectors:[["app-alerts"]],inputs:{isSuccess:"isSuccess",alertMessage:"alertMessage"},standalone:!0,features:[ht],decls:2,vars:2,consts:[["class","mb-4 p-2 bg-green-100 border-l-4 border-green-500 text-green-700",4,"ngIf"],["class","mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",4,"ngIf"],[1,"mb-4","p-2","bg-green-100","border-l-4","border-green-500","text-green-700"],[1,"text-sm"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700"]],template:function(r,i){r&1&&Y(0,m7,3,1,"div",0)(1,g7,3,1,"div",1),r&2&&(F("ngIf",i.isSuccess),k(),F("ngIf",!i.isSuccess))},dependencies:[Ke,st]})}return n})();var v7=n=>({"opacity-50 cursor-not-allowed":n});function y7(n,e){if(n&1&&(S(0,"div"),se(1,"app-alerts",31),x()),n&2){let t=V();k(),F("isSuccess",t.isSuccess)("alertMessage",t.alertMessage)}}function _7(n,e){if(n&1&&(S(0,"div"),se(1,"app-alerts",31),x()),n&2){let t=V();k(),F("isSuccess",t.isSuccess)("alertMessage",t.alertMessage)}}function w7(n,e){n&1&&se(0,"span",32)}var cO=(()=>{class n{api;bible_study="";address="";schedule=null;type="rv";next_lesson="";isSuccess=!1;isLoading=!1;alertMessage="Warning: Please verify your input carefully.";constructor(t){this.api=t}onSubmit(){return w(this,null,function*(){this.isLoading=!0;let t={bible_study:this.bible_study,address:this.address,schedule:this.schedule,type:this.type,lesson:this.next_lesson,updated_at:new Date};try{yield this.api.addStudy(t),this.bible_study="",this.address="",this.schedule=null,this.type="",this.next_lesson="",this.isSuccess=!0,this.alertMessage="Study added! View reports section."}catch(r){console.error("Error submitting data",r),this.isSuccess=!1,this.alertMessage="Error submitting data",this.isLoading=!1}this.isLoading=!1})}static \u0275fac=function(r){return new(r||n)(O(bo))};static \u0275cmp=xe({type:n,selectors:[["app-settings"]],standalone:!0,features:[ht],decls:59,vars:12,consts:[[1,"settings-container","p-6","bg-gray-100","rounded-lg","shadow-md"],[1,"text-2xl","font-bold"],[1,"text-gray-500"],[1,"setting-item","mb-4","mt-4"],["for","theme",1,"block","text-sm","font-medium","text-gray-700"],["id","theme","name","theme","disabled","",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","light"],["value","dark"],[1,"setting-item","mb-4"],["for","language",1,"block","text-sm","font-medium","text-gray-700"],["id","language","name","language","disabled","",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","en"],[1,"bg-white","mt-4"],[1,"max-w-7xl","mx-auto"],[1,"font-bold","text-2xl"],[1,"mt-3","mb-4"],["for","bible-study",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","bible-study","name","bible-study","placeholder","Name",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mb-4"],["for","lesson",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","address","name","address","placeholder","Address",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","type",1,"block","text-sm","font-medium","text-gray-700"],["id","type","name","type",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","rv"],["value","bs"],["for","schedule",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","schedule","name","schedule","placeholder","Schedule",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["id","lesson","name","next_lesson","rows","5","placeholder","Next lesson",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded",3,"click","disabled","ngClass"],["class","animate-spin rounded-full h-4 w-4 border-t-2 border-white inline-block mr-2",4,"ngIf"],[3,"isSuccess","alertMessage"],[1,"animate-spin","rounded-full","h-4","w-4","border-t-2","border-white","inline-block","mr-2"]],template:function(r,i){r&1&&(S(0,"div",0)(1,"h1",1),j(2,"App Settings (Default)"),x(),S(3,"small",2),j(4,"This section is not editable for now."),x(),S(5,"div",3)(6,"label",4),j(7,"Theme:"),x(),S(8,"select",5)(9,"option",6),j(10,"Light"),x(),S(11,"option",7),j(12,"Dark"),x()()(),S(13,"div",8)(14,"label",9),j(15,"Language:"),x(),S(16,"select",10)(17,"option",11),j(18,"English"),x()()()(),S(19,"div",12)(20,"div",13)(21,"h1",14),j(22,"Bible Study / Return Visit"),x(),S(23,"small",2),j(24,"Add a new Bible Study or Return Visit"),x(),S(25,"Form")(26,"div",15)(27,"label",16),j(28,"Name"),x(),S(29,"input",17),gt("ngModelChange",function(s){return Et(i.bible_study,s)||(i.bible_study=s),s}),x()(),S(30,"div",18)(31,"label",19),j(32,"Address"),x(),S(33,"input",20),gt("ngModelChange",function(s){return Et(i.address,s)||(i.address=s),s}),x()(),S(34,"div",18)(35,"label",21),j(36,"Type"),x(),S(37,"select",22),gt("ngModelChange",function(s){return Et(i.type,s)||(i.type=s),s}),S(38,"option",23),j(39,"Return Visit"),x(),S(40,"option",24),j(41,"Bible Study"),x()()(),S(42,"div",18)(43,"label",25),j(44,"Schedule "),S(45,"small"),j(46,"(e.g., Thursday, 10 AM)"),x()(),S(47,"input",26),gt("ngModelChange",function(s){return Et(i.schedule,s)||(i.schedule=s),s}),x()(),S(48,"div",18)(49,"label",19),j(50,"Next Topic / Lesson "),S(51,"small"),j(52,"(e.g., Chapter 1, Title, Point Number)"),x()(),S(53,"textarea",27),gt("ngModelChange",function(s){return Et(i.next_lesson,s)||(i.next_lesson=s),s}),x()(),Y(54,y7,2,2,"div",28)(55,_7,2,2,"div",28),S(56,"button",29),re("click",function(){return i.onSubmit()}),Y(57,w7,1,0,"span",30),j(58," Save "),x()()()()),r&2&&(k(29),mt("ngModel",i.bible_study),k(4),mt("ngModel",i.address),k(4),mt("ngModel",i.type),k(10),mt("ngModel",i.schedule),k(6),mt("ngModel",i.next_lesson),k(),F("ngIf",i.isSuccess),k(),F("ngIf",!i.isSuccess),k(),F("disabled",i.isLoading||!i.bible_study||!i.address||!i.schedule||!i.next_lesson)("ngClass",qn(10,v7,!i.bible_study||!i.address||!i.schedule||!i.next_lesson)),k(),F("ngIf",i.isLoading))},dependencies:[Ke,tn,st,Ur,Jf,ep,Xn,Oa,jr,wr,aO]})}return n})();function E7(n,e){n&1&&(S(0,"div"),se(1,"app-calendar"),x())}function I7(n,e){n&1&&(S(0,"div",5),se(1,"app-reports"),x())}function D7(n,e){n&1&&(S(0,"div",5),se(1,"app-settings"),x())}var lO=(()=>{class n{auth;route;activeTab="calendar";constructor(t,r){this.auth=t,this.route=r}logout(){this.auth.logout(),this.route.navigate(["/login"])}onTabChange(t){this.activeTab=t}static \u0275fac=function(r){return new(r||n)(O(mo),O(mn))};static \u0275cmp=xe({type:n,selectors:[["app-home"]],standalone:!0,features:[ht],decls:7,vars:3,consts:[[3,"tabChange"],[1,"sm:w-full","md:w-1/2","lg:w-1/2","xl:w-1/2","mx-auto","mb-3","px-2","sm:px-2","md:px-2","lg:px-0","xl:px-0"],[1,""],[4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"space-y-4"]],template:function(r,i){r&1&&(se(0,"app-header"),S(1,"app-tab-card",0),re("tabChange",function(s){return i.onTabChange(s)}),x(),S(2,"div",1)(3,"div",2),Y(4,E7,2,0,"div",3)(5,I7,2,0,"div",4)(6,D7,2,0,"div",4),x()()),r&2&&(k(4),F("ngIf",i.activeTab==="calendar"),k(),F("ngIf",i.activeTab==="reports"),k(),F("ngIf",i.activeTab==="other"))},dependencies:[rO,iO,oO,Ke,st,sO,cO]})}return n})();function C7(n,e){if(n&1&&(S(0,"div",12),j(1),x()),n&2){let t=V();k(),Nt(" ",t.errorMessage," ")}}var uO=(()=>{class n{authService;email="";password="";confirmPassword="";errorMessage="";constructor(t){this.authService=t}signUp(){if(this.password!==this.confirmPassword){this.errorMessage="Passwords do not match";return}this.authService.signUp(this.email,this.password).then(()=>{console.log("User signed up")}).catch(t=>{console.error("Error signing up:",t),this.errorMessage=t.message})}static \u0275fac=function(r){return new(r||n)(O(mo))};static \u0275cmp=xe({type:n,selectors:[["app-register"]],standalone:!0,features:[ht],decls:24,vars:4,consts:[[1,"flex","min-h-screen","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","rounded-lg","bg-white","p-8","shadow-lg"],[1,"mb-6","text-center","text-2xl","font-bold","text-gray-800"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-600"],["type","email","placeholder","Enter your email","name","email",1,"mt-1","w-full","rounded-lg","border","border-gray-300","px-4","py-2","focus:border-blue-500","focus:ring-2","focus:ring-blue-300",3,"ngModelChange","ngModel"],["type","password","placeholder","Enter your password","name","password",1,"mt-1","w-full","rounded-lg","border","border-gray-300","px-4","py-2","focus:border-blue-500","focus:ring-2","focus:ring-blue-300",3,"ngModelChange","ngModel"],["type","password","placeholder","Confirm Password","name","confirmPassword",1,"mt-1","w-full","rounded-lg","border","border-gray-300","px-4","py-2","focus:border-blue-500","focus:ring-2","focus:ring-blue-300",3,"ngModelChange","ngModel"],[1,"w-full","rounded-lg","bg-blue-600","px-4","py-2","text-white","hover:bg-blue-700","transition","duration-200",3,"click"],[1,"text-center","text-sm","text-gray-600"],["routerLink","/login",1,"text-blue-600","hover:underline"],["class","mt-4 rounded-lg bg-red-100 p-3 text-center text-red-600",4,"ngIf"],[1,"mt-4","rounded-lg","bg-red-100","p-3","text-center","text-red-600"]],template:function(r,i){r&1&&(S(0,"div",0)(1,"div",1)(2,"h2",2),j(3,"Create an Account"),x(),S(4,"div",3)(5,"div")(6,"label",4),j(7,"Email"),x(),S(8,"input",5),gt("ngModelChange",function(s){return Et(i.email,s)||(i.email=s),s}),x()(),S(9,"div")(10,"label",4),j(11,"Password"),x(),S(12,"input",6),gt("ngModelChange",function(s){return Et(i.password,s)||(i.password=s),s}),x()(),S(13,"div")(14,"label",4),j(15,"Confirm Password"),x(),S(16,"input",7),gt("ngModelChange",function(s){return Et(i.confirmPassword,s)||(i.confirmPassword=s),s}),x()(),S(17,"button",8),re("click",function(){return i.signUp()}),j(18," Sign Up "),x(),S(19,"p",9),j(20," Already have an account? "),S(21,"a",10),j(22,"Log in"),x()()(),Y(23,C7,2,1,"div",11),x()()),r&2&&(k(8),mt("ngModel",i.email),k(4),mt("ngModel",i.password),k(4),mt("ngModel",i.confirmPassword),k(7),F("ngIf",i.errorMessage))},dependencies:[Ke,st,Ur,Xn,jr,wr,Uf]})}return n})();var DD=(()=>{class n{auth=$(kn);router=$(mn);isAuthenticated=Wn(!1);constructor(){po(this.auth,t=>{this.isAuthenticated.set(!!t)})}canActivate(){return this.isAuthenticated()?(this.router.navigateByUrl("/",{replaceUrl:!0}),!1):!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dO=[{path:"",component:lO,canActivate:[AN]},{path:"login",component:SN,canActivate:[DD]},{path:"register",component:uO,canActivate:[DD]},{path:"**",redirectTo:"login"}];var hO={providers:[nx({eventCoalescing:!0}),bM(dO),$x(),bR(()=>TR(TM.firebase)),Q1(()=>Z1()),EN(()=>DN())]};var fO=(()=>{class n{auth;router;api;constructor(t,r,i){this.auth=t,this.router=r,this.api=i}ngOnInit(){po(this.auth,t=>{t?(this.router.navigateByUrl("/"),this.loadBibleStudies()):this.router.navigateByUrl("/login")})}loadBibleStudies(){return w(this,null,function*(){yield this.api.getBibleStudies().then(t=>{}).catch(t=>{console.error("Error fetching Bible studies:",t)})})}static \u0275fac=function(r){return new(r||n)(O(kn),O(mn),O(bo))};static \u0275cmp=xe({type:n,selectors:[["app-root"]],standalone:!0,features:[ht],decls:1,vars:0,template:function(r,i){r&1&&se(0,"router-outlet")},dependencies:[rw],styles:[".loading[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin-top:50px}"]})}return n})();Bx(fO,hO).catch(n=>console.error(n));
