var p1 = Object.defineProperty,
  m1 = Object.defineProperties;
var g1 = Object.getOwnPropertyDescriptors;
var qu = Object.getOwnPropertySymbols,
  v1 = Object.getPrototypeOf,
  ZD = Object.prototype.hasOwnProperty,
  JD = Object.prototype.propertyIsEnumerable,
  y1 = Reflect.get;
var XD = (t, e, n) =>
    e in t ? p1(t, e, { enumerable: !0, configurable: !0, writable: !0, value: n }) : (t[e] = n),
  U = (t, e) => {
    for (var n in (e ||= {})) ZD.call(e, n) && XD(t, n, e[n]);
    if (qu) for (var n of qu(e)) JD.call(e, n) && XD(t, n, e[n]);
    return t;
  },
  ve = (t, e) => m1(t, g1(e));
var Gu = (t, e) => {
  var n = {};
  for (var r in t) ZD.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
  if (t != null && qu) for (var r of qu(t)) e.indexOf(r) < 0 && JD.call(t, r) && (n[r] = t[r]);
  return n;
};
var Ai = (t, e, n) => y1(v1(t), n, e);
var C = (t, e, n) =>
  new Promise((r, i) => {
    var o = (c) => {
        try {
          a(n.next(c));
        } catch (u) {
          i(u);
        }
      },
      s = (c) => {
        try {
          a(n.throw(c));
        } catch (u) {
          i(u);
        }
      },
      a = (c) => (c.done ? r(c.value) : Promise.resolve(c.value).then(o, s));
    a((n = n.apply(t, e)).next());
  });
function eC(t, e) {
  return Object.is(t, e);
}
var Et = null,
  Ku = !1,
  Yu = 1,
  Kr = Symbol('SIGNAL');
function ke(t) {
  let e = Et;
  return ((Et = t), e);
}
function tC() {
  return Et;
}
var Ac = {
  version: 0,
  lastCleanEpoch: 0,
  dirty: !1,
  producerNode: void 0,
  producerLastReadVersion: void 0,
  producerIndexOfThis: void 0,
  nextProducerIndex: 0,
  liveConsumerNode: void 0,
  liveConsumerIndexOfThis: void 0,
  consumerAllowSignalWrites: !1,
  consumerIsAlwaysLive: !1,
  producerMustRecompute: () => !1,
  producerRecomputeValue: () => {},
  consumerMarkedDirty: () => {},
  consumerOnSignalRead: () => {},
};
function ng(t) {
  if (Ku) throw new Error('');
  if (Et === null) return;
  Et.consumerOnSignalRead(t);
  let e = Et.nextProducerIndex++;
  if ((Ju(Et), e < Et.producerNode.length && Et.producerNode[e] !== t && Sc(Et))) {
    let n = Et.producerNode[e];
    Zu(n, Et.producerIndexOfThis[e]);
  }
  (Et.producerNode[e] !== t &&
    ((Et.producerNode[e] = t), (Et.producerIndexOfThis[e] = Sc(Et) ? oC(t, Et, e) : 0)),
    (Et.producerLastReadVersion[e] = t.version));
}
function _1() {
  Yu++;
}
function nC(t) {
  if (!(Sc(t) && !t.dirty) && !(!t.dirty && t.lastCleanEpoch === Yu)) {
    if (!t.producerMustRecompute(t) && !ig(t)) {
      ((t.dirty = !1), (t.lastCleanEpoch = Yu));
      return;
    }
    (t.producerRecomputeValue(t), (t.dirty = !1), (t.lastCleanEpoch = Yu));
  }
}
function rC(t) {
  if (t.liveConsumerNode === void 0) return;
  let e = Ku;
  Ku = !0;
  try {
    for (let n of t.liveConsumerNode) n.dirty || w1(n);
  } finally {
    Ku = e;
  }
}
function iC() {
  return Et?.consumerAllowSignalWrites !== !1;
}
function w1(t) {
  ((t.dirty = !0), rC(t), t.consumerMarkedDirty?.(t));
}
function Xu(t) {
  return (t && (t.nextProducerIndex = 0), ke(t));
}
function rg(t, e) {
  if (
    (ke(e),
    !(
      !t ||
      t.producerNode === void 0 ||
      t.producerIndexOfThis === void 0 ||
      t.producerLastReadVersion === void 0
    ))
  ) {
    if (Sc(t))
      for (let n = t.nextProducerIndex; n < t.producerNode.length; n++)
        Zu(t.producerNode[n], t.producerIndexOfThis[n]);
    for (; t.producerNode.length > t.nextProducerIndex; )
      (t.producerNode.pop(), t.producerLastReadVersion.pop(), t.producerIndexOfThis.pop());
  }
}
function ig(t) {
  Ju(t);
  for (let e = 0; e < t.producerNode.length; e++) {
    let n = t.producerNode[e],
      r = t.producerLastReadVersion[e];
    if (r !== n.version || (nC(n), r !== n.version)) return !0;
  }
  return !1;
}
function og(t) {
  if ((Ju(t), Sc(t)))
    for (let e = 0; e < t.producerNode.length; e++) Zu(t.producerNode[e], t.producerIndexOfThis[e]);
  ((t.producerNode.length = t.producerLastReadVersion.length = t.producerIndexOfThis.length = 0),
    t.liveConsumerNode && (t.liveConsumerNode.length = t.liveConsumerIndexOfThis.length = 0));
}
function oC(t, e, n) {
  if ((sC(t), t.liveConsumerNode.length === 0 && aC(t)))
    for (let r = 0; r < t.producerNode.length; r++)
      t.producerIndexOfThis[r] = oC(t.producerNode[r], t, r);
  return (t.liveConsumerIndexOfThis.push(n), t.liveConsumerNode.push(e) - 1);
}
function Zu(t, e) {
  if ((sC(t), t.liveConsumerNode.length === 1 && aC(t)))
    for (let r = 0; r < t.producerNode.length; r++) Zu(t.producerNode[r], t.producerIndexOfThis[r]);
  let n = t.liveConsumerNode.length - 1;
  if (
    ((t.liveConsumerNode[e] = t.liveConsumerNode[n]),
    (t.liveConsumerIndexOfThis[e] = t.liveConsumerIndexOfThis[n]),
    t.liveConsumerNode.length--,
    t.liveConsumerIndexOfThis.length--,
    e < t.liveConsumerNode.length)
  ) {
    let r = t.liveConsumerIndexOfThis[e],
      i = t.liveConsumerNode[e];
    (Ju(i), (i.producerIndexOfThis[r] = e));
  }
}
function Sc(t) {
  return t.consumerIsAlwaysLive || (t?.liveConsumerNode?.length ?? 0) > 0;
}
function Ju(t) {
  ((t.producerNode ??= []), (t.producerIndexOfThis ??= []), (t.producerLastReadVersion ??= []));
}
function sC(t) {
  ((t.liveConsumerNode ??= []), (t.liveConsumerIndexOfThis ??= []));
}
function aC(t) {
  return t.producerNode !== void 0;
}
function cC(t) {
  let e = Object.create(E1);
  e.computation = t;
  let n = () => {
    if ((nC(e), ng(e), e.value === Qu)) throw e.error;
    return e.value;
  };
  return ((n[Kr] = e), n);
}
var eg = Symbol('UNSET'),
  tg = Symbol('COMPUTING'),
  Qu = Symbol('ERRORED'),
  E1 = ve(U({}, Ac), {
    value: eg,
    dirty: !0,
    error: null,
    equal: eC,
    producerMustRecompute(t) {
      return t.value === eg || t.value === tg;
    },
    producerRecomputeValue(t) {
      if (t.value === tg) throw new Error('Detected cycle in computations.');
      let e = t.value;
      t.value = tg;
      let n = Xu(t),
        r;
      try {
        r = t.computation();
      } catch (i) {
        ((r = Qu), (t.error = i));
      } finally {
        rg(t, n);
      }
      if (e !== eg && e !== Qu && r !== Qu && t.equal(e, r)) {
        t.value = e;
        return;
      }
      ((t.value = r), t.version++);
    },
  });
function I1() {
  throw new Error();
}
var lC = I1;
function uC() {
  lC();
}
function dC(t) {
  lC = t;
}
var D1 = null;
function hC(t) {
  let e = Object.create(pC);
  e.value = t;
  let n = () => (ng(e), e.value);
  return ((n[Kr] = e), n);
}
function sg(t, e) {
  (iC() || uC(), t.equal(t.value, e) || ((t.value = e), C1(t)));
}
function fC(t, e) {
  (iC() || uC(), sg(t, e(t.value)));
}
var pC = ve(U({}, Ac), { equal: eC, value: void 0 });
function C1(t) {
  (t.version++, _1(), rC(t), D1?.());
}
function se(t) {
  return typeof t == 'function';
}
function bs(t) {
  let n = t((r) => {
    (Error.call(r), (r.stack = new Error().stack));
  });
  return ((n.prototype = Object.create(Error.prototype)), (n.prototype.constructor = n), n);
}
var ed = bs(
  (t) =>
    function (n) {
      (t(this),
        (this.message = n
          ? `${n.length} errors occurred during unsubscription:
${n.map((r, i) => `${i + 1}) ${r.toString()}`).join(`
  `)}`
          : ''),
        (this.name = 'UnsubscriptionError'),
        (this.errors = n));
    }
);
function Io(t, e) {
  if (t) {
    let n = t.indexOf(e);
    0 <= n && t.splice(n, 1);
  }
}
var it = class t {
  constructor(e) {
    ((this.initialTeardown = e),
      (this.closed = !1),
      (this._parentage = null),
      (this._finalizers = null));
  }
  unsubscribe() {
    let e;
    if (!this.closed) {
      this.closed = !0;
      let { _parentage: n } = this;
      if (n)
        if (((this._parentage = null), Array.isArray(n))) for (let o of n) o.remove(this);
        else n.remove(this);
      let { initialTeardown: r } = this;
      if (se(r))
        try {
          r();
        } catch (o) {
          e = o instanceof ed ? o.errors : [o];
        }
      let { _finalizers: i } = this;
      if (i) {
        this._finalizers = null;
        for (let o of i)
          try {
            mC(o);
          } catch (s) {
            ((e = e ?? []), s instanceof ed ? (e = [...e, ...s.errors]) : e.push(s));
          }
      }
      if (e) throw new ed(e);
    }
  }
  add(e) {
    var n;
    if (e && e !== this)
      if (this.closed) mC(e);
      else {
        if (e instanceof t) {
          if (e.closed || e._hasParent(this)) return;
          e._addParent(this);
        }
        (this._finalizers = (n = this._finalizers) !== null && n !== void 0 ? n : []).push(e);
      }
  }
  _hasParent(e) {
    let { _parentage: n } = this;
    return n === e || (Array.isArray(n) && n.includes(e));
  }
  _addParent(e) {
    let { _parentage: n } = this;
    this._parentage = Array.isArray(n) ? (n.push(e), n) : n ? [n, e] : e;
  }
  _removeParent(e) {
    let { _parentage: n } = this;
    n === e ? (this._parentage = null) : Array.isArray(n) && Io(n, e);
  }
  remove(e) {
    let { _finalizers: n } = this;
    (n && Io(n, e), e instanceof t && e._removeParent(this));
  }
};
it.EMPTY = (() => {
  let t = new it();
  return ((t.closed = !0), t);
})();
var ag = it.EMPTY;
function td(t) {
  return t instanceof it || (t && 'closed' in t && se(t.remove) && se(t.add) && se(t.unsubscribe));
}
function mC(t) {
  se(t) ? t() : t.unsubscribe();
}
var Qn = {
  onUnhandledError: null,
  onStoppedNotification: null,
  Promise: void 0,
  useDeprecatedSynchronousErrorHandling: !1,
  useDeprecatedNextContext: !1,
};
var Ts = {
  setTimeout(t, e, ...n) {
    let { delegate: r } = Ts;
    return r?.setTimeout ? r.setTimeout(t, e, ...n) : setTimeout(t, e, ...n);
  },
  clearTimeout(t) {
    let { delegate: e } = Ts;
    return (e?.clearTimeout || clearTimeout)(t);
  },
  delegate: void 0,
};
function nd(t) {
  Ts.setTimeout(() => {
    let { onUnhandledError: e } = Qn;
    if (e) e(t);
    else throw t;
  });
}
function Mc() {}
var gC = cg('C', void 0, void 0);
function vC(t) {
  return cg('E', void 0, t);
}
function yC(t) {
  return cg('N', t, void 0);
}
function cg(t, e, n) {
  return { kind: t, value: e, error: n };
}
var Do = null;
function Ss(t) {
  if (Qn.useDeprecatedSynchronousErrorHandling) {
    let e = !Do;
    if ((e && (Do = { errorThrown: !1, error: null }), t(), e)) {
      let { errorThrown: n, error: r } = Do;
      if (((Do = null), n)) throw r;
    }
  } else t();
}
function _C(t) {
  Qn.useDeprecatedSynchronousErrorHandling && Do && ((Do.errorThrown = !0), (Do.error = t));
}
var Co = class extends it {
    constructor(e) {
      (super(),
        (this.isStopped = !1),
        e ? ((this.destination = e), td(e) && e.add(this)) : (this.destination = S1));
    }
    static create(e, n, r) {
      return new Yr(e, n, r);
    }
    next(e) {
      this.isStopped ? ug(yC(e), this) : this._next(e);
    }
    error(e) {
      this.isStopped ? ug(vC(e), this) : ((this.isStopped = !0), this._error(e));
    }
    complete() {
      this.isStopped ? ug(gC, this) : ((this.isStopped = !0), this._complete());
    }
    unsubscribe() {
      this.closed || ((this.isStopped = !0), super.unsubscribe(), (this.destination = null));
    }
    _next(e) {
      this.destination.next(e);
    }
    _error(e) {
      try {
        this.destination.error(e);
      } finally {
        this.unsubscribe();
      }
    }
    _complete() {
      try {
        this.destination.complete();
      } finally {
        this.unsubscribe();
      }
    }
  },
  b1 = Function.prototype.bind;
function lg(t, e) {
  return b1.call(t, e);
}
var dg = class {
    constructor(e) {
      this.partialObserver = e;
    }
    next(e) {
      let { partialObserver: n } = this;
      if (n.next)
        try {
          n.next(e);
        } catch (r) {
          rd(r);
        }
    }
    error(e) {
      let { partialObserver: n } = this;
      if (n.error)
        try {
          n.error(e);
        } catch (r) {
          rd(r);
        }
      else rd(e);
    }
    complete() {
      let { partialObserver: e } = this;
      if (e.complete)
        try {
          e.complete();
        } catch (n) {
          rd(n);
        }
    }
  },
  Yr = class extends Co {
    constructor(e, n, r) {
      super();
      let i;
      if (se(e) || !e) i = { next: e ?? void 0, error: n ?? void 0, complete: r ?? void 0 };
      else {
        let o;
        this && Qn.useDeprecatedNextContext
          ? ((o = Object.create(e)),
            (o.unsubscribe = () => this.unsubscribe()),
            (i = {
              next: e.next && lg(e.next, o),
              error: e.error && lg(e.error, o),
              complete: e.complete && lg(e.complete, o),
            }))
          : (i = e);
      }
      this.destination = new dg(i);
    }
  };
function rd(t) {
  Qn.useDeprecatedSynchronousErrorHandling ? _C(t) : nd(t);
}
function T1(t) {
  throw t;
}
function ug(t, e) {
  let { onStoppedNotification: n } = Qn;
  n && Ts.setTimeout(() => n(t, e));
}
var S1 = { closed: !0, next: Mc, error: T1, complete: Mc };
var As = (typeof Symbol == 'function' && Symbol.observable) || '@@observable';
function en(t) {
  return t;
}
function hg(...t) {
  return fg(t);
}
function fg(t) {
  return t.length === 0
    ? en
    : t.length === 1
      ? t[0]
      : function (n) {
          return t.reduce((r, i) => i(r), n);
        };
}
var he = (() => {
  class t {
    constructor(n) {
      n && (this._subscribe = n);
    }
    lift(n) {
      let r = new t();
      return ((r.source = this), (r.operator = n), r);
    }
    subscribe(n, r, i) {
      let o = M1(n) ? n : new Yr(n, r, i);
      return (
        Ss(() => {
          let { operator: s, source: a } = this;
          o.add(s ? s.call(o, a) : a ? this._subscribe(o) : this._trySubscribe(o));
        }),
        o
      );
    }
    _trySubscribe(n) {
      try {
        return this._subscribe(n);
      } catch (r) {
        n.error(r);
      }
    }
    forEach(n, r) {
      return (
        (r = wC(r)),
        new r((i, o) => {
          let s = new Yr({
            next: (a) => {
              try {
                n(a);
              } catch (c) {
                (o(c), s.unsubscribe());
              }
            },
            error: o,
            complete: i,
          });
          this.subscribe(s);
        })
      );
    }
    _subscribe(n) {
      var r;
      return (r = this.source) === null || r === void 0 ? void 0 : r.subscribe(n);
    }
    [As]() {
      return this;
    }
    pipe(...n) {
      return fg(n)(this);
    }
    toPromise(n) {
      return (
        (n = wC(n)),
        new n((r, i) => {
          let o;
          this.subscribe(
            (s) => (o = s),
            (s) => i(s),
            () => r(o)
          );
        })
      );
    }
  }
  return ((t.create = (e) => new t(e)), t);
})();
function wC(t) {
  var e;
  return (e = t ?? Qn.Promise) !== null && e !== void 0 ? e : Promise;
}
function A1(t) {
  return t && se(t.next) && se(t.error) && se(t.complete);
}
function M1(t) {
  return (t && t instanceof Co) || (A1(t) && td(t));
}
function pg(t) {
  return se(t?.lift);
}
function ye(t) {
  return (e) => {
    if (pg(e))
      return e.lift(function (n) {
        try {
          return t(n, this);
        } catch (r) {
          this.error(r);
        }
      });
    throw new TypeError('Unable to lift unknown Observable type');
  };
}
function Ie(t, e, n, r, i) {
  return new mg(t, e, n, r, i);
}
var mg = class extends Co {
  constructor(e, n, r, i, o, s) {
    (super(e),
      (this.onFinalize = o),
      (this.shouldUnsubscribe = s),
      (this._next = n
        ? function (a) {
            try {
              n(a);
            } catch (c) {
              e.error(c);
            }
          }
        : super._next),
      (this._error = i
        ? function (a) {
            try {
              i(a);
            } catch (c) {
              e.error(c);
            } finally {
              this.unsubscribe();
            }
          }
        : super._error),
      (this._complete = r
        ? function () {
            try {
              r();
            } catch (a) {
              e.error(a);
            } finally {
              this.unsubscribe();
            }
          }
        : super._complete));
  }
  unsubscribe() {
    var e;
    if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {
      let { closed: n } = this;
      (super.unsubscribe(), !n && ((e = this.onFinalize) === null || e === void 0 || e.call(this)));
    }
  }
};
function Ms() {
  return ye((t, e) => {
    let n = null;
    t._refCount++;
    let r = Ie(e, void 0, void 0, void 0, () => {
      if (!t || t._refCount <= 0 || 0 < --t._refCount) {
        n = null;
        return;
      }
      let i = t._connection,
        o = n;
      ((n = null), i && (!o || i === o) && i.unsubscribe(), e.unsubscribe());
    });
    (t.subscribe(r), r.closed || (n = t.connect()));
  });
}
var xs = class extends he {
  constructor(e, n) {
    (super(),
      (this.source = e),
      (this.subjectFactory = n),
      (this._subject = null),
      (this._refCount = 0),
      (this._connection = null),
      pg(e) && (this.lift = e.lift));
  }
  _subscribe(e) {
    return this.getSubject().subscribe(e);
  }
  getSubject() {
    let e = this._subject;
    return ((!e || e.isStopped) && (this._subject = this.subjectFactory()), this._subject);
  }
  _teardown() {
    this._refCount = 0;
    let { _connection: e } = this;
    ((this._subject = this._connection = null), e?.unsubscribe());
  }
  connect() {
    let e = this._connection;
    if (!e) {
      e = this._connection = new it();
      let n = this.getSubject();
      (e.add(
        this.source.subscribe(
          Ie(
            n,
            void 0,
            () => {
              (this._teardown(), n.complete());
            },
            (r) => {
              (this._teardown(), n.error(r));
            },
            () => this._teardown()
          )
        )
      ),
        e.closed && ((this._connection = null), (e = it.EMPTY)));
    }
    return e;
  }
  refCount() {
    return Ms()(this);
  }
};
var EC = bs(
  (t) =>
    function () {
      (t(this), (this.name = 'ObjectUnsubscribedError'), (this.message = 'object unsubscribed'));
    }
);
var Te = (() => {
    class t extends he {
      constructor() {
        (super(),
          (this.closed = !1),
          (this.currentObservers = null),
          (this.observers = []),
          (this.isStopped = !1),
          (this.hasError = !1),
          (this.thrownError = null));
      }
      lift(n) {
        let r = new id(this, this);
        return ((r.operator = n), r);
      }
      _throwIfClosed() {
        if (this.closed) throw new EC();
      }
      next(n) {
        Ss(() => {
          if ((this._throwIfClosed(), !this.isStopped)) {
            this.currentObservers || (this.currentObservers = Array.from(this.observers));
            for (let r of this.currentObservers) r.next(n);
          }
        });
      }
      error(n) {
        Ss(() => {
          if ((this._throwIfClosed(), !this.isStopped)) {
            ((this.hasError = this.isStopped = !0), (this.thrownError = n));
            let { observers: r } = this;
            for (; r.length; ) r.shift().error(n);
          }
        });
      }
      complete() {
        Ss(() => {
          if ((this._throwIfClosed(), !this.isStopped)) {
            this.isStopped = !0;
            let { observers: n } = this;
            for (; n.length; ) n.shift().complete();
          }
        });
      }
      unsubscribe() {
        ((this.isStopped = this.closed = !0), (this.observers = this.currentObservers = null));
      }
      get observed() {
        var n;
        return ((n = this.observers) === null || n === void 0 ? void 0 : n.length) > 0;
      }
      _trySubscribe(n) {
        return (this._throwIfClosed(), super._trySubscribe(n));
      }
      _subscribe(n) {
        return (this._throwIfClosed(), this._checkFinalizedStatuses(n), this._innerSubscribe(n));
      }
      _innerSubscribe(n) {
        let { hasError: r, isStopped: i, observers: o } = this;
        return r || i
          ? ag
          : ((this.currentObservers = null),
            o.push(n),
            new it(() => {
              ((this.currentObservers = null), Io(o, n));
            }));
      }
      _checkFinalizedStatuses(n) {
        let { hasError: r, thrownError: i, isStopped: o } = this;
        r ? n.error(i) : o && n.complete();
      }
      asObservable() {
        let n = new he();
        return ((n.source = this), n);
      }
    }
    return ((t.create = (e, n) => new id(e, n)), t);
  })(),
  id = class extends Te {
    constructor(e, n) {
      (super(), (this.destination = e), (this.source = n));
    }
    next(e) {
      var n, r;
      (r = (n = this.destination) === null || n === void 0 ? void 0 : n.next) === null ||
        r === void 0 ||
        r.call(n, e);
    }
    error(e) {
      var n, r;
      (r = (n = this.destination) === null || n === void 0 ? void 0 : n.error) === null ||
        r === void 0 ||
        r.call(n, e);
    }
    complete() {
      var e, n;
      (n = (e = this.destination) === null || e === void 0 ? void 0 : e.complete) === null ||
        n === void 0 ||
        n.call(e);
    }
    _subscribe(e) {
      var n, r;
      return (r = (n = this.source) === null || n === void 0 ? void 0 : n.subscribe(e)) !== null &&
        r !== void 0
        ? r
        : ag;
    }
  };
var ot = class extends Te {
  constructor(e) {
    (super(), (this._value = e));
  }
  get value() {
    return this.getValue();
  }
  _subscribe(e) {
    let n = super._subscribe(e);
    return (!n.closed && e.next(this._value), n);
  }
  getValue() {
    let { hasError: e, thrownError: n, _value: r } = this;
    if (e) throw n;
    return (this._throwIfClosed(), r);
  }
  next(e) {
    super.next((this._value = e));
  }
};
var xc = {
  now() {
    return (xc.delegate || Date).now();
  },
  delegate: void 0,
};
var Rc = class extends Te {
  constructor(e = 1 / 0, n = 1 / 0, r = xc) {
    (super(),
      (this._bufferSize = e),
      (this._windowTime = n),
      (this._timestampProvider = r),
      (this._buffer = []),
      (this._infiniteTimeWindow = !0),
      (this._infiniteTimeWindow = n === 1 / 0),
      (this._bufferSize = Math.max(1, e)),
      (this._windowTime = Math.max(1, n)));
  }
  next(e) {
    let {
      isStopped: n,
      _buffer: r,
      _infiniteTimeWindow: i,
      _timestampProvider: o,
      _windowTime: s,
    } = this;
    (n || (r.push(e), !i && r.push(o.now() + s)), this._trimBuffer(), super.next(e));
  }
  _subscribe(e) {
    (this._throwIfClosed(), this._trimBuffer());
    let n = this._innerSubscribe(e),
      { _infiniteTimeWindow: r, _buffer: i } = this,
      o = i.slice();
    for (let s = 0; s < o.length && !e.closed; s += r ? 1 : 2) e.next(o[s]);
    return (this._checkFinalizedStatuses(e), n);
  }
  _trimBuffer() {
    let { _bufferSize: e, _timestampProvider: n, _buffer: r, _infiniteTimeWindow: i } = this,
      o = (i ? 1 : 2) * e;
    if ((e < 1 / 0 && o < r.length && r.splice(0, r.length - o), !i)) {
      let s = n.now(),
        a = 0;
      for (let c = 1; c < r.length && r[c] <= s; c += 2) a = c;
      a && r.splice(0, a + 1);
    }
  }
};
var od = class extends it {
  constructor(e, n) {
    super();
  }
  schedule(e, n = 0) {
    return this;
  }
};
var Nc = {
  setInterval(t, e, ...n) {
    let { delegate: r } = Nc;
    return r?.setInterval ? r.setInterval(t, e, ...n) : setInterval(t, e, ...n);
  },
  clearInterval(t) {
    let { delegate: e } = Nc;
    return (e?.clearInterval || clearInterval)(t);
  },
  delegate: void 0,
};
var Rs = class extends od {
  constructor(e, n) {
    (super(e, n), (this.scheduler = e), (this.work = n), (this.pending = !1));
  }
  schedule(e, n = 0) {
    var r;
    if (this.closed) return this;
    this.state = e;
    let i = this.id,
      o = this.scheduler;
    return (
      i != null && (this.id = this.recycleAsyncId(o, i, n)),
      (this.pending = !0),
      (this.delay = n),
      (this.id = (r = this.id) !== null && r !== void 0 ? r : this.requestAsyncId(o, this.id, n)),
      this
    );
  }
  requestAsyncId(e, n, r = 0) {
    return Nc.setInterval(e.flush.bind(e, this), r);
  }
  recycleAsyncId(e, n, r = 0) {
    if (r != null && this.delay === r && this.pending === !1) return n;
    n != null && Nc.clearInterval(n);
  }
  execute(e, n) {
    if (this.closed) return new Error('executing a cancelled action');
    this.pending = !1;
    let r = this._execute(e, n);
    if (r) return r;
    this.pending === !1 &&
      this.id != null &&
      (this.id = this.recycleAsyncId(this.scheduler, this.id, null));
  }
  _execute(e, n) {
    let r = !1,
      i;
    try {
      this.work(e);
    } catch (o) {
      ((r = !0), (i = o || new Error('Scheduled action threw falsy error')));
    }
    if (r) return (this.unsubscribe(), i);
  }
  unsubscribe() {
    if (!this.closed) {
      let { id: e, scheduler: n } = this,
        { actions: r } = n;
      ((this.work = this.state = this.scheduler = null),
        (this.pending = !1),
        Io(r, this),
        e != null && (this.id = this.recycleAsyncId(n, e, null)),
        (this.delay = null),
        super.unsubscribe());
    }
  }
};
var Ns = class t {
  constructor(e, n = t.now) {
    ((this.schedulerActionCtor = e), (this.now = n));
  }
  schedule(e, n = 0, r) {
    return new this.schedulerActionCtor(this, e).schedule(r, n);
  }
};
Ns.now = xc.now;
var ks = class extends Ns {
  constructor(e, n = Ns.now) {
    (super(e, n), (this.actions = []), (this._active = !1));
  }
  flush(e) {
    let { actions: n } = this;
    if (this._active) {
      n.push(e);
      return;
    }
    let r;
    this._active = !0;
    do if ((r = e.execute(e.state, e.delay))) break;
    while ((e = n.shift()));
    if (((this._active = !1), r)) {
      for (; (e = n.shift()); ) e.unsubscribe();
      throw r;
    }
  }
};
var Ps = new ks(Rs),
  gg = Ps;
var sd = class extends Rs {
  constructor(e, n) {
    (super(e, n), (this.scheduler = e), (this.work = n));
  }
  schedule(e, n = 0) {
    return n > 0
      ? super.schedule(e, n)
      : ((this.delay = n), (this.state = e), this.scheduler.flush(this), this);
  }
  execute(e, n) {
    return n > 0 || this.closed ? super.execute(e, n) : this._execute(e, n);
  }
  requestAsyncId(e, n, r = 0) {
    return (r != null && r > 0) || (r == null && this.delay > 0)
      ? super.requestAsyncId(e, n, r)
      : (e.flush(this), 0);
  }
};
var ad = class extends ks {};
var vg = new ad(sd);
var tn = new he((t) => t.complete());
function cd(t) {
  return t && se(t.schedule);
}
function yg(t) {
  return t[t.length - 1];
}
function ld(t) {
  return se(yg(t)) ? t.pop() : void 0;
}
function _r(t) {
  return cd(yg(t)) ? t.pop() : void 0;
}
function IC(t, e) {
  return typeof yg(t) == 'number' ? t.pop() : e;
}
var kc = function () {
  return (
    (kc =
      Object.assign ||
      function (e) {
        for (var n, r = 1, i = arguments.length; r < i; r++) {
          n = arguments[r];
          for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);
        }
        return e;
      }),
    kc.apply(this, arguments)
  );
};
function ud(t, e) {
  var n = {};
  for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
  if (t != null && typeof Object.getOwnPropertySymbols == 'function')
    for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++)
      e.indexOf(r[i]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(t, r[i]) &&
        (n[r[i]] = t[r[i]]);
  return n;
}
function CC(t, e, n, r) {
  function i(o) {
    return o instanceof n
      ? o
      : new n(function (s) {
          s(o);
        });
  }
  return new (n || (n = Promise))(function (o, s) {
    function a(d) {
      try {
        u(r.next(d));
      } catch (p) {
        s(p);
      }
    }
    function c(d) {
      try {
        u(r.throw(d));
      } catch (p) {
        s(p);
      }
    }
    function u(d) {
      d.done ? o(d.value) : i(d.value).then(a, c);
    }
    u((r = r.apply(t, e || [])).next());
  });
}
function DC(t) {
  var e = typeof Symbol == 'function' && Symbol.iterator,
    n = e && t[e],
    r = 0;
  if (n) return n.call(t);
  if (t && typeof t.length == 'number')
    return {
      next: function () {
        return (t && r >= t.length && (t = void 0), { value: t && t[r++], done: !t });
      },
    };
  throw new TypeError(e ? 'Object is not iterable.' : 'Symbol.iterator is not defined.');
}
function bo(t) {
  return this instanceof bo ? ((this.v = t), this) : new bo(t);
}
function bC(t, e, n) {
  if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');
  var r = n.apply(t, e || []),
    i,
    o = [];
  return (
    (i = Object.create((typeof AsyncIterator == 'function' ? AsyncIterator : Object).prototype)),
    a('next'),
    a('throw'),
    a('return', s),
    (i[Symbol.asyncIterator] = function () {
      return this;
    }),
    i
  );
  function s(m) {
    return function (D) {
      return Promise.resolve(D).then(m, p);
    };
  }
  function a(m, D) {
    r[m] &&
      ((i[m] = function (M) {
        return new Promise(function (A, N) {
          o.push([m, M, A, N]) > 1 || c(m, M);
        });
      }),
      D && (i[m] = D(i[m])));
  }
  function c(m, D) {
    try {
      u(r[m](D));
    } catch (M) {
      v(o[0][3], M);
    }
  }
  function u(m) {
    m.value instanceof bo ? Promise.resolve(m.value.v).then(d, p) : v(o[0][2], m);
  }
  function d(m) {
    c('next', m);
  }
  function p(m) {
    c('throw', m);
  }
  function v(m, D) {
    (m(D), o.shift(), o.length && c(o[0][0], o[0][1]));
  }
}
function TC(t) {
  if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');
  var e = t[Symbol.asyncIterator],
    n;
  return e
    ? e.call(t)
    : ((t = typeof DC == 'function' ? DC(t) : t[Symbol.iterator]()),
      (n = {}),
      r('next'),
      r('throw'),
      r('return'),
      (n[Symbol.asyncIterator] = function () {
        return this;
      }),
      n);
  function r(o) {
    n[o] =
      t[o] &&
      function (s) {
        return new Promise(function (a, c) {
          ((s = t[o](s)), i(a, c, s.done, s.value));
        });
      };
  }
  function i(o, s, a, c) {
    Promise.resolve(c).then(function (u) {
      o({ value: u, done: a });
    }, s);
  }
}
var Os = (t) => t && typeof t.length == 'number' && typeof t != 'function';
function dd(t) {
  return se(t?.then);
}
function hd(t) {
  return se(t[As]);
}
function fd(t) {
  return Symbol.asyncIterator && se(t?.[Symbol.asyncIterator]);
}
function pd(t) {
  return new TypeError(
    `You provided ${t !== null && typeof t == 'object' ? 'an invalid object' : `'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`
  );
}
function x1() {
  return typeof Symbol != 'function' || !Symbol.iterator ? '@@iterator' : Symbol.iterator;
}
var md = x1();
function gd(t) {
  return se(t?.[md]);
}
function vd(t) {
  return bC(this, arguments, function* () {
    let n = t.getReader();
    try {
      for (;;) {
        let { value: r, done: i } = yield bo(n.read());
        if (i) return yield bo(void 0);
        yield yield bo(r);
      }
    } finally {
      n.releaseLock();
    }
  });
}
function yd(t) {
  return se(t?.getReader);
}
function He(t) {
  if (t instanceof he) return t;
  if (t != null) {
    if (hd(t)) return R1(t);
    if (Os(t)) return N1(t);
    if (dd(t)) return k1(t);
    if (fd(t)) return SC(t);
    if (gd(t)) return P1(t);
    if (yd(t)) return O1(t);
  }
  throw pd(t);
}
function R1(t) {
  return new he((e) => {
    let n = t[As]();
    if (se(n.subscribe)) return n.subscribe(e);
    throw new TypeError('Provided object does not correctly implement Symbol.observable');
  });
}
function N1(t) {
  return new he((e) => {
    for (let n = 0; n < t.length && !e.closed; n++) e.next(t[n]);
    e.complete();
  });
}
function k1(t) {
  return new he((e) => {
    t.then(
      (n) => {
        e.closed || (e.next(n), e.complete());
      },
      (n) => e.error(n)
    ).then(null, nd);
  });
}
function P1(t) {
  return new he((e) => {
    for (let n of t) if ((e.next(n), e.closed)) return;
    e.complete();
  });
}
function SC(t) {
  return new he((e) => {
    F1(t, e).catch((n) => e.error(n));
  });
}
function O1(t) {
  return SC(vd(t));
}
function F1(t, e) {
  var n, r, i, o;
  return CC(this, void 0, void 0, function* () {
    try {
      for (n = TC(t); (r = yield n.next()), !r.done; ) {
        let s = r.value;
        if ((e.next(s), e.closed)) return;
      }
    } catch (s) {
      i = { error: s };
    } finally {
      try {
        r && !r.done && (o = n.return) && (yield o.call(n));
      } finally {
        if (i) throw i.error;
      }
    }
    e.complete();
  });
}
function ln(t, e, n, r = 0, i = !1) {
  let o = e.schedule(function () {
    (n(), i ? t.add(this.schedule(null, r)) : this.unsubscribe());
  }, r);
  if ((t.add(o), !i)) return o;
}
function Mi(t, e = 0) {
  return ye((n, r) => {
    n.subscribe(
      Ie(
        r,
        (i) => ln(r, t, () => r.next(i), e),
        () => ln(r, t, () => r.complete(), e),
        (i) => ln(r, t, () => r.error(i), e)
      )
    );
  });
}
function xi(t, e = 0) {
  return ye((n, r) => {
    r.add(t.schedule(() => n.subscribe(r), e));
  });
}
function AC(t, e) {
  return He(t).pipe(xi(e), Mi(e));
}
function MC(t, e) {
  return He(t).pipe(xi(e), Mi(e));
}
function xC(t, e) {
  return new he((n) => {
    let r = 0;
    return e.schedule(function () {
      r === t.length ? n.complete() : (n.next(t[r++]), n.closed || this.schedule());
    });
  });
}
function RC(t, e) {
  return new he((n) => {
    let r;
    return (
      ln(n, e, () => {
        ((r = t[md]()),
          ln(
            n,
            e,
            () => {
              let i, o;
              try {
                ({ value: i, done: o } = r.next());
              } catch (s) {
                n.error(s);
                return;
              }
              o ? n.complete() : n.next(i);
            },
            0,
            !0
          ));
      }),
      () => se(r?.return) && r.return()
    );
  });
}
function _d(t, e) {
  if (!t) throw new Error('Iterable cannot be null');
  return new he((n) => {
    ln(n, e, () => {
      let r = t[Symbol.asyncIterator]();
      ln(
        n,
        e,
        () => {
          r.next().then((i) => {
            i.done ? n.complete() : n.next(i.value);
          });
        },
        0,
        !0
      );
    });
  });
}
function NC(t, e) {
  return _d(vd(t), e);
}
function kC(t, e) {
  if (t != null) {
    if (hd(t)) return AC(t, e);
    if (Os(t)) return xC(t, e);
    if (dd(t)) return MC(t, e);
    if (fd(t)) return _d(t, e);
    if (gd(t)) return RC(t, e);
    if (yd(t)) return NC(t, e);
  }
  throw pd(t);
}
function Ze(t, e) {
  return e ? kC(t, e) : He(t);
}
function pe(...t) {
  let e = _r(t);
  return Ze(t, e);
}
function Fs(t, e) {
  let n = se(t) ? t : () => t,
    r = (i) => i.error(n());
  return new he(e ? (i) => e.schedule(r, 0, i) : r);
}
function _g(t) {
  return !!t && (t instanceof he || (se(t.lift) && se(t.subscribe)));
}
var Qr = bs(
  (t) =>
    function () {
      (t(this), (this.name = 'EmptyError'), (this.message = 'no elements in sequence'));
    }
);
function PC(t) {
  return t instanceof Date && !isNaN(t);
}
function ie(t, e) {
  return ye((n, r) => {
    let i = 0;
    n.subscribe(
      Ie(r, (o) => {
        r.next(t.call(e, o, i++));
      })
    );
  });
}
var { isArray: V1 } = Array;
function L1(t, e) {
  return V1(e) ? t(...e) : t(e);
}
function Vs(t) {
  return ie((e) => L1(t, e));
}
var { isArray: j1 } = Array,
  { getPrototypeOf: U1, prototype: B1, keys: H1 } = Object;
function wd(t) {
  if (t.length === 1) {
    let e = t[0];
    if (j1(e)) return { args: e, keys: null };
    if ($1(e)) {
      let n = H1(e);
      return { args: n.map((r) => e[r]), keys: n };
    }
  }
  return { args: t, keys: null };
}
function $1(t) {
  return t && typeof t == 'object' && U1(t) === B1;
}
function Ed(t, e) {
  return t.reduce((n, r, i) => ((n[r] = e[i]), n), {});
}
function Ls(...t) {
  let e = _r(t),
    n = ld(t),
    { args: r, keys: i } = wd(t);
  if (r.length === 0) return Ze([], e);
  let o = new he(z1(r, e, i ? (s) => Ed(i, s) : en));
  return n ? o.pipe(Vs(n)) : o;
}
function z1(t, e, n = en) {
  return (r) => {
    OC(
      e,
      () => {
        let { length: i } = t,
          o = new Array(i),
          s = i,
          a = i;
        for (let c = 0; c < i; c++)
          OC(
            e,
            () => {
              let u = Ze(t[c], e),
                d = !1;
              u.subscribe(
                Ie(
                  r,
                  (p) => {
                    ((o[c] = p), d || ((d = !0), a--), a || r.next(n(o.slice())));
                  },
                  () => {
                    --s || r.complete();
                  }
                )
              );
            },
            r
          );
      },
      r
    );
  };
}
function OC(t, e, n) {
  t ? ln(n, t, e) : e();
}
function FC(t, e, n, r, i, o, s, a) {
  let c = [],
    u = 0,
    d = 0,
    p = !1,
    v = () => {
      p && !c.length && !u && e.complete();
    },
    m = (M) => (u < r ? D(M) : c.push(M)),
    D = (M) => {
      (o && e.next(M), u++);
      let A = !1;
      He(n(M, d++)).subscribe(
        Ie(
          e,
          (N) => {
            (i?.(N), o ? m(N) : e.next(N));
          },
          () => {
            A = !0;
          },
          void 0,
          () => {
            if (A)
              try {
                for (u--; c.length && u < r; ) {
                  let N = c.shift();
                  s ? ln(e, s, () => D(N)) : D(N);
                }
                v();
              } catch (N) {
                e.error(N);
              }
          }
        )
      );
    };
  return (
    t.subscribe(
      Ie(e, m, () => {
        ((p = !0), v());
      })
    ),
    () => {
      a?.();
    }
  );
}
function We(t, e, n = 1 / 0) {
  return se(e)
    ? We((r, i) => ie((o, s) => e(r, o, i, s))(He(t(r, i))), n)
    : (typeof e == 'number' && (n = e), ye((r, i) => FC(r, i, t, n)));
}
function Pc(t = 1 / 0) {
  return We(en, t);
}
function VC() {
  return Pc(1);
}
function js(...t) {
  return VC()(Ze(t, _r(t)));
}
function Id(t) {
  return new he((e) => {
    He(t()).subscribe(e);
  });
}
function wg(...t) {
  let e = ld(t),
    { args: n, keys: r } = wd(t),
    i = new he((o) => {
      let { length: s } = n;
      if (!s) {
        o.complete();
        return;
      }
      let a = new Array(s),
        c = s,
        u = s;
      for (let d = 0; d < s; d++) {
        let p = !1;
        He(n[d]).subscribe(
          Ie(
            o,
            (v) => {
              (p || ((p = !0), u--), (a[d] = v));
            },
            () => c--,
            void 0,
            () => {
              (!c || !p) && (u || o.next(r ? Ed(r, a) : a), o.complete());
            }
          )
        );
      }
    });
  return e ? i.pipe(Vs(e)) : i;
}
var W1 = ['addListener', 'removeListener'],
  q1 = ['addEventListener', 'removeEventListener'],
  G1 = ['on', 'off'];
function Ri(t, e, n, r) {
  if ((se(n) && ((r = n), (n = void 0)), r)) return Ri(t, e, n).pipe(Vs(r));
  let [i, o] = Q1(t)
    ? q1.map((s) => (a) => t[s](e, a, n))
    : K1(t)
      ? W1.map(LC(t, e))
      : Y1(t)
        ? G1.map(LC(t, e))
        : [];
  if (!i && Os(t)) return We((s) => Ri(s, e, n))(He(t));
  if (!i) throw new TypeError('Invalid event target');
  return new he((s) => {
    let a = (...c) => s.next(1 < c.length ? c : c[0]);
    return (i(a), () => o(a));
  });
}
function LC(t, e) {
  return (n) => (r) => t[n](e, r);
}
function K1(t) {
  return se(t.addListener) && se(t.removeListener);
}
function Y1(t) {
  return se(t.on) && se(t.off);
}
function Q1(t) {
  return se(t.addEventListener) && se(t.removeEventListener);
}
function Oc(t = 0, e, n = gg) {
  let r = -1;
  return (
    e != null && (cd(e) ? (n = e) : (r = e)),
    new he((i) => {
      let o = PC(t) ? +t - n.now() : t;
      o < 0 && (o = 0);
      let s = 0;
      return n.schedule(function () {
        i.closed || (i.next(s++), 0 <= r ? this.schedule(void 0, r) : i.complete());
      }, o);
    })
  );
}
function Eg(t = 0, e = Ps) {
  return (t < 0 && (t = 0), Oc(t, t, e));
}
function Rn(...t) {
  let e = _r(t),
    n = IC(t, 1 / 0),
    r = t;
  return r.length ? (r.length === 1 ? He(r[0]) : Pc(n)(Ze(r, e))) : tn;
}
function Ke(t, e) {
  return ye((n, r) => {
    let i = 0;
    n.subscribe(Ie(r, (o) => t.call(e, o, i++) && r.next(o)));
  });
}
function Ni(t) {
  return ye((e, n) => {
    let r = null,
      i = !1,
      o;
    ((r = e.subscribe(
      Ie(n, void 0, void 0, (s) => {
        ((o = He(t(s, Ni(t)(e)))), r ? (r.unsubscribe(), (r = null), o.subscribe(n)) : (i = !0));
      })
    )),
      i && (r.unsubscribe(), (r = null), o.subscribe(n)));
  });
}
function Dd(t, e, n, r, i) {
  return (o, s) => {
    let a = n,
      c = e,
      u = 0;
    o.subscribe(
      Ie(
        s,
        (d) => {
          let p = u++;
          ((c = a ? t(c, d, p) : ((a = !0), d)), r && s.next(c));
        },
        i &&
          (() => {
            (a && s.next(c), s.complete());
          })
      )
    );
  };
}
function jC(t, e) {
  return ye(Dd(t, e, arguments.length >= 2, !1, !0));
}
function To(t, e) {
  return se(e) ? We(t, e, 1) : We(t, 1);
}
function Ig(t) {
  return jC((e, n, r) => (!t || t(n, r) ? e + 1 : e), 0);
}
function ki(t) {
  return ye((e, n) => {
    let r = !1;
    e.subscribe(
      Ie(
        n,
        (i) => {
          ((r = !0), n.next(i));
        },
        () => {
          (r || n.next(t), n.complete());
        }
      )
    );
  });
}
function Bt(t) {
  return t <= 0
    ? () => tn
    : ye((e, n) => {
        let r = 0;
        e.subscribe(
          Ie(n, (i) => {
            ++r <= t && (n.next(i), t <= r && n.complete());
          })
        );
      });
}
function Dg(t) {
  return ie(() => t);
}
function Cg(t, e = en) {
  return (
    (t = t ?? X1),
    ye((n, r) => {
      let i,
        o = !0;
      n.subscribe(
        Ie(r, (s) => {
          let a = e(s);
          (o || !t(i, a)) && ((o = !1), (i = a), r.next(s));
        })
      );
    })
  );
}
function X1(t, e) {
  return t === e;
}
function Cd(t = Z1) {
  return ye((e, n) => {
    let r = !1;
    e.subscribe(
      Ie(
        n,
        (i) => {
          ((r = !0), n.next(i));
        },
        () => (r ? n.complete() : n.error(t()))
      )
    );
  });
}
function Z1() {
  return new Qr();
}
function Us(t) {
  return ye((e, n) => {
    try {
      e.subscribe(n);
    } finally {
      n.add(t);
    }
  });
}
function Xn(t, e) {
  let n = arguments.length >= 2;
  return (r) => r.pipe(t ? Ke((i, o) => t(i, o, r)) : en, Bt(1), n ? ki(e) : Cd(() => new Qr()));
}
function Pi(t) {
  return t <= 0
    ? () => tn
    : ye((e, n) => {
        let r = [];
        e.subscribe(
          Ie(
            n,
            (i) => {
              (r.push(i), t < r.length && r.shift());
            },
            () => {
              for (let i of r) n.next(i);
              n.complete();
            },
            void 0,
            () => {
              r = null;
            }
          )
        );
      });
}
function bg(t, e) {
  let n = arguments.length >= 2;
  return (r) => r.pipe(t ? Ke((i, o) => t(i, o, r)) : en, Pi(1), n ? ki(e) : Cd(() => new Qr()));
}
function Bs() {
  return ye((t, e) => {
    let n,
      r = !1;
    t.subscribe(
      Ie(e, (i) => {
        let o = n;
        ((n = i), r && e.next([o, i]), (r = !0));
      })
    );
  });
}
function Tg(t, e) {
  return ye(Dd(t, e, arguments.length >= 2, !0));
}
function Nn(t = {}) {
  let {
    connector: e = () => new Te(),
    resetOnError: n = !0,
    resetOnComplete: r = !0,
    resetOnRefCountZero: i = !0,
  } = t;
  return (o) => {
    let s,
      a,
      c,
      u = 0,
      d = !1,
      p = !1,
      v = () => {
        (a?.unsubscribe(), (a = void 0));
      },
      m = () => {
        (v(), (s = c = void 0), (d = p = !1));
      },
      D = () => {
        let M = s;
        (m(), M?.unsubscribe());
      };
    return ye((M, A) => {
      (u++, !p && !d && v());
      let N = (c = c ?? e());
      (A.add(() => {
        (u--, u === 0 && !p && !d && (a = Sg(D, i)));
      }),
        N.subscribe(A),
        !s &&
          u > 0 &&
          ((s = new Yr({
            next: (O) => N.next(O),
            error: (O) => {
              ((p = !0), v(), (a = Sg(m, n, O)), N.error(O));
            },
            complete: () => {
              ((d = !0), v(), (a = Sg(m, r)), N.complete());
            },
          })),
          He(M).subscribe(s)));
    })(o);
  };
}
function Sg(t, e, ...n) {
  if (e === !0) {
    t();
    return;
  }
  if (e === !1) return;
  let r = new Yr({
    next: () => {
      (r.unsubscribe(), t());
    },
  });
  return He(e(...n)).subscribe(r);
}
function So(...t) {
  let e = _r(t);
  return ye((n, r) => {
    (e ? js(t, n, e) : js(t, n)).subscribe(r);
  });
}
function Pt(t, e) {
  return ye((n, r) => {
    let i = null,
      o = 0,
      s = !1,
      a = () => s && !i && r.complete();
    n.subscribe(
      Ie(
        r,
        (c) => {
          i?.unsubscribe();
          let u = 0,
            d = o++;
          He(t(c, d)).subscribe(
            (i = Ie(
              r,
              (p) => r.next(e ? e(c, p, d, u++) : p),
              () => {
                ((i = null), a());
              }
            ))
          );
        },
        () => {
          ((s = !0), a());
        }
      )
    );
  });
}
function Ag(t, e) {
  return se(e) ? Pt(() => t, e) : Pt(() => t);
}
function un(t) {
  return ye((e, n) => {
    (He(t).subscribe(Ie(n, () => n.complete(), Mc)), !n.closed && e.subscribe(n));
  });
}
function tt(t, e, n) {
  let r = se(t) || e || n ? { next: t, error: e, complete: n } : t;
  return r
    ? ye((i, o) => {
        var s;
        (s = r.subscribe) === null || s === void 0 || s.call(r);
        let a = !0;
        i.subscribe(
          Ie(
            o,
            (c) => {
              var u;
              ((u = r.next) === null || u === void 0 || u.call(r, c), o.next(c));
            },
            () => {
              var c;
              ((a = !1), (c = r.complete) === null || c === void 0 || c.call(r), o.complete());
            },
            (c) => {
              var u;
              ((a = !1), (u = r.error) === null || u === void 0 || u.call(r, c), o.error(c));
            },
            () => {
              var c, u;
              (a && ((c = r.unsubscribe) === null || c === void 0 || c.call(r)),
                (u = r.finalize) === null || u === void 0 || u.call(r));
            }
          )
        );
      })
    : en;
}
var Rb = 'https://g.co/ng/security#xss',
  Q = class extends Error {
    constructor(e, n) {
      (super(ph(e, n)), (this.code = e));
    }
  };
function ph(t, e) {
  return `${`NG0${Math.abs(t)}`}${e ? ': ' + e : ''}`;
}
function Kc(t) {
  return { toString: t }.toString();
}
var bd = '__parameters__';
function J1(t) {
  return function (...n) {
    if (t) {
      let r = t(...n);
      for (let i in r) this[i] = r[i];
    }
  };
}
function Nb(t, e, n) {
  return Kc(() => {
    let r = J1(e);
    function i(...o) {
      if (this instanceof i) return (r.apply(this, o), this);
      let s = new i(...o);
      return ((a.annotation = s), a);
      function a(c, u, d) {
        let p = c.hasOwnProperty(bd) ? c[bd] : Object.defineProperty(c, bd, { value: [] })[bd];
        for (; p.length <= d; ) p.push(null);
        return ((p[d] = p[d] || []).push(s), c);
      }
    }
    return (
      n && (i.prototype = Object.create(n.prototype)),
      (i.prototype.ngMetadataName = t),
      (i.annotationCls = i),
      i
    );
  });
}
var Xr = globalThis;
function $e(t) {
  for (let e in t) if (t[e] === $e) return e;
  throw Error('Could not find renamed property on target object.');
}
function eF(t, e) {
  for (let n in e) e.hasOwnProperty(n) && !t.hasOwnProperty(n) && (t[n] = e[n]);
}
function on(t) {
  if (typeof t == 'string') return t;
  if (Array.isArray(t)) return '[' + t.map(on).join(', ') + ']';
  if (t == null) return '' + t;
  if (t.overriddenName) return `${t.overriddenName}`;
  if (t.name) return `${t.name}`;
  let e = t.toString();
  if (e == null) return '' + e;
  let n = e.indexOf(`
`);
  return n === -1 ? e : e.substring(0, n);
}
function Wg(t, e) {
  return t == null || t === '' ? (e === null ? '' : e) : e == null || e === '' ? t : t + ' ' + e;
}
var tF = $e({ __forward_ref__: $e });
function ti(t) {
  return (
    (t.__forward_ref__ = ti),
    (t.toString = function () {
      return on(this());
    }),
    t
  );
}
function nn(t) {
  return kb(t) ? t() : t;
}
function kb(t) {
  return typeof t == 'function' && t.hasOwnProperty(tF) && t.__forward_ref__ === ti;
}
function G(t) {
  return {
    token: t.token,
    providedIn: t.providedIn || null,
    factory: t.factory,
    value: void 0,
  };
}
function It(t) {
  return { providers: t.providers || [], imports: t.imports || [] };
}
function mh(t) {
  return UC(t, Ob) || UC(t, Fb);
}
function Pb(t) {
  return mh(t) !== null;
}
function UC(t, e) {
  return t.hasOwnProperty(e) ? t[e] : null;
}
function nF(t) {
  let e = t && (t[Ob] || t[Fb]);
  return e || null;
}
function BC(t) {
  return t && (t.hasOwnProperty(HC) || t.hasOwnProperty(rF)) ? t[HC] : null;
}
var Ob = $e({ ɵprov: $e }),
  HC = $e({ ɵinj: $e }),
  Fb = $e({ ngInjectableDef: $e }),
  rF = $e({ ngInjectorDef: $e }),
  X = class {
    constructor(e, n) {
      ((this._desc = e),
        (this.ngMetadataName = 'InjectionToken'),
        (this.ɵprov = void 0),
        typeof n == 'number'
          ? (this.__NG_ELEMENT_ID__ = n)
          : n !== void 0 &&
            (this.ɵprov = G({
              token: this,
              providedIn: n.providedIn || 'root',
              factory: n.factory,
            })));
    }
    get multi() {
      return this;
    }
    toString() {
      return `InjectionToken ${this._desc}`;
    }
  };
function Vb(t) {
  return t && !!t.ɵproviders;
}
var iF = $e({ ɵcmp: $e }),
  oF = $e({ ɵdir: $e }),
  sF = $e({ ɵpipe: $e }),
  aF = $e({ ɵmod: $e }),
  Ud = $e({ ɵfac: $e }),
  Lc = $e({ __NG_ELEMENT_ID__: $e }),
  $C = $e({ __NG_ENV_ID__: $e });
function Yc(t) {
  return typeof t == 'string' ? t : t == null ? '' : String(t);
}
function cF(t) {
  return typeof t == 'function'
    ? t.name || t.toString()
    : typeof t == 'object' && t != null && typeof t.type == 'function'
      ? t.type.name || t.type.toString()
      : Yc(t);
}
function lF(t, e) {
  let n = e ? `. Dependency path: ${e.join(' > ')} > ${t}` : '';
  throw new Q(-200, t);
}
function Bv(t, e) {
  throw new Q(-201, !1);
}
var Ce = (function (t) {
    return (
      (t[(t.Default = 0)] = 'Default'),
      (t[(t.Host = 1)] = 'Host'),
      (t[(t.Self = 2)] = 'Self'),
      (t[(t.SkipSelf = 4)] = 'SkipSelf'),
      (t[(t.Optional = 8)] = 'Optional'),
      t
    );
  })(Ce || {}),
  qg;
function Lb() {
  return qg;
}
function dn(t) {
  let e = qg;
  return ((qg = t), e);
}
function jb(t, e, n) {
  let r = mh(t);
  if (r && r.providedIn == 'root') return r.value === void 0 ? (r.value = r.factory()) : r.value;
  if (n & Ce.Optional) return null;
  if (e !== void 0) return e;
  Bv(t, 'Injector');
}
var uF = {},
  jc = uF,
  Gg = '__NG_DI_FLAG__',
  Bd = 'ngTempTokenPath',
  dF = 'ngTokenPath',
  hF = /\n/gm,
  fF = '\u0275',
  zC = '__source',
  Ws;
function pF() {
  return Ws;
}
function Oi(t) {
  let e = Ws;
  return ((Ws = t), e);
}
function mF(t, e = Ce.Default) {
  if (Ws === void 0) throw new Q(-203, !1);
  return Ws === null ? jb(t, void 0, e) : Ws.get(t, e & Ce.Optional ? null : void 0, e);
}
function le(t, e = Ce.Default) {
  return (Lb() || mF)(nn(t), e);
}
function H(t, e = Ce.Default) {
  return le(t, gh(e));
}
function gh(t) {
  return typeof t > 'u' || typeof t == 'number'
    ? t
    : 0 | (t.optional && 8) | (t.host && 1) | (t.self && 2) | (t.skipSelf && 4);
}
function Kg(t) {
  let e = [];
  for (let n = 0; n < t.length; n++) {
    let r = nn(t[n]);
    if (Array.isArray(r)) {
      if (r.length === 0) throw new Q(900, !1);
      let i,
        o = Ce.Default;
      for (let s = 0; s < r.length; s++) {
        let a = r[s],
          c = gF(a);
        typeof c == 'number' ? (c === -1 ? (i = a.token) : (o |= c)) : (i = a);
      }
      e.push(le(i, o));
    } else e.push(le(r));
  }
  return e;
}
function Ub(t, e) {
  return ((t[Gg] = e), (t.prototype[Gg] = e), t);
}
function gF(t) {
  return t[Gg];
}
function vF(t, e, n, r) {
  let i = t[Bd];
  throw (
    e[zC] && i.unshift(e[zC]),
    (t.message = yF(
      `
` + t.message,
      i,
      n,
      r
    )),
    (t[dF] = i),
    (t[Bd] = null),
    t
  );
}
function yF(t, e, n, r = null) {
  t =
    t &&
    t.charAt(0) ===
      `
` &&
    t.charAt(1) == fF
      ? t.slice(2)
      : t;
  let i = on(e);
  if (Array.isArray(e)) i = e.map(on).join(' -> ');
  else if (typeof e == 'object') {
    let o = [];
    for (let s in e)
      if (e.hasOwnProperty(s)) {
        let a = e[s];
        o.push(s + ':' + (typeof a == 'string' ? JSON.stringify(a) : on(a)));
      }
    i = `{${o.join(', ')}}`;
  }
  return `${n}${r ? '(' + r + ')' : ''}[${i}]: ${t.replace(
    hF,
    `
  `
  )}`;
}
var $t = Ub(Nb('Optional'), 8);
var Hv = Ub(Nb('SkipSelf'), 4);
function xo(t, e) {
  let n = t.hasOwnProperty(Ud);
  return n ? t[Ud] : null;
}
function $v(t, e) {
  t.forEach((n) => (Array.isArray(n) ? $v(n, e) : e(n)));
}
function Bb(t, e, n) {
  e >= t.length ? t.push(n) : t.splice(e, 0, n);
}
function Hd(t, e) {
  return e >= t.length - 1 ? t.pop() : t.splice(e, 1)[0];
}
function _F(t, e, n, r) {
  let i = t.length;
  if (i == e) t.push(n, r);
  else if (i === 1) (t.push(r, t[0]), (t[0] = n));
  else {
    for (i--, t.push(t[i - 1], t[i]); i > e; ) {
      let o = i - 2;
      ((t[i] = t[o]), i--);
    }
    ((t[e] = n), (t[e + 1] = r));
  }
}
function zv(t, e, n) {
  let r = Qc(t, e);
  return (r >= 0 ? (t[r | 1] = n) : ((r = ~r), _F(t, r, e, n)), r);
}
function Mg(t, e) {
  let n = Qc(t, e);
  if (n >= 0) return t[n | 1];
}
function Qc(t, e) {
  return wF(t, e, 1);
}
function wF(t, e, n) {
  let r = 0,
    i = t.length >> n;
  for (; i !== r; ) {
    let o = r + ((i - r) >> 1),
      s = t[o << n];
    if (e === s) return o << n;
    s > e ? (i = o) : (r = o + 1);
  }
  return ~(i << n);
}
var Gs = {},
  rn = [],
  Ro = new X(''),
  Hb = new X('', -1),
  $b = new X(''),
  $d = class {
    get(e, n = jc) {
      if (n === jc) {
        let r = new Error(`NullInjectorError: No provider for ${on(e)}!`);
        throw ((r.name = 'NullInjectorError'), r);
      }
      return n;
    }
  },
  zb = (function (t) {
    return ((t[(t.OnPush = 0)] = 'OnPush'), (t[(t.Default = 1)] = 'Default'), t);
  })(zb || {}),
  Ir = (function (t) {
    return (
      (t[(t.Emulated = 0)] = 'Emulated'),
      (t[(t.None = 2)] = 'None'),
      (t[(t.ShadowDom = 3)] = 'ShadowDom'),
      t
    );
  })(Ir || {}),
  Vi = (function (t) {
    return (
      (t[(t.None = 0)] = 'None'),
      (t[(t.SignalBased = 1)] = 'SignalBased'),
      (t[(t.HasDecoratorInputTransform = 2)] = 'HasDecoratorInputTransform'),
      t
    );
  })(Vi || {});
function EF(t, e, n) {
  let r = t.length;
  for (;;) {
    let i = t.indexOf(e, n);
    if (i === -1) return i;
    if (i === 0 || t.charCodeAt(i - 1) <= 32) {
      let o = e.length;
      if (i + o === r || t.charCodeAt(i + o) <= 32) return i;
    }
    n = i + 1;
  }
}
function Yg(t, e, n) {
  let r = 0;
  for (; r < n.length; ) {
    let i = n[r];
    if (typeof i == 'number') {
      if (i !== 0) break;
      r++;
      let o = n[r++],
        s = n[r++],
        a = n[r++];
      t.setAttribute(e, s, a, o);
    } else {
      let o = i,
        s = n[++r];
      (IF(o) ? t.setProperty(e, o, s) : t.setAttribute(e, o, s), r++);
    }
  }
  return r;
}
function Wb(t) {
  return t === 3 || t === 4 || t === 6;
}
function IF(t) {
  return t.charCodeAt(0) === 64;
}
function Uc(t, e) {
  if (!(e === null || e.length === 0))
    if (t === null || t.length === 0) t = e.slice();
    else {
      let n = -1;
      for (let r = 0; r < e.length; r++) {
        let i = e[r];
        typeof i == 'number'
          ? (n = i)
          : n === 0 || (n === -1 || n === 2 ? WC(t, n, i, null, e[++r]) : WC(t, n, i, null, null));
      }
    }
  return t;
}
function WC(t, e, n, r, i) {
  let o = 0,
    s = t.length;
  if (e === -1) s = -1;
  else
    for (; o < t.length; ) {
      let a = t[o++];
      if (typeof a == 'number') {
        if (a === e) {
          s = -1;
          break;
        } else if (a > e) {
          s = o - 1;
          break;
        }
      }
    }
  for (; o < t.length; ) {
    let a = t[o];
    if (typeof a == 'number') break;
    if (a === n) {
      if (r === null) {
        i !== null && (t[o + 1] = i);
        return;
      } else if (r === t[o + 1]) {
        t[o + 2] = i;
        return;
      }
    }
    (o++, r !== null && o++, i !== null && o++);
  }
  (s !== -1 && (t.splice(s, 0, e), (o = s + 1)),
    t.splice(o++, 0, n),
    r !== null && t.splice(o++, 0, r),
    i !== null && t.splice(o++, 0, i));
}
var qb = 'ng-template';
function DF(t, e, n, r) {
  let i = 0;
  if (r) {
    for (; i < e.length && typeof e[i] == 'string'; i += 2)
      if (e[i] === 'class' && EF(e[i + 1].toLowerCase(), n, 0) !== -1) return !0;
  } else if (Wv(t)) return !1;
  if (((i = e.indexOf(1, i)), i > -1)) {
    let o;
    for (; ++i < e.length && typeof (o = e[i]) == 'string'; ) if (o.toLowerCase() === n) return !0;
  }
  return !1;
}
function Wv(t) {
  return t.type === 4 && t.value !== qb;
}
function CF(t, e, n) {
  let r = t.type === 4 && !n ? qb : t.value;
  return e === r;
}
function bF(t, e, n) {
  let r = 4,
    i = t.attrs,
    o = i !== null ? AF(i) : 0,
    s = !1;
  for (let a = 0; a < e.length; a++) {
    let c = e[a];
    if (typeof c == 'number') {
      if (!s && !Zn(r) && !Zn(c)) return !1;
      if (s && Zn(c)) continue;
      ((s = !1), (r = c | (r & 1)));
      continue;
    }
    if (!s)
      if (r & 4) {
        if (((r = 2 | (r & 1)), (c !== '' && !CF(t, c, n)) || (c === '' && e.length === 1))) {
          if (Zn(r)) return !1;
          s = !0;
        }
      } else if (r & 8) {
        if (i === null || !DF(t, i, c, n)) {
          if (Zn(r)) return !1;
          s = !0;
        }
      } else {
        let u = e[++a],
          d = TF(c, i, Wv(t), n);
        if (d === -1) {
          if (Zn(r)) return !1;
          s = !0;
          continue;
        }
        if (u !== '') {
          let p;
          if ((d > o ? (p = '') : (p = i[d + 1].toLowerCase()), r & 2 && u !== p)) {
            if (Zn(r)) return !1;
            s = !0;
          }
        }
      }
  }
  return Zn(r) || s;
}
function Zn(t) {
  return (t & 1) === 0;
}
function TF(t, e, n, r) {
  if (e === null) return -1;
  let i = 0;
  if (r || !n) {
    let o = !1;
    for (; i < e.length; ) {
      let s = e[i];
      if (s === t) return i;
      if (s === 3 || s === 6) o = !0;
      else if (s === 1 || s === 2) {
        let a = e[++i];
        for (; typeof a == 'string'; ) a = e[++i];
        continue;
      } else {
        if (s === 4) break;
        if (s === 0) {
          i += 4;
          continue;
        }
      }
      i += o ? 1 : 2;
    }
    return -1;
  } else return MF(e, t);
}
function SF(t, e, n = !1) {
  for (let r = 0; r < e.length; r++) if (bF(t, e[r], n)) return !0;
  return !1;
}
function AF(t) {
  for (let e = 0; e < t.length; e++) {
    let n = t[e];
    if (Wb(n)) return e;
  }
  return t.length;
}
function MF(t, e) {
  let n = t.indexOf(4);
  if (n > -1)
    for (n++; n < t.length; ) {
      let r = t[n];
      if (typeof r == 'number') return -1;
      if (r === e) return n;
      n++;
    }
  return -1;
}
function qC(t, e) {
  return t ? ':not(' + e.trim() + ')' : e;
}
function xF(t) {
  let e = t[0],
    n = 1,
    r = 2,
    i = '',
    o = !1;
  for (; n < t.length; ) {
    let s = t[n];
    if (typeof s == 'string')
      if (r & 2) {
        let a = t[++n];
        i += '[' + s + (a.length > 0 ? '="' + a + '"' : '') + ']';
      } else r & 8 ? (i += '.' + s) : r & 4 && (i += ' ' + s);
    else (i !== '' && !Zn(s) && ((e += qC(o, i)), (i = '')), (r = s), (o = o || !Zn(r)));
    n++;
  }
  return (i !== '' && (e += qC(o, i)), e);
}
function RF(t) {
  return t.map(xF).join(',');
}
function NF(t) {
  let e = [],
    n = [],
    r = 1,
    i = 2;
  for (; r < t.length; ) {
    let o = t[r];
    if (typeof o == 'string') i === 2 ? o !== '' && e.push(o, t[++r]) : i === 8 && n.push(o);
    else {
      if (!Zn(i)) break;
      i = o;
    }
    r++;
  }
  return { attrs: e, classes: n };
}
function Oe(t) {
  return Kc(() => {
    let e = Xb(t),
      n = ve(U({}, e), {
        decls: t.decls,
        vars: t.vars,
        template: t.template,
        consts: t.consts || null,
        ngContentSelectors: t.ngContentSelectors,
        onPush: t.changeDetection === zb.OnPush,
        directiveDefs: null,
        pipeDefs: null,
        dependencies: (e.standalone && t.dependencies) || null,
        getStandaloneInjector: null,
        signals: t.signals ?? !1,
        data: t.data || {},
        encapsulation: t.encapsulation || Ir.Emulated,
        styles: t.styles || rn,
        _: null,
        schemas: t.schemas || null,
        tView: null,
        id: '',
      });
    Zb(n);
    let r = t.dependencies;
    return ((n.directiveDefs = KC(r, !1)), (n.pipeDefs = KC(r, !0)), (n.id = OF(n)), n);
  });
}
function kF(t) {
  return No(t) || Gb(t);
}
function PF(t) {
  return t !== null;
}
function Dt(t) {
  return Kc(() => ({
    type: t.type,
    bootstrap: t.bootstrap || rn,
    declarations: t.declarations || rn,
    imports: t.imports || rn,
    exports: t.exports || rn,
    transitiveCompileScopes: null,
    schemas: t.schemas || null,
    id: t.id || null,
  }));
}
function GC(t, e) {
  if (t == null) return Gs;
  let n = {};
  for (let r in t)
    if (t.hasOwnProperty(r)) {
      let i = t[r],
        o,
        s,
        a = Vi.None;
      (Array.isArray(i) ? ((a = i[0]), (o = i[1]), (s = i[2] ?? o)) : ((o = i), (s = i)),
        e ? ((n[o] = a !== Vi.None ? [r, a] : r), (e[o] = s)) : (n[o] = r));
    }
  return n;
}
function Re(t) {
  return Kc(() => {
    let e = Xb(t);
    return (Zb(e), e);
  });
}
function ni(t) {
  return {
    type: t.type,
    name: t.name,
    factory: null,
    pure: t.pure !== !1,
    standalone: t.standalone === !0,
    onDestroy: t.type.prototype.ngOnDestroy || null,
  };
}
function No(t) {
  return t[iF] || null;
}
function Gb(t) {
  return t[oF] || null;
}
function Kb(t) {
  return t[sF] || null;
}
function Yb(t) {
  let e = No(t) || Gb(t) || Kb(t);
  return e !== null ? e.standalone : !1;
}
function Qb(t, e) {
  let n = t[aF] || null;
  if (!n && e === !0) throw new Error(`Type ${on(t)} does not have '\u0275mod' property.`);
  return n;
}
function Xb(t) {
  let e = {};
  return {
    type: t.type,
    providersResolver: null,
    factory: null,
    hostBindings: t.hostBindings || null,
    hostVars: t.hostVars || 0,
    hostAttrs: t.hostAttrs || null,
    contentQueries: t.contentQueries || null,
    declaredInputs: e,
    inputTransforms: null,
    inputConfig: t.inputs || Gs,
    exportAs: t.exportAs || null,
    standalone: t.standalone === !0,
    signals: t.signals === !0,
    selectors: t.selectors || rn,
    viewQuery: t.viewQuery || null,
    features: t.features || null,
    setInput: null,
    findHostDirectiveDefs: null,
    hostDirectives: null,
    inputs: GC(t.inputs, e),
    outputs: GC(t.outputs),
    debugInfo: null,
  };
}
function Zb(t) {
  t.features?.forEach((e) => e(t));
}
function KC(t, e) {
  if (!t) return null;
  let n = e ? Kb : kF;
  return () => (typeof t == 'function' ? t() : t).map((r) => n(r)).filter(PF);
}
function OF(t) {
  let e = 0,
    n = [
      t.selectors,
      t.ngContentSelectors,
      t.hostVars,
      t.hostAttrs,
      t.consts,
      t.vars,
      t.decls,
      t.encapsulation,
      t.standalone,
      t.signals,
      t.exportAs,
      JSON.stringify(t.inputs),
      JSON.stringify(t.outputs),
      Object.getOwnPropertyNames(t.type.prototype),
      !!t.contentQueries,
      !!t.viewQuery,
    ].join('|');
  for (let i of n) e = (Math.imul(31, e) + i.charCodeAt(0)) << 0;
  return ((e += 2147483648), 'c' + e);
}
function _n(t) {
  return { ɵproviders: t };
}
function FF(...t) {
  return { ɵproviders: Jb(!0, t), ɵfromNgModule: !0 };
}
function Jb(t, ...e) {
  let n = [],
    r = new Set(),
    i,
    o = (s) => {
      n.push(s);
    };
  return (
    $v(e, (s) => {
      let a = s;
      Qg(a, o, [], r) && ((i ||= []), i.push(a));
    }),
    i !== void 0 && eT(i, o),
    n
  );
}
function eT(t, e) {
  for (let n = 0; n < t.length; n++) {
    let { ngModule: r, providers: i } = t[n];
    qv(i, (o) => {
      e(o, r);
    });
  }
}
function Qg(t, e, n, r) {
  if (((t = nn(t)), !t)) return !1;
  let i = null,
    o = BC(t),
    s = !o && No(t);
  if (!o && !s) {
    let c = t.ngModule;
    if (((o = BC(c)), o)) i = c;
    else return !1;
  } else {
    if (s && !s.standalone) return !1;
    i = t;
  }
  let a = r.has(i);
  if (s) {
    if (a) return !1;
    if ((r.add(i), s.dependencies)) {
      let c = typeof s.dependencies == 'function' ? s.dependencies() : s.dependencies;
      for (let u of c) Qg(u, e, n, r);
    }
  } else if (o) {
    if (o.imports != null && !a) {
      r.add(i);
      let u;
      try {
        $v(o.imports, (d) => {
          Qg(d, e, n, r) && ((u ||= []), u.push(d));
        });
      } finally {
      }
      u !== void 0 && eT(u, e);
    }
    if (!a) {
      let u = xo(i) || (() => new i());
      (e({ provide: i, useFactory: u, deps: rn }, i),
        e({ provide: $b, useValue: i, multi: !0 }, i),
        e({ provide: Ro, useValue: () => le(i), multi: !0 }, i));
    }
    let c = o.providers;
    if (c != null && !a) {
      let u = t;
      qv(c, (d) => {
        e(d, u);
      });
    }
  } else return !1;
  return i !== t && t.providers !== void 0;
}
function qv(t, e) {
  for (let n of t) (Vb(n) && (n = n.ɵproviders), Array.isArray(n) ? qv(n, e) : e(n));
}
var VF = $e({ provide: String, useValue: $e });
function tT(t) {
  return t !== null && typeof t == 'object' && VF in t;
}
function LF(t) {
  return !!(t && t.useExisting);
}
function jF(t) {
  return !!(t && t.useFactory);
}
function Ks(t) {
  return typeof t == 'function';
}
function UF(t) {
  return !!t.useClass;
}
var vh = new X(''),
  Od = {},
  BF = {},
  xg;
function Gv() {
  return (xg === void 0 && (xg = new $d()), xg);
}
var Pn = class {},
  Bc = class extends Pn {
    get destroyed() {
      return this._destroyed;
    }
    constructor(e, n, r, i) {
      (super(),
        (this.parent = n),
        (this.source = r),
        (this.scopes = i),
        (this.records = new Map()),
        (this._ngOnDestroyHooks = new Set()),
        (this._onDestroyHooks = []),
        (this._destroyed = !1),
        Zg(e, (s) => this.processProvider(s)),
        this.records.set(Hb, Hs(void 0, this)),
        i.has('environment') && this.records.set(Pn, Hs(void 0, this)));
      let o = this.records.get(vh);
      (o != null && typeof o.value == 'string' && this.scopes.add(o.value),
        (this.injectorDefTypes = new Set(this.get($b, rn, Ce.Self))));
    }
    destroy() {
      (this.assertNotDestroyed(), (this._destroyed = !0));
      let e = ke(null);
      try {
        for (let r of this._ngOnDestroyHooks) r.ngOnDestroy();
        let n = this._onDestroyHooks;
        this._onDestroyHooks = [];
        for (let r of n) r();
      } finally {
        (this.records.clear(),
          this._ngOnDestroyHooks.clear(),
          this.injectorDefTypes.clear(),
          ke(e));
      }
    }
    onDestroy(e) {
      return (
        this.assertNotDestroyed(),
        this._onDestroyHooks.push(e),
        () => this.removeOnDestroy(e)
      );
    }
    runInContext(e) {
      this.assertNotDestroyed();
      let n = Oi(this),
        r = dn(void 0),
        i;
      try {
        return e();
      } finally {
        (Oi(n), dn(r));
      }
    }
    get(e, n = jc, r = Ce.Default) {
      if ((this.assertNotDestroyed(), e.hasOwnProperty($C))) return e[$C](this);
      r = gh(r);
      let i,
        o = Oi(this),
        s = dn(void 0);
      try {
        if (!(r & Ce.SkipSelf)) {
          let c = this.records.get(e);
          if (c === void 0) {
            let u = qF(e) && mh(e);
            (u && this.injectableDefInScope(u) ? (c = Hs(Xg(e), Od)) : (c = null),
              this.records.set(e, c));
          }
          if (c != null) return this.hydrate(e, c);
        }
        let a = r & Ce.Self ? Gv() : this.parent;
        return ((n = r & Ce.Optional && n === jc ? null : n), a.get(e, n));
      } catch (a) {
        if (a.name === 'NullInjectorError') {
          if (((a[Bd] = a[Bd] || []).unshift(on(e)), o)) throw a;
          return vF(a, e, 'R3InjectorError', this.source);
        } else throw a;
      } finally {
        (dn(s), Oi(o));
      }
    }
    resolveInjectorInitializers() {
      let e = ke(null),
        n = Oi(this),
        r = dn(void 0),
        i;
      try {
        let o = this.get(Ro, rn, Ce.Self);
        for (let s of o) s();
      } finally {
        (Oi(n), dn(r), ke(e));
      }
    }
    toString() {
      let e = [],
        n = this.records;
      for (let r of n.keys()) e.push(on(r));
      return `R3Injector[${e.join(', ')}]`;
    }
    assertNotDestroyed() {
      if (this._destroyed) throw new Q(205, !1);
    }
    processProvider(e) {
      e = nn(e);
      let n = Ks(e) ? e : nn(e && e.provide),
        r = $F(e);
      if (!Ks(e) && e.multi === !0) {
        let i = this.records.get(n);
        (i || ((i = Hs(void 0, Od, !0)), (i.factory = () => Kg(i.multi)), this.records.set(n, i)),
          (n = e),
          i.multi.push(e));
      }
      this.records.set(n, r);
    }
    hydrate(e, n) {
      let r = ke(null);
      try {
        return (
          n.value === Od && ((n.value = BF), (n.value = n.factory())),
          typeof n.value == 'object' &&
            n.value &&
            WF(n.value) &&
            this._ngOnDestroyHooks.add(n.value),
          n.value
        );
      } finally {
        ke(r);
      }
    }
    injectableDefInScope(e) {
      if (!e.providedIn) return !1;
      let n = nn(e.providedIn);
      return typeof n == 'string'
        ? n === 'any' || this.scopes.has(n)
        : this.injectorDefTypes.has(n);
    }
    removeOnDestroy(e) {
      let n = this._onDestroyHooks.indexOf(e);
      n !== -1 && this._onDestroyHooks.splice(n, 1);
    }
  };
function Xg(t) {
  let e = mh(t),
    n = e !== null ? e.factory : xo(t);
  if (n !== null) return n;
  if (t instanceof X) throw new Q(204, !1);
  if (t instanceof Function) return HF(t);
  throw new Q(204, !1);
}
function HF(t) {
  if (t.length > 0) throw new Q(204, !1);
  let n = nF(t);
  return n !== null ? () => n.factory(t) : () => new t();
}
function $F(t) {
  if (tT(t)) return Hs(void 0, t.useValue);
  {
    let e = nT(t);
    return Hs(e, Od);
  }
}
function nT(t, e, n) {
  let r;
  if (Ks(t)) {
    let i = nn(t);
    return xo(i) || Xg(i);
  } else if (tT(t)) r = () => nn(t.useValue);
  else if (jF(t)) r = () => t.useFactory(...Kg(t.deps || []));
  else if (LF(t)) r = () => le(nn(t.useExisting));
  else {
    let i = nn(t && (t.useClass || t.provide));
    if (zF(t)) r = () => new i(...Kg(t.deps));
    else return xo(i) || Xg(i);
  }
  return r;
}
function Hs(t, e, n = !1) {
  return { factory: t, value: e, multi: n ? [] : void 0 };
}
function zF(t) {
  return !!t.deps;
}
function WF(t) {
  return t !== null && typeof t == 'object' && typeof t.ngOnDestroy == 'function';
}
function qF(t) {
  return typeof t == 'function' || (typeof t == 'object' && t instanceof X);
}
function Zg(t, e) {
  for (let n of t) Array.isArray(n) ? Zg(n, e) : n && Vb(n) ? Zg(n.ɵproviders, e) : e(n);
}
function Tr(t, e) {
  t instanceof Bc && t.assertNotDestroyed();
  let n,
    r = Oi(t),
    i = dn(void 0);
  try {
    return e();
  } finally {
    (Oi(r), dn(i));
  }
}
function GF() {
  return Lb() !== void 0 || pF() != null;
}
function KF(t) {
  return typeof t == 'function';
}
var yn = 0,
  be = 1,
  me = 2,
  Ht = 3,
  er = 4,
  ir = 5,
  Dr = 6,
  zd = 7,
  nr = 8,
  Ys = 9,
  Cr = 10,
  Ye = 11,
  Hc = 12,
  YC = 13,
  ra = 14,
  On = 15,
  Qs = 16,
  $s = 17,
  Xs = 18,
  yh = 19,
  rT = 20,
  Fi = 21,
  Rg = 22,
  kn = 23,
  ft = 25,
  iT = 1,
  $c = 6,
  Zr = 7,
  Wd = 8,
  qd = 9,
  vn = 10,
  Gd = (function (t) {
    return (
      (t[(t.None = 0)] = 'None'),
      (t[(t.HasTransplantedViews = 2)] = 'HasTransplantedViews'),
      t
    );
  })(Gd || {});
function tr(t) {
  return Array.isArray(t) && typeof t[iT] == 'object';
}
function Sr(t) {
  return Array.isArray(t) && t[iT] === !0;
}
function Kv(t) {
  return (t.flags & 4) !== 0;
}
function Xc(t) {
  return t.componentOffset > -1;
}
function _h(t) {
  return (t.flags & 1) === 1;
}
function Li(t) {
  return !!t.template;
}
function Kd(t) {
  return (t[me] & 512) !== 0;
}
var Jg = class {
  constructor(e, n, r) {
    ((this.previousValue = e), (this.currentValue = n), (this.firstChange = r));
  }
  isFirstChange() {
    return this.firstChange;
  }
};
function oT(t, e, n, r) {
  e !== null ? e.applyValueToInputSignal(e, r) : (t[n] = r);
}
function zt() {
  return sT;
}
function sT(t) {
  return (t.type.prototype.ngOnChanges && (t.setInput = QF), YF);
}
zt.ngInherit = !0;
function YF() {
  let t = cT(this),
    e = t?.current;
  if (e) {
    let n = t.previous;
    if (n === Gs) t.previous = e;
    else for (let r in e) n[r] = e[r];
    ((t.current = null), this.ngOnChanges(e));
  }
}
function QF(t, e, n, r, i) {
  let o = this.declaredInputs[r],
    s = cT(t) || XF(t, { previous: Gs, current: null }),
    a = s.current || (s.current = {}),
    c = s.previous,
    u = c[o];
  ((a[o] = new Jg(u && u.currentValue, n, c === Gs)), oT(t, e, i, n));
}
var aT = '__ngSimpleChanges__';
function cT(t) {
  return t[aT] || null;
}
function XF(t, e) {
  return (t[aT] = e);
}
var QC = null;
var wr = function (t, e, n) {
    QC?.(t, e, n);
  },
  lT = 'svg',
  ZF = 'math';
function rr(t) {
  for (; Array.isArray(t); ) t = t[yn];
  return t;
}
function uT(t, e) {
  return rr(e[t]);
}
function wn(t, e) {
  return rr(e[t.index]);
}
function dT(t, e) {
  return t.data[e];
}
function wh(t, e) {
  return t[e];
}
function Hi(t, e) {
  let n = e[t];
  return tr(n) ? n : n[yn];
}
function Yv(t) {
  return (t[me] & 128) === 128;
}
function JF(t) {
  return Sr(t[Ht]);
}
function Zs(t, e) {
  return e == null ? null : t[e];
}
function hT(t) {
  t[$s] = 0;
}
function fT(t) {
  t[me] & 1024 || ((t[me] |= 1024), Yv(t) && Ih(t));
}
function eV(t, e) {
  for (; t > 0; ) ((e = e[ra]), t--);
  return e;
}
function Eh(t) {
  return !!(t[me] & 9216 || t[kn]?.dirty);
}
function ev(t) {
  (t[Cr].changeDetectionScheduler?.notify(8), t[me] & 64 && (t[me] |= 1024), Eh(t) && Ih(t));
}
function Ih(t) {
  t[Cr].changeDetectionScheduler?.notify(0);
  let e = ko(t);
  for (; e !== null && !(e[me] & 8192 || ((e[me] |= 8192), !Yv(e))); ) e = ko(e);
}
function pT(t, e) {
  if ((t[me] & 256) === 256) throw new Q(911, !1);
  (t[Fi] === null && (t[Fi] = []), t[Fi].push(e));
}
function tV(t, e) {
  if (t[Fi] === null) return;
  let n = t[Fi].indexOf(e);
  n !== -1 && t[Fi].splice(n, 1);
}
function ko(t) {
  let e = t[Ht];
  return Sr(e) ? e[Ht] : e;
}
var we = {
  lFrame: CT(null),
  bindingsEnabled: !0,
  skipHydrationRootTNode: null,
};
var mT = !1;
function nV() {
  return we.lFrame.elementDepthCount;
}
function rV() {
  we.lFrame.elementDepthCount++;
}
function iV() {
  we.lFrame.elementDepthCount--;
}
function gT() {
  return we.bindingsEnabled;
}
function Zc() {
  return we.skipHydrationRootTNode !== null;
}
function oV(t) {
  return we.skipHydrationRootTNode === t;
}
function sV(t) {
  we.skipHydrationRootTNode = t;
}
function aV() {
  we.skipHydrationRootTNode = null;
}
function De() {
  return we.lFrame.lView;
}
function Ot() {
  return we.lFrame.tView;
}
function J(t) {
  return ((we.lFrame.contextLView = t), t[nr]);
}
function ee(t) {
  return ((we.lFrame.contextLView = null), t);
}
function Wt() {
  let t = vT();
  for (; t !== null && t.type === 64; ) t = t.parent;
  return t;
}
function vT() {
  return we.lFrame.currentTNode;
}
function cV() {
  let t = we.lFrame,
    e = t.currentTNode;
  return t.isParent ? e : e.parent;
}
function Lo(t, e) {
  let n = we.lFrame;
  ((n.currentTNode = t), (n.isParent = e));
}
function Qv() {
  return we.lFrame.isParent;
}
function yT() {
  we.lFrame.isParent = !1;
}
function lV() {
  return we.lFrame.contextLView;
}
function _T() {
  return mT;
}
function XC(t) {
  mT = t;
}
function Vn() {
  let t = we.lFrame,
    e = t.bindingRootIndex;
  return (e === -1 && (e = t.bindingRootIndex = t.tView.bindingStartIndex), e);
}
function uV(t) {
  return (we.lFrame.bindingIndex = t);
}
function Dh() {
  return we.lFrame.bindingIndex++;
}
function wT(t) {
  let e = we.lFrame,
    n = e.bindingIndex;
  return ((e.bindingIndex = e.bindingIndex + t), n);
}
function dV() {
  return we.lFrame.inI18n;
}
function hV(t, e) {
  let n = we.lFrame;
  ((n.bindingIndex = n.bindingRootIndex = t), tv(e));
}
function fV() {
  return we.lFrame.currentDirectiveIndex;
}
function tv(t) {
  we.lFrame.currentDirectiveIndex = t;
}
function pV(t) {
  let e = we.lFrame.currentDirectiveIndex;
  return e === -1 ? null : t[e];
}
function ET(t) {
  we.lFrame.currentQueryIndex = t;
}
function mV(t) {
  let e = t[be];
  return e.type === 2 ? e.declTNode : e.type === 1 ? t[ir] : null;
}
function IT(t, e, n) {
  if (n & Ce.SkipSelf) {
    let i = e,
      o = t;
    for (; (i = i.parent), i === null && !(n & Ce.Host); )
      if (((i = mV(o)), i === null || ((o = o[ra]), i.type & 10))) break;
    if (i === null) return !1;
    ((e = i), (t = o));
  }
  let r = (we.lFrame = DT());
  return ((r.currentTNode = e), (r.lView = t), !0);
}
function Xv(t) {
  let e = DT(),
    n = t[be];
  ((we.lFrame = e),
    (e.currentTNode = n.firstChild),
    (e.lView = t),
    (e.tView = n),
    (e.contextLView = t),
    (e.bindingIndex = n.bindingStartIndex),
    (e.inI18n = !1));
}
function DT() {
  let t = we.lFrame,
    e = t === null ? null : t.child;
  return e === null ? CT(t) : e;
}
function CT(t) {
  let e = {
    currentTNode: null,
    isParent: !0,
    lView: null,
    tView: null,
    selectedIndex: -1,
    contextLView: null,
    elementDepthCount: 0,
    currentNamespace: null,
    currentDirectiveIndex: -1,
    bindingRootIndex: -1,
    bindingIndex: -1,
    currentQueryIndex: 0,
    parent: t,
    child: null,
    inI18n: !1,
  };
  return (t !== null && (t.child = e), e);
}
function bT() {
  let t = we.lFrame;
  return ((we.lFrame = t.parent), (t.currentTNode = null), (t.lView = null), t);
}
var TT = bT;
function Zv() {
  let t = bT();
  ((t.isParent = !0),
    (t.tView = null),
    (t.selectedIndex = -1),
    (t.contextLView = null),
    (t.elementDepthCount = 0),
    (t.currentDirectiveIndex = -1),
    (t.currentNamespace = null),
    (t.bindingRootIndex = -1),
    (t.bindingIndex = -1),
    (t.currentQueryIndex = 0));
}
function gV(t) {
  return (we.lFrame.contextLView = eV(t, we.lFrame.contextLView))[nr];
}
function jo() {
  return we.lFrame.selectedIndex;
}
function Po(t) {
  we.lFrame.selectedIndex = t;
}
function Jv() {
  let t = we.lFrame;
  return dT(t.tView, t.selectedIndex);
}
function Jc() {
  we.lFrame.currentNamespace = lT;
}
function ey() {
  vV();
}
function vV() {
  we.lFrame.currentNamespace = null;
}
function ST() {
  return we.lFrame.currentNamespace;
}
var AT = !0;
function Ch() {
  return AT;
}
function $i(t) {
  AT = t;
}
function yV(t, e, n) {
  let { ngOnChanges: r, ngOnInit: i, ngDoCheck: o } = e.type.prototype;
  if (r) {
    let s = sT(e);
    ((n.preOrderHooks ??= []).push(t, s), (n.preOrderCheckHooks ??= []).push(t, s));
  }
  (i && (n.preOrderHooks ??= []).push(0 - t, i),
    o && ((n.preOrderHooks ??= []).push(t, o), (n.preOrderCheckHooks ??= []).push(t, o)));
}
function bh(t, e) {
  for (let n = e.directiveStart, r = e.directiveEnd; n < r; n++) {
    let o = t.data[n].type.prototype,
      {
        ngAfterContentInit: s,
        ngAfterContentChecked: a,
        ngAfterViewInit: c,
        ngAfterViewChecked: u,
        ngOnDestroy: d,
      } = o;
    (s && (t.contentHooks ??= []).push(-n, s),
      a && ((t.contentHooks ??= []).push(n, a), (t.contentCheckHooks ??= []).push(n, a)),
      c && (t.viewHooks ??= []).push(-n, c),
      u && ((t.viewHooks ??= []).push(n, u), (t.viewCheckHooks ??= []).push(n, u)),
      d != null && (t.destroyHooks ??= []).push(n, d));
  }
}
function Fd(t, e, n) {
  MT(t, e, 3, n);
}
function Vd(t, e, n, r) {
  (t[me] & 3) === n && MT(t, e, n, r);
}
function Ng(t, e) {
  let n = t[me];
  (n & 3) === e && ((n &= 16383), (n += 1), (t[me] = n));
}
function MT(t, e, n, r) {
  let i = r !== void 0 ? t[$s] & 65535 : 0,
    o = r ?? -1,
    s = e.length - 1,
    a = 0;
  for (let c = i; c < s; c++)
    if (typeof e[c + 1] == 'number') {
      if (((a = e[c]), r != null && a >= r)) break;
    } else
      (e[c] < 0 && (t[$s] += 65536),
        (a < o || o == -1) && (_V(t, n, e, c), (t[$s] = (t[$s] & 4294901760) + c + 2)),
        c++);
}
function ZC(t, e) {
  wr(4, t, e);
  let n = ke(null);
  try {
    e.call(t);
  } finally {
    (ke(n), wr(5, t, e));
  }
}
function _V(t, e, n, r) {
  let i = n[r] < 0,
    o = n[r + 1],
    s = i ? -n[r] : n[r],
    a = t[s];
  i ? t[me] >> 14 < t[$s] >> 16 && (t[me] & 3) === e && ((t[me] += 16384), ZC(a, o)) : ZC(a, o);
}
var qs = -1,
  Oo = class {
    constructor(e, n, r) {
      ((this.factory = e),
        (this.resolving = !1),
        (this.canSeeViewProviders = n),
        (this.injectImpl = r));
    }
  };
function wV(t) {
  return t instanceof Oo;
}
function EV(t) {
  return (t.flags & 8) !== 0;
}
function IV(t) {
  return (t.flags & 16) !== 0;
}
var kg = {},
  nv = class {
    constructor(e, n) {
      ((this.injector = e), (this.parentInjector = n));
    }
    get(e, n, r) {
      r = gh(r);
      let i = this.injector.get(e, kg, r);
      return i !== kg || n === kg ? i : this.parentInjector.get(e, n, r);
    }
  };
function xT(t) {
  return t !== qs;
}
function Yd(t) {
  return t & 32767;
}
function DV(t) {
  return t >> 16;
}
function Qd(t, e) {
  let n = DV(t),
    r = e;
  for (; n > 0; ) ((r = r[ra]), n--);
  return r;
}
var rv = !0;
function Xd(t) {
  let e = rv;
  return ((rv = t), e);
}
var CV = 256,
  RT = CV - 1,
  NT = 5,
  bV = 0,
  Er = {};
function TV(t, e, n) {
  let r;
  (typeof n == 'string' ? (r = n.charCodeAt(0) || 0) : n.hasOwnProperty(Lc) && (r = n[Lc]),
    r == null && (r = n[Lc] = bV++));
  let i = r & RT,
    o = 1 << i;
  e.data[t + (i >> NT)] |= o;
}
function Zd(t, e) {
  let n = kT(t, e);
  if (n !== -1) return n;
  let r = e[be];
  r.firstCreatePass &&
    ((t.injectorIndex = e.length), Pg(r.data, t), Pg(e, null), Pg(r.blueprint, null));
  let i = ty(t, e),
    o = t.injectorIndex;
  if (xT(i)) {
    let s = Yd(i),
      a = Qd(i, e),
      c = a[be].data;
    for (let u = 0; u < 8; u++) e[o + u] = a[s + u] | c[s + u];
  }
  return ((e[o + 8] = i), o);
}
function Pg(t, e) {
  t.push(0, 0, 0, 0, 0, 0, 0, 0, e);
}
function kT(t, e) {
  return t.injectorIndex === -1 ||
    (t.parent && t.parent.injectorIndex === t.injectorIndex) ||
    e[t.injectorIndex + 8] === null
    ? -1
    : t.injectorIndex;
}
function ty(t, e) {
  if (t.parent && t.parent.injectorIndex !== -1) return t.parent.injectorIndex;
  let n = 0,
    r = null,
    i = e;
  for (; i !== null; ) {
    if (((r = LT(i)), r === null)) return qs;
    if ((n++, (i = i[ra]), r.injectorIndex !== -1)) return r.injectorIndex | (n << 16);
  }
  return qs;
}
function iv(t, e, n) {
  TV(t, e, n);
}
function SV(t, e) {
  if (e === 'class') return t.classes;
  if (e === 'style') return t.styles;
  let n = t.attrs;
  if (n) {
    let r = n.length,
      i = 0;
    for (; i < r; ) {
      let o = n[i];
      if (Wb(o)) break;
      if (o === 0) i = i + 2;
      else if (typeof o == 'number') for (i++; i < r && typeof n[i] == 'string'; ) i++;
      else {
        if (o === e) return n[i + 1];
        i = i + 2;
      }
    }
  }
  return null;
}
function PT(t, e, n) {
  if (n & Ce.Optional || t !== void 0) return t;
  Bv(e, 'NodeInjector');
}
function OT(t, e, n, r) {
  if ((n & Ce.Optional && r === void 0 && (r = null), !(n & (Ce.Self | Ce.Host)))) {
    let i = t[Ys],
      o = dn(void 0);
    try {
      return i ? i.get(e, r, n & Ce.Optional) : jb(e, r, n & Ce.Optional);
    } finally {
      dn(o);
    }
  }
  return PT(r, e, n);
}
function FT(t, e, n, r = Ce.Default, i) {
  if (t !== null) {
    if (e[me] & 2048 && !(r & Ce.Self)) {
      let s = NV(t, e, n, r, Er);
      if (s !== Er) return s;
    }
    let o = VT(t, e, n, r, Er);
    if (o !== Er) return o;
  }
  return OT(e, n, r, i);
}
function VT(t, e, n, r, i) {
  let o = xV(n);
  if (typeof o == 'function') {
    if (!IT(e, t, r)) return r & Ce.Host ? PT(i, n, r) : OT(e, n, r, i);
    try {
      let s;
      if (((s = o(r)), s == null && !(r & Ce.Optional))) Bv(n);
      else return s;
    } finally {
      TT();
    }
  } else if (typeof o == 'number') {
    let s = null,
      a = kT(t, e),
      c = qs,
      u = r & Ce.Host ? e[On][ir] : null;
    for (
      (a === -1 || r & Ce.SkipSelf) &&
      ((c = a === -1 ? ty(t, e) : e[a + 8]),
      c === qs || !eb(r, !1) ? (a = -1) : ((s = e[be]), (a = Yd(c)), (e = Qd(c, e))));
      a !== -1;

    ) {
      let d = e[be];
      if (JC(o, a, d.data)) {
        let p = AV(a, e, n, s, r, u);
        if (p !== Er) return p;
      }
      ((c = e[a + 8]),
        c !== qs && eb(r, e[be].data[a + 8] === u) && JC(o, a, e)
          ? ((s = d), (a = Yd(c)), (e = Qd(c, e)))
          : (a = -1));
    }
  }
  return i;
}
function AV(t, e, n, r, i, o) {
  let s = e[be],
    a = s.data[t + 8],
    c = r == null ? Xc(a) && rv : r != s && (a.type & 3) !== 0,
    u = i & Ce.Host && o === a,
    d = MV(a, s, n, c, u);
  return d !== null ? Js(e, s, d, a) : Er;
}
function MV(t, e, n, r, i) {
  let o = t.providerIndexes,
    s = e.data,
    a = o & 1048575,
    c = t.directiveStart,
    u = t.directiveEnd,
    d = o >> 20,
    p = r ? a : a + d,
    v = i ? a + d : u;
  for (let m = p; m < v; m++) {
    let D = s[m];
    if ((m < c && n === D) || (m >= c && D.type === n)) return m;
  }
  if (i) {
    let m = s[c];
    if (m && Li(m) && m.type === n) return c;
  }
  return null;
}
function Js(t, e, n, r) {
  let i = t[n],
    o = e.data;
  if (wV(i)) {
    let s = i;
    s.resolving && lF(cF(o[n]));
    let a = Xd(s.canSeeViewProviders);
    s.resolving = !0;
    let c,
      u = s.injectImpl ? dn(s.injectImpl) : null,
      d = IT(t, r, Ce.Default);
    try {
      ((i = t[n] = s.factory(void 0, o, t, r)),
        e.firstCreatePass && n >= r.directiveStart && yV(n, o[n], e));
    } finally {
      (u !== null && dn(u), Xd(a), (s.resolving = !1), TT());
    }
  }
  return i;
}
function xV(t) {
  if (typeof t == 'string') return t.charCodeAt(0) || 0;
  let e = t.hasOwnProperty(Lc) ? t[Lc] : void 0;
  return typeof e == 'number' ? (e >= 0 ? e & RT : RV) : e;
}
function JC(t, e, n) {
  let r = 1 << t;
  return !!(n[e + (t >> NT)] & r);
}
function eb(t, e) {
  return !(t & Ce.Self) && !(t & Ce.Host && e);
}
var Mo = class {
  constructor(e, n) {
    ((this._tNode = e), (this._lView = n));
  }
  get(e, n, r) {
    return FT(this._tNode, this._lView, e, gh(r), n);
  }
};
function RV() {
  return new Mo(Wt(), De());
}
function Ar(t) {
  return Kc(() => {
    let e = t.prototype.constructor,
      n = e[Ud] || ov(e),
      r = Object.prototype,
      i = Object.getPrototypeOf(t.prototype).constructor;
    for (; i && i !== r; ) {
      let o = i[Ud] || ov(i);
      if (o && o !== n) return o;
      i = Object.getPrototypeOf(i);
    }
    return (o) => new o();
  });
}
function ov(t) {
  return kb(t)
    ? () => {
        let e = ov(nn(t));
        return e && e();
      }
    : xo(t);
}
function NV(t, e, n, r, i) {
  let o = t,
    s = e;
  for (; o !== null && s !== null && s[me] & 2048 && !(s[me] & 512); ) {
    let a = VT(o, s, n, r | Ce.Self, Er);
    if (a !== Er) return a;
    let c = o.parent;
    if (!c) {
      let u = s[rT];
      if (u) {
        let d = u.get(n, Er, r);
        if (d !== Er) return d;
      }
      ((c = LT(s)), (s = s[ra]));
    }
    o = c;
  }
  return i;
}
function LT(t) {
  let e = t[be],
    n = e.type;
  return n === 2 ? e.declTNode : n === 1 ? t[ir] : null;
}
function ny(t) {
  return SV(Wt(), t);
}
function tb(t, e = null, n = null, r) {
  let i = jT(t, e, n, r);
  return (i.resolveInjectorInitializers(), i);
}
function jT(t, e = null, n = null, r, i = new Set()) {
  let o = [n || rn, FF(t)];
  return ((r = r || (typeof t == 'object' ? void 0 : on(t))), new Bc(o, e || Gv(), r || null, i));
}
var At = class t {
  static {
    this.THROW_IF_NOT_FOUND = jc;
  }
  static {
    this.NULL = new $d();
  }
  static create(e, n) {
    if (Array.isArray(e)) return tb({ name: '' }, n, e, '');
    {
      let r = e.name ?? '';
      return tb({ name: r }, e.parent, e.providers, r);
    }
  }
  static {
    this.ɵprov = G({ token: t, providedIn: 'any', factory: () => le(Hb) });
  }
  static {
    this.__NG_ELEMENT_ID__ = -1;
  }
};
var kV = new X('');
kV.__NG_ELEMENT_ID__ = (t) => {
  let e = Wt();
  if (e === null) throw new Q(204, !1);
  if (e.type & 2) return e.value;
  if (t & Ce.Optional) return null;
  throw new Q(204, !1);
};
var PV = 'ngOriginalError';
function Og(t) {
  return t[PV];
}
var UT = !0,
  BT = (() => {
    class t {
      static {
        this.__NG_ELEMENT_ID__ = OV;
      }
      static {
        this.__NG_ENV_ID__ = (n) => n;
      }
    }
    return t;
  })(),
  sv = class extends BT {
    constructor(e) {
      (super(), (this._lView = e));
    }
    onDestroy(e) {
      return (pT(this._lView, e), () => tV(this._lView, e));
    }
  };
function OV() {
  return new sv(De());
}
var Uo = (() => {
  class t {
    constructor() {
      ((this.taskId = 0), (this.pendingTasks = new Set()), (this.hasPendingTasks = new ot(!1)));
    }
    get _hasPendingTasks() {
      return this.hasPendingTasks.value;
    }
    add() {
      this._hasPendingTasks || this.hasPendingTasks.next(!0);
      let n = this.taskId++;
      return (this.pendingTasks.add(n), n);
    }
    remove(n) {
      (this.pendingTasks.delete(n),
        this.pendingTasks.size === 0 && this._hasPendingTasks && this.hasPendingTasks.next(!1));
    }
    ngOnDestroy() {
      (this.pendingTasks.clear(), this._hasPendingTasks && this.hasPendingTasks.next(!1));
    }
    static {
      this.ɵprov = G({ token: t, providedIn: 'root', factory: () => new t() });
    }
  }
  return t;
})();
var av = class extends Te {
    constructor(e = !1) {
      (super(),
        (this.destroyRef = void 0),
        (this.pendingTasks = void 0),
        (this.__isAsync = e),
        GF() &&
          ((this.destroyRef = H(BT, { optional: !0 }) ?? void 0),
          (this.pendingTasks = H(Uo, { optional: !0 }) ?? void 0)));
    }
    emit(e) {
      let n = ke(null);
      try {
        super.next(e);
      } finally {
        ke(n);
      }
    }
    subscribe(e, n, r) {
      let i = e,
        o = n || (() => null),
        s = r;
      if (e && typeof e == 'object') {
        let c = e;
        ((i = c.next?.bind(c)), (o = c.error?.bind(c)), (s = c.complete?.bind(c)));
      }
      this.__isAsync &&
        ((o = this.wrapInTimeout(o)),
        i && (i = this.wrapInTimeout(i)),
        s && (s = this.wrapInTimeout(s)));
      let a = super.subscribe({ next: i, error: o, complete: s });
      return (e instanceof it && e.add(a), a);
    }
    wrapInTimeout(e) {
      return (n) => {
        let r = this.pendingTasks?.add();
        setTimeout(() => {
          (e(n), r !== void 0 && this.pendingTasks?.remove(r));
        });
      };
    }
  },
  K = av;
function Jd(...t) {}
function HT(t) {
  let e, n;
  function r() {
    t = Jd;
    try {
      (n !== void 0 && typeof cancelAnimationFrame == 'function' && cancelAnimationFrame(n),
        e !== void 0 && clearTimeout(e));
    } catch {}
  }
  return (
    (e = setTimeout(() => {
      (t(), r());
    })),
    typeof requestAnimationFrame == 'function' &&
      (n = requestAnimationFrame(() => {
        (t(), r());
      })),
    () => r()
  );
}
function nb(t) {
  return (
    queueMicrotask(() => t()),
    () => {
      t = Jd;
    }
  );
}
var ry = 'isAngularZone',
  eh = ry + '_ID',
  FV = 0,
  Se = class t {
    constructor(e) {
      ((this.hasPendingMacrotasks = !1),
        (this.hasPendingMicrotasks = !1),
        (this.isStable = !0),
        (this.onUnstable = new K(!1)),
        (this.onMicrotaskEmpty = new K(!1)),
        (this.onStable = new K(!1)),
        (this.onError = new K(!1)));
      let {
        enableLongStackTrace: n = !1,
        shouldCoalesceEventChangeDetection: r = !1,
        shouldCoalesceRunChangeDetection: i = !1,
        scheduleInRootZone: o = UT,
      } = e;
      if (typeof Zone > 'u') throw new Q(908, !1);
      Zone.assertZonePatched();
      let s = this;
      ((s._nesting = 0),
        (s._outer = s._inner = Zone.current),
        Zone.TaskTrackingZoneSpec && (s._inner = s._inner.fork(new Zone.TaskTrackingZoneSpec())),
        n && Zone.longStackTraceZoneSpec && (s._inner = s._inner.fork(Zone.longStackTraceZoneSpec)),
        (s.shouldCoalesceEventChangeDetection = !i && r),
        (s.shouldCoalesceRunChangeDetection = i),
        (s.callbackScheduled = !1),
        (s.scheduleInRootZone = o),
        jV(s));
    }
    static isInAngularZone() {
      return typeof Zone < 'u' && Zone.current.get(ry) === !0;
    }
    static assertInAngularZone() {
      if (!t.isInAngularZone()) throw new Q(909, !1);
    }
    static assertNotInAngularZone() {
      if (t.isInAngularZone()) throw new Q(909, !1);
    }
    run(e, n, r) {
      return this._inner.run(e, n, r);
    }
    runTask(e, n, r, i) {
      let o = this._inner,
        s = o.scheduleEventTask('NgZoneEvent: ' + i, e, VV, Jd, Jd);
      try {
        return o.runTask(s, n, r);
      } finally {
        o.cancelTask(s);
      }
    }
    runGuarded(e, n, r) {
      return this._inner.runGuarded(e, n, r);
    }
    runOutsideAngular(e) {
      return this._outer.run(e);
    }
  },
  VV = {};
function iy(t) {
  if (t._nesting == 0 && !t.hasPendingMicrotasks && !t.isStable)
    try {
      (t._nesting++, t.onMicrotaskEmpty.emit(null));
    } finally {
      if ((t._nesting--, !t.hasPendingMicrotasks))
        try {
          t.runOutsideAngular(() => t.onStable.emit(null));
        } finally {
          t.isStable = !0;
        }
    }
}
function LV(t) {
  if (t.isCheckStableRunning || t.callbackScheduled) return;
  t.callbackScheduled = !0;
  function e() {
    HT(() => {
      ((t.callbackScheduled = !1),
        cv(t),
        (t.isCheckStableRunning = !0),
        iy(t),
        (t.isCheckStableRunning = !1));
    });
  }
  (t.scheduleInRootZone
    ? Zone.root.run(() => {
        e();
      })
    : t._outer.run(() => {
        e();
      }),
    cv(t));
}
function jV(t) {
  let e = () => {
      LV(t);
    },
    n = FV++;
  t._inner = t._inner.fork({
    name: 'angular',
    properties: { [ry]: !0, [eh]: n, [eh + n]: !0 },
    onInvokeTask: (r, i, o, s, a, c) => {
      if (UV(c)) return r.invokeTask(o, s, a, c);
      try {
        return (rb(t), r.invokeTask(o, s, a, c));
      } finally {
        (((t.shouldCoalesceEventChangeDetection && s.type === 'eventTask') ||
          t.shouldCoalesceRunChangeDetection) &&
          e(),
          ib(t));
      }
    },
    onInvoke: (r, i, o, s, a, c, u) => {
      try {
        return (rb(t), r.invoke(o, s, a, c, u));
      } finally {
        (t.shouldCoalesceRunChangeDetection && !t.callbackScheduled && !BV(c) && e(), ib(t));
      }
    },
    onHasTask: (r, i, o, s) => {
      (r.hasTask(o, s),
        i === o &&
          (s.change == 'microTask'
            ? ((t._hasPendingMicrotasks = s.microTask), cv(t), iy(t))
            : s.change == 'macroTask' && (t.hasPendingMacrotasks = s.macroTask)));
    },
    onHandleError: (r, i, o, s) => (
      r.handleError(o, s),
      t.runOutsideAngular(() => t.onError.emit(s)),
      !1
    ),
  });
}
function cv(t) {
  t._hasPendingMicrotasks ||
  ((t.shouldCoalesceEventChangeDetection || t.shouldCoalesceRunChangeDetection) &&
    t.callbackScheduled === !0)
    ? (t.hasPendingMicrotasks = !0)
    : (t.hasPendingMicrotasks = !1);
}
function rb(t) {
  (t._nesting++, t.isStable && ((t.isStable = !1), t.onUnstable.emit(null)));
}
function ib(t) {
  (t._nesting--, iy(t));
}
var lv = class {
  constructor() {
    ((this.hasPendingMicrotasks = !1),
      (this.hasPendingMacrotasks = !1),
      (this.isStable = !0),
      (this.onUnstable = new K()),
      (this.onMicrotaskEmpty = new K()),
      (this.onStable = new K()),
      (this.onError = new K()));
  }
  run(e, n, r) {
    return e.apply(n, r);
  }
  runGuarded(e, n, r) {
    return e.apply(n, r);
  }
  runOutsideAngular(e) {
    return e();
  }
  runTask(e, n, r, i) {
    return e.apply(n, r);
  }
};
function UV(t) {
  return $T(t, '__ignore_ng_zone__');
}
function BV(t) {
  return $T(t, '__scheduler_tick__');
}
function $T(t, e) {
  return !Array.isArray(t) || t.length !== 1 ? !1 : t[0]?.data?.[e] === !0;
}
var Jr = class {
    constructor() {
      this._console = console;
    }
    handleError(e) {
      let n = this._findOriginalError(e);
      (this._console.error('ERROR', e), n && this._console.error('ORIGINAL ERROR', n));
    }
    _findOriginalError(e) {
      let n = e && Og(e);
      for (; n && Og(n); ) n = Og(n);
      return n || null;
    }
  },
  HV = new X('', {
    providedIn: 'root',
    factory: () => {
      let t = H(Se),
        e = H(Jr);
      return (n) => t.runOutsideAngular(() => e.handleError(n));
    },
  });
function $V() {
  return Th(Wt(), De());
}
function Th(t, e) {
  return new Je(wn(t, e));
}
var Je = (() => {
  class t {
    constructor(n) {
      this.nativeElement = n;
    }
    static {
      this.__NG_ELEMENT_ID__ = $V;
    }
  }
  return t;
})();
var zV = 'ngSkipHydration',
  WV = 'ngskiphydration';
function zT(t) {
  let e = t.mergedAttrs;
  if (e === null) return !1;
  for (let n = 0; n < e.length; n += 2) {
    let r = e[n];
    if (typeof r == 'number') return !1;
    if (typeof r == 'string' && r.toLowerCase() === WV) return !0;
  }
  return !1;
}
function WT(t) {
  return t.hasAttribute(zV);
}
function th(t) {
  return (t.flags & 128) === 128;
}
function qV(t) {
  if (th(t)) return !0;
  let e = t.parent;
  for (; e; ) {
    if (th(t) || zT(e)) return !0;
    e = e.parent;
  }
  return !1;
}
var qT = new Map(),
  GV = 0;
function KV() {
  return GV++;
}
function YV(t) {
  qT.set(t[yh], t);
}
function uv(t) {
  qT.delete(t[yh]);
}
var ob = '__ngContext__';
function ji(t, e) {
  tr(e) ? ((t[ob] = e[yh]), YV(e)) : (t[ob] = e);
}
function GT(t) {
  return YT(t[Hc]);
}
function KT(t) {
  return YT(t[er]);
}
function YT(t) {
  for (; t !== null && !Sr(t); ) t = t[er];
  return t;
}
var dv;
function QT(t) {
  dv = t;
}
function el() {
  if (dv !== void 0) return dv;
  if (typeof document < 'u') return document;
  throw new Q(210, !1);
}
var Sh = new X('', { providedIn: 'root', factory: () => QV }),
  QV = 'ng',
  oy = new X(''),
  hn = new X('', { providedIn: 'platform', factory: () => 'unknown' });
var sy = new X('', {
  providedIn: 'root',
  factory: () => el().body?.querySelector('[ngCspNonce]')?.getAttribute('ngCspNonce') || null,
});
function XV() {
  let t = new ia();
  return (H(hn) === 'browser' && (t.store = ZV(el(), H(Sh))), t);
}
var ia = (() => {
  class t {
    constructor() {
      ((this.store = {}), (this.onSerializeCallbacks = {}));
    }
    static {
      this.ɵprov = G({ token: t, providedIn: 'root', factory: XV });
    }
    get(n, r) {
      return this.store[n] !== void 0 ? this.store[n] : r;
    }
    set(n, r) {
      this.store[n] = r;
    }
    remove(n) {
      delete this.store[n];
    }
    hasKey(n) {
      return this.store.hasOwnProperty(n);
    }
    get isEmpty() {
      return Object.keys(this.store).length === 0;
    }
    onSerialize(n, r) {
      this.onSerializeCallbacks[n] = r;
    }
    toJson() {
      for (let n in this.onSerializeCallbacks)
        if (this.onSerializeCallbacks.hasOwnProperty(n))
          try {
            this.store[n] = this.onSerializeCallbacks[n]();
          } catch (r) {
            console.warn('Exception in onSerialize callback: ', r);
          }
      return JSON.stringify(this.store).replace(/</g, '\\u003C');
    }
  }
  return t;
})();
function ZV(t, e) {
  let n = t.getElementById(e + '-state');
  if (n?.textContent)
    try {
      return JSON.parse(n.textContent);
    } catch (r) {
      console.warn('Exception while restoring TransferState for app ' + e, r);
    }
  return {};
}
var XT = 'h',
  ZT = 'b',
  hv = (function (t) {
    return ((t.FirstChild = 'f'), (t.NextSibling = 'n'), t);
  })(hv || {}),
  JV = 'e',
  eL = 't',
  ay = 'c',
  JT = 'x',
  nh = 'r',
  tL = 'i',
  nL = 'n',
  eS = 'd';
var rL = '__nghData__',
  tS = rL,
  Fg = 'ngh',
  iL = 'nghm',
  nS = () => null;
function oL(t, e, n = !1) {
  let r = t.getAttribute(Fg);
  if (r == null) return null;
  let [i, o] = r.split('|');
  if (((r = n ? o : i), !r)) return null;
  let s = o ? `|${o}` : '',
    a = n ? i : s,
    c = {};
  if (r !== '') {
    let d = e.get(ia, null, { optional: !0 });
    d !== null && (c = d.get(tS, [])[Number(r)]);
  }
  let u = { data: c, firstChild: t.firstChild ?? null };
  return (
    n && ((u.firstChild = t), Ah(u, 0, t.nextSibling)),
    a ? t.setAttribute(Fg, a) : t.removeAttribute(Fg),
    u
  );
}
function sL() {
  nS = oL;
}
function cy(t, e, n = !1) {
  return nS(t, e, n);
}
function aL(t) {
  let e = t._lView;
  return e[be].type === 2 ? null : (Kd(e) && (e = e[ft]), e);
}
function cL(t) {
  return t.textContent?.replace(/\s/gm, '');
}
function lL(t) {
  let e = el(),
    n = e.createNodeIterator(t, NodeFilter.SHOW_COMMENT, {
      acceptNode(o) {
        let s = cL(o);
        return s === 'ngetn' || s === 'ngtns' ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;
      },
    }),
    r,
    i = [];
  for (; (r = n.nextNode()); ) i.push(r);
  for (let o of i) o.textContent === 'ngetn' ? o.replaceWith(e.createTextNode('')) : o.remove();
}
function Ah(t, e, n) {
  ((t.segmentHeads ??= {}), (t.segmentHeads[e] = n));
}
function fv(t, e) {
  return t.segmentHeads?.[e] ?? null;
}
function uL(t, e) {
  let n = t.data,
    r = n[JV]?.[e] ?? null;
  return (r === null && n[ay]?.[e] && (r = ly(t, e)), r);
}
function rS(t, e) {
  return t.data[ay]?.[e] ?? null;
}
function ly(t, e) {
  let n = rS(t, e) ?? [],
    r = 0;
  for (let i of n) r += i[nh] * (i[JT] ?? 1);
  return r;
}
function dL(t) {
  if (typeof t.disconnectedNodes > 'u') {
    let e = t.data[eS];
    t.disconnectedNodes = e ? new Set(e) : null;
  }
  return t.disconnectedNodes;
}
function tl(t, e) {
  if (typeof t.disconnectedNodes > 'u') {
    let n = t.data[eS];
    t.disconnectedNodes = n ? new Set(n) : null;
  }
  return !!dL(t)?.has(e);
}
var Td = new X(''),
  iS = !1,
  oS = new X('', { providedIn: 'root', factory: () => iS });
var Sd;
function hL() {
  if (Sd === void 0 && ((Sd = null), Xr.trustedTypes))
    try {
      Sd = Xr.trustedTypes.createPolicy('angular', {
        createHTML: (t) => t,
        createScript: (t) => t,
        createScriptURL: (t) => t,
      });
    } catch {}
  return Sd;
}
function Mh(t) {
  return hL()?.createHTML(t) || t;
}
var Ad;
function sS() {
  if (Ad === void 0 && ((Ad = null), Xr.trustedTypes))
    try {
      Ad = Xr.trustedTypes.createPolicy('angular#unsafe-bypass', {
        createHTML: (t) => t,
        createScript: (t) => t,
        createScriptURL: (t) => t,
      });
    } catch {}
  return Ad;
}
function sb(t) {
  return sS()?.createHTML(t) || t;
}
function ab(t) {
  return sS()?.createScriptURL(t) || t;
}
var rh = class {
  constructor(e) {
    this.changingThisBreaksApplicationSecurity = e;
  }
  toString() {
    return `SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rb})`;
  }
};
function Bo(t) {
  return t instanceof rh ? t.changingThisBreaksApplicationSecurity : t;
}
function xh(t, e) {
  let n = fL(t);
  if (n != null && n !== e) {
    if (n === 'ResourceURL' && e === 'URL') return !0;
    throw new Error(`Required a safe ${e}, got a ${n} (see ${Rb})`);
  }
  return n === e;
}
function fL(t) {
  return (t instanceof rh && t.getTypeName()) || null;
}
function pL(t) {
  let e = new mv(t);
  return mL() ? new pv(e) : e;
}
var pv = class {
    constructor(e) {
      this.inertDocumentHelper = e;
    }
    getInertBodyElement(e) {
      e = '<body><remove></remove>' + e;
      try {
        let n = new window.DOMParser().parseFromString(Mh(e), 'text/html').body;
        return n === null
          ? this.inertDocumentHelper.getInertBodyElement(e)
          : (n.firstChild?.remove(), n);
      } catch {
        return null;
      }
    }
  },
  mv = class {
    constructor(e) {
      ((this.defaultDoc = e),
        (this.inertDocument =
          this.defaultDoc.implementation.createHTMLDocument('sanitization-inert')));
    }
    getInertBodyElement(e) {
      let n = this.inertDocument.createElement('template');
      return ((n.innerHTML = Mh(e)), n);
    }
  };
function mL() {
  try {
    return !!new window.DOMParser().parseFromString(Mh(''), 'text/html');
  } catch {
    return !1;
  }
}
var gL = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;
function uy(t) {
  return ((t = String(t)), t.match(gL) ? t : 'unsafe:' + t);
}
function ri(t) {
  let e = {};
  for (let n of t.split(',')) e[n] = !0;
  return e;
}
function nl(...t) {
  let e = {};
  for (let n of t) for (let r in n) n.hasOwnProperty(r) && (e[r] = !0);
  return e;
}
var aS = ri('area,br,col,hr,img,wbr'),
  cS = ri('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr'),
  lS = ri('rp,rt'),
  vL = nl(lS, cS),
  yL = nl(
    cS,
    ri(
      'address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul'
    )
  ),
  _L = nl(
    lS,
    ri(
      'a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video'
    )
  ),
  cb = nl(aS, yL, _L, vL),
  uS = ri('background,cite,href,itemtype,longdesc,poster,src,xlink:href'),
  wL = ri(
    'abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width'
  ),
  EL = ri(
    'aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext'
  ),
  IL = nl(uS, wL, EL),
  DL = ri('script,style,template'),
  gv = class {
    constructor() {
      ((this.sanitizedSomething = !1), (this.buf = []));
    }
    sanitizeChildren(e) {
      let n = e.firstChild,
        r = !0,
        i = [];
      for (; n; ) {
        if (
          (n.nodeType === Node.ELEMENT_NODE
            ? (r = this.startElement(n))
            : n.nodeType === Node.TEXT_NODE
              ? this.chars(n.nodeValue)
              : (this.sanitizedSomething = !0),
          r && n.firstChild)
        ) {
          (i.push(n), (n = TL(n)));
          continue;
        }
        for (; n; ) {
          n.nodeType === Node.ELEMENT_NODE && this.endElement(n);
          let o = bL(n);
          if (o) {
            n = o;
            break;
          }
          n = i.pop();
        }
      }
      return this.buf.join('');
    }
    startElement(e) {
      let n = lb(e).toLowerCase();
      if (!cb.hasOwnProperty(n)) return ((this.sanitizedSomething = !0), !DL.hasOwnProperty(n));
      (this.buf.push('<'), this.buf.push(n));
      let r = e.attributes;
      for (let i = 0; i < r.length; i++) {
        let o = r.item(i),
          s = o.name,
          a = s.toLowerCase();
        if (!IL.hasOwnProperty(a)) {
          this.sanitizedSomething = !0;
          continue;
        }
        let c = o.value;
        (uS[a] && (c = uy(c)), this.buf.push(' ', s, '="', ub(c), '"'));
      }
      return (this.buf.push('>'), !0);
    }
    endElement(e) {
      let n = lb(e).toLowerCase();
      cb.hasOwnProperty(n) &&
        !aS.hasOwnProperty(n) &&
        (this.buf.push('</'), this.buf.push(n), this.buf.push('>'));
    }
    chars(e) {
      this.buf.push(ub(e));
    }
  };
function CL(t, e) {
  return (
    (t.compareDocumentPosition(e) & Node.DOCUMENT_POSITION_CONTAINED_BY) !==
    Node.DOCUMENT_POSITION_CONTAINED_BY
  );
}
function bL(t) {
  let e = t.nextSibling;
  if (e && t !== e.previousSibling) throw dS(e);
  return e;
}
function TL(t) {
  let e = t.firstChild;
  if (e && CL(t, e)) throw dS(e);
  return e;
}
function lb(t) {
  let e = t.nodeName;
  return typeof e == 'string' ? e : 'FORM';
}
function dS(t) {
  return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);
}
var SL = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
  AL = /([^\#-~ |!])/g;
function ub(t) {
  return t
    .replace(/&/g, '&amp;')
    .replace(SL, function (e) {
      let n = e.charCodeAt(0),
        r = e.charCodeAt(1);
      return '&#' + ((n - 55296) * 1024 + (r - 56320) + 65536) + ';';
    })
    .replace(AL, function (e) {
      return '&#' + e.charCodeAt(0) + ';';
    })
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;');
}
var Md;
function hS(t, e) {
  let n = null;
  try {
    Md = Md || pL(t);
    let r = e ? String(e) : '';
    n = Md.getInertBodyElement(r);
    let i = 5,
      o = r;
    do {
      if (i === 0) throw new Error('Failed to sanitize html because the input is unstable');
      (i--, (r = o), (o = n.innerHTML), (n = Md.getInertBodyElement(r)));
    } while (r !== o);
    let a = new gv().sanitizeChildren(db(n) || n);
    return Mh(a);
  } finally {
    if (n) {
      let r = db(n) || n;
      for (; r.firstChild; ) r.firstChild.remove();
    }
  }
}
function db(t) {
  return 'content' in t && ML(t) ? t.content : null;
}
function ML(t) {
  return t.nodeType === Node.ELEMENT_NODE && t.nodeName === 'TEMPLATE';
}
var rl = (function (t) {
  return (
    (t[(t.NONE = 0)] = 'NONE'),
    (t[(t.HTML = 1)] = 'HTML'),
    (t[(t.STYLE = 2)] = 'STYLE'),
    (t[(t.SCRIPT = 3)] = 'SCRIPT'),
    (t[(t.URL = 4)] = 'URL'),
    (t[(t.RESOURCE_URL = 5)] = 'RESOURCE_URL'),
    t
  );
})(rl || {});
function Rh(t) {
  let e = dy();
  return e ? sb(e.sanitize(rl.HTML, t) || '') : xh(t, 'HTML') ? sb(Bo(t)) : hS(el(), Yc(t));
}
function xL(t) {
  let e = dy();
  return e ? e.sanitize(rl.URL, t) || '' : xh(t, 'URL') ? Bo(t) : uy(Yc(t));
}
function RL(t) {
  let e = dy();
  if (e) return ab(e.sanitize(rl.RESOURCE_URL, t) || '');
  if (xh(t, 'ResourceURL')) return ab(Bo(t));
  throw new Q(904, !1);
}
function NL(t, e) {
  return (e === 'src' &&
    (t === 'embed' || t === 'frame' || t === 'iframe' || t === 'media' || t === 'script')) ||
    (e === 'href' && (t === 'base' || t === 'link'))
    ? RL
    : xL;
}
function fS(t, e, n) {
  return NL(e, n)(t);
}
function dy() {
  let t = De();
  return t && t[Cr].sanitizer;
}
var kL = /^>|^->|<!--|-->|--!>|<!-$/g,
  PL = /(<|>)/g,
  OL = '\u200B$1\u200B';
function FL(t) {
  return t.replace(kL, (e) => e.replace(PL, OL));
}
function VL(t) {
  return t.ownerDocument.body;
}
function pS(t) {
  return t instanceof Function ? t() : t;
}
function xd(t) {
  return (t ?? H(At)).get(hn) === 'browser';
}
var br = (function (t) {
    return ((t[(t.Important = 1)] = 'Important'), (t[(t.DashCase = 2)] = 'DashCase'), t);
  })(br || {}),
  LL;
function hy(t, e) {
  return LL(t, e);
}
function zs(t, e, n, r, i) {
  if (r != null) {
    let o,
      s = !1;
    Sr(r) ? (o = r) : tr(r) && ((s = !0), (r = r[yn]));
    let a = rr(r);
    (t === 0 && n !== null
      ? i == null
        ? wS(e, n, a)
        : ih(e, n, a, i || null, !0)
      : t === 1 && n !== null
        ? ih(e, n, a, i || null, !0)
        : t === 2
          ? my(e, a, s)
          : t === 3 && e.destroyNode(a),
      o != null && JL(e, t, o, n, i));
  }
}
function mS(t, e) {
  return t.createText(e);
}
function jL(t, e, n) {
  t.setValue(e, n);
}
function gS(t, e) {
  return t.createComment(FL(e));
}
function fy(t, e, n) {
  return t.createElement(e, n);
}
function UL(t, e) {
  (vS(t, e), (e[yn] = null), (e[ir] = null));
}
function BL(t, e, n, r, i, o) {
  ((r[yn] = i), (r[ir] = e), kh(t, r, n, 1, i, o));
}
function vS(t, e) {
  (e[Cr].changeDetectionScheduler?.notify(9), kh(t, e, e[Ye], 2, null, null));
}
function HL(t) {
  let e = t[Hc];
  if (!e) return Vg(t[be], t);
  for (; e; ) {
    let n = null;
    if (tr(e)) n = e[Hc];
    else {
      let r = e[vn];
      r && (n = r);
    }
    if (!n) {
      for (; e && !e[er] && e !== t; ) (tr(e) && Vg(e[be], e), (e = e[Ht]));
      (e === null && (e = t), tr(e) && Vg(e[be], e), (n = e && e[er]));
    }
    e = n;
  }
}
function $L(t, e, n, r) {
  let i = vn + r,
    o = n.length;
  (r > 0 && (n[i - 1][er] = e),
    r < o - vn ? ((e[er] = n[i]), Bb(n, vn + r, e)) : (n.push(e), (e[er] = null)),
    (e[Ht] = n));
  let s = e[Qs];
  s !== null && n !== s && yS(s, e);
  let a = e[Xs];
  (a !== null && a.insertView(t), ev(e), (e[me] |= 128));
}
function yS(t, e) {
  let n = t[qd],
    r = e[Ht];
  if (tr(r)) t[me] |= Gd.HasTransplantedViews;
  else {
    let i = r[Ht][On];
    e[On] !== i && (t[me] |= Gd.HasTransplantedViews);
  }
  n === null ? (t[qd] = [e]) : n.push(e);
}
function py(t, e) {
  let n = t[qd],
    r = n.indexOf(e);
  n.splice(r, 1);
}
function vv(t, e) {
  if (t.length <= vn) return;
  let n = vn + e,
    r = t[n];
  if (r) {
    let i = r[Qs];
    (i !== null && i !== t && py(i, r), e > 0 && (t[n - 1][er] = r[er]));
    let o = Hd(t, vn + e);
    UL(r[be], r);
    let s = o[Xs];
    (s !== null && s.detachView(o[be]), (r[Ht] = null), (r[er] = null), (r[me] &= -129));
  }
  return r;
}
function _S(t, e) {
  if (!(e[me] & 256)) {
    let n = e[Ye];
    (n.destroyNode && kh(t, e, n, 3, null, null), HL(e));
  }
}
function Vg(t, e) {
  if (e[me] & 256) return;
  let n = ke(null);
  try {
    ((e[me] &= -129),
      (e[me] |= 256),
      e[kn] && og(e[kn]),
      WL(t, e),
      zL(t, e),
      e[be].type === 1 && e[Ye].destroy());
    let r = e[Qs];
    if (r !== null && Sr(e[Ht])) {
      r !== e[Ht] && py(r, e);
      let i = e[Xs];
      i !== null && i.detachView(t);
    }
    uv(e);
  } finally {
    ke(n);
  }
}
function zL(t, e) {
  let n = t.cleanup,
    r = e[zd];
  if (n !== null)
    for (let o = 0; o < n.length - 1; o += 2)
      if (typeof n[o] == 'string') {
        let s = n[o + 3];
        (s >= 0 ? r[s]() : r[-s].unsubscribe(), (o += 2));
      } else {
        let s = r[n[o + 1]];
        n[o].call(s);
      }
  r !== null && (e[zd] = null);
  let i = e[Fi];
  if (i !== null) {
    e[Fi] = null;
    for (let o = 0; o < i.length; o++) {
      let s = i[o];
      s();
    }
  }
}
function WL(t, e) {
  let n;
  if (t != null && (n = t.destroyHooks) != null)
    for (let r = 0; r < n.length; r += 2) {
      let i = e[n[r]];
      if (!(i instanceof Oo)) {
        let o = n[r + 1];
        if (Array.isArray(o))
          for (let s = 0; s < o.length; s += 2) {
            let a = i[o[s]],
              c = o[s + 1];
            wr(4, a, c);
            try {
              c.call(a);
            } finally {
              wr(5, a, c);
            }
          }
        else {
          wr(4, i, o);
          try {
            o.call(i);
          } finally {
            wr(5, i, o);
          }
        }
      }
    }
}
function qL(t, e, n) {
  return GL(t, e.parent, n);
}
function GL(t, e, n) {
  let r = e;
  for (; r !== null && r.type & 168; ) ((e = r), (r = e.parent));
  if (r === null) return n[yn];
  {
    let { componentOffset: i } = r;
    if (i > -1) {
      let { encapsulation: o } = t.data[r.directiveStart + i];
      if (o === Ir.None || o === Ir.Emulated) return null;
    }
    return wn(r, n);
  }
}
function ih(t, e, n, r, i) {
  t.insertBefore(e, n, r, i);
}
function wS(t, e, n) {
  t.appendChild(e, n);
}
function hb(t, e, n, r, i) {
  r !== null ? ih(t, e, n, r, i) : wS(t, e, n);
}
function ES(t, e) {
  return t.parentNode(e);
}
function KL(t, e) {
  return t.nextSibling(e);
}
function YL(t, e, n) {
  return XL(t, e, n);
}
function QL(t, e, n) {
  return t.type & 40 ? wn(t, n) : null;
}
var XL = QL,
  fb;
function Nh(t, e, n, r) {
  let i = qL(t, r, e),
    o = e[Ye],
    s = r.parent || e[ir],
    a = YL(s, r, e);
  if (i != null)
    if (Array.isArray(n)) for (let c = 0; c < n.length; c++) hb(o, i, n[c], a, !1);
    else hb(o, i, n, a, !1);
  fb !== void 0 && fb(o, r, e, n, i);
}
function Fc(t, e) {
  if (e !== null) {
    let n = e.type;
    if (n & 3) return wn(e, t);
    if (n & 4) return yv(-1, t[e.index]);
    if (n & 8) {
      let r = e.child;
      if (r !== null) return Fc(t, r);
      {
        let i = t[e.index];
        return Sr(i) ? yv(-1, i) : rr(i);
      }
    } else {
      if (n & 128) return Fc(t, e.next);
      if (n & 32) return hy(e, t)() || rr(t[e.index]);
      {
        let r = IS(t, e);
        if (r !== null) {
          if (Array.isArray(r)) return r[0];
          let i = ko(t[On]);
          return Fc(i, r);
        } else return Fc(t, e.next);
      }
    }
  }
  return null;
}
function IS(t, e) {
  if (e !== null) {
    let r = t[On][ir],
      i = e.projection;
    return r.projection[i];
  }
  return null;
}
function yv(t, e) {
  let n = vn + t + 1;
  if (n < e.length) {
    let r = e[n],
      i = r[be].firstChild;
    if (i !== null) return Fc(r, i);
  }
  return e[Zr];
}
function my(t, e, n) {
  t.removeChild(null, e, n);
}
function DS(t) {
  t.textContent = '';
}
function gy(t, e, n, r, i, o, s) {
  for (; n != null; ) {
    if (n.type === 128) {
      n = n.next;
      continue;
    }
    let a = r[n.index],
      c = n.type;
    if ((s && e === 0 && (a && ji(rr(a), r), (n.flags |= 2)), (n.flags & 32) !== 32))
      if (c & 8) (gy(t, e, n.child, r, i, o, !1), zs(e, t, i, a, o));
      else if (c & 32) {
        let u = hy(n, r),
          d;
        for (; (d = u()); ) zs(e, t, i, d, o);
        zs(e, t, i, a, o);
      } else c & 16 ? ZL(t, e, r, n, i, o) : zs(e, t, i, a, o);
    n = s ? n.projectionNext : n.next;
  }
}
function kh(t, e, n, r, i, o) {
  gy(n, r, t.firstChild, e, i, o, !1);
}
function ZL(t, e, n, r, i, o) {
  let s = n[On],
    c = s[ir].projection[r.projection];
  if (Array.isArray(c))
    for (let u = 0; u < c.length; u++) {
      let d = c[u];
      zs(e, t, i, d, o);
    }
  else {
    let u = c,
      d = s[Ht];
    (th(r) && (u.flags |= 128), gy(t, e, u, d, i, o, !0));
  }
}
function JL(t, e, n, r, i) {
  let o = n[Zr],
    s = rr(n);
  o !== s && zs(e, t, r, o, i);
  for (let a = vn; a < n.length; a++) {
    let c = n[a];
    kh(c[be], c, t, e, r, o);
  }
}
function e2(t, e, n, r, i) {
  if (e) i ? t.addClass(n, r) : t.removeClass(n, r);
  else {
    let o = r.indexOf('-') === -1 ? void 0 : br.DashCase;
    i == null
      ? t.removeStyle(n, r, o)
      : (typeof i == 'string' &&
          i.endsWith('!important') &&
          ((i = i.slice(0, -10)), (o |= br.Important)),
        t.setStyle(n, r, i, o));
  }
}
function t2(t, e, n) {
  t.setAttribute(e, 'style', n);
}
function CS(t, e, n) {
  n === '' ? t.removeAttribute(e, 'class') : t.setAttribute(e, 'class', n);
}
function bS(t, e, n) {
  let { mergedAttrs: r, classes: i, styles: o } = n;
  (r !== null && Yg(t, e, r), i !== null && CS(t, e, i), o !== null && t2(t, e, o));
}
var Mr = {};
function V(t = 1) {
  TS(Ot(), De(), jo() + t, !1);
}
function TS(t, e, n, r) {
  if (!r)
    if ((e[me] & 3) === 3) {
      let o = t.preOrderCheckHooks;
      o !== null && Fd(e, o, n);
    } else {
      let o = t.preOrderHooks;
      o !== null && Vd(e, o, 0, n);
    }
  Po(n);
}
function k(t, e = Ce.Default) {
  let n = De();
  if (n === null) return le(t, e);
  let r = Wt();
  return FT(r, n, nn(t), e);
}
function SS(t, e, n, r, i, o) {
  let s = ke(null);
  try {
    let a = null;
    (i & Vi.SignalBased && (a = e[r][Kr]),
      a !== null && a.transformFn !== void 0 && (o = a.transformFn(o)),
      i & Vi.HasDecoratorInputTransform && (o = t.inputTransforms[r].call(e, o)),
      t.setInput !== null ? t.setInput(e, a, o, n, r) : oT(e, a, r, o));
  } finally {
    ke(s);
  }
}
function n2(t, e) {
  let n = t.hostBindingOpCodes;
  if (n !== null)
    try {
      for (let r = 0; r < n.length; r++) {
        let i = n[r];
        if (i < 0) Po(~i);
        else {
          let o = i,
            s = n[++r],
            a = n[++r];
          hV(s, o);
          let c = e[o];
          a(2, c);
        }
      }
    } finally {
      Po(-1);
    }
}
function Ph(t, e, n, r, i, o, s, a, c, u, d) {
  let p = e.blueprint.slice();
  return (
    (p[yn] = i),
    (p[me] = r | 4 | 128 | 8 | 64),
    (u !== null || (t && t[me] & 2048)) && (p[me] |= 2048),
    hT(p),
    (p[Ht] = p[ra] = t),
    (p[nr] = n),
    (p[Cr] = s || (t && t[Cr])),
    (p[Ye] = a || (t && t[Ye])),
    (p[Ys] = c || (t && t[Ys]) || null),
    (p[ir] = o),
    (p[yh] = KV()),
    (p[Dr] = d),
    (p[rT] = u),
    (p[On] = e.type == 2 ? t[On] : p),
    p
  );
}
function il(t, e, n, r, i) {
  let o = t.data[e];
  if (o === null) ((o = r2(t, e, n, r, i)), dV() && (o.flags |= 32));
  else if (o.type & 64) {
    ((o.type = n), (o.value = r), (o.attrs = i));
    let s = cV();
    o.injectorIndex = s === null ? -1 : s.injectorIndex;
  }
  return (Lo(o, !0), o);
}
function r2(t, e, n, r, i) {
  let o = vT(),
    s = Qv(),
    a = s ? o : o && o.parent,
    c = (t.data[e] = l2(t, a, n, e, r, i));
  return (
    t.firstChild === null && (t.firstChild = c),
    o !== null &&
      (s
        ? o.child == null && c.parent !== null && (o.child = c)
        : o.next === null && ((o.next = c), (c.prev = o))),
    c
  );
}
function AS(t, e, n, r) {
  if (n === 0) return -1;
  let i = e.length;
  for (let o = 0; o < n; o++) (e.push(r), t.blueprint.push(r), t.data.push(null));
  return i;
}
function MS(t, e, n, r, i) {
  let o = jo(),
    s = r & 2;
  try {
    (Po(-1), s && e.length > ft && TS(t, e, ft, !1), wr(s ? 2 : 0, i), n(r, i));
  } finally {
    (Po(o), wr(s ? 3 : 1, i));
  }
}
function vy(t, e, n) {
  if (Kv(e)) {
    let r = ke(null);
    try {
      let i = e.directiveStart,
        o = e.directiveEnd;
      for (let s = i; s < o; s++) {
        let a = t.data[s];
        if (a.contentQueries) {
          let c = n[s];
          a.contentQueries(1, c, s);
        }
      }
    } finally {
      ke(r);
    }
  }
}
function yy(t, e, n) {
  gT() && (m2(t, e, n, wn(n, e)), (n.flags & 64) === 64 && PS(t, e, n));
}
function _y(t, e, n = wn) {
  let r = e.localNames;
  if (r !== null) {
    let i = e.index + 1;
    for (let o = 0; o < r.length; o += 2) {
      let s = r[o + 1],
        a = s === -1 ? n(e, t) : t[s];
      t[i++] = a;
    }
  }
}
function xS(t) {
  let e = t.tView;
  return e === null || e.incompleteFirstPass
    ? (t.tView = wy(
        1,
        null,
        t.template,
        t.decls,
        t.vars,
        t.directiveDefs,
        t.pipeDefs,
        t.viewQuery,
        t.schemas,
        t.consts,
        t.id
      ))
    : e;
}
function wy(t, e, n, r, i, o, s, a, c, u, d) {
  let p = ft + r,
    v = p + i,
    m = i2(p, v),
    D = typeof u == 'function' ? u() : u;
  return (m[be] = {
    type: t,
    blueprint: m,
    template: n,
    queries: null,
    viewQuery: a,
    declTNode: e,
    data: m.slice().fill(null, p),
    bindingStartIndex: p,
    expandoStartIndex: v,
    hostBindingOpCodes: null,
    firstCreatePass: !0,
    firstUpdatePass: !0,
    staticViewQueries: !1,
    staticContentQueries: !1,
    preOrderHooks: null,
    preOrderCheckHooks: null,
    contentHooks: null,
    contentCheckHooks: null,
    viewHooks: null,
    viewCheckHooks: null,
    destroyHooks: null,
    cleanup: null,
    contentQueries: null,
    components: null,
    directiveRegistry: typeof o == 'function' ? o() : o,
    pipeRegistry: typeof s == 'function' ? s() : s,
    firstChild: null,
    schemas: c,
    consts: D,
    incompleteFirstPass: !1,
    ssrId: d,
  });
}
function i2(t, e) {
  let n = [];
  for (let r = 0; r < e; r++) n.push(r < t ? null : Mr);
  return n;
}
function o2(t, e, n, r) {
  let o = r.get(oS, iS) || n === Ir.ShadowDom,
    s = t.selectRootElement(e, o);
  return (s2(s), s);
}
function s2(t) {
  RS(t);
}
var RS = () => null;
function a2(t) {
  WT(t) ? DS(t) : lL(t);
}
function c2() {
  RS = a2;
}
function l2(t, e, n, r, i, o) {
  let s = e ? e.injectorIndex : -1,
    a = 0;
  return (
    Zc() && (a |= 128),
    {
      type: n,
      index: r,
      insertBeforeIndex: null,
      injectorIndex: s,
      directiveStart: -1,
      directiveEnd: -1,
      directiveStylingLast: -1,
      componentOffset: -1,
      propertyBindings: null,
      flags: a,
      providerIndexes: 0,
      value: i,
      attrs: o,
      mergedAttrs: null,
      localNames: null,
      initialInputs: void 0,
      inputs: null,
      outputs: null,
      tView: null,
      next: null,
      prev: null,
      projectionNext: null,
      child: null,
      parent: e,
      projection: null,
      styles: null,
      stylesWithoutHost: null,
      residualStyles: void 0,
      classes: null,
      classesWithoutHost: null,
      residualClasses: void 0,
      classBindings: 0,
      styleBindings: 0,
    }
  );
}
function pb(t, e, n, r, i) {
  for (let o in e) {
    if (!e.hasOwnProperty(o)) continue;
    let s = e[o];
    if (s === void 0) continue;
    r ??= {};
    let a,
      c = Vi.None;
    Array.isArray(s) ? ((a = s[0]), (c = s[1])) : (a = s);
    let u = o;
    if (i !== null) {
      if (!i.hasOwnProperty(o)) continue;
      u = i[o];
    }
    t === 0 ? mb(r, n, u, a, c) : mb(r, n, u, a);
  }
  return r;
}
function mb(t, e, n, r, i) {
  let o;
  (t.hasOwnProperty(n) ? (o = t[n]).push(e, r) : (o = t[n] = [e, r]), i !== void 0 && o.push(i));
}
function u2(t, e, n) {
  let r = e.directiveStart,
    i = e.directiveEnd,
    o = t.data,
    s = e.attrs,
    a = [],
    c = null,
    u = null;
  for (let d = r; d < i; d++) {
    let p = o[d],
      v = n ? n.get(p) : null,
      m = v ? v.inputs : null,
      D = v ? v.outputs : null;
    ((c = pb(0, p.inputs, d, c, m)), (u = pb(1, p.outputs, d, u, D)));
    let M = c !== null && s !== null && !Wv(e) ? T2(c, d, s) : null;
    a.push(M);
  }
  (c !== null &&
    (c.hasOwnProperty('class') && (e.flags |= 8), c.hasOwnProperty('style') && (e.flags |= 16)),
    (e.initialInputs = a),
    (e.inputs = c),
    (e.outputs = u));
}
function d2(t) {
  return t === 'class'
    ? 'className'
    : t === 'for'
      ? 'htmlFor'
      : t === 'formaction'
        ? 'formAction'
        : t === 'innerHtml'
          ? 'innerHTML'
          : t === 'readonly'
            ? 'readOnly'
            : t === 'tabindex'
              ? 'tabIndex'
              : t;
}
function NS(t, e, n, r, i, o, s, a) {
  let c = wn(e, n),
    u = e.inputs,
    d;
  !a && u != null && (d = u[r])
    ? (Iy(t, n, d, r, i), Xc(e) && h2(n, e.index))
    : e.type & 3
      ? ((r = d2(r)), (i = s != null ? s(i, e.value || '', r) : i), o.setProperty(c, r, i))
      : e.type & 12;
}
function h2(t, e) {
  let n = Hi(e, t);
  n[me] & 16 || (n[me] |= 64);
}
function Ey(t, e, n, r) {
  if (gT()) {
    let i = r === null ? null : { '': -1 },
      o = v2(t, n),
      s,
      a;
    (o === null ? (s = a = null) : ([s, a] = o),
      s !== null && kS(t, e, n, s, i, a),
      i && y2(n, r, i));
  }
  n.mergedAttrs = Uc(n.mergedAttrs, n.attrs);
}
function kS(t, e, n, r, i, o) {
  for (let u = 0; u < r.length; u++) iv(Zd(n, e), t, r[u].type);
  w2(n, t.data.length, r.length);
  for (let u = 0; u < r.length; u++) {
    let d = r[u];
    d.providersResolver && d.providersResolver(d);
  }
  let s = !1,
    a = !1,
    c = AS(t, e, r.length, null);
  for (let u = 0; u < r.length; u++) {
    let d = r[u];
    ((n.mergedAttrs = Uc(n.mergedAttrs, d.hostAttrs)),
      E2(t, n, e, c, d),
      _2(c, d, i),
      d.contentQueries !== null && (n.flags |= 4),
      (d.hostBindings !== null || d.hostAttrs !== null || d.hostVars !== 0) && (n.flags |= 64));
    let p = d.type.prototype;
    (!s &&
      (p.ngOnChanges || p.ngOnInit || p.ngDoCheck) &&
      ((t.preOrderHooks ??= []).push(n.index), (s = !0)),
      !a &&
        (p.ngOnChanges || p.ngDoCheck) &&
        ((t.preOrderCheckHooks ??= []).push(n.index), (a = !0)),
      c++);
  }
  u2(t, n, o);
}
function f2(t, e, n, r, i) {
  let o = i.hostBindings;
  if (o) {
    let s = t.hostBindingOpCodes;
    s === null && (s = t.hostBindingOpCodes = []);
    let a = ~e.index;
    (p2(s) != a && s.push(a), s.push(n, r, o));
  }
}
function p2(t) {
  let e = t.length;
  for (; e > 0; ) {
    let n = t[--e];
    if (typeof n == 'number' && n < 0) return n;
  }
  return 0;
}
function m2(t, e, n, r) {
  let i = n.directiveStart,
    o = n.directiveEnd;
  (Xc(n) && I2(e, n, t.data[i + n.componentOffset]), t.firstCreatePass || Zd(n, e), ji(r, e));
  let s = n.initialInputs;
  for (let a = i; a < o; a++) {
    let c = t.data[a],
      u = Js(e, t, a, n);
    if ((ji(u, e), s !== null && b2(e, a - i, u, c, n, s), Li(c))) {
      let d = Hi(n.index, e);
      d[nr] = Js(e, t, a, n);
    }
  }
}
function PS(t, e, n) {
  let r = n.directiveStart,
    i = n.directiveEnd,
    o = n.index,
    s = fV();
  try {
    Po(o);
    for (let a = r; a < i; a++) {
      let c = t.data[a],
        u = e[a];
      (tv(a), (c.hostBindings !== null || c.hostVars !== 0 || c.hostAttrs !== null) && g2(c, u));
    }
  } finally {
    (Po(-1), tv(s));
  }
}
function g2(t, e) {
  t.hostBindings !== null && t.hostBindings(1, e);
}
function v2(t, e) {
  let n = t.directiveRegistry,
    r = null,
    i = null;
  if (n)
    for (let o = 0; o < n.length; o++) {
      let s = n[o];
      if (SF(e, s.selectors, !1))
        if ((r || (r = []), Li(s)))
          if (s.findHostDirectiveDefs !== null) {
            let a = [];
            ((i = i || new Map()), s.findHostDirectiveDefs(s, a, i), r.unshift(...a, s));
            let c = a.length;
            _v(t, e, c);
          } else (r.unshift(s), _v(t, e, 0));
        else ((i = i || new Map()), s.findHostDirectiveDefs?.(s, r, i), r.push(s));
    }
  return r === null ? null : [r, i];
}
function _v(t, e, n) {
  ((e.componentOffset = n), (t.components ??= []).push(e.index));
}
function y2(t, e, n) {
  if (e) {
    let r = (t.localNames = []);
    for (let i = 0; i < e.length; i += 2) {
      let o = n[e[i + 1]];
      if (o == null) throw new Q(-301, !1);
      r.push(e[i], o);
    }
  }
}
function _2(t, e, n) {
  if (n) {
    if (e.exportAs) for (let r = 0; r < e.exportAs.length; r++) n[e.exportAs[r]] = t;
    Li(e) && (n[''] = t);
  }
}
function w2(t, e, n) {
  ((t.flags |= 1), (t.directiveStart = e), (t.directiveEnd = e + n), (t.providerIndexes = e));
}
function E2(t, e, n, r, i) {
  t.data[r] = i;
  let o = i.factory || (i.factory = xo(i.type, !0)),
    s = new Oo(o, Li(i), k);
  ((t.blueprint[r] = s), (n[r] = s), f2(t, e, r, AS(t, n, i.hostVars, Mr), i));
}
function I2(t, e, n) {
  let r = wn(e, t),
    i = xS(n),
    o = t[Cr].rendererFactory,
    s = 16;
  n.signals ? (s = 4096) : n.onPush && (s = 64);
  let a = Oh(t, Ph(t, i, null, s, r, e, null, o.createRenderer(r, n), null, null, null));
  t[e.index] = a;
}
function D2(t, e, n, r, i, o) {
  let s = wn(t, e);
  C2(e[Ye], s, o, t.value, n, r, i);
}
function C2(t, e, n, r, i, o, s) {
  if (o == null) t.removeAttribute(e, i, n);
  else {
    let a = s == null ? Yc(o) : s(o, r || '', i);
    t.setAttribute(e, i, a, n);
  }
}
function b2(t, e, n, r, i, o) {
  let s = o[e];
  if (s !== null)
    for (let a = 0; a < s.length; ) {
      let c = s[a++],
        u = s[a++],
        d = s[a++],
        p = s[a++];
      SS(r, n, c, u, d, p);
    }
}
function T2(t, e, n) {
  let r = null,
    i = 0;
  for (; i < n.length; ) {
    let o = n[i];
    if (o === 0) {
      i += 4;
      continue;
    } else if (o === 5) {
      i += 2;
      continue;
    }
    if (typeof o == 'number') break;
    if (t.hasOwnProperty(o)) {
      r === null && (r = []);
      let s = t[o];
      for (let a = 0; a < s.length; a += 3)
        if (s[a] === e) {
          r.push(o, s[a + 1], s[a + 2], n[i + 1]);
          break;
        }
    }
    i += 2;
  }
  return r;
}
function OS(t, e, n, r) {
  return [t, !0, 0, e, null, r, null, n, null, null];
}
function FS(t, e) {
  let n = t.contentQueries;
  if (n !== null) {
    let r = ke(null);
    try {
      for (let i = 0; i < n.length; i += 2) {
        let o = n[i],
          s = n[i + 1];
        if (s !== -1) {
          let a = t.data[s];
          (ET(o), a.contentQueries(2, e[s], s));
        }
      }
    } finally {
      ke(r);
    }
  }
}
function Oh(t, e) {
  return (t[Hc] ? (t[YC][er] = e) : (t[Hc] = e), (t[YC] = e), e);
}
function wv(t, e, n) {
  ET(0);
  let r = ke(null);
  try {
    e(t, n);
  } finally {
    ke(r);
  }
}
function S2(t) {
  return (t[zd] ??= []);
}
function A2(t) {
  return (t.cleanup ??= []);
}
function VS(t, e) {
  let n = t[Ys],
    r = n ? n.get(Jr, null) : null;
  r && r.handleError(e);
}
function Iy(t, e, n, r, i) {
  for (let o = 0; o < n.length; ) {
    let s = n[o++],
      a = n[o++],
      c = n[o++],
      u = e[s],
      d = t.data[s];
    SS(d, u, r, a, c, i);
  }
}
function M2(t, e, n) {
  let r = uT(e, t);
  jL(t[Ye], r, n);
}
function x2(t, e) {
  let n = Hi(e, t),
    r = n[be];
  R2(r, n);
  let i = n[yn];
  (i !== null && n[Dr] === null && (n[Dr] = cy(i, n[Ys])), Dy(r, n, n[nr]));
}
function R2(t, e) {
  for (let n = e.length; n < t.blueprint.length; n++) e.push(t.blueprint[n]);
}
function Dy(t, e, n) {
  Xv(e);
  try {
    let r = t.viewQuery;
    r !== null && wv(1, r, n);
    let i = t.template;
    (i !== null && MS(t, e, i, 1, n),
      t.firstCreatePass && (t.firstCreatePass = !1),
      e[Xs]?.finishViewCreation(t),
      t.staticContentQueries && FS(t, e),
      t.staticViewQueries && wv(2, t.viewQuery, n));
    let o = t.components;
    o !== null && N2(e, o);
  } catch (r) {
    throw (t.firstCreatePass && ((t.incompleteFirstPass = !0), (t.firstCreatePass = !1)), r);
  } finally {
    ((e[me] &= -5), Zv());
  }
}
function N2(t, e) {
  for (let n = 0; n < e.length; n++) x2(t, e[n]);
}
function k2(t, e, n, r) {
  let i = ke(null);
  try {
    let o = e.tView,
      a = t[me] & 4096 ? 4096 : 16,
      c = Ph(
        t,
        o,
        n,
        a,
        null,
        e,
        null,
        null,
        r?.injector ?? null,
        r?.embeddedViewInjector ?? null,
        r?.dehydratedView ?? null
      ),
      u = t[e.index];
    c[Qs] = u;
    let d = t[Xs];
    return (d !== null && (c[Xs] = d.createEmbeddedView(o)), Dy(o, c, n), c);
  } finally {
    ke(i);
  }
}
function gb(t, e) {
  return !e || e.firstChild === null || th(t);
}
function P2(t, e, n, r = !0) {
  let i = e[be];
  if (($L(i, e, t, n), r)) {
    let s = yv(n, t),
      a = e[Ye],
      c = ES(a, t[Zr]);
    c !== null && BL(i, t[ir], a, e, c, s);
  }
  let o = e[Dr];
  o !== null && o.firstChild !== null && (o.firstChild = null);
}
function oh(t, e, n, r, i = !1) {
  for (; n !== null; ) {
    if (n.type === 128) {
      n = i ? n.projectionNext : n.next;
      continue;
    }
    let o = e[n.index];
    (o !== null && r.push(rr(o)), Sr(o) && O2(o, r));
    let s = n.type;
    if (s & 8) oh(t, e, n.child, r);
    else if (s & 32) {
      let a = hy(n, e),
        c;
      for (; (c = a()); ) r.push(c);
    } else if (s & 16) {
      let a = IS(e, n);
      if (Array.isArray(a)) r.push(...a);
      else {
        let c = ko(e[On]);
        oh(c[be], c, a, r, !0);
      }
    }
    n = i ? n.projectionNext : n.next;
  }
  return r;
}
function O2(t, e) {
  for (let n = vn; n < t.length; n++) {
    let r = t[n],
      i = r[be].firstChild;
    i !== null && oh(r[be], r, i, e);
  }
  t[Zr] !== t[yn] && e.push(t[Zr]);
}
var LS = [];
function F2(t) {
  return t[kn] ?? V2(t);
}
function V2(t) {
  let e = LS.pop() ?? Object.create(j2);
  return ((e.lView = t), e);
}
function L2(t) {
  t.lView[kn] !== t && ((t.lView = null), LS.push(t));
}
var j2 = ve(U({}, Ac), {
  consumerIsAlwaysLive: !0,
  consumerMarkedDirty: (t) => {
    Ih(t.lView);
  },
  consumerOnSignalRead() {
    this.lView[kn] = this;
  },
});
function U2(t) {
  let e = t[kn] ?? Object.create(B2);
  return ((e.lView = t), e);
}
var B2 = ve(U({}, Ac), {
  consumerIsAlwaysLive: !0,
  consumerMarkedDirty: (t) => {
    let e = ko(t.lView);
    for (; e && !jS(e[be]); ) e = ko(e);
    e && fT(e);
  },
  consumerOnSignalRead() {
    this.lView[kn] = this;
  },
});
function jS(t) {
  return t.type !== 2;
}
var H2 = 100;
function US(t, e = !0, n = 0) {
  let r = t[Cr],
    i = r.rendererFactory,
    o = !1;
  o || i.begin?.();
  try {
    $2(t, n);
  } catch (s) {
    throw (e && VS(t, s), s);
  } finally {
    o || (i.end?.(), r.inlineEffectRunner?.flush());
  }
}
function $2(t, e) {
  let n = _T();
  try {
    (XC(!0), Ev(t, e));
    let r = 0;
    for (; Eh(t); ) {
      if (r === H2) throw new Q(103, !1);
      (r++, Ev(t, 1));
    }
  } finally {
    XC(n);
  }
}
function z2(t, e, n, r) {
  let i = e[me];
  if ((i & 256) === 256) return;
  let o = !1,
    s = !1;
  (!o && e[Cr].inlineEffectRunner?.flush(), Xv(e));
  let a = !0,
    c = null,
    u = null;
  o ||
    (jS(t)
      ? ((u = F2(e)), (c = Xu(u)))
      : tC() === null
        ? ((a = !1), (u = U2(e)), (c = Xu(u)))
        : e[kn] && (og(e[kn]), (e[kn] = null)));
  try {
    (hT(e), uV(t.bindingStartIndex), n !== null && MS(t, e, n, 2, r));
    let d = (i & 3) === 3;
    if (!o)
      if (d) {
        let m = t.preOrderCheckHooks;
        m !== null && Fd(e, m, null);
      } else {
        let m = t.preOrderHooks;
        (m !== null && Vd(e, m, 0, null), Ng(e, 0));
      }
    if ((s || W2(e), BS(e, 0), t.contentQueries !== null && FS(t, e), !o))
      if (d) {
        let m = t.contentCheckHooks;
        m !== null && Fd(e, m);
      } else {
        let m = t.contentHooks;
        (m !== null && Vd(e, m, 1), Ng(e, 1));
      }
    n2(t, e);
    let p = t.components;
    p !== null && $S(e, p, 0);
    let v = t.viewQuery;
    if ((v !== null && wv(2, v, r), !o))
      if (d) {
        let m = t.viewCheckHooks;
        m !== null && Fd(e, m);
      } else {
        let m = t.viewHooks;
        (m !== null && Vd(e, m, 2), Ng(e, 2));
      }
    if ((t.firstUpdatePass === !0 && (t.firstUpdatePass = !1), e[Rg])) {
      for (let m of e[Rg]) m();
      e[Rg] = null;
    }
    o || (e[me] &= -73);
  } catch (d) {
    throw (o || Ih(e), d);
  } finally {
    (u !== null && (rg(u, c), a && L2(u)), Zv());
  }
}
function BS(t, e) {
  for (let n = GT(t); n !== null; n = KT(n))
    for (let r = vn; r < n.length; r++) {
      let i = n[r];
      HS(i, e);
    }
}
function W2(t) {
  for (let e = GT(t); e !== null; e = KT(e)) {
    if (!(e[me] & Gd.HasTransplantedViews)) continue;
    let n = e[qd];
    for (let r = 0; r < n.length; r++) {
      let i = n[r];
      fT(i);
    }
  }
}
function q2(t, e, n) {
  let r = Hi(e, t);
  HS(r, n);
}
function HS(t, e) {
  Yv(t) && Ev(t, e);
}
function Ev(t, e) {
  let r = t[be],
    i = t[me],
    o = t[kn],
    s = !!(e === 0 && i & 16);
  if (
    ((s ||= !!(i & 64 && e === 0)),
    (s ||= !!(i & 1024)),
    (s ||= !!(o?.dirty && ig(o))),
    (s ||= !1),
    o && (o.dirty = !1),
    (t[me] &= -9217),
    s)
  )
    z2(r, t, r.template, t[nr]);
  else if (i & 8192) {
    BS(t, 1);
    let a = r.components;
    a !== null && $S(t, a, 1);
  }
}
function $S(t, e, n) {
  for (let r = 0; r < e.length; r++) q2(t, e[r], n);
}
function Cy(t, e) {
  let n = _T() ? 64 : 1088;
  for (t[Cr].changeDetectionScheduler?.notify(e); t; ) {
    t[me] |= n;
    let r = ko(t);
    if (Kd(t) && !r) return t;
    t = r;
  }
  return null;
}
var Fo = class {
    get rootNodes() {
      let e = this._lView,
        n = e[be];
      return oh(n, e, n.firstChild, []);
    }
    constructor(e, n, r = !0) {
      ((this._lView = e),
        (this._cdRefInjectingView = n),
        (this.notifyErrorHandler = r),
        (this._appRef = null),
        (this._attachedToViewContainer = !1));
    }
    get context() {
      return this._lView[nr];
    }
    set context(e) {
      this._lView[nr] = e;
    }
    get destroyed() {
      return (this._lView[me] & 256) === 256;
    }
    destroy() {
      if (this._appRef) this._appRef.detachView(this);
      else if (this._attachedToViewContainer) {
        let e = this._lView[Ht];
        if (Sr(e)) {
          let n = e[Wd],
            r = n ? n.indexOf(this) : -1;
          r > -1 && (vv(e, r), Hd(n, r));
        }
        this._attachedToViewContainer = !1;
      }
      _S(this._lView[be], this._lView);
    }
    onDestroy(e) {
      pT(this._lView, e);
    }
    markForCheck() {
      Cy(this._cdRefInjectingView || this._lView, 4);
    }
    detach() {
      this._lView[me] &= -129;
    }
    reattach() {
      (ev(this._lView), (this._lView[me] |= 128));
    }
    detectChanges() {
      ((this._lView[me] |= 1024), US(this._lView, this.notifyErrorHandler));
    }
    checkNoChanges() {}
    attachToViewContainerRef() {
      if (this._appRef) throw new Q(902, !1);
      this._attachedToViewContainer = !0;
    }
    detachFromAppRef() {
      this._appRef = null;
      let e = Kd(this._lView),
        n = this._lView[Qs];
      (n !== null && !e && py(n, this._lView), vS(this._lView[be], this._lView));
    }
    attachToAppRef(e) {
      if (this._attachedToViewContainer) throw new Q(902, !1);
      this._appRef = e;
      let n = Kd(this._lView),
        r = this._lView[Qs];
      (r !== null && !n && yS(r, this._lView), ev(this._lView));
    }
  },
  Fh = (() => {
    class t {
      static {
        this.__NG_ELEMENT_ID__ = Y2;
      }
    }
    return t;
  })(),
  G2 = Fh,
  K2 = class extends G2 {
    constructor(e, n, r) {
      (super(),
        (this._declarationLView = e),
        (this._declarationTContainer = n),
        (this.elementRef = r));
    }
    get ssrId() {
      return this._declarationTContainer.tView?.ssrId || null;
    }
    createEmbeddedView(e, n) {
      return this.createEmbeddedViewImpl(e, n);
    }
    createEmbeddedViewImpl(e, n, r) {
      let i = k2(this._declarationLView, this._declarationTContainer, e, {
        embeddedViewInjector: n,
        dehydratedView: r,
      });
      return new Fo(i);
    }
  };
function Y2() {
  return zS(Wt(), De());
}
function zS(t, e) {
  return t.type & 4 ? new K2(e, t, Th(t, e)) : null;
}
var Q2 = new RegExp(`^(\\d+)*(${ZT}|${XT})*(.*)`);
function X2(t) {
  let e = t.match(Q2),
    [n, r, i, o] = e,
    s = r ? parseInt(r, 10) : i,
    a = [];
  for (let [c, u, d] of o.matchAll(/(f|n)(\d*)/g)) {
    let p = parseInt(d, 10) || 1;
    a.push(u, p);
  }
  return [s, ...a];
}
function Z2(t) {
  return !t.prev && t.parent?.type === 8;
}
function Lg(t) {
  return t.index - ft;
}
function J2(t, e) {
  let n = t.i18nNodes;
  if (n) return n.get(e);
}
function Vh(t, e, n, r) {
  let i = Lg(r),
    o = J2(t, i);
  if (o === void 0) {
    let s = t.data[nL];
    if (s?.[i]) o = tj(s[i], n);
    else if (e.firstChild === r) o = t.firstChild;
    else {
      let a = r.prev === null,
        c = r.prev ?? r.parent;
      if (Z2(r)) {
        let u = Lg(r.parent);
        o = fv(t, u);
      } else {
        let u = wn(c, n);
        if (a) o = u.firstChild;
        else {
          let d = Lg(c),
            p = fv(t, d);
          if (c.type === 2 && p) {
            let m = ly(t, d) + 1;
            o = Lh(m, p);
          } else o = u.nextSibling;
        }
      }
    }
  }
  return o;
}
function Lh(t, e) {
  let n = e;
  for (let r = 0; r < t; r++) n = n.nextSibling;
  return n;
}
function ej(t, e) {
  let n = t;
  for (let r = 0; r < e.length; r += 2) {
    let i = e[r],
      o = e[r + 1];
    for (let s = 0; s < o; s++)
      switch (i) {
        case hv.FirstChild:
          n = n.firstChild;
          break;
        case hv.NextSibling:
          n = n.nextSibling;
          break;
      }
  }
  return n;
}
function tj(t, e) {
  let [n, ...r] = X2(t),
    i;
  if (n === XT) i = e[On][yn];
  else if (n === ZT) i = VL(e[On][yn]);
  else {
    let o = Number(n);
    i = rr(e[o + ft]);
  }
  return ej(i, r);
}
var nj = !1;
function rj(t) {
  nj = t;
}
function ij(t) {
  let e = t[Dr];
  if (e) {
    let { i18nNodes: n, dehydratedIcuData: r } = e;
    if (n && r) {
      let i = t[Ye];
      for (let o of r.values()) oj(i, n, o);
    }
    ((e.i18nNodes = void 0), (e.dehydratedIcuData = void 0));
  }
}
function oj(t, e, n) {
  for (let r of n.node.cases[n.case]) {
    let i = e.get(r.index - ft);
    i && my(t, i, !1);
  }
}
function WS(t) {
  let e = t[$c] ?? [],
    r = t[Ht][Ye];
  for (let i of e) sj(i, r);
  t[$c] = rn;
}
function sj(t, e) {
  let n = 0,
    r = t.firstChild;
  if (r) {
    let i = t.data[nh];
    for (; n < i; ) {
      let o = r.nextSibling;
      (my(e, r, !1), (r = o), n++);
    }
  }
}
function qS(t) {
  WS(t);
  let e = t[yn];
  tr(e) && sh(e);
  for (let n = vn; n < t.length; n++) sh(t[n]);
}
function sh(t) {
  ij(t);
  let e = t[be];
  for (let n = ft; n < e.bindingStartIndex; n++)
    if (Sr(t[n])) {
      let r = t[n];
      qS(r);
    } else tr(t[n]) && sh(t[n]);
}
function aj(t) {
  let e = t._views;
  for (let n of e) {
    let r = aL(n);
    r !== null && r[yn] !== null && (tr(r) ? sh(r) : qS(r));
  }
}
function cj(t, e) {
  let n = [];
  for (let r of e)
    for (let i = 0; i < (r[JT] ?? 1); i++) {
      let o = { data: r, firstChild: null };
      (r[nh] > 0 && ((o.firstChild = t), (t = Lh(r[nh], t))), n.push(o));
    }
  return [t, n];
}
var GS = () => null;
function lj(t, e) {
  let n = t[$c];
  return !e || n === null || n.length === 0
    ? null
    : n[0].data[tL] === e
      ? n.shift()
      : (WS(t), null);
}
function uj() {
  GS = lj;
}
function vb(t, e) {
  return GS(t, e);
}
var ea = class {},
  jh = new X('', { providedIn: 'root', factory: () => !1 });
var KS = new X(''),
  YS = new X(''),
  Iv = class {},
  ah = class {};
function dj(t) {
  let e = Error(`No component factory found for ${on(t)}.`);
  return ((e[hj] = t), e);
}
var hj = 'ngComponent';
var Dv = class {
    resolveComponentFactory(e) {
      throw dj(e);
    }
  },
  Ui = class {
    static {
      this.NULL = new Dv();
    }
  },
  ta = class {},
  ut = (() => {
    class t {
      constructor() {
        this.destroyNode = null;
      }
      static {
        this.__NG_ELEMENT_ID__ = () => fj();
      }
    }
    return t;
  })();
function fj() {
  let t = De(),
    e = Wt(),
    n = Hi(e.index, t);
  return (tr(n) ? n : t)[Ye];
}
var pj = (() => {
  class t {
    static {
      this.ɵprov = G({ token: t, providedIn: 'root', factory: () => null });
    }
  }
  return t;
})();
function ch(t, e, n) {
  let r = n ? t.styles : null,
    i = n ? t.classes : null,
    o = 0;
  if (e !== null)
    for (let s = 0; s < e.length; s++) {
      let a = e[s];
      if (typeof a == 'number') o = a;
      else if (o == 1) i = Wg(i, a);
      else if (o == 2) {
        let c = a,
          u = e[++s];
        r = Wg(r, c + ': ' + u + ';');
      }
    }
  (n ? (t.styles = r) : (t.stylesWithoutHost = r),
    n ? (t.classes = i) : (t.classesWithoutHost = i));
}
var lh = class extends Ui {
  constructor(e) {
    (super(), (this.ngModule = e));
  }
  resolveComponentFactory(e) {
    let n = No(e);
    return new zc(n, this.ngModule);
  }
};
function yb(t, e) {
  let n = [];
  for (let r in t) {
    if (!t.hasOwnProperty(r)) continue;
    let i = t[r];
    if (i === void 0) continue;
    let o = Array.isArray(i),
      s = o ? i[0] : i,
      a = o ? i[1] : Vi.None;
    e
      ? n.push({
          propName: s,
          templateName: r,
          isSignal: (a & Vi.SignalBased) !== 0,
        })
      : n.push({ propName: s, templateName: r });
  }
  return n;
}
function mj(t) {
  let e = t.toLowerCase();
  return e === 'svg' ? lT : e === 'math' ? ZF : null;
}
var zc = class extends ah {
    get inputs() {
      let e = this.componentDef,
        n = e.inputTransforms,
        r = yb(e.inputs, !0);
      if (n !== null)
        for (let i of r) n.hasOwnProperty(i.propName) && (i.transform = n[i.propName]);
      return r;
    }
    get outputs() {
      return yb(this.componentDef.outputs, !1);
    }
    constructor(e, n) {
      (super(),
        (this.componentDef = e),
        (this.ngModule = n),
        (this.componentType = e.type),
        (this.selector = RF(e.selectors)),
        (this.ngContentSelectors = e.ngContentSelectors ? e.ngContentSelectors : []),
        (this.isBoundToModule = !!n));
    }
    create(e, n, r, i) {
      let o = ke(null);
      try {
        i = i || this.ngModule;
        let s = i instanceof Pn ? i : i?.injector;
        s &&
          this.componentDef.getStandaloneInjector !== null &&
          (s = this.componentDef.getStandaloneInjector(s) || s);
        let a = s ? new nv(e, s) : e,
          c = a.get(ta, null);
        if (c === null) throw new Q(407, !1);
        let u = a.get(pj, null),
          d = a.get(ea, null),
          p = {
            rendererFactory: c,
            sanitizer: u,
            inlineEffectRunner: null,
            changeDetectionScheduler: d,
          },
          v = c.createRenderer(null, this.componentDef),
          m = this.componentDef.selectors[0][0] || 'div',
          D = r ? o2(v, r, this.componentDef.encapsulation, a) : fy(v, m, mj(m)),
          M = 512;
        this.componentDef.signals ? (M |= 4096) : this.componentDef.onPush || (M |= 16);
        let A = null;
        D !== null && (A = cy(D, a, !0));
        let N = wy(0, null, null, 1, 0, null, null, null, null, null, null),
          O = Ph(null, N, null, M, null, null, p, v, a, null, A);
        Xv(O);
        let F,
          z,
          Z = null;
        try {
          let q = this.componentDef,
            T,
            y = null;
          q.findHostDirectiveDefs
            ? ((T = []), (y = new Map()), q.findHostDirectiveDefs(q, T, y), T.push(q))
            : (T = [q]);
          let _ = gj(O, D);
          ((Z = vj(_, D, q, T, O, p, v)),
            (z = dT(N, ft)),
            D && wj(v, q, D, r),
            n !== void 0 && Ej(z, this.ngContentSelectors, n),
            (F = _j(Z, q, T, y, O, [Ij])),
            Dy(N, O, null));
        } catch (q) {
          throw (Z !== null && uv(Z), uv(O), q);
        } finally {
          Zv();
        }
        return new Cv(this.componentType, F, Th(z, O), O, z);
      } finally {
        ke(o);
      }
    }
  },
  Cv = class extends Iv {
    constructor(e, n, r, i, o) {
      (super(),
        (this.location = r),
        (this._rootLView = i),
        (this._tNode = o),
        (this.previousInputValues = null),
        (this.instance = n),
        (this.hostView = this.changeDetectorRef = new Fo(i, void 0, !1)),
        (this.componentType = e));
    }
    setInput(e, n) {
      let r = this._tNode.inputs,
        i;
      if (r !== null && (i = r[e])) {
        if (
          ((this.previousInputValues ??= new Map()),
          this.previousInputValues.has(e) && Object.is(this.previousInputValues.get(e), n))
        )
          return;
        let o = this._rootLView;
        (Iy(o[be], o, i, e, n), this.previousInputValues.set(e, n));
        let s = Hi(this._tNode.index, o);
        Cy(s, 1);
      }
    }
    get injector() {
      return new Mo(this._tNode, this._rootLView);
    }
    destroy() {
      this.hostView.destroy();
    }
    onDestroy(e) {
      this.hostView.onDestroy(e);
    }
  };
function gj(t, e) {
  let n = t[be],
    r = ft;
  return ((t[r] = e), il(n, r, 2, '#host', null));
}
function vj(t, e, n, r, i, o, s) {
  let a = i[be];
  yj(r, t, e, s);
  let c = null;
  e !== null && (c = cy(e, i[Ys]));
  let u = o.rendererFactory.createRenderer(e, n),
    d = 16;
  n.signals ? (d = 4096) : n.onPush && (d = 64);
  let p = Ph(i, xS(n), null, d, i[t.index], t, o, u, null, null, c);
  return (a.firstCreatePass && _v(a, t, r.length - 1), Oh(i, p), (i[t.index] = p));
}
function yj(t, e, n, r) {
  for (let i of t) e.mergedAttrs = Uc(e.mergedAttrs, i.hostAttrs);
  e.mergedAttrs !== null && (ch(e, e.mergedAttrs, !0), n !== null && bS(r, n, e));
}
function _j(t, e, n, r, i, o) {
  let s = Wt(),
    a = i[be],
    c = wn(s, i);
  kS(a, i, s, n, null, r);
  for (let d = 0; d < n.length; d++) {
    let p = s.directiveStart + d,
      v = Js(i, a, p, s);
    ji(v, i);
  }
  (PS(a, i, s), c && ji(c, i));
  let u = Js(i, a, s.directiveStart + s.componentOffset, s);
  if (((t[nr] = i[nr] = u), o !== null)) for (let d of o) d(u, e);
  return (vy(a, s, i), u);
}
function wj(t, e, n, r) {
  if (r) Yg(t, n, ['ng-version', '18.2.13']);
  else {
    let { attrs: i, classes: o } = NF(e.selectors[0]);
    (i && Yg(t, n, i), o && o.length > 0 && CS(t, n, o.join(' ')));
  }
}
function Ej(t, e, n) {
  let r = (t.projection = []);
  for (let i = 0; i < e.length; i++) {
    let o = n[i];
    r.push(o != null ? Array.from(o) : null);
  }
}
function Ij() {
  let t = Wt();
  bh(De()[be], t);
}
var or = (() => {
  class t {
    static {
      this.__NG_ELEMENT_ID__ = Dj;
    }
  }
  return t;
})();
function Dj() {
  let t = Wt();
  return bj(t, De());
}
var Cj = or,
  QS = class extends Cj {
    constructor(e, n, r) {
      (super(), (this._lContainer = e), (this._hostTNode = n), (this._hostLView = r));
    }
    get element() {
      return Th(this._hostTNode, this._hostLView);
    }
    get injector() {
      return new Mo(this._hostTNode, this._hostLView);
    }
    get parentInjector() {
      let e = ty(this._hostTNode, this._hostLView);
      if (xT(e)) {
        let n = Qd(e, this._hostLView),
          r = Yd(e),
          i = n[be].data[r + 8];
        return new Mo(i, n);
      } else return new Mo(null, this._hostLView);
    }
    clear() {
      for (; this.length > 0; ) this.remove(this.length - 1);
    }
    get(e) {
      let n = _b(this._lContainer);
      return (n !== null && n[e]) || null;
    }
    get length() {
      return this._lContainer.length - vn;
    }
    createEmbeddedView(e, n, r) {
      let i, o;
      typeof r == 'number' ? (i = r) : r != null && ((i = r.index), (o = r.injector));
      let s = vb(this._lContainer, e.ssrId),
        a = e.createEmbeddedViewImpl(n || {}, o, s);
      return (this.insertImpl(a, i, gb(this._hostTNode, s)), a);
    }
    createComponent(e, n, r, i, o) {
      let s = e && !KF(e),
        a;
      if (s) a = n;
      else {
        let D = n || {};
        ((a = D.index),
          (r = D.injector),
          (i = D.projectableNodes),
          (o = D.environmentInjector || D.ngModuleRef));
      }
      let c = s ? e : new zc(No(e)),
        u = r || this.parentInjector;
      if (!o && c.ngModule == null) {
        let M = (s ? u : this.parentInjector).get(Pn, null);
        M && (o = M);
      }
      let d = No(c.componentType ?? {}),
        p = vb(this._lContainer, d?.id ?? null),
        v = p?.firstChild ?? null,
        m = c.create(u, i, v, o);
      return (this.insertImpl(m.hostView, a, gb(this._hostTNode, p)), m);
    }
    insert(e, n) {
      return this.insertImpl(e, n, !0);
    }
    insertImpl(e, n, r) {
      let i = e._lView;
      if (JF(i)) {
        let a = this.indexOf(e);
        if (a !== -1) this.detach(a);
        else {
          let c = i[Ht],
            u = new QS(c, c[ir], c[Ht]);
          u.detach(u.indexOf(e));
        }
      }
      let o = this._adjustIndex(n),
        s = this._lContainer;
      return (P2(s, i, o, r), e.attachToViewContainerRef(), Bb(jg(s), o, e), e);
    }
    move(e, n) {
      return this.insert(e, n);
    }
    indexOf(e) {
      let n = _b(this._lContainer);
      return n !== null ? n.indexOf(e) : -1;
    }
    remove(e) {
      let n = this._adjustIndex(e, -1),
        r = vv(this._lContainer, n);
      r && (Hd(jg(this._lContainer), n), _S(r[be], r));
    }
    detach(e) {
      let n = this._adjustIndex(e, -1),
        r = vv(this._lContainer, n);
      return r && Hd(jg(this._lContainer), n) != null ? new Fo(r) : null;
    }
    _adjustIndex(e, n = 0) {
      return e ?? this.length + n;
    }
  };
function _b(t) {
  return t[Wd];
}
function jg(t) {
  return t[Wd] || (t[Wd] = []);
}
function bj(t, e) {
  let n,
    r = e[t.index];
  return (
    Sr(r) ? (n = r) : ((n = OS(r, e, null, t)), (e[t.index] = n), Oh(e, n)),
    XS(n, e, t, r),
    new QS(n, t, e)
  );
}
function Tj(t, e) {
  let n = t[Ye],
    r = n.createComment(''),
    i = wn(e, t),
    o = ES(n, i);
  return (ih(n, o, r, KL(n, i), !1), r);
}
var XS = ZS,
  by = () => !1;
function Sj(t, e, n) {
  return by(t, e, n);
}
function ZS(t, e, n, r) {
  if (t[Zr]) return;
  let i;
  (n.type & 8 ? (i = rr(r)) : (i = Tj(e, n)), (t[Zr] = i));
}
function Aj(t, e, n) {
  if (t[Zr] && t[$c]) return !0;
  let r = n[Dr],
    i = e.index - ft;
  if (!r || qV(e) || tl(r, i)) return !1;
  let s = fv(r, i),
    a = r.data[ay]?.[i],
    [c, u] = cj(s, a);
  return ((t[Zr] = c), (t[$c] = u), !0);
}
function Mj(t, e, n, r) {
  by(t, n, e) || ZS(t, e, n, r);
}
function xj() {
  ((XS = Mj), (by = Aj));
}
var wb = new Set();
function zi(t) {
  wb.has(t) || (wb.add(t), performance?.mark?.('mark_feature_usage', { detail: { feature: t } }));
}
function Rj(t) {
  return typeof t == 'function' && t[Kr] !== void 0;
}
function sr(t, e) {
  zi('NgSignals');
  let n = hC(t),
    r = n[Kr];
  return (
    e?.equal && (r.equal = e.equal),
    (n.set = (i) => sg(r, i)),
    (n.update = (i) => fC(r, i)),
    (n.asReadonly = Nj.bind(n)),
    n
  );
}
function Nj() {
  let t = this[Kr];
  if (t.readonlyFn === void 0) {
    let e = () => this();
    ((e[Kr] = t), (t.readonlyFn = e));
  }
  return t.readonlyFn;
}
function JS(t) {
  return Rj(t) && typeof t.set == 'function';
}
function kj(t) {
  return Object.getPrototypeOf(t.prototype).constructor;
}
function ar(t) {
  let e = kj(t.type),
    n = !0,
    r = [t];
  for (; e; ) {
    let i;
    if (Li(t)) i = e.ɵcmp || e.ɵdir;
    else {
      if (e.ɵcmp) throw new Q(903, !1);
      i = e.ɵdir;
    }
    if (i) {
      if (n) {
        r.push(i);
        let s = t;
        ((s.inputs = Rd(t.inputs)),
          (s.inputTransforms = Rd(t.inputTransforms)),
          (s.declaredInputs = Rd(t.declaredInputs)),
          (s.outputs = Rd(t.outputs)));
        let a = i.hostBindings;
        a && Lj(t, a);
        let c = i.viewQuery,
          u = i.contentQueries;
        if (
          (c && Fj(t, c),
          u && Vj(t, u),
          Pj(t, i),
          eF(t.outputs, i.outputs),
          Li(i) && i.data.animation)
        ) {
          let d = t.data;
          d.animation = (d.animation || []).concat(i.data.animation);
        }
      }
      let o = i.features;
      if (o)
        for (let s = 0; s < o.length; s++) {
          let a = o[s];
          (a && a.ngInherit && a(t), a === ar && (n = !1));
        }
    }
    e = Object.getPrototypeOf(e);
  }
  Oj(r);
}
function Pj(t, e) {
  for (let n in e.inputs) {
    if (!e.inputs.hasOwnProperty(n) || t.inputs.hasOwnProperty(n)) continue;
    let r = e.inputs[n];
    if (
      r !== void 0 &&
      ((t.inputs[n] = r), (t.declaredInputs[n] = e.declaredInputs[n]), e.inputTransforms !== null)
    ) {
      let i = Array.isArray(r) ? r[0] : r;
      if (!e.inputTransforms.hasOwnProperty(i)) continue;
      ((t.inputTransforms ??= {}), (t.inputTransforms[i] = e.inputTransforms[i]));
    }
  }
}
function Oj(t) {
  let e = 0,
    n = null;
  for (let r = t.length - 1; r >= 0; r--) {
    let i = t[r];
    ((i.hostVars = e += i.hostVars), (i.hostAttrs = Uc(i.hostAttrs, (n = Uc(n, i.hostAttrs)))));
  }
}
function Rd(t) {
  return t === Gs ? {} : t === rn ? [] : t;
}
function Fj(t, e) {
  let n = t.viewQuery;
  n
    ? (t.viewQuery = (r, i) => {
        (e(r, i), n(r, i));
      })
    : (t.viewQuery = e);
}
function Vj(t, e) {
  let n = t.contentQueries;
  n
    ? (t.contentQueries = (r, i, o) => {
        (e(r, i, o), n(r, i, o));
      })
    : (t.contentQueries = e);
}
function Lj(t, e) {
  let n = t.hostBindings;
  n
    ? (t.hostBindings = (r, i) => {
        (e(r, i), n(r, i));
      })
    : (t.hostBindings = e);
}
function Ty(t) {
  let e = t.inputConfig,
    n = {};
  for (let r in e)
    if (e.hasOwnProperty(r)) {
      let i = e[r];
      Array.isArray(i) && i[3] && (n[r] = i[3]);
    }
  t.inputTransforms = n;
}
var Bi = class {},
  Wc = class {};
var bv = class extends Bi {
    constructor(e, n, r, i = !0) {
      (super(),
        (this.ngModuleType = e),
        (this._parent = n),
        (this._bootstrapComponents = []),
        (this.destroyCbs = []),
        (this.componentFactoryResolver = new lh(this)));
      let o = Qb(e);
      ((this._bootstrapComponents = pS(o.bootstrap)),
        (this._r3Injector = jT(
          e,
          n,
          [
            { provide: Bi, useValue: this },
            { provide: Ui, useValue: this.componentFactoryResolver },
            ...r,
          ],
          on(e),
          new Set(['environment'])
        )),
        i && this.resolveInjectorInitializers());
    }
    resolveInjectorInitializers() {
      (this._r3Injector.resolveInjectorInitializers(),
        (this.instance = this._r3Injector.get(this.ngModuleType)));
    }
    get injector() {
      return this._r3Injector;
    }
    destroy() {
      let e = this._r3Injector;
      (!e.destroyed && e.destroy(), this.destroyCbs.forEach((n) => n()), (this.destroyCbs = null));
    }
    onDestroy(e) {
      this.destroyCbs.push(e);
    }
  },
  Tv = class extends Wc {
    constructor(e) {
      (super(), (this.moduleType = e));
    }
    create(e) {
      return new bv(this.moduleType, e, []);
    }
  };
var uh = class extends Bi {
  constructor(e) {
    (super(), (this.componentFactoryResolver = new lh(this)), (this.instance = null));
    let n = new Bc(
      [
        ...e.providers,
        { provide: Bi, useValue: this },
        { provide: Ui, useValue: this.componentFactoryResolver },
      ],
      e.parent || Gv(),
      e.debugName,
      new Set(['environment'])
    );
    ((this.injector = n), e.runEnvironmentInitializers && n.resolveInjectorInitializers());
  }
  destroy() {
    this.injector.destroy();
  }
  onDestroy(e) {
    this.injector.onDestroy(e);
  }
};
function Sy(t, e, n = null) {
  return new uh({
    providers: t,
    parent: e,
    debugName: n,
    runEnvironmentInitializers: !0,
  }).injector;
}
function eA(t) {
  return Ay(t) ? Array.isArray(t) || (!(t instanceof Map) && Symbol.iterator in t) : !1;
}
function jj(t, e) {
  if (Array.isArray(t)) for (let n = 0; n < t.length; n++) e(t[n]);
  else {
    let n = t[Symbol.iterator](),
      r;
    for (; !(r = n.next()).done; ) e(r.value);
  }
}
function Ay(t) {
  return t !== null && (typeof t == 'function' || typeof t == 'object');
}
function ii(t, e, n) {
  return (t[e] = n);
}
function Uh(t, e) {
  return t[e];
}
function Fn(t, e, n) {
  let r = t[e];
  return Object.is(r, n) ? !1 : ((t[e] = n), !0);
}
function qc(t, e, n, r) {
  let i = Fn(t, e, n);
  return Fn(t, e + 1, r) || i;
}
function tA(t, e, n, r, i) {
  let o = qc(t, e, n, r);
  return Fn(t, e + 2, i) || o;
}
function Bh(t, e, n, r, i, o) {
  let s = qc(t, e, n, r);
  return qc(t, e + 2, i, o) || s;
}
function ol(t) {
  return (t.flags & 32) === 32;
}
function Uj(t, e, n, r, i, o, s, a, c) {
  let u = e.consts,
    d = il(e, t, 4, s || null, a || null);
  (Ey(e, n, d, Zs(u, c)), bh(e, d));
  let p = (d.tView = wy(
    2,
    d,
    r,
    i,
    o,
    e.directiveRegistry,
    e.pipeRegistry,
    null,
    e.schemas,
    u,
    null
  ));
  return (
    e.queries !== null && (e.queries.template(e, d), (p.queries = e.queries.embeddedTView(d))),
    d
  );
}
function Bj(t, e, n, r, i, o, s, a, c, u) {
  let d = n + ft,
    p = e.firstCreatePass ? Uj(d, e, t, r, i, o, s, a, c) : e.data[d];
  Lo(p, !1);
  let v = nA(e, t, p, n);
  (Ch() && Nh(e, t, v, p), ji(v, t));
  let m = OS(v, t, v, p);
  return ((t[d] = m), Oh(t, m), Sj(m, p, t), _h(p) && yy(e, t, p), c != null && _y(t, p, u), p);
}
function ne(t, e, n, r, i, o, s, a) {
  let c = De(),
    u = Ot(),
    d = Zs(u.consts, o);
  return (Bj(c, u, t, e, n, r, i, d, s, a), ne);
}
var nA = rA;
function rA(t, e, n, r) {
  return ($i(!0), e[Ye].createComment(''));
}
function Hj(t, e, n, r) {
  let i = e[Dr],
    o = !i || Zc() || ol(n) || tl(i, r);
  if (($i(o), o)) return rA(t, e, n, r);
  let s = i.data[eL]?.[r] ?? null;
  s !== null && n.tView !== null && n.tView.ssrId === null && (n.tView.ssrId = s);
  let a = Vh(i, t, e, n);
  Ah(i, r, a);
  let c = ly(i, r);
  return Lh(c, a);
}
function $j() {
  nA = Hj;
}
var Vc = (function (t) {
    return (
      (t[(t.EarlyRead = 0)] = 'EarlyRead'),
      (t[(t.Write = 1)] = 'Write'),
      (t[(t.MixedReadWrite = 2)] = 'MixedReadWrite'),
      (t[(t.Read = 3)] = 'Read'),
      t
    );
  })(Vc || {}),
  zj = (() => {
    class t {
      constructor() {
        this.impl = null;
      }
      execute() {
        this.impl?.execute();
      }
      static {
        this.ɵprov = G({
          token: t,
          providedIn: 'root',
          factory: () => new t(),
        });
      }
    }
    return t;
  })(),
  Eb = class t {
    constructor() {
      ((this.ngZone = H(Se)),
        (this.scheduler = H(ea)),
        (this.errorHandler = H(Jr, { optional: !0 })),
        (this.sequences = new Set()),
        (this.deferredRegistrations = new Set()),
        (this.executing = !1));
    }
    static {
      this.PHASES = [Vc.EarlyRead, Vc.Write, Vc.MixedReadWrite, Vc.Read];
    }
    execute() {
      this.executing = !0;
      for (let e of t.PHASES)
        for (let n of this.sequences)
          if (!(n.erroredOrDestroyed || !n.hooks[e]))
            try {
              n.pipelinedValue = this.ngZone.runOutsideAngular(() => n.hooks[e](n.pipelinedValue));
            } catch (r) {
              ((n.erroredOrDestroyed = !0), this.errorHandler?.handleError(r));
            }
      this.executing = !1;
      for (let e of this.sequences)
        (e.afterRun(), e.once && (this.sequences.delete(e), e.destroy()));
      for (let e of this.deferredRegistrations) this.sequences.add(e);
      (this.deferredRegistrations.size > 0 && this.scheduler.notify(7),
        this.deferredRegistrations.clear());
    }
    register(e) {
      this.executing
        ? this.deferredRegistrations.add(e)
        : (this.sequences.add(e), this.scheduler.notify(6));
    }
    unregister(e) {
      this.executing && this.sequences.has(e)
        ? ((e.erroredOrDestroyed = !0), (e.pipelinedValue = void 0), (e.once = !0))
        : (this.sequences.delete(e), this.deferredRegistrations.delete(e));
    }
    static {
      this.ɵprov = G({ token: t, providedIn: 'root', factory: () => new t() });
    }
  };
function qt(t, e, n, r) {
  let i = De(),
    o = Dh();
  if (Fn(i, o, e)) {
    let s = Ot(),
      a = Jv();
    D2(a, i, t, e, n, r);
  }
  return qt;
}
function Wj(t, e, n, r) {
  return Fn(t, Dh(), n) ? e + Yc(n) + r : Mr;
}
function Nd(t, e) {
  return (t << 17) | (e << 2);
}
function Vo(t) {
  return (t >> 17) & 32767;
}
function qj(t) {
  return (t & 2) == 2;
}
function Gj(t, e) {
  return (t & 131071) | (e << 17);
}
function Sv(t) {
  return t | 2;
}
function na(t) {
  return (t & 131068) >> 2;
}
function Ug(t, e) {
  return (t & -131069) | (e << 2);
}
function Kj(t) {
  return (t & 1) === 1;
}
function Av(t) {
  return t | 1;
}
function Yj(t, e, n, r, i, o) {
  let s = o ? e.classBindings : e.styleBindings,
    a = Vo(s),
    c = na(s);
  t[r] = n;
  let u = !1,
    d;
  if (Array.isArray(n)) {
    let p = n;
    ((d = p[1]), (d === null || Qc(p, d) > 0) && (u = !0));
  } else d = n;
  if (i)
    if (c !== 0) {
      let v = Vo(t[a + 1]);
      ((t[r + 1] = Nd(v, a)),
        v !== 0 && (t[v + 1] = Ug(t[v + 1], r)),
        (t[a + 1] = Gj(t[a + 1], r)));
    } else ((t[r + 1] = Nd(a, 0)), a !== 0 && (t[a + 1] = Ug(t[a + 1], r)), (a = r));
  else ((t[r + 1] = Nd(c, 0)), a === 0 ? (a = r) : (t[c + 1] = Ug(t[c + 1], r)), (c = r));
  (u && (t[r + 1] = Sv(t[r + 1])),
    Ib(t, d, r, !0),
    Ib(t, d, r, !1),
    Qj(e, d, t, r, o),
    (s = Nd(a, c)),
    o ? (e.classBindings = s) : (e.styleBindings = s));
}
function Qj(t, e, n, r, i) {
  let o = i ? t.residualClasses : t.residualStyles;
  o != null && typeof e == 'string' && Qc(o, e) >= 0 && (n[r + 1] = Av(n[r + 1]));
}
function Ib(t, e, n, r) {
  let i = t[n + 1],
    o = e === null,
    s = r ? Vo(i) : na(i),
    a = !1;
  for (; s !== 0 && (a === !1 || o); ) {
    let c = t[s],
      u = t[s + 1];
    (Xj(c, e) && ((a = !0), (t[s + 1] = r ? Av(u) : Sv(u))), (s = r ? Vo(u) : na(u)));
  }
  a && (t[n + 1] = r ? Sv(i) : Av(i));
}
function Xj(t, e) {
  return t === null || e == null || (Array.isArray(t) ? t[1] : t) === e
    ? !0
    : Array.isArray(t) && typeof e == 'string'
      ? Qc(t, e) >= 0
      : !1;
}
var Jn = { textEnd: 0, key: 0, keyEnd: 0, value: 0, valueEnd: 0 };
function Zj(t) {
  return t.substring(Jn.key, Jn.keyEnd);
}
function Jj(t) {
  return (eU(t), iA(t, oA(t, 0, Jn.textEnd)));
}
function iA(t, e) {
  let n = Jn.textEnd;
  return n === e ? -1 : ((e = Jn.keyEnd = tU(t, (Jn.key = e), n)), oA(t, e, n));
}
function eU(t) {
  ((Jn.key = 0), (Jn.keyEnd = 0), (Jn.value = 0), (Jn.valueEnd = 0), (Jn.textEnd = t.length));
}
function oA(t, e, n) {
  for (; e < n && t.charCodeAt(e) <= 32; ) e++;
  return e;
}
function tU(t, e, n) {
  for (; e < n && t.charCodeAt(e) > 32; ) e++;
  return e;
}
function L(t, e, n) {
  let r = De(),
    i = Dh();
  if (Fn(r, i, e)) {
    let o = Ot(),
      s = Jv();
    NS(o, s, r, t, e, r[Ye], n, !1);
  }
  return L;
}
function Mv(t, e, n, r, i) {
  let o = e.inputs,
    s = i ? 'class' : 'style';
  Iy(t, n, o[s], s, r);
}
function oi(t, e, n) {
  return (aA(t, e, n, !1), oi);
}
function pt(t, e) {
  return (aA(t, e, null, !0), pt);
}
function sA(t) {
  rU(lU, nU, t, !0);
}
function nU(t, e) {
  for (let n = Jj(e); n >= 0; n = iA(e, n)) zv(t, Zj(e), !0);
}
function aA(t, e, n, r) {
  let i = De(),
    o = Ot(),
    s = wT(2);
  if ((o.firstUpdatePass && lA(o, t, s, r), e !== Mr && Fn(i, s, e))) {
    let a = o.data[jo()];
    uA(o, a, i, i[Ye], t, (i[s + 1] = dU(e, n)), r, s);
  }
}
function rU(t, e, n, r) {
  let i = Ot(),
    o = wT(2);
  i.firstUpdatePass && lA(i, null, o, r);
  let s = De();
  if (n !== Mr && Fn(s, o, n)) {
    let a = i.data[jo()];
    if (dA(a, r) && !cA(i, o)) {
      let c = r ? a.classesWithoutHost : a.stylesWithoutHost;
      (c !== null && (n = Wg(c, n || '')), Mv(i, a, s, n, r));
    } else uU(i, a, s, s[Ye], s[o + 1], (s[o + 1] = cU(t, e, n)), r, o);
  }
}
function cA(t, e) {
  return e >= t.expandoStartIndex;
}
function lA(t, e, n, r) {
  let i = t.data;
  if (i[n + 1] === null) {
    let o = i[jo()],
      s = cA(t, n);
    (dA(o, r) && e === null && !s && (e = !1), (e = iU(i, o, e, r)), Yj(i, o, e, n, s, r));
  }
}
function iU(t, e, n, r) {
  let i = pV(t),
    o = r ? e.residualClasses : e.residualStyles;
  if (i === null)
    (r ? e.classBindings : e.styleBindings) === 0 &&
      ((n = Bg(null, t, e, n, r)), (n = Gc(n, e.attrs, r)), (o = null));
  else {
    let s = e.directiveStylingLast;
    if (s === -1 || t[s] !== i)
      if (((n = Bg(i, t, e, n, r)), o === null)) {
        let c = oU(t, e, r);
        c !== void 0 &&
          Array.isArray(c) &&
          ((c = Bg(null, t, e, c[1], r)), (c = Gc(c, e.attrs, r)), sU(t, e, r, c));
      } else o = aU(t, e, r);
  }
  return (o !== void 0 && (r ? (e.residualClasses = o) : (e.residualStyles = o)), n);
}
function oU(t, e, n) {
  let r = n ? e.classBindings : e.styleBindings;
  if (na(r) !== 0) return t[Vo(r)];
}
function sU(t, e, n, r) {
  let i = n ? e.classBindings : e.styleBindings;
  t[Vo(i)] = r;
}
function aU(t, e, n) {
  let r,
    i = e.directiveEnd;
  for (let o = 1 + e.directiveStylingLast; o < i; o++) {
    let s = t[o].hostAttrs;
    r = Gc(r, s, n);
  }
  return Gc(r, e.attrs, n);
}
function Bg(t, e, n, r, i) {
  let o = null,
    s = n.directiveEnd,
    a = n.directiveStylingLast;
  for (
    a === -1 ? (a = n.directiveStart) : a++;
    a < s && ((o = e[a]), (r = Gc(r, o.hostAttrs, i)), o !== t);

  )
    a++;
  return (t !== null && (n.directiveStylingLast = a), r);
}
function Gc(t, e, n) {
  let r = n ? 1 : 2,
    i = -1;
  if (e !== null)
    for (let o = 0; o < e.length; o++) {
      let s = e[o];
      typeof s == 'number'
        ? (i = s)
        : i === r &&
          (Array.isArray(t) || (t = t === void 0 ? [] : ['', t]), zv(t, s, n ? !0 : e[++o]));
    }
  return t === void 0 ? null : t;
}
function cU(t, e, n) {
  if (n == null || n === '') return rn;
  let r = [],
    i = Bo(n);
  if (Array.isArray(i)) for (let o = 0; o < i.length; o++) t(r, i[o], !0);
  else if (typeof i == 'object') for (let o in i) i.hasOwnProperty(o) && t(r, o, i[o]);
  else typeof i == 'string' && e(r, i);
  return r;
}
function lU(t, e, n) {
  let r = String(e);
  r !== '' && !r.includes(' ') && zv(t, r, n);
}
function uU(t, e, n, r, i, o, s, a) {
  i === Mr && (i = rn);
  let c = 0,
    u = 0,
    d = 0 < i.length ? i[0] : null,
    p = 0 < o.length ? o[0] : null;
  for (; d !== null || p !== null; ) {
    let v = c < i.length ? i[c + 1] : void 0,
      m = u < o.length ? o[u + 1] : void 0,
      D = null,
      M;
    (d === p
      ? ((c += 2), (u += 2), v !== m && ((D = p), (M = m)))
      : p === null || (d !== null && d < p)
        ? ((c += 2), (D = d))
        : ((u += 2), (D = p), (M = m)),
      D !== null && uA(t, e, n, r, D, M, s, a),
      (d = c < i.length ? i[c] : null),
      (p = u < o.length ? o[u] : null));
  }
}
function uA(t, e, n, r, i, o, s, a) {
  if (!(e.type & 3)) return;
  let c = t.data,
    u = c[a + 1],
    d = Kj(u) ? Db(c, e, n, i, na(u), s) : void 0;
  if (!dh(d)) {
    dh(o) || (qj(u) && (o = Db(c, null, n, i, a, s)));
    let p = uT(jo(), n);
    e2(r, s, p, i, o);
  }
}
function Db(t, e, n, r, i, o) {
  let s = e === null,
    a;
  for (; i > 0; ) {
    let c = t[i],
      u = Array.isArray(c),
      d = u ? c[1] : c,
      p = d === null,
      v = n[i + 1];
    v === Mr && (v = p ? rn : void 0);
    let m = p ? Mg(v, r) : d === r ? v : void 0;
    if ((u && !dh(m) && (m = Mg(c, r)), dh(m) && ((a = m), s))) return a;
    let D = t[i + 1];
    i = s ? Vo(D) : na(D);
  }
  if (e !== null) {
    let c = o ? e.residualClasses : e.residualStyles;
    c != null && (a = Mg(c, r));
  }
  return a;
}
function dh(t) {
  return t !== void 0;
}
function dU(t, e) {
  return (
    t == null ||
      t === '' ||
      (typeof e == 'string' ? (t = t + e) : typeof t == 'object' && (t = on(Bo(t)))),
    t
  );
}
function dA(t, e) {
  return (t.flags & (e ? 8 : 16)) !== 0;
}
function hU(t, e, n, r, i, o) {
  let s = e.consts,
    a = Zs(s, i),
    c = il(e, t, 2, r, a);
  return (
    Ey(e, n, c, Zs(s, o)),
    c.attrs !== null && ch(c, c.attrs, !1),
    c.mergedAttrs !== null && ch(c, c.mergedAttrs, !0),
    e.queries !== null && e.queries.elementStart(e, c),
    c
  );
}
function R(t, e, n, r) {
  let i = De(),
    o = Ot(),
    s = ft + t,
    a = i[Ye],
    c = o.firstCreatePass ? hU(s, o, i, e, n, r) : o.data[s],
    u = hA(o, i, c, a, e, t);
  i[s] = u;
  let d = _h(c);
  return (
    Lo(c, !0),
    bS(a, u, c),
    !ol(c) && Ch() && Nh(o, i, u, c),
    nV() === 0 && ji(u, i),
    rV(),
    d && (yy(o, i, c), vy(o, c, i)),
    r !== null && _y(i, c),
    R
  );
}
function P() {
  let t = Wt();
  Qv() ? yT() : ((t = t.parent), Lo(t, !1));
  let e = t;
  (oV(e) && aV(), iV());
  let n = Ot();
  return (
    n.firstCreatePass && (bh(n, t), Kv(t) && n.queries.elementEnd(t)),
    e.classesWithoutHost != null && EV(e) && Mv(n, e, De(), e.classesWithoutHost, !0),
    e.stylesWithoutHost != null && IV(e) && Mv(n, e, De(), e.stylesWithoutHost, !1),
    P
  );
}
function ue(t, e, n, r) {
  return (R(t, e, n, r), P(), ue);
}
var hA = (t, e, n, r, i, o) => ($i(!0), fy(r, i, ST()));
function fU(t, e, n, r, i, o) {
  let s = e[Dr],
    a = !s || Zc() || ol(n) || tl(s, o);
  if (($i(a), a)) return fy(r, i, ST());
  let c = Vh(s, t, e, n);
  return (rS(s, o) && Ah(s, o, c.nextSibling), s && (zT(n) || WT(c)) && Xc(n) && (sV(n), DS(c)), c);
}
function pU() {
  hA = fU;
}
function mU(t, e, n, r, i) {
  let o = e.consts,
    s = Zs(o, r),
    a = il(e, t, 8, 'ng-container', s);
  s !== null && ch(a, s, !0);
  let c = Zs(o, i);
  return (Ey(e, n, a, c), e.queries !== null && e.queries.elementStart(e, a), a);
}
function fA(t, e, n) {
  let r = De(),
    i = Ot(),
    o = t + ft,
    s = i.firstCreatePass ? mU(o, i, r, e, n) : i.data[o];
  Lo(s, !0);
  let a = mA(i, r, s, t);
  return (
    (r[o] = a),
    Ch() && Nh(i, r, a, s),
    ji(a, r),
    _h(s) && (yy(i, r, s), vy(i, s, r)),
    n != null && _y(r, s),
    fA
  );
}
function pA() {
  let t = Wt(),
    e = Ot();
  return (
    Qv() ? yT() : ((t = t.parent), Lo(t, !1)),
    e.firstCreatePass && (bh(e, t), Kv(t) && e.queries.elementEnd(t)),
    pA
  );
}
function My(t, e, n) {
  return (fA(t, e, n), pA(), My);
}
var mA = (t, e, n, r) => ($i(!0), gS(e[Ye], ''));
function gU(t, e, n, r) {
  let i,
    o = e[Dr],
    s = !o || Zc() || tl(o, r) || ol(n);
  if (($i(s), s)) return gS(e[Ye], '');
  let a = Vh(o, t, e, n),
    c = uL(o, r);
  return (Ah(o, r, a), (i = Lh(c, a)), i);
}
function vU() {
  mA = gU;
}
function nt() {
  return De();
}
var Ao = void 0;
function yU(t) {
  let e = t,
    n = Math.floor(Math.abs(t)),
    r = t.toString().replace(/^[^.]*\.?/, '').length;
  return n === 1 && r === 0 ? 1 : 5;
}
var _U = [
    'en',
    [['a', 'p'], ['AM', 'PM'], Ao],
    [['AM', 'PM'], Ao, Ao],
    [
      ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
      ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
      ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
      ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
    ],
    Ao,
    [
      ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],
      ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      [
        'January',
        'February',
        'March',
        'April',
        'May',
        'June',
        'July',
        'August',
        'September',
        'October',
        'November',
        'December',
      ],
    ],
    Ao,
    [
      ['B', 'A'],
      ['BC', 'AD'],
      ['Before Christ', 'Anno Domini'],
    ],
    0,
    [6, 0],
    ['M/d/yy', 'MMM d, y', 'MMMM d, y', 'EEEE, MMMM d, y'],
    ['h:mm a', 'h:mm:ss a', 'h:mm:ss a z', 'h:mm:ss a zzzz'],
    ['{1}, {0}', Ao, "{1} 'at' {0}", Ao],
    ['.', ',', ';', '%', '+', '-', 'E', '\xD7', '\u2030', '\u221E', 'NaN', ':'],
    ['#,##0.###', '#,##0%', '\xA4#,##0.00', '#E0'],
    'USD',
    '$',
    'US Dollar',
    {},
    'ltr',
    yU,
  ],
  Hg = {};
function En(t) {
  let e = wU(t),
    n = Cb(e);
  if (n) return n;
  let r = e.split('-')[0];
  if (((n = Cb(r)), n)) return n;
  if (r === 'en') return _U;
  throw new Q(701, !1);
}
function gA(t) {
  return En(t)[st.PluralCase];
}
function Cb(t) {
  return (
    t in Hg || (Hg[t] = Xr.ng && Xr.ng.common && Xr.ng.common.locales && Xr.ng.common.locales[t]),
    Hg[t]
  );
}
var st = (function (t) {
  return (
    (t[(t.LocaleId = 0)] = 'LocaleId'),
    (t[(t.DayPeriodsFormat = 1)] = 'DayPeriodsFormat'),
    (t[(t.DayPeriodsStandalone = 2)] = 'DayPeriodsStandalone'),
    (t[(t.DaysFormat = 3)] = 'DaysFormat'),
    (t[(t.DaysStandalone = 4)] = 'DaysStandalone'),
    (t[(t.MonthsFormat = 5)] = 'MonthsFormat'),
    (t[(t.MonthsStandalone = 6)] = 'MonthsStandalone'),
    (t[(t.Eras = 7)] = 'Eras'),
    (t[(t.FirstDayOfWeek = 8)] = 'FirstDayOfWeek'),
    (t[(t.WeekendRange = 9)] = 'WeekendRange'),
    (t[(t.DateFormat = 10)] = 'DateFormat'),
    (t[(t.TimeFormat = 11)] = 'TimeFormat'),
    (t[(t.DateTimeFormat = 12)] = 'DateTimeFormat'),
    (t[(t.NumberSymbols = 13)] = 'NumberSymbols'),
    (t[(t.NumberFormats = 14)] = 'NumberFormats'),
    (t[(t.CurrencyCode = 15)] = 'CurrencyCode'),
    (t[(t.CurrencySymbol = 16)] = 'CurrencySymbol'),
    (t[(t.CurrencyName = 17)] = 'CurrencyName'),
    (t[(t.Currencies = 18)] = 'Currencies'),
    (t[(t.Directionality = 19)] = 'Directionality'),
    (t[(t.PluralCase = 20)] = 'PluralCase'),
    (t[(t.ExtraData = 21)] = 'ExtraData'),
    t
  );
})(st || {});
function wU(t) {
  return t.toLowerCase().replace(/_/g, '-');
}
var hh = 'en-US';
var EU = hh;
function IU(t) {
  typeof t == 'string' && (EU = t.toLowerCase().replace(/_/g, '-'));
}
var DU = (t, e, n) => {};
function ae(t, e, n, r) {
  let i = De(),
    o = Ot(),
    s = Wt();
  return (vA(o, i, i[Ye], s, t, e, r), ae);
}
function CU(t, e, n, r) {
  let i = t.cleanup;
  if (i != null)
    for (let o = 0; o < i.length - 1; o += 2) {
      let s = i[o];
      if (s === n && i[o + 1] === r) {
        let a = e[zd],
          c = i[o + 2];
        return a.length > c ? a[c] : null;
      }
      typeof s == 'string' && (o += 2);
    }
  return null;
}
function vA(t, e, n, r, i, o, s) {
  let a = _h(r),
    u = t.firstCreatePass && A2(t),
    d = e[nr],
    p = S2(e),
    v = !0;
  if (r.type & 3 || s) {
    let M = wn(r, e),
      A = s ? s(M) : M,
      N = p.length,
      O = s ? (z) => s(rr(z[r.index])) : r.index,
      F = null;
    if ((!s && a && (F = CU(t, e, i, r.index)), F !== null)) {
      let z = F.__ngLastListenerFn__ || F;
      ((z.__ngNextListenerFn__ = o), (F.__ngLastListenerFn__ = o), (v = !1));
    } else {
      ((o = Tb(r, e, d, o)), DU(M, i, o));
      let z = n.listen(A, i, o);
      (p.push(o, z), u && u.push(i, O, N, N + 1));
    }
  } else o = Tb(r, e, d, o);
  let m = r.outputs,
    D;
  if (v && m !== null && (D = m[i])) {
    let M = D.length;
    if (M)
      for (let A = 0; A < M; A += 2) {
        let N = D[A],
          O = D[A + 1],
          Z = e[N][O].subscribe(o),
          q = p.length;
        (p.push(o, Z), u && u.push(i, r.index, q, -(q + 1)));
      }
  }
}
function bb(t, e, n, r) {
  let i = ke(null);
  try {
    return (wr(6, e, n), n(r) !== !1);
  } catch (o) {
    return (VS(t, o), !1);
  } finally {
    (wr(7, e, n), ke(i));
  }
}
function Tb(t, e, n, r) {
  return function i(o) {
    if (o === Function) return r;
    let s = t.componentOffset > -1 ? Hi(t.index, e) : e;
    Cy(s, 5);
    let a = bb(e, n, r, o),
      c = i.__ngNextListenerFn__;
    for (; c; ) ((a = bb(e, n, c, o) && a), (c = c.__ngNextListenerFn__));
    return a;
  };
}
function B(t = 1) {
  return gV(t);
}
function bU(t, e, n, r) {
  (n >= t.data.length && ((t.data[n] = null), (t.blueprint[n] = null)), (e[n] = r));
}
function mt(t) {
  let e = lV();
  return wh(e, ft + t);
}
function re(t, e = '') {
  let n = De(),
    r = Ot(),
    i = t + ft,
    o = r.firstCreatePass ? il(r, i, 1, e, null) : r.data[i],
    s = yA(r, n, o, e, t);
  ((n[i] = s), Ch() && Nh(r, n, s, o), Lo(o, !1));
}
var yA = (t, e, n, r, i) => ($i(!0), mS(e[Ye], r));
function TU(t, e, n, r, i) {
  let o = e[Dr],
    s = !o || Zc() || ol(n) || tl(o, i);
  return ($i(s), s ? mS(e[Ye], r) : Vh(o, t, e, n));
}
function SU() {
  yA = TU;
}
function In(t) {
  return (Dn('', t, ''), In);
}
function Dn(t, e, n) {
  let r = De(),
    i = Wj(r, t, e, n);
  return (i !== Mr && M2(r, jo(), i), Dn);
}
function Ln(t, e, n) {
  JS(e) && (e = e());
  let r = De(),
    i = Dh();
  if (Fn(r, i, e)) {
    let o = Ot(),
      s = Jv();
    NS(o, s, r, t, e, r[Ye], n, !1);
  }
  return Ln;
}
function cr(t, e) {
  let n = JS(t);
  return (n && t.set(e), n);
}
function jn(t, e) {
  let n = De(),
    r = Ot(),
    i = Wt();
  return (vA(r, n, n[Ye], i, t, e), jn);
}
function AU(t, e, n) {
  let r = Ot();
  if (r.firstCreatePass) {
    let i = Li(t);
    (xv(n, r.data, r.blueprint, i, !0), xv(e, r.data, r.blueprint, i, !1));
  }
}
function xv(t, e, n, r, i) {
  if (((t = nn(t)), Array.isArray(t))) for (let o = 0; o < t.length; o++) xv(t[o], e, n, r, i);
  else {
    let o = Ot(),
      s = De(),
      a = Wt(),
      c = Ks(t) ? t : nn(t.provide),
      u = nT(t),
      d = a.providerIndexes & 1048575,
      p = a.directiveStart,
      v = a.providerIndexes >> 20;
    if (Ks(t) || !t.multi) {
      let m = new Oo(u, i, k),
        D = zg(c, e, i ? d : d + v, p);
      D === -1
        ? (iv(Zd(a, s), o, c),
          $g(o, t, e.length),
          e.push(c),
          a.directiveStart++,
          a.directiveEnd++,
          i && (a.providerIndexes += 1048576),
          n.push(m),
          s.push(m))
        : ((n[D] = m), (s[D] = m));
    } else {
      let m = zg(c, e, d + v, p),
        D = zg(c, e, d, d + v),
        M = m >= 0 && n[m],
        A = D >= 0 && n[D];
      if ((i && !A) || (!i && !M)) {
        iv(Zd(a, s), o, c);
        let N = RU(i ? xU : MU, n.length, i, r, u);
        (!i && A && (n[D].providerFactory = N),
          $g(o, t, e.length, 0),
          e.push(c),
          a.directiveStart++,
          a.directiveEnd++,
          i && (a.providerIndexes += 1048576),
          n.push(N),
          s.push(N));
      } else {
        let N = _A(n[i ? D : m], u, !i && r);
        $g(o, t, m > -1 ? m : D, N);
      }
      !i && r && A && n[D].componentProviders++;
    }
  }
}
function $g(t, e, n, r) {
  let i = Ks(e),
    o = UF(e);
  if (i || o) {
    let c = (o ? nn(e.useClass) : e).prototype.ngOnDestroy;
    if (c) {
      let u = t.destroyHooks || (t.destroyHooks = []);
      if (!i && e.multi) {
        let d = u.indexOf(n);
        d === -1 ? u.push(n, [r, c]) : u[d + 1].push(r, c);
      } else u.push(n, c);
    }
  }
}
function _A(t, e, n) {
  return (n && t.componentProviders++, t.multi.push(e) - 1);
}
function zg(t, e, n, r) {
  for (let i = n; i < r; i++) if (e[i] === t) return i;
  return -1;
}
function MU(t, e, n, r) {
  return Rv(this.multi, []);
}
function xU(t, e, n, r) {
  let i = this.multi,
    o;
  if (this.providerFactory) {
    let s = this.providerFactory.componentProviders,
      a = Js(n, n[be], this.providerFactory.index, r);
    ((o = a.slice(0, s)), Rv(i, o));
    for (let c = s; c < a.length; c++) o.push(a[c]);
  } else ((o = []), Rv(i, o));
  return o;
}
function Rv(t, e) {
  for (let n = 0; n < t.length; n++) {
    let r = t[n];
    e.push(r());
  }
  return e;
}
function RU(t, e, n, r, i) {
  let o = new Oo(t, n, k);
  return ((o.multi = []), (o.index = e), (o.componentProviders = 0), _A(o, i, r && !n), o);
}
function Ho(t, e = []) {
  return (n) => {
    n.providersResolver = (r, i) => AU(r, i ? i(t) : t, e);
  };
}
var NU = (() => {
  class t {
    constructor(n) {
      ((this._injector = n), (this.cachedInjectors = new Map()));
    }
    getOrCreateStandaloneInjector(n) {
      if (!n.standalone) return null;
      if (!this.cachedInjectors.has(n)) {
        let r = Jb(!1, n.type),
          i = r.length > 0 ? Sy([r], this._injector, `Standalone[${n.type.name}]`) : null;
        this.cachedInjectors.set(n, i);
      }
      return this.cachedInjectors.get(n);
    }
    ngOnDestroy() {
      try {
        for (let n of this.cachedInjectors.values()) n !== null && n.destroy();
      } finally {
        this.cachedInjectors.clear();
      }
    }
    static {
      this.ɵprov = G({
        token: t,
        providedIn: 'environment',
        factory: () => new t(le(Pn)),
      });
    }
  }
  return t;
})();
function Mt(t) {
  (zi('NgStandalone'),
    (t.getStandaloneInjector = (e) => e.get(NU).getOrCreateStandaloneInjector(t)));
}
function sn(t, e, n) {
  let r = Vn() + t,
    i = De();
  return i[r] === Mr ? ii(i, r, n ? e.call(n) : e()) : Uh(i, r);
}
function $o(t, e, n, r) {
  return DA(De(), Vn(), t, e, n, r);
}
function Ct(t, e, n, r, i) {
  return CA(De(), Vn(), t, e, n, r, i);
}
function Hh(t, e, n, r, i, o) {
  return bA(De(), Vn(), t, e, n, r, i, o);
}
function wA(t, e, n, r, i, o, s) {
  return kU(De(), Vn(), t, e, n, r, i, o, s);
}
function xy(t, e, n, r, i, o, s, a) {
  let c = Vn() + t,
    u = De(),
    d = Bh(u, c, n, r, i, o);
  return Fn(u, c + 4, s) || d
    ? ii(u, c + 5, a ? e.call(a, n, r, i, o, s) : e(n, r, i, o, s))
    : Uh(u, c + 5);
}
function EA(t, e, n, r, i, o, s, a, c) {
  let u = Vn() + t,
    d = De(),
    p = Bh(d, u, n, r, i, o);
  return qc(d, u + 4, s, a) || p
    ? ii(d, u + 6, c ? e.call(c, n, r, i, o, s, a) : e(n, r, i, o, s, a))
    : Uh(d, u + 6);
}
function IA(t, e, n, r, i, o, s, a, c, u) {
  let d = Vn() + t,
    p = De(),
    v = Bh(p, d, n, r, i, o);
  return tA(p, d + 4, s, a, c) || v
    ? ii(p, d + 7, u ? e.call(u, n, r, i, o, s, a, c) : e(n, r, i, o, s, a, c))
    : Uh(p, d + 7);
}
function Ry(t, e, n, r) {
  return PU(De(), Vn(), t, e, n, r);
}
function sl(t, e) {
  let n = t[e];
  return n === Mr ? void 0 : n;
}
function DA(t, e, n, r, i, o) {
  let s = e + n;
  return Fn(t, s, i) ? ii(t, s + 1, o ? r.call(o, i) : r(i)) : sl(t, s + 1);
}
function CA(t, e, n, r, i, o, s) {
  let a = e + n;
  return qc(t, a, i, o) ? ii(t, a + 2, s ? r.call(s, i, o) : r(i, o)) : sl(t, a + 2);
}
function bA(t, e, n, r, i, o, s, a) {
  let c = e + n;
  return tA(t, c, i, o, s) ? ii(t, c + 3, a ? r.call(a, i, o, s) : r(i, o, s)) : sl(t, c + 3);
}
function kU(t, e, n, r, i, o, s, a, c) {
  let u = e + n;
  return Bh(t, u, i, o, s, a)
    ? ii(t, u + 4, c ? r.call(c, i, o, s, a) : r(i, o, s, a))
    : sl(t, u + 4);
}
function PU(t, e, n, r, i, o) {
  let s = e + n,
    a = !1;
  for (let c = 0; c < i.length; c++) Fn(t, s++, i[c]) && (a = !0);
  return a ? ii(t, s, r.apply(o, i)) : sl(t, s);
}
function Qe(t, e) {
  let n = Ot(),
    r,
    i = t + ft;
  n.firstCreatePass
    ? ((r = OU(e, n.pipeRegistry)),
      (n.data[i] = r),
      r.onDestroy && (n.destroyHooks ??= []).push(i, r.onDestroy))
    : (r = n.data[i]);
  let o = r.factory || (r.factory = xo(r.type, !0)),
    s,
    a = dn(k);
  try {
    let c = Xd(!1),
      u = o();
    return (Xd(c), bU(n, De(), i, u), u);
  } finally {
    dn(a);
  }
}
function OU(t, e) {
  if (e)
    for (let n = e.length - 1; n >= 0; n--) {
      let r = e[n];
      if (t === r.name) return r;
    }
}
function Ny(t, e, n) {
  let r = t + ft,
    i = De(),
    o = wh(i, r);
  return ky(i, r) ? DA(i, Vn(), e, o.transform, n, o) : o.transform(n);
}
function fn(t, e, n, r) {
  let i = t + ft,
    o = De(),
    s = wh(o, i);
  return ky(o, i) ? CA(o, Vn(), e, s.transform, n, r, s) : s.transform(n, r);
}
function xr(t, e, n, r, i) {
  let o = t + ft,
    s = De(),
    a = wh(s, o);
  return ky(s, o) ? bA(s, Vn(), e, a.transform, n, r, i, a) : a.transform(n, r, i);
}
function ky(t, e) {
  return t[be].data[e].pure;
}
function pn(t, e) {
  return zS(t, e);
}
var ei = class {
    constructor(e) {
      this.full = e;
      let n = e.split('.');
      ((this.major = n[0]), (this.minor = n[1]), (this.patch = n.slice(2).join('.')));
    }
  },
  TA = new ei('18.2.13');
var $h = (() => {
  class t {
    log(n) {
      console.log(n);
    }
    warn(n) {
      console.warn(n);
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'platform' });
    }
  }
  return t;
})();
var SA = new X('');
function Wi(t) {
  return !!t && typeof t.then == 'function';
}
function Py(t) {
  return !!t && typeof t.subscribe == 'function';
}
var AA = new X(''),
  MA = (() => {
    class t {
      constructor() {
        ((this.initialized = !1),
          (this.done = !1),
          (this.donePromise = new Promise((n, r) => {
            ((this.resolve = n), (this.reject = r));
          })),
          (this.appInits = H(AA, { optional: !0 }) ?? []));
      }
      runInitializers() {
        if (this.initialized) return;
        let n = [];
        for (let i of this.appInits) {
          let o = i();
          if (Wi(o)) n.push(o);
          else if (Py(o)) {
            let s = new Promise((a, c) => {
              o.subscribe({ complete: a, error: c });
            });
            n.push(s);
          }
        }
        let r = () => {
          ((this.done = !0), this.resolve());
        };
        (Promise.all(n)
          .then(() => {
            r();
          })
          .catch((i) => {
            this.reject(i);
          }),
          n.length === 0 && r(),
          (this.initialized = !0));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })(),
  oa = new X('');
function FU() {
  dC(() => {
    throw new Q(600, !1);
  });
}
function VU(t) {
  return t.isBoundToModule;
}
var LU = 10;
function jU(t, e, n) {
  try {
    let r = n();
    return Wi(r)
      ? r.catch((i) => {
          throw (e.runOutsideAngular(() => t.handleError(i)), i);
        })
      : r;
  } catch (r) {
    throw (e.runOutsideAngular(() => t.handleError(r)), r);
  }
}
var Rr = (() => {
  class t {
    constructor() {
      ((this._bootstrapListeners = []),
        (this._runningTick = !1),
        (this._destroyed = !1),
        (this._destroyListeners = []),
        (this._views = []),
        (this.internalErrorHandler = H(HV)),
        (this.afterRenderManager = H(zj)),
        (this.zonelessEnabled = H(jh)),
        (this.dirtyFlags = 0),
        (this.deferredDirtyFlags = 0),
        (this.externalTestViews = new Set()),
        (this.beforeRender = new Te()),
        (this.afterTick = new Te()),
        (this.componentTypes = []),
        (this.components = []),
        (this.isStable = H(Uo).hasPendingTasks.pipe(ie((n) => !n))),
        (this._injector = H(Pn)));
    }
    get allViews() {
      return [...this.externalTestViews.keys(), ...this._views];
    }
    get destroyed() {
      return this._destroyed;
    }
    whenStable() {
      let n;
      return new Promise((r) => {
        n = this.isStable.subscribe({
          next: (i) => {
            i && r();
          },
        });
      }).finally(() => {
        n.unsubscribe();
      });
    }
    get injector() {
      return this._injector;
    }
    bootstrap(n, r) {
      let i = n instanceof ah;
      if (!this._injector.get(MA).done) {
        let v = !i && Yb(n),
          m = !1;
        throw new Q(405, m);
      }
      let s;
      (i ? (s = n) : (s = this._injector.get(Ui).resolveComponentFactory(n)),
        this.componentTypes.push(s.componentType));
      let a = VU(s) ? void 0 : this._injector.get(Bi),
        c = r || s.selector,
        u = s.create(At.NULL, [], c, a),
        d = u.location.nativeElement,
        p = u.injector.get(SA, null);
      return (
        p?.registerApplication(d),
        u.onDestroy(() => {
          (this.detachView(u.hostView), Ld(this.components, u), p?.unregisterApplication(d));
        }),
        this._loadComponent(u),
        u
      );
    }
    tick() {
      (this.zonelessEnabled || (this.dirtyFlags |= 1), this._tick());
    }
    _tick() {
      if (this._runningTick) throw new Q(101, !1);
      let n = ke(null);
      try {
        ((this._runningTick = !0), this.synchronize());
      } catch (r) {
        this.internalErrorHandler(r);
      } finally {
        ((this._runningTick = !1), ke(n), this.afterTick.next());
      }
    }
    synchronize() {
      let n = null;
      (this._injector.destroyed || (n = this._injector.get(ta, null, { optional: !0 })),
        (this.dirtyFlags |= this.deferredDirtyFlags),
        (this.deferredDirtyFlags = 0));
      let r = 0;
      for (; this.dirtyFlags !== 0 && r++ < LU; ) this.synchronizeOnce(n);
    }
    synchronizeOnce(n) {
      if (
        ((this.dirtyFlags |= this.deferredDirtyFlags),
        (this.deferredDirtyFlags = 0),
        this.dirtyFlags & 7)
      ) {
        let r = !!(this.dirtyFlags & 1);
        ((this.dirtyFlags &= -8), (this.dirtyFlags |= 8), this.beforeRender.next(r));
        for (let { _lView: i, notifyErrorHandler: o } of this._views)
          UU(i, o, r, this.zonelessEnabled);
        if (((this.dirtyFlags &= -5), this.syncDirtyFlagsWithViews(), this.dirtyFlags & 7)) return;
      } else (n?.begin?.(), n?.end?.());
      (this.dirtyFlags & 8 && ((this.dirtyFlags &= -9), this.afterRenderManager.execute()),
        this.syncDirtyFlagsWithViews());
    }
    syncDirtyFlagsWithViews() {
      if (this.allViews.some(({ _lView: n }) => Eh(n))) {
        this.dirtyFlags |= 2;
        return;
      } else this.dirtyFlags &= -8;
    }
    attachView(n) {
      let r = n;
      (this._views.push(r), r.attachToAppRef(this));
    }
    detachView(n) {
      let r = n;
      (Ld(this._views, r), r.detachFromAppRef());
    }
    _loadComponent(n) {
      (this.attachView(n.hostView), this.tick(), this.components.push(n));
      let r = this._injector.get(oa, []);
      [...this._bootstrapListeners, ...r].forEach((i) => i(n));
    }
    ngOnDestroy() {
      if (!this._destroyed)
        try {
          (this._destroyListeners.forEach((n) => n()),
            this._views.slice().forEach((n) => n.destroy()));
        } finally {
          ((this._destroyed = !0),
            (this._views = []),
            (this._bootstrapListeners = []),
            (this._destroyListeners = []));
        }
    }
    onDestroy(n) {
      return (this._destroyListeners.push(n), () => Ld(this._destroyListeners, n));
    }
    destroy() {
      if (this._destroyed) throw new Q(406, !1);
      let n = this._injector;
      n.destroy && !n.destroyed && n.destroy();
    }
    get viewCount() {
      return this._views.length;
    }
    warnIfDestroyed() {}
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
    }
  }
  return t;
})();
function Ld(t, e) {
  let n = t.indexOf(e);
  n > -1 && t.splice(n, 1);
}
var kd;
function zh(t) {
  kd ??= new WeakMap();
  let e = kd.get(t);
  if (e) return e;
  let n = t.isStable
    .pipe(Xn((r) => r))
    .toPromise()
    .then(() => {});
  return (kd.set(t, n), t.onDestroy(() => kd?.delete(t)), n);
}
function UU(t, e, n, r) {
  if (!n && !Eh(t)) return;
  US(t, e, n && !r ? 0 : 1);
}
var Nv = class {
    constructor(e, n) {
      ((this.ngModuleFactory = e), (this.componentFactories = n));
    }
  },
  Oy = (() => {
    class t {
      compileModuleSync(n) {
        return new Tv(n);
      }
      compileModuleAsync(n) {
        return Promise.resolve(this.compileModuleSync(n));
      }
      compileModuleAndAllComponentsSync(n) {
        let r = this.compileModuleSync(n),
          i = Qb(n),
          o = pS(i.declarations).reduce((s, a) => {
            let c = No(a);
            return (c && s.push(new zc(c)), s);
          }, []);
        return new Nv(r, o);
      }
      compileModuleAndAllComponentsAsync(n) {
        return Promise.resolve(this.compileModuleAndAllComponentsSync(n));
      }
      clearCache() {}
      clearCacheFor(n) {}
      getModuleId(n) {}
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })();
var BU = (() => {
    class t {
      constructor() {
        ((this.zone = H(Se)),
          (this.changeDetectionScheduler = H(ea)),
          (this.applicationRef = H(Rr)));
      }
      initialize() {
        this._onMicrotaskEmptySubscription ||
          (this._onMicrotaskEmptySubscription = this.zone.onMicrotaskEmpty.subscribe({
            next: () => {
              this.changeDetectionScheduler.runningTick ||
                this.zone.run(() => {
                  this.applicationRef.tick();
                });
            },
          }));
      }
      ngOnDestroy() {
        this._onMicrotaskEmptySubscription?.unsubscribe();
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })(),
  HU = new X('', { factory: () => !1 });
function xA({ ngZoneFactory: t, ignoreChangesOutsideZone: e, scheduleInRootZone: n }) {
  return (
    (t ??= () => new Se(ve(U({}, NA()), { scheduleInRootZone: n }))),
    [
      { provide: Se, useFactory: t },
      {
        provide: Ro,
        multi: !0,
        useFactory: () => {
          let r = H(BU, { optional: !0 });
          return () => r.initialize();
        },
      },
      {
        provide: Ro,
        multi: !0,
        useFactory: () => {
          let r = H($U);
          return () => {
            r.initialize();
          };
        },
      },
      e === !0 ? { provide: KS, useValue: !0 } : [],
      { provide: YS, useValue: n ?? UT },
    ]
  );
}
function RA(t) {
  let e = t?.ignoreChangesOutsideZone,
    n = t?.scheduleInRootZone,
    r = xA({
      ngZoneFactory: () => {
        let i = NA(t);
        return (
          (i.scheduleInRootZone = n),
          i.shouldCoalesceEventChangeDetection && zi('NgZone_CoalesceEvent'),
          new Se(i)
        );
      },
      ignoreChangesOutsideZone: e,
      scheduleInRootZone: n,
    });
  return _n([{ provide: HU, useValue: !0 }, { provide: jh, useValue: !1 }, r]);
}
function NA(t) {
  return {
    enableLongStackTrace: !1,
    shouldCoalesceEventChangeDetection: t?.eventCoalescing ?? !1,
    shouldCoalesceRunChangeDetection: t?.runCoalescing ?? !1,
  };
}
var $U = (() => {
  class t {
    constructor() {
      ((this.subscription = new it()),
        (this.initialized = !1),
        (this.zone = H(Se)),
        (this.pendingTasks = H(Uo)));
    }
    initialize() {
      if (this.initialized) return;
      this.initialized = !0;
      let n = null;
      (!this.zone.isStable &&
        !this.zone.hasPendingMacrotasks &&
        !this.zone.hasPendingMicrotasks &&
        (n = this.pendingTasks.add()),
        this.zone.runOutsideAngular(() => {
          this.subscription.add(
            this.zone.onStable.subscribe(() => {
              (Se.assertNotInAngularZone(),
                queueMicrotask(() => {
                  n !== null &&
                    !this.zone.hasPendingMacrotasks &&
                    !this.zone.hasPendingMicrotasks &&
                    (this.pendingTasks.remove(n), (n = null));
                }));
            })
          );
        }),
        this.subscription.add(
          this.zone.onUnstable.subscribe(() => {
            (Se.assertInAngularZone(), (n ??= this.pendingTasks.add()));
          })
        ));
    }
    ngOnDestroy() {
      this.subscription.unsubscribe();
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
    }
  }
  return t;
})();
var zU = (() => {
  class t {
    constructor() {
      ((this.appRef = H(Rr)),
        (this.taskService = H(Uo)),
        (this.ngZone = H(Se)),
        (this.zonelessEnabled = H(jh)),
        (this.disableScheduling = H(KS, { optional: !0 }) ?? !1),
        (this.zoneIsDefined = typeof Zone < 'u' && !!Zone.root.run),
        (this.schedulerTickApplyArgs = [{ data: { __scheduler_tick__: !0 } }]),
        (this.subscriptions = new it()),
        (this.angularZoneId = this.zoneIsDefined ? this.ngZone._inner?.get(eh) : null),
        (this.scheduleInRootZone =
          !this.zonelessEnabled && this.zoneIsDefined && (H(YS, { optional: !0 }) ?? !1)),
        (this.cancelScheduledCallback = null),
        (this.useMicrotaskScheduler = !1),
        (this.runningTick = !1),
        (this.pendingRenderTaskId = null),
        this.subscriptions.add(
          this.appRef.afterTick.subscribe(() => {
            this.runningTick || this.cleanup();
          })
        ),
        this.subscriptions.add(
          this.ngZone.onUnstable.subscribe(() => {
            this.runningTick || this.cleanup();
          })
        ),
        (this.disableScheduling ||=
          !this.zonelessEnabled && (this.ngZone instanceof lv || !this.zoneIsDefined)));
    }
    notify(n) {
      if (!this.zonelessEnabled && n === 5) return;
      switch (n) {
        case 0: {
          this.appRef.dirtyFlags |= 2;
          break;
        }
        case 3:
        case 2:
        case 4:
        case 5:
        case 1: {
          this.appRef.dirtyFlags |= 4;
          break;
        }
        case 7: {
          this.appRef.deferredDirtyFlags |= 8;
          break;
        }
        case 9:
        case 8:
        case 6:
        case 10:
        default:
          this.appRef.dirtyFlags |= 8;
      }
      if (!this.shouldScheduleTick()) return;
      let r = this.useMicrotaskScheduler ? nb : HT;
      ((this.pendingRenderTaskId = this.taskService.add()),
        this.scheduleInRootZone
          ? (this.cancelScheduledCallback = Zone.root.run(() => r(() => this.tick())))
          : (this.cancelScheduledCallback = this.ngZone.runOutsideAngular(() =>
              r(() => this.tick())
            )));
    }
    shouldScheduleTick() {
      return !(
        this.disableScheduling ||
        this.pendingRenderTaskId !== null ||
        this.runningTick ||
        this.appRef._runningTick ||
        (!this.zonelessEnabled && this.zoneIsDefined && Zone.current.get(eh + this.angularZoneId))
      );
    }
    tick() {
      if (this.runningTick || this.appRef.destroyed) return;
      !this.zonelessEnabled && this.appRef.dirtyFlags & 7 && (this.appRef.dirtyFlags |= 1);
      let n = this.taskService.add();
      try {
        this.ngZone.run(
          () => {
            ((this.runningTick = !0), this.appRef._tick());
          },
          void 0,
          this.schedulerTickApplyArgs
        );
      } catch (r) {
        throw (this.taskService.remove(n), r);
      } finally {
        this.cleanup();
      }
      ((this.useMicrotaskScheduler = !0),
        nb(() => {
          ((this.useMicrotaskScheduler = !1), this.taskService.remove(n));
        }));
    }
    ngOnDestroy() {
      (this.subscriptions.unsubscribe(), this.cleanup());
    }
    cleanup() {
      if (
        ((this.runningTick = !1),
        this.cancelScheduledCallback?.(),
        (this.cancelScheduledCallback = null),
        this.pendingRenderTaskId !== null)
      ) {
        let n = this.pendingRenderTaskId;
        ((this.pendingRenderTaskId = null), this.taskService.remove(n));
      }
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
    }
  }
  return t;
})();
function WU() {
  return (typeof $localize < 'u' && $localize.locale) || hh;
}
var lr = new X('', {
  providedIn: 'root',
  factory: () => H(lr, Ce.Optional | Ce.SkipSelf) || WU(),
});
var kv = new X('');
function Pd(t) {
  return !t.moduleRef;
}
function qU(t) {
  let e = Pd(t) ? t.r3Injector : t.moduleRef.injector,
    n = e.get(Se);
  return n.run(() => {
    Pd(t) ? t.r3Injector.resolveInjectorInitializers() : t.moduleRef.resolveInjectorInitializers();
    let r = e.get(Jr, null),
      i;
    if (
      (n.runOutsideAngular(() => {
        i = n.onError.subscribe({
          next: (o) => {
            r.handleError(o);
          },
        });
      }),
      Pd(t))
    ) {
      let o = () => e.destroy(),
        s = t.platformInjector.get(kv);
      (s.add(o),
        e.onDestroy(() => {
          (i.unsubscribe(), s.delete(o));
        }));
    } else {
      let o = () => t.moduleRef.destroy(),
        s = t.platformInjector.get(kv);
      (s.add(o),
        t.moduleRef.onDestroy(() => {
          (Ld(t.allPlatformModules, t.moduleRef), i.unsubscribe(), s.delete(o));
        }));
    }
    return jU(r, n, () => {
      let o = e.get(MA);
      return (
        o.runInitializers(),
        o.donePromise.then(() => {
          let s = e.get(lr, hh);
          if ((IU(s || hh), Pd(t))) {
            let a = e.get(Rr);
            return (t.rootComponent !== void 0 && a.bootstrap(t.rootComponent), a);
          } else return (GU(t.moduleRef, t.allPlatformModules), t.moduleRef);
        })
      );
    });
  });
}
function GU(t, e) {
  let n = t.injector.get(Rr);
  if (t._bootstrapComponents.length > 0) t._bootstrapComponents.forEach((r) => n.bootstrap(r));
  else if (t.instance.ngDoBootstrap) t.instance.ngDoBootstrap(n);
  else throw new Q(-403, !1);
  e.push(t);
}
var jd = null;
function KU(t = [], e) {
  return At.create({
    name: e,
    providers: [
      { provide: vh, useValue: 'platform' },
      { provide: kv, useValue: new Set([() => (jd = null)]) },
      ...t,
    ],
  });
}
function YU(t = []) {
  if (jd) return jd;
  let e = KU(t);
  return ((jd = e), FU(), QU(e), e);
}
function QU(t) {
  t.get(oy, null)?.forEach((n) => n());
}
var ur = (() => {
  class t {
    static {
      this.__NG_ELEMENT_ID__ = XU;
    }
  }
  return t;
})();
function XU(t) {
  return ZU(Wt(), De(), (t & 16) === 16);
}
function ZU(t, e, n) {
  if (Xc(t) && !n) {
    let r = Hi(t.index, e);
    return new Fo(r, r);
  } else if (t.type & 175) {
    let r = e[On];
    return new Fo(r, e);
  }
  return null;
}
var Pv = class {
    constructor() {}
    supports(e) {
      return eA(e);
    }
    create(e) {
      return new Ov(e);
    }
  },
  JU = (t, e) => e,
  Ov = class {
    constructor(e) {
      ((this.length = 0),
        (this._linkedRecords = null),
        (this._unlinkedRecords = null),
        (this._previousItHead = null),
        (this._itHead = null),
        (this._itTail = null),
        (this._additionsHead = null),
        (this._additionsTail = null),
        (this._movesHead = null),
        (this._movesTail = null),
        (this._removalsHead = null),
        (this._removalsTail = null),
        (this._identityChangesHead = null),
        (this._identityChangesTail = null),
        (this._trackByFn = e || JU));
    }
    forEachItem(e) {
      let n;
      for (n = this._itHead; n !== null; n = n._next) e(n);
    }
    forEachOperation(e) {
      let n = this._itHead,
        r = this._removalsHead,
        i = 0,
        o = null;
      for (; n || r; ) {
        let s = !r || (n && n.currentIndex < Sb(r, i, o)) ? n : r,
          a = Sb(s, i, o),
          c = s.currentIndex;
        if (s === r) (i--, (r = r._nextRemoved));
        else if (((n = n._next), s.previousIndex == null)) i++;
        else {
          o || (o = []);
          let u = a - i,
            d = c - i;
          if (u != d) {
            for (let v = 0; v < u; v++) {
              let m = v < o.length ? o[v] : (o[v] = 0),
                D = m + v;
              d <= D && D < u && (o[v] = m + 1);
            }
            let p = s.previousIndex;
            o[p] = d - u;
          }
        }
        a !== c && e(s, a, c);
      }
    }
    forEachPreviousItem(e) {
      let n;
      for (n = this._previousItHead; n !== null; n = n._nextPrevious) e(n);
    }
    forEachAddedItem(e) {
      let n;
      for (n = this._additionsHead; n !== null; n = n._nextAdded) e(n);
    }
    forEachMovedItem(e) {
      let n;
      for (n = this._movesHead; n !== null; n = n._nextMoved) e(n);
    }
    forEachRemovedItem(e) {
      let n;
      for (n = this._removalsHead; n !== null; n = n._nextRemoved) e(n);
    }
    forEachIdentityChange(e) {
      let n;
      for (n = this._identityChangesHead; n !== null; n = n._nextIdentityChange) e(n);
    }
    diff(e) {
      if ((e == null && (e = []), !eA(e))) throw new Q(900, !1);
      return this.check(e) ? this : null;
    }
    onDestroy() {}
    check(e) {
      this._reset();
      let n = this._itHead,
        r = !1,
        i,
        o,
        s;
      if (Array.isArray(e)) {
        this.length = e.length;
        for (let a = 0; a < this.length; a++)
          ((o = e[a]),
            (s = this._trackByFn(a, o)),
            n === null || !Object.is(n.trackById, s)
              ? ((n = this._mismatch(n, o, s, a)), (r = !0))
              : (r && (n = this._verifyReinsertion(n, o, s, a)),
                Object.is(n.item, o) || this._addIdentityChange(n, o)),
            (n = n._next));
      } else
        ((i = 0),
          jj(e, (a) => {
            ((s = this._trackByFn(i, a)),
              n === null || !Object.is(n.trackById, s)
                ? ((n = this._mismatch(n, a, s, i)), (r = !0))
                : (r && (n = this._verifyReinsertion(n, a, s, i)),
                  Object.is(n.item, a) || this._addIdentityChange(n, a)),
              (n = n._next),
              i++);
          }),
          (this.length = i));
      return (this._truncate(n), (this.collection = e), this.isDirty);
    }
    get isDirty() {
      return (
        this._additionsHead !== null ||
        this._movesHead !== null ||
        this._removalsHead !== null ||
        this._identityChangesHead !== null
      );
    }
    _reset() {
      if (this.isDirty) {
        let e;
        for (e = this._previousItHead = this._itHead; e !== null; e = e._next)
          e._nextPrevious = e._next;
        for (e = this._additionsHead; e !== null; e = e._nextAdded)
          e.previousIndex = e.currentIndex;
        for (
          this._additionsHead = this._additionsTail = null, e = this._movesHead;
          e !== null;
          e = e._nextMoved
        )
          e.previousIndex = e.currentIndex;
        ((this._movesHead = this._movesTail = null),
          (this._removalsHead = this._removalsTail = null),
          (this._identityChangesHead = this._identityChangesTail = null));
      }
    }
    _mismatch(e, n, r, i) {
      let o;
      return (
        e === null ? (o = this._itTail) : ((o = e._prev), this._remove(e)),
        (e = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(r, null)),
        e !== null
          ? (Object.is(e.item, n) || this._addIdentityChange(e, n), this._reinsertAfter(e, o, i))
          : ((e = this._linkedRecords === null ? null : this._linkedRecords.get(r, i)),
            e !== null
              ? (Object.is(e.item, n) || this._addIdentityChange(e, n), this._moveAfter(e, o, i))
              : (e = this._addAfter(new Fv(n, r), o, i))),
        e
      );
    }
    _verifyReinsertion(e, n, r, i) {
      let o = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(r, null);
      return (
        o !== null
          ? (e = this._reinsertAfter(o, e._prev, i))
          : e.currentIndex != i && ((e.currentIndex = i), this._addToMoves(e, i)),
        e
      );
    }
    _truncate(e) {
      for (; e !== null; ) {
        let n = e._next;
        (this._addToRemovals(this._unlink(e)), (e = n));
      }
      (this._unlinkedRecords !== null && this._unlinkedRecords.clear(),
        this._additionsTail !== null && (this._additionsTail._nextAdded = null),
        this._movesTail !== null && (this._movesTail._nextMoved = null),
        this._itTail !== null && (this._itTail._next = null),
        this._removalsTail !== null && (this._removalsTail._nextRemoved = null),
        this._identityChangesTail !== null &&
          (this._identityChangesTail._nextIdentityChange = null));
    }
    _reinsertAfter(e, n, r) {
      this._unlinkedRecords !== null && this._unlinkedRecords.remove(e);
      let i = e._prevRemoved,
        o = e._nextRemoved;
      return (
        i === null ? (this._removalsHead = o) : (i._nextRemoved = o),
        o === null ? (this._removalsTail = i) : (o._prevRemoved = i),
        this._insertAfter(e, n, r),
        this._addToMoves(e, r),
        e
      );
    }
    _moveAfter(e, n, r) {
      return (this._unlink(e), this._insertAfter(e, n, r), this._addToMoves(e, r), e);
    }
    _addAfter(e, n, r) {
      return (
        this._insertAfter(e, n, r),
        this._additionsTail === null
          ? (this._additionsTail = this._additionsHead = e)
          : (this._additionsTail = this._additionsTail._nextAdded = e),
        e
      );
    }
    _insertAfter(e, n, r) {
      let i = n === null ? this._itHead : n._next;
      return (
        (e._next = i),
        (e._prev = n),
        i === null ? (this._itTail = e) : (i._prev = e),
        n === null ? (this._itHead = e) : (n._next = e),
        this._linkedRecords === null && (this._linkedRecords = new fh()),
        this._linkedRecords.put(e),
        (e.currentIndex = r),
        e
      );
    }
    _remove(e) {
      return this._addToRemovals(this._unlink(e));
    }
    _unlink(e) {
      this._linkedRecords !== null && this._linkedRecords.remove(e);
      let n = e._prev,
        r = e._next;
      return (
        n === null ? (this._itHead = r) : (n._next = r),
        r === null ? (this._itTail = n) : (r._prev = n),
        e
      );
    }
    _addToMoves(e, n) {
      return (
        e.previousIndex === n ||
          (this._movesTail === null
            ? (this._movesTail = this._movesHead = e)
            : (this._movesTail = this._movesTail._nextMoved = e)),
        e
      );
    }
    _addToRemovals(e) {
      return (
        this._unlinkedRecords === null && (this._unlinkedRecords = new fh()),
        this._unlinkedRecords.put(e),
        (e.currentIndex = null),
        (e._nextRemoved = null),
        this._removalsTail === null
          ? ((this._removalsTail = this._removalsHead = e), (e._prevRemoved = null))
          : ((e._prevRemoved = this._removalsTail),
            (this._removalsTail = this._removalsTail._nextRemoved = e)),
        e
      );
    }
    _addIdentityChange(e, n) {
      return (
        (e.item = n),
        this._identityChangesTail === null
          ? (this._identityChangesTail = this._identityChangesHead = e)
          : (this._identityChangesTail = this._identityChangesTail._nextIdentityChange = e),
        e
      );
    }
  },
  Fv = class {
    constructor(e, n) {
      ((this.item = e),
        (this.trackById = n),
        (this.currentIndex = null),
        (this.previousIndex = null),
        (this._nextPrevious = null),
        (this._prev = null),
        (this._next = null),
        (this._prevDup = null),
        (this._nextDup = null),
        (this._prevRemoved = null),
        (this._nextRemoved = null),
        (this._nextAdded = null),
        (this._nextMoved = null),
        (this._nextIdentityChange = null));
    }
  },
  Vv = class {
    constructor() {
      ((this._head = null), (this._tail = null));
    }
    add(e) {
      this._head === null
        ? ((this._head = this._tail = e), (e._nextDup = null), (e._prevDup = null))
        : ((this._tail._nextDup = e),
          (e._prevDup = this._tail),
          (e._nextDup = null),
          (this._tail = e));
    }
    get(e, n) {
      let r;
      for (r = this._head; r !== null; r = r._nextDup)
        if ((n === null || n <= r.currentIndex) && Object.is(r.trackById, e)) return r;
      return null;
    }
    remove(e) {
      let n = e._prevDup,
        r = e._nextDup;
      return (
        n === null ? (this._head = r) : (n._nextDup = r),
        r === null ? (this._tail = n) : (r._prevDup = n),
        this._head === null
      );
    }
  },
  fh = class {
    constructor() {
      this.map = new Map();
    }
    put(e) {
      let n = e.trackById,
        r = this.map.get(n);
      (r || ((r = new Vv()), this.map.set(n, r)), r.add(e));
    }
    get(e, n) {
      let r = e,
        i = this.map.get(r);
      return i ? i.get(e, n) : null;
    }
    remove(e) {
      let n = e.trackById;
      return (this.map.get(n).remove(e) && this.map.delete(n), e);
    }
    get isEmpty() {
      return this.map.size === 0;
    }
    clear() {
      this.map.clear();
    }
  };
function Sb(t, e, n) {
  let r = t.previousIndex;
  if (r === null) return r;
  let i = 0;
  return (n && r < n.length && (i = n[r]), r + e + i);
}
var Lv = class {
    constructor() {}
    supports(e) {
      return e instanceof Map || Ay(e);
    }
    create() {
      return new jv();
    }
  },
  jv = class {
    constructor() {
      ((this._records = new Map()),
        (this._mapHead = null),
        (this._appendAfter = null),
        (this._previousMapHead = null),
        (this._changesHead = null),
        (this._changesTail = null),
        (this._additionsHead = null),
        (this._additionsTail = null),
        (this._removalsHead = null),
        (this._removalsTail = null));
    }
    get isDirty() {
      return (
        this._additionsHead !== null || this._changesHead !== null || this._removalsHead !== null
      );
    }
    forEachItem(e) {
      let n;
      for (n = this._mapHead; n !== null; n = n._next) e(n);
    }
    forEachPreviousItem(e) {
      let n;
      for (n = this._previousMapHead; n !== null; n = n._nextPrevious) e(n);
    }
    forEachChangedItem(e) {
      let n;
      for (n = this._changesHead; n !== null; n = n._nextChanged) e(n);
    }
    forEachAddedItem(e) {
      let n;
      for (n = this._additionsHead; n !== null; n = n._nextAdded) e(n);
    }
    forEachRemovedItem(e) {
      let n;
      for (n = this._removalsHead; n !== null; n = n._nextRemoved) e(n);
    }
    diff(e) {
      if (!e) e = new Map();
      else if (!(e instanceof Map || Ay(e))) throw new Q(900, !1);
      return this.check(e) ? this : null;
    }
    onDestroy() {}
    check(e) {
      this._reset();
      let n = this._mapHead;
      if (
        ((this._appendAfter = null),
        this._forEach(e, (r, i) => {
          if (n && n.key === i)
            (this._maybeAddToChanges(n, r), (this._appendAfter = n), (n = n._next));
          else {
            let o = this._getOrCreateRecordForKey(i, r);
            n = this._insertBeforeOrAppend(n, o);
          }
        }),
        n)
      ) {
        (n._prev && (n._prev._next = null), (this._removalsHead = n));
        for (let r = n; r !== null; r = r._nextRemoved)
          (r === this._mapHead && (this._mapHead = null),
            this._records.delete(r.key),
            (r._nextRemoved = r._next),
            (r.previousValue = r.currentValue),
            (r.currentValue = null),
            (r._prev = null),
            (r._next = null));
      }
      return (
        this._changesTail && (this._changesTail._nextChanged = null),
        this._additionsTail && (this._additionsTail._nextAdded = null),
        this.isDirty
      );
    }
    _insertBeforeOrAppend(e, n) {
      if (e) {
        let r = e._prev;
        return (
          (n._next = e),
          (n._prev = r),
          (e._prev = n),
          r && (r._next = n),
          e === this._mapHead && (this._mapHead = n),
          (this._appendAfter = e),
          e
        );
      }
      return (
        this._appendAfter
          ? ((this._appendAfter._next = n), (n._prev = this._appendAfter))
          : (this._mapHead = n),
        (this._appendAfter = n),
        null
      );
    }
    _getOrCreateRecordForKey(e, n) {
      if (this._records.has(e)) {
        let i = this._records.get(e);
        this._maybeAddToChanges(i, n);
        let o = i._prev,
          s = i._next;
        return (o && (o._next = s), s && (s._prev = o), (i._next = null), (i._prev = null), i);
      }
      let r = new Uv(e);
      return (this._records.set(e, r), (r.currentValue = n), this._addToAdditions(r), r);
    }
    _reset() {
      if (this.isDirty) {
        let e;
        for (
          this._previousMapHead = this._mapHead, e = this._previousMapHead;
          e !== null;
          e = e._next
        )
          e._nextPrevious = e._next;
        for (e = this._changesHead; e !== null; e = e._nextChanged)
          e.previousValue = e.currentValue;
        for (e = this._additionsHead; e != null; e = e._nextAdded) e.previousValue = e.currentValue;
        ((this._changesHead = this._changesTail = null),
          (this._additionsHead = this._additionsTail = null),
          (this._removalsHead = null));
      }
    }
    _maybeAddToChanges(e, n) {
      Object.is(n, e.currentValue) ||
        ((e.previousValue = e.currentValue), (e.currentValue = n), this._addToChanges(e));
    }
    _addToAdditions(e) {
      this._additionsHead === null
        ? (this._additionsHead = this._additionsTail = e)
        : ((this._additionsTail._nextAdded = e), (this._additionsTail = e));
    }
    _addToChanges(e) {
      this._changesHead === null
        ? (this._changesHead = this._changesTail = e)
        : ((this._changesTail._nextChanged = e), (this._changesTail = e));
    }
    _forEach(e, n) {
      e instanceof Map ? e.forEach(n) : Object.keys(e).forEach((r) => n(e[r], r));
    }
  },
  Uv = class {
    constructor(e) {
      ((this.key = e),
        (this.previousValue = null),
        (this.currentValue = null),
        (this._nextPrevious = null),
        (this._next = null),
        (this._prev = null),
        (this._nextAdded = null),
        (this._nextRemoved = null),
        (this._nextChanged = null));
    }
  };
function Ab() {
  return new Fy([new Pv()]);
}
var Fy = (() => {
  class t {
    static {
      this.ɵprov = G({ token: t, providedIn: 'root', factory: Ab });
    }
    constructor(n) {
      this.factories = n;
    }
    static create(n, r) {
      if (r != null) {
        let i = r.factories.slice();
        n = n.concat(i);
      }
      return new t(n);
    }
    static extend(n) {
      return {
        provide: t,
        useFactory: (r) => t.create(n, r || Ab()),
        deps: [[t, new Hv(), new $t()]],
      };
    }
    find(n) {
      let r = this.factories.find((i) => i.supports(n));
      if (r != null) return r;
      throw new Q(901, !1);
    }
  }
  return t;
})();
function Mb() {
  return new Vy([new Lv()]);
}
var Vy = (() => {
  class t {
    static {
      this.ɵprov = G({ token: t, providedIn: 'root', factory: Mb });
    }
    constructor(n) {
      this.factories = n;
    }
    static create(n, r) {
      if (r) {
        let i = r.factories.slice();
        n = n.concat(i);
      }
      return new t(n);
    }
    static extend(n) {
      return {
        provide: t,
        useFactory: (r) => t.create(n, r || Mb()),
        deps: [[t, new Hv(), new $t()]],
      };
    }
    find(n) {
      let r = this.factories.find((i) => i.supports(n));
      if (r) return r;
      throw new Q(901, !1);
    }
  }
  return t;
})();
function kA(t) {
  try {
    let { rootComponent: e, appProviders: n, platformProviders: r } = t,
      i = YU(r),
      o = [xA({}), { provide: ea, useExisting: zU }, ...(n || [])],
      s = new uh({
        providers: o,
        parent: i,
        debugName: '',
        runEnvironmentInitializers: !1,
      });
    return qU({
      r3Injector: s.injector,
      platformInjector: i,
      rootComponent: e,
    });
  } catch (e) {
    return Promise.reject(e);
  }
}
var xb = !1;
function eB() {
  xb || ((xb = !0), sL(), pU(), SU(), vU(), $j(), xj(), uj(), c2());
}
function tB(t, e) {
  return zh(t);
}
function PA() {
  return _n([
    {
      provide: Td,
      useFactory: () => {
        let t = !0;
        return (xd() && (t = !!H(ia, { optional: !0 })?.get(tS, null)), t && zi('NgHydration'), t);
      },
    },
    {
      provide: Ro,
      useValue: () => {
        (rj(!1), xd() && H(Td) && (nB(), eB()));
      },
      multi: !0,
    },
    { provide: oS, useFactory: () => xd() && H(Td) },
    {
      provide: oa,
      useFactory: () => {
        if (xd() && H(Td)) {
          let t = H(Rr),
            e = H(At);
          return () => {
            tB(t, e).then(() => {
              aj(t);
            });
          };
        }
        return () => {};
      },
      multi: !0,
    },
  ]);
}
function nB() {
  let t = el(),
    e;
  for (let n of t.body.childNodes)
    if (n.nodeType === Node.COMMENT_NODE && n.textContent?.trim() === iL) {
      e = n;
      break;
    }
  if (!e) throw new Q(-507, !1);
}
function qi(t) {
  return typeof t == 'boolean' ? t : t != null && t !== 'false';
}
function zo(t, e) {
  zi('NgSignals');
  let n = cC(t);
  return (e?.equal && (n[Kr].equal = e.equal), n);
}
function dr(t) {
  let e = ke(null);
  try {
    return t();
  } finally {
    ke(e);
  }
}
var BA = null;
function ci() {
  return BA;
}
function HA(t) {
  BA ??= t;
}
var Jh = class {};
var xt = new X(''),
  $A = (() => {
    class t {
      historyGo(n) {
        throw new Error('');
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({
          token: t,
          factory: () => H(rB),
          providedIn: 'platform',
        });
      }
    }
    return t;
  })();
var rB = (() => {
  class t extends $A {
    constructor() {
      (super(),
        (this._doc = H(xt)),
        (this._location = window.location),
        (this._history = window.history));
    }
    getBaseHrefFromDOM() {
      return ci().getBaseHref(this._doc);
    }
    onPopState(n) {
      let r = ci().getGlobalEventTarget(this._doc, 'window');
      return (r.addEventListener('popstate', n, !1), () => r.removeEventListener('popstate', n));
    }
    onHashChange(n) {
      let r = ci().getGlobalEventTarget(this._doc, 'window');
      return (
        r.addEventListener('hashchange', n, !1),
        () => r.removeEventListener('hashchange', n)
      );
    }
    get href() {
      return this._location.href;
    }
    get protocol() {
      return this._location.protocol;
    }
    get hostname() {
      return this._location.hostname;
    }
    get port() {
      return this._location.port;
    }
    get pathname() {
      return this._location.pathname;
    }
    get search() {
      return this._location.search;
    }
    get hash() {
      return this._location.hash;
    }
    set pathname(n) {
      this._location.pathname = n;
    }
    pushState(n, r, i) {
      this._history.pushState(n, r, i);
    }
    replaceState(n, r, i) {
      this._history.replaceState(n, r, i);
    }
    forward() {
      this._history.forward();
    }
    back() {
      this._history.back();
    }
    historyGo(n = 0) {
      this._history.go(n);
    }
    getState() {
      return this._history.state;
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵprov = G({
        token: t,
        factory: () => new t(),
        providedIn: 'platform',
      });
    }
  }
  return t;
})();
function zA(t, e) {
  if (t.length == 0) return e;
  if (e.length == 0) return t;
  let n = 0;
  return (
    t.endsWith('/') && n++,
    e.startsWith('/') && n++,
    n == 2 ? t + e.substring(1) : n == 1 ? t + e : t + '/' + e
  );
}
function OA(t) {
  let e = t.match(/#|\?|$/),
    n = (e && e.index) || t.length,
    r = n - (t[n - 1] === '/' ? 1 : 0);
  return t.slice(0, r) + t.slice(n);
}
function Wo(t) {
  return t && t[0] !== '?' ? '?' + t : t;
}
var aa = (() => {
    class t {
      historyGo(n) {
        throw new Error('');
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: () => H(WA), providedIn: 'root' });
      }
    }
    return t;
  })(),
  iB = new X(''),
  WA = (() => {
    class t extends aa {
      constructor(n, r) {
        (super(),
          (this._platformLocation = n),
          (this._removeListenerFns = []),
          (this._baseHref =
            r ?? this._platformLocation.getBaseHrefFromDOM() ?? H(xt).location?.origin ?? ''));
      }
      ngOnDestroy() {
        for (; this._removeListenerFns.length; ) this._removeListenerFns.pop()();
      }
      onPopState(n) {
        this._removeListenerFns.push(
          this._platformLocation.onPopState(n),
          this._platformLocation.onHashChange(n)
        );
      }
      getBaseHref() {
        return this._baseHref;
      }
      prepareExternalUrl(n) {
        return zA(this._baseHref, n);
      }
      path(n = !1) {
        let r = this._platformLocation.pathname + Wo(this._platformLocation.search),
          i = this._platformLocation.hash;
        return i && n ? `${r}${i}` : r;
      }
      pushState(n, r, i, o) {
        let s = this.prepareExternalUrl(i + Wo(o));
        this._platformLocation.pushState(n, r, s);
      }
      replaceState(n, r, i, o) {
        let s = this.prepareExternalUrl(i + Wo(o));
        this._platformLocation.replaceState(n, r, s);
      }
      forward() {
        this._platformLocation.forward();
      }
      back() {
        this._platformLocation.back();
      }
      getState() {
        return this._platformLocation.getState();
      }
      historyGo(n = 0) {
        this._platformLocation.historyGo?.(n);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le($A), le(iB, 8));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })();
var al = (() => {
  class t {
    constructor(n) {
      ((this._subject = new K()),
        (this._urlChangeListeners = []),
        (this._urlChangeSubscription = null),
        (this._locationStrategy = n));
      let r = this._locationStrategy.getBaseHref();
      ((this._basePath = aB(OA(FA(r)))),
        this._locationStrategy.onPopState((i) => {
          this._subject.emit({
            url: this.path(!0),
            pop: !0,
            state: i.state,
            type: i.type,
          });
        }));
    }
    ngOnDestroy() {
      (this._urlChangeSubscription?.unsubscribe(), (this._urlChangeListeners = []));
    }
    path(n = !1) {
      return this.normalize(this._locationStrategy.path(n));
    }
    getState() {
      return this._locationStrategy.getState();
    }
    isCurrentPathEqualTo(n, r = '') {
      return this.path() == this.normalize(n + Wo(r));
    }
    normalize(n) {
      return t.stripTrailingSlash(sB(this._basePath, FA(n)));
    }
    prepareExternalUrl(n) {
      return (n && n[0] !== '/' && (n = '/' + n), this._locationStrategy.prepareExternalUrl(n));
    }
    go(n, r = '', i = null) {
      (this._locationStrategy.pushState(i, '', n, r),
        this._notifyUrlChangeListeners(this.prepareExternalUrl(n + Wo(r)), i));
    }
    replaceState(n, r = '', i = null) {
      (this._locationStrategy.replaceState(i, '', n, r),
        this._notifyUrlChangeListeners(this.prepareExternalUrl(n + Wo(r)), i));
    }
    forward() {
      this._locationStrategy.forward();
    }
    back() {
      this._locationStrategy.back();
    }
    historyGo(n = 0) {
      this._locationStrategy.historyGo?.(n);
    }
    onUrlChange(n) {
      return (
        this._urlChangeListeners.push(n),
        (this._urlChangeSubscription ??= this.subscribe((r) => {
          this._notifyUrlChangeListeners(r.url, r.state);
        })),
        () => {
          let r = this._urlChangeListeners.indexOf(n);
          (this._urlChangeListeners.splice(r, 1),
            this._urlChangeListeners.length === 0 &&
              (this._urlChangeSubscription?.unsubscribe(), (this._urlChangeSubscription = null)));
        }
      );
    }
    _notifyUrlChangeListeners(n = '', r) {
      this._urlChangeListeners.forEach((i) => i(n, r));
    }
    subscribe(n, r, i) {
      return this._subject.subscribe({ next: n, error: r, complete: i });
    }
    static {
      this.normalizeQueryParams = Wo;
    }
    static {
      this.joinWithSlash = zA;
    }
    static {
      this.stripTrailingSlash = OA;
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)(le(aa));
      };
    }
    static {
      this.ɵprov = G({ token: t, factory: () => oB(), providedIn: 'root' });
    }
  }
  return t;
})();
function oB() {
  return new al(le(aa));
}
function sB(t, e) {
  if (!t || !e.startsWith(t)) return e;
  let n = e.substring(t.length);
  return n === '' || ['/', ';', '?', '#'].includes(n[0]) ? n : e;
}
function FA(t) {
  return t.replace(/\/index.html$/, '');
}
function aB(t) {
  if (new RegExp('^(https?:)?//').test(t)) {
    let [, n] = t.split(/\/\/[^\/]+/);
    return n;
  }
  return t;
}
var sa = (function (t) {
    return (
      (t[(t.Zero = 0)] = 'Zero'),
      (t[(t.One = 1)] = 'One'),
      (t[(t.Two = 2)] = 'Two'),
      (t[(t.Few = 3)] = 'Few'),
      (t[(t.Many = 4)] = 'Many'),
      (t[(t.Other = 5)] = 'Other'),
      t
    );
  })(sa || {}),
  an = (function (t) {
    return ((t[(t.Format = 0)] = 'Format'), (t[(t.Standalone = 1)] = 'Standalone'), t);
  })(an || {}),
  ze = (function (t) {
    return (
      (t[(t.Narrow = 0)] = 'Narrow'),
      (t[(t.Abbreviated = 1)] = 'Abbreviated'),
      (t[(t.Wide = 2)] = 'Wide'),
      (t[(t.Short = 3)] = 'Short'),
      t
    );
  })(ze || {}),
  Cn = (function (t) {
    return (
      (t[(t.Short = 0)] = 'Short'),
      (t[(t.Medium = 1)] = 'Medium'),
      (t[(t.Long = 2)] = 'Long'),
      (t[(t.Full = 3)] = 'Full'),
      t
    );
  })(Cn || {}),
  Gi = {
    Decimal: 0,
    Group: 1,
    List: 2,
    PercentSign: 3,
    PlusSign: 4,
    MinusSign: 5,
    Exponential: 6,
    SuperscriptingExponent: 7,
    PerMille: 8,
    Infinity: 9,
    NaN: 10,
    TimeSeparator: 11,
    CurrencyDecimal: 12,
    CurrencyGroup: 13,
  };
function cB(t) {
  return En(t)[st.LocaleId];
}
function lB(t, e, n) {
  let r = En(t),
    i = [r[st.DayPeriodsFormat], r[st.DayPeriodsStandalone]],
    o = Un(i, e);
  return Un(o, n);
}
function uB(t, e, n) {
  let r = En(t),
    i = [r[st.DaysFormat], r[st.DaysStandalone]],
    o = Un(i, e);
  return Un(o, n);
}
function dB(t, e, n) {
  let r = En(t),
    i = [r[st.MonthsFormat], r[st.MonthsStandalone]],
    o = Un(i, e);
  return Un(o, n);
}
function hB(t, e) {
  let r = En(t)[st.Eras];
  return Un(r, e);
}
function Wh(t, e) {
  let n = En(t);
  return Un(n[st.DateFormat], e);
}
function qh(t, e) {
  let n = En(t);
  return Un(n[st.TimeFormat], e);
}
function Gh(t, e) {
  let r = En(t)[st.DateTimeFormat];
  return Un(r, e);
}
function nf(t, e) {
  let n = En(t),
    r = n[st.NumberSymbols][e];
  if (typeof r > 'u') {
    if (e === Gi.CurrencyDecimal) return n[st.NumberSymbols][Gi.Decimal];
    if (e === Gi.CurrencyGroup) return n[st.NumberSymbols][Gi.Group];
  }
  return r;
}
var fB = gA;
function qA(t) {
  if (!t[st.ExtraData])
    throw new Error(
      `Missing extra locale data for the locale "${t[st.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`
    );
}
function pB(t) {
  let e = En(t);
  return (
    qA(e),
    (e[st.ExtraData][2] || []).map((r) => (typeof r == 'string' ? Ly(r) : [Ly(r[0]), Ly(r[1])]))
  );
}
function mB(t, e, n) {
  let r = En(t);
  qA(r);
  let i = [r[st.ExtraData][0], r[st.ExtraData][1]],
    o = Un(i, e) || [];
  return Un(o, n) || [];
}
function Un(t, e) {
  for (let n = e; n > -1; n--) if (typeof t[n] < 'u') return t[n];
  throw new Error('Locale data API: locale data undefined');
}
function Ly(t) {
  let [e, n] = t.split(':');
  return { hours: +e, minutes: +n };
}
var gB =
    /^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,
  Kh = {},
  vB =
    /((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,
  ai = (function (t) {
    return (
      (t[(t.Short = 0)] = 'Short'),
      (t[(t.ShortGMT = 1)] = 'ShortGMT'),
      (t[(t.Long = 2)] = 'Long'),
      (t[(t.Extended = 3)] = 'Extended'),
      t
    );
  })(ai || {}),
  Le = (function (t) {
    return (
      (t[(t.FullYear = 0)] = 'FullYear'),
      (t[(t.Month = 1)] = 'Month'),
      (t[(t.Date = 2)] = 'Date'),
      (t[(t.Hours = 3)] = 'Hours'),
      (t[(t.Minutes = 4)] = 'Minutes'),
      (t[(t.Seconds = 5)] = 'Seconds'),
      (t[(t.FractionalSeconds = 6)] = 'FractionalSeconds'),
      (t[(t.Day = 7)] = 'Day'),
      t
    );
  })(Le || {}),
  Ve = (function (t) {
    return (
      (t[(t.DayPeriods = 0)] = 'DayPeriods'),
      (t[(t.Days = 1)] = 'Days'),
      (t[(t.Months = 2)] = 'Months'),
      (t[(t.Eras = 3)] = 'Eras'),
      t
    );
  })(Ve || {});
function vt(t, e, n, r) {
  let i = TB(t);
  e = si(n, e) || e;
  let s = [],
    a;
  for (; e; )
    if (((a = vB.exec(e)), a)) {
      s = s.concat(a.slice(1));
      let d = s.pop();
      if (!d) break;
      e = d;
    } else {
      s.push(e);
      break;
    }
  let c = i.getTimezoneOffset();
  r && ((c = KA(r, c)), (i = bB(i, r, !0)));
  let u = '';
  return (
    s.forEach((d) => {
      let p = DB(d);
      u += p ? p(i, n, c) : d === "''" ? "'" : d.replace(/(^'|'$)/g, '').replace(/''/g, "'");
    }),
    u
  );
}
function ef(t, e, n) {
  let r = new Date(0);
  return (r.setFullYear(t, e, n), r.setHours(0, 0, 0), r);
}
function si(t, e) {
  let n = cB(t);
  if (((Kh[n] ??= {}), Kh[n][e])) return Kh[n][e];
  let r = '';
  switch (e) {
    case 'shortDate':
      r = Wh(t, Cn.Short);
      break;
    case 'mediumDate':
      r = Wh(t, Cn.Medium);
      break;
    case 'longDate':
      r = Wh(t, Cn.Long);
      break;
    case 'fullDate':
      r = Wh(t, Cn.Full);
      break;
    case 'shortTime':
      r = qh(t, Cn.Short);
      break;
    case 'mediumTime':
      r = qh(t, Cn.Medium);
      break;
    case 'longTime':
      r = qh(t, Cn.Long);
      break;
    case 'fullTime':
      r = qh(t, Cn.Full);
      break;
    case 'short':
      let i = si(t, 'shortTime'),
        o = si(t, 'shortDate');
      r = Yh(Gh(t, Cn.Short), [i, o]);
      break;
    case 'medium':
      let s = si(t, 'mediumTime'),
        a = si(t, 'mediumDate');
      r = Yh(Gh(t, Cn.Medium), [s, a]);
      break;
    case 'long':
      let c = si(t, 'longTime'),
        u = si(t, 'longDate');
      r = Yh(Gh(t, Cn.Long), [c, u]);
      break;
    case 'full':
      let d = si(t, 'fullTime'),
        p = si(t, 'fullDate');
      r = Yh(Gh(t, Cn.Full), [d, p]);
      break;
  }
  return (r && (Kh[n][e] = r), r);
}
function Yh(t, e) {
  return (
    e &&
      (t = t.replace(/\{([^}]+)}/g, function (n, r) {
        return e != null && r in e ? e[r] : n;
      })),
    t
  );
}
function hr(t, e, n = '-', r, i) {
  let o = '';
  (t < 0 || (i && t <= 0)) && (i ? (t = -t + 1) : ((t = -t), (o = n)));
  let s = String(t);
  for (; s.length < e; ) s = '0' + s;
  return (r && (s = s.slice(s.length - e)), o + s);
}
function yB(t, e) {
  return hr(t, 3).substring(0, e);
}
function gt(t, e, n = 0, r = !1, i = !1) {
  return function (o, s) {
    let a = _B(t, o);
    if (((n > 0 || a > -n) && (a += n), t === Le.Hours)) a === 0 && n === -12 && (a = 12);
    else if (t === Le.FractionalSeconds) return yB(a, e);
    let c = nf(s, Gi.MinusSign);
    return hr(a, e, c, r, i);
  };
}
function _B(t, e) {
  switch (t) {
    case Le.FullYear:
      return e.getFullYear();
    case Le.Month:
      return e.getMonth();
    case Le.Date:
      return e.getDate();
    case Le.Hours:
      return e.getHours();
    case Le.Minutes:
      return e.getMinutes();
    case Le.Seconds:
      return e.getSeconds();
    case Le.FractionalSeconds:
      return e.getMilliseconds();
    case Le.Day:
      return e.getDay();
    default:
      throw new Error(`Unknown DateType value "${t}".`);
  }
}
function qe(t, e, n = an.Format, r = !1) {
  return function (i, o) {
    return wB(i, o, t, e, n, r);
  };
}
function wB(t, e, n, r, i, o) {
  switch (n) {
    case Ve.Months:
      return dB(e, i, r)[t.getMonth()];
    case Ve.Days:
      return uB(e, i, r)[t.getDay()];
    case Ve.DayPeriods:
      let s = t.getHours(),
        a = t.getMinutes();
      if (o) {
        let u = pB(e),
          d = mB(e, i, r),
          p = u.findIndex((v) => {
            if (Array.isArray(v)) {
              let [m, D] = v,
                M = s >= m.hours && a >= m.minutes,
                A = s < D.hours || (s === D.hours && a < D.minutes);
              if (m.hours < D.hours) {
                if (M && A) return !0;
              } else if (M || A) return !0;
            } else if (v.hours === s && v.minutes === a) return !0;
            return !1;
          });
        if (p !== -1) return d[p];
      }
      return lB(e, i, r)[s < 12 ? 0 : 1];
    case Ve.Eras:
      return hB(e, r)[t.getFullYear() <= 0 ? 0 : 1];
    default:
      let c = n;
      throw new Error(`unexpected translation type ${c}`);
  }
}
function Qh(t) {
  return function (e, n, r) {
    let i = -1 * r,
      o = nf(n, Gi.MinusSign),
      s = i > 0 ? Math.floor(i / 60) : Math.ceil(i / 60);
    switch (t) {
      case ai.Short:
        return (i >= 0 ? '+' : '') + hr(s, 2, o) + hr(Math.abs(i % 60), 2, o);
      case ai.ShortGMT:
        return 'GMT' + (i >= 0 ? '+' : '') + hr(s, 1, o);
      case ai.Long:
        return 'GMT' + (i >= 0 ? '+' : '') + hr(s, 2, o) + ':' + hr(Math.abs(i % 60), 2, o);
      case ai.Extended:
        return r === 0 ? 'Z' : (i >= 0 ? '+' : '') + hr(s, 2, o) + ':' + hr(Math.abs(i % 60), 2, o);
      default:
        throw new Error(`Unknown zone width "${t}"`);
    }
  };
}
var EB = 0,
  Zh = 4;
function IB(t) {
  let e = ef(t, EB, 1).getDay();
  return ef(t, 0, 1 + (e <= Zh ? Zh : Zh + 7) - e);
}
function GA(t) {
  let e = t.getDay(),
    n = e === 0 ? -3 : Zh - e;
  return ef(t.getFullYear(), t.getMonth(), t.getDate() + n);
}
function jy(t, e = !1) {
  return function (n, r) {
    let i;
    if (e) {
      let o = new Date(n.getFullYear(), n.getMonth(), 1).getDay() - 1,
        s = n.getDate();
      i = 1 + Math.floor((s + o) / 7);
    } else {
      let o = GA(n),
        s = IB(o.getFullYear()),
        a = o.getTime() - s.getTime();
      i = 1 + Math.round(a / 6048e5);
    }
    return hr(i, t, nf(r, Gi.MinusSign));
  };
}
function Xh(t, e = !1) {
  return function (n, r) {
    let o = GA(n).getFullYear();
    return hr(o, t, nf(r, Gi.MinusSign), e);
  };
}
var Uy = {};
function DB(t) {
  if (Uy[t]) return Uy[t];
  let e;
  switch (t) {
    case 'G':
    case 'GG':
    case 'GGG':
      e = qe(Ve.Eras, ze.Abbreviated);
      break;
    case 'GGGG':
      e = qe(Ve.Eras, ze.Wide);
      break;
    case 'GGGGG':
      e = qe(Ve.Eras, ze.Narrow);
      break;
    case 'y':
      e = gt(Le.FullYear, 1, 0, !1, !0);
      break;
    case 'yy':
      e = gt(Le.FullYear, 2, 0, !0, !0);
      break;
    case 'yyy':
      e = gt(Le.FullYear, 3, 0, !1, !0);
      break;
    case 'yyyy':
      e = gt(Le.FullYear, 4, 0, !1, !0);
      break;
    case 'Y':
      e = Xh(1);
      break;
    case 'YY':
      e = Xh(2, !0);
      break;
    case 'YYY':
      e = Xh(3);
      break;
    case 'YYYY':
      e = Xh(4);
      break;
    case 'M':
    case 'L':
      e = gt(Le.Month, 1, 1);
      break;
    case 'MM':
    case 'LL':
      e = gt(Le.Month, 2, 1);
      break;
    case 'MMM':
      e = qe(Ve.Months, ze.Abbreviated);
      break;
    case 'MMMM':
      e = qe(Ve.Months, ze.Wide);
      break;
    case 'MMMMM':
      e = qe(Ve.Months, ze.Narrow);
      break;
    case 'LLL':
      e = qe(Ve.Months, ze.Abbreviated, an.Standalone);
      break;
    case 'LLLL':
      e = qe(Ve.Months, ze.Wide, an.Standalone);
      break;
    case 'LLLLL':
      e = qe(Ve.Months, ze.Narrow, an.Standalone);
      break;
    case 'w':
      e = jy(1);
      break;
    case 'ww':
      e = jy(2);
      break;
    case 'W':
      e = jy(1, !0);
      break;
    case 'd':
      e = gt(Le.Date, 1);
      break;
    case 'dd':
      e = gt(Le.Date, 2);
      break;
    case 'c':
    case 'cc':
      e = gt(Le.Day, 1);
      break;
    case 'ccc':
      e = qe(Ve.Days, ze.Abbreviated, an.Standalone);
      break;
    case 'cccc':
      e = qe(Ve.Days, ze.Wide, an.Standalone);
      break;
    case 'ccccc':
      e = qe(Ve.Days, ze.Narrow, an.Standalone);
      break;
    case 'cccccc':
      e = qe(Ve.Days, ze.Short, an.Standalone);
      break;
    case 'E':
    case 'EE':
    case 'EEE':
      e = qe(Ve.Days, ze.Abbreviated);
      break;
    case 'EEEE':
      e = qe(Ve.Days, ze.Wide);
      break;
    case 'EEEEE':
      e = qe(Ve.Days, ze.Narrow);
      break;
    case 'EEEEEE':
      e = qe(Ve.Days, ze.Short);
      break;
    case 'a':
    case 'aa':
    case 'aaa':
      e = qe(Ve.DayPeriods, ze.Abbreviated);
      break;
    case 'aaaa':
      e = qe(Ve.DayPeriods, ze.Wide);
      break;
    case 'aaaaa':
      e = qe(Ve.DayPeriods, ze.Narrow);
      break;
    case 'b':
    case 'bb':
    case 'bbb':
      e = qe(Ve.DayPeriods, ze.Abbreviated, an.Standalone, !0);
      break;
    case 'bbbb':
      e = qe(Ve.DayPeriods, ze.Wide, an.Standalone, !0);
      break;
    case 'bbbbb':
      e = qe(Ve.DayPeriods, ze.Narrow, an.Standalone, !0);
      break;
    case 'B':
    case 'BB':
    case 'BBB':
      e = qe(Ve.DayPeriods, ze.Abbreviated, an.Format, !0);
      break;
    case 'BBBB':
      e = qe(Ve.DayPeriods, ze.Wide, an.Format, !0);
      break;
    case 'BBBBB':
      e = qe(Ve.DayPeriods, ze.Narrow, an.Format, !0);
      break;
    case 'h':
      e = gt(Le.Hours, 1, -12);
      break;
    case 'hh':
      e = gt(Le.Hours, 2, -12);
      break;
    case 'H':
      e = gt(Le.Hours, 1);
      break;
    case 'HH':
      e = gt(Le.Hours, 2);
      break;
    case 'm':
      e = gt(Le.Minutes, 1);
      break;
    case 'mm':
      e = gt(Le.Minutes, 2);
      break;
    case 's':
      e = gt(Le.Seconds, 1);
      break;
    case 'ss':
      e = gt(Le.Seconds, 2);
      break;
    case 'S':
      e = gt(Le.FractionalSeconds, 1);
      break;
    case 'SS':
      e = gt(Le.FractionalSeconds, 2);
      break;
    case 'SSS':
      e = gt(Le.FractionalSeconds, 3);
      break;
    case 'Z':
    case 'ZZ':
    case 'ZZZ':
      e = Qh(ai.Short);
      break;
    case 'ZZZZZ':
      e = Qh(ai.Extended);
      break;
    case 'O':
    case 'OO':
    case 'OOO':
    case 'z':
    case 'zz':
    case 'zzz':
      e = Qh(ai.ShortGMT);
      break;
    case 'OOOO':
    case 'ZZZZ':
    case 'zzzz':
      e = Qh(ai.Long);
      break;
    default:
      return null;
  }
  return ((Uy[t] = e), e);
}
function KA(t, e) {
  t = t.replace(/:/g, '');
  let n = Date.parse('Jan 01, 1970 00:00:00 ' + t) / 6e4;
  return isNaN(n) ? e : n;
}
function CB(t, e) {
  return ((t = new Date(t.getTime())), t.setMinutes(t.getMinutes() + e), t);
}
function bB(t, e, n) {
  let r = n ? -1 : 1,
    i = t.getTimezoneOffset(),
    o = KA(e, i);
  return CB(t, r * (o - i));
}
function TB(t) {
  if (VA(t)) return t;
  if (typeof t == 'number' && !isNaN(t)) return new Date(t);
  if (typeof t == 'string') {
    if (((t = t.trim()), /^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t))) {
      let [i, o = 1, s = 1] = t.split('-').map((a) => +a);
      return ef(i, o - 1, s);
    }
    let n = parseFloat(t);
    if (!isNaN(t - n)) return new Date(n);
    let r;
    if ((r = t.match(gB))) return SB(r);
  }
  let e = new Date(t);
  if (!VA(e)) throw new Error(`Unable to convert "${t}" into a date`);
  return e;
}
function SB(t) {
  let e = new Date(0),
    n = 0,
    r = 0,
    i = t[8] ? e.setUTCFullYear : e.setFullYear,
    o = t[8] ? e.setUTCHours : e.setHours;
  (t[9] && ((n = Number(t[9] + t[10])), (r = Number(t[9] + t[11]))),
    i.call(e, Number(t[1]), Number(t[2]) - 1, Number(t[3])));
  let s = Number(t[4] || 0) - n,
    a = Number(t[5] || 0) - r,
    c = Number(t[6] || 0),
    u = Math.floor(parseFloat('0.' + (t[7] || 0)) * 1e3);
  return (o.call(e, s, a, c, u), e);
}
function VA(t) {
  return t instanceof Date && !isNaN(t.valueOf());
}
var YA = (() => {
  class t {
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵprov = G({
        token: t,
        factory: function (r) {
          let i = null;
          return (r ? (i = new r()) : (i = ((o) => new MB(o))(le(lr))), i);
        },
        providedIn: 'root',
      });
    }
  }
  return t;
})();
function AB(t, e, n, r) {
  let i = `=${t}`;
  if (e.indexOf(i) > -1 || ((i = n.getPluralCategory(t, r)), e.indexOf(i) > -1)) return i;
  if (e.indexOf('other') > -1) return 'other';
  throw new Error(`No plural message found for value "${t}"`);
}
var MB = (() => {
  class t extends YA {
    constructor(n) {
      (super(), (this.locale = n));
    }
    getPluralCategory(n, r) {
      switch (fB(r || this.locale)(n)) {
        case sa.Zero:
          return 'zero';
        case sa.One:
          return 'one';
        case sa.Two:
          return 'two';
        case sa.Few:
          return 'few';
        case sa.Many:
          return 'many';
        default:
          return 'other';
      }
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)(le(lr));
      };
    }
    static {
      this.ɵprov = G({ token: t, factory: t.ɵfac });
    }
  }
  return t;
})();
function qy(t, e) {
  e = encodeURIComponent(e);
  for (let n of t.split(';')) {
    let r = n.indexOf('='),
      [i, o] = r == -1 ? [n, ''] : [n.slice(0, r), n.slice(r + 1)];
    if (i.trim() === e) return decodeURIComponent(o);
  }
  return null;
}
var By = /\s+/,
  LA = [],
  Bn = (() => {
    class t {
      constructor(n, r) {
        ((this._ngEl = n),
          (this._renderer = r),
          (this.initialClasses = LA),
          (this.stateMap = new Map()));
      }
      set klass(n) {
        this.initialClasses = n != null ? n.trim().split(By) : LA;
      }
      set ngClass(n) {
        this.rawClass = typeof n == 'string' ? n.trim().split(By) : n;
      }
      ngDoCheck() {
        for (let r of this.initialClasses) this._updateState(r, !0);
        let n = this.rawClass;
        if (Array.isArray(n) || n instanceof Set) for (let r of n) this._updateState(r, !0);
        else if (n != null) for (let r of Object.keys(n)) this._updateState(r, !!n[r]);
        this._applyStateDiff();
      }
      _updateState(n, r) {
        let i = this.stateMap.get(n);
        i !== void 0
          ? (i.enabled !== r && ((i.changed = !0), (i.enabled = r)), (i.touched = !0))
          : this.stateMap.set(n, { enabled: r, changed: !0, touched: !0 });
      }
      _applyStateDiff() {
        for (let n of this.stateMap) {
          let r = n[0],
            i = n[1];
          (i.changed
            ? (this._toggleClass(r, i.enabled), (i.changed = !1))
            : i.touched || (i.enabled && this._toggleClass(r, !1), this.stateMap.delete(r)),
            (i.touched = !1));
        }
      }
      _toggleClass(n, r) {
        ((n = n.trim()),
          n.length > 0 &&
            n.split(By).forEach((i) => {
              r
                ? this._renderer.addClass(this._ngEl.nativeElement, i)
                : this._renderer.removeClass(this._ngEl.nativeElement, i);
            }));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(Je), k(ut));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['', 'ngClass', '']],
          inputs: { klass: [0, 'class', 'klass'], ngClass: 'ngClass' },
          standalone: !0,
        });
      }
    }
    return t;
  })();
var Hy = class {
    constructor(e, n, r, i) {
      ((this.$implicit = e), (this.ngForOf = n), (this.index = r), (this.count = i));
    }
    get first() {
      return this.index === 0;
    }
    get last() {
      return this.index === this.count - 1;
    }
    get even() {
      return this.index % 2 === 0;
    }
    get odd() {
      return !this.even;
    }
  },
  Hn = (() => {
    class t {
      set ngForOf(n) {
        ((this._ngForOf = n), (this._ngForOfDirty = !0));
      }
      set ngForTrackBy(n) {
        this._trackByFn = n;
      }
      get ngForTrackBy() {
        return this._trackByFn;
      }
      constructor(n, r, i) {
        ((this._viewContainer = n),
          (this._template = r),
          (this._differs = i),
          (this._ngForOf = null),
          (this._ngForOfDirty = !0),
          (this._differ = null));
      }
      set ngForTemplate(n) {
        n && (this._template = n);
      }
      ngDoCheck() {
        if (this._ngForOfDirty) {
          this._ngForOfDirty = !1;
          let n = this._ngForOf;
          if (!this._differ && n)
            if (0)
              try {
              } catch {}
            else this._differ = this._differs.find(n).create(this.ngForTrackBy);
        }
        if (this._differ) {
          let n = this._differ.diff(this._ngForOf);
          n && this._applyChanges(n);
        }
      }
      _applyChanges(n) {
        let r = this._viewContainer;
        n.forEachOperation((i, o, s) => {
          if (i.previousIndex == null)
            r.createEmbeddedView(
              this._template,
              new Hy(i.item, this._ngForOf, -1, -1),
              s === null ? void 0 : s
            );
          else if (s == null) r.remove(o === null ? void 0 : o);
          else if (o !== null) {
            let a = r.get(o);
            (r.move(a, s), jA(a, i));
          }
        });
        for (let i = 0, o = r.length; i < o; i++) {
          let a = r.get(i).context;
          ((a.index = i), (a.count = o), (a.ngForOf = this._ngForOf));
        }
        n.forEachIdentityChange((i) => {
          let o = r.get(i.currentIndex);
          jA(o, i);
        });
      }
      static ngTemplateContextGuard(n, r) {
        return !0;
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(or), k(Fh), k(Fy));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['', 'ngFor', '', 'ngForOf', '']],
          inputs: {
            ngForOf: 'ngForOf',
            ngForTrackBy: 'ngForTrackBy',
            ngForTemplate: 'ngForTemplate',
          },
          standalone: !0,
        });
      }
    }
    return t;
  })();
function jA(t, e) {
  t.context.$implicit = e.item;
}
var bt = (() => {
    class t {
      constructor(n, r) {
        ((this._viewContainer = n),
          (this._context = new $y()),
          (this._thenTemplateRef = null),
          (this._elseTemplateRef = null),
          (this._thenViewRef = null),
          (this._elseViewRef = null),
          (this._thenTemplateRef = r));
      }
      set ngIf(n) {
        ((this._context.$implicit = this._context.ngIf = n), this._updateView());
      }
      set ngIfThen(n) {
        (UA('ngIfThen', n),
          (this._thenTemplateRef = n),
          (this._thenViewRef = null),
          this._updateView());
      }
      set ngIfElse(n) {
        (UA('ngIfElse', n),
          (this._elseTemplateRef = n),
          (this._elseViewRef = null),
          this._updateView());
      }
      _updateView() {
        this._context.$implicit
          ? this._thenViewRef ||
            (this._viewContainer.clear(),
            (this._elseViewRef = null),
            this._thenTemplateRef &&
              (this._thenViewRef = this._viewContainer.createEmbeddedView(
                this._thenTemplateRef,
                this._context
              )))
          : this._elseViewRef ||
            (this._viewContainer.clear(),
            (this._thenViewRef = null),
            this._elseTemplateRef &&
              (this._elseViewRef = this._viewContainer.createEmbeddedView(
                this._elseTemplateRef,
                this._context
              )));
      }
      static ngTemplateContextGuard(n, r) {
        return !0;
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(or), k(Fh));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['', 'ngIf', '']],
          inputs: { ngIf: 'ngIf', ngIfThen: 'ngIfThen', ngIfElse: 'ngIfElse' },
          standalone: !0,
        });
      }
    }
    return t;
  })(),
  $y = class {
    constructor() {
      ((this.$implicit = null), (this.ngIf = null));
    }
  };
function UA(t, e) {
  if (!!!(!e || e.createEmbeddedView))
    throw new Error(`${t} must be a TemplateRef, but received '${on(e)}'.`);
}
var cl = (() => {
    class t {
      constructor(n, r, i) {
        ((this._ngEl = n),
          (this._differs = r),
          (this._renderer = i),
          (this._ngStyle = null),
          (this._differ = null));
      }
      set ngStyle(n) {
        ((this._ngStyle = n),
          !this._differ && n && (this._differ = this._differs.find(n).create()));
      }
      ngDoCheck() {
        if (this._differ) {
          let n = this._differ.diff(this._ngStyle);
          n && this._applyChanges(n);
        }
      }
      _setStyle(n, r) {
        let [i, o] = n.split('.'),
          s = i.indexOf('-') === -1 ? void 0 : br.DashCase;
        r != null
          ? this._renderer.setStyle(this._ngEl.nativeElement, i, o ? `${r}${o}` : r, s)
          : this._renderer.removeStyle(this._ngEl.nativeElement, i, s);
      }
      _applyChanges(n) {
        (n.forEachRemovedItem((r) => this._setStyle(r.key, null)),
          n.forEachAddedItem((r) => this._setStyle(r.key, r.currentValue)),
          n.forEachChangedItem((r) => this._setStyle(r.key, r.currentValue)));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(Je), k(Vy), k(ut));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['', 'ngStyle', '']],
          inputs: { ngStyle: 'ngStyle' },
          standalone: !0,
        });
      }
    }
    return t;
  })(),
  $n = (() => {
    class t {
      constructor(n) {
        ((this._viewContainerRef = n),
          (this._viewRef = null),
          (this.ngTemplateOutletContext = null),
          (this.ngTemplateOutlet = null),
          (this.ngTemplateOutletInjector = null));
      }
      ngOnChanges(n) {
        if (this._shouldRecreateView(n)) {
          let r = this._viewContainerRef;
          if ((this._viewRef && r.remove(r.indexOf(this._viewRef)), !this.ngTemplateOutlet)) {
            this._viewRef = null;
            return;
          }
          let i = this._createContextForwardProxy();
          this._viewRef = r.createEmbeddedView(this.ngTemplateOutlet, i, {
            injector: this.ngTemplateOutletInjector ?? void 0,
          });
        }
      }
      _shouldRecreateView(n) {
        return !!n.ngTemplateOutlet || !!n.ngTemplateOutletInjector;
      }
      _createContextForwardProxy() {
        return new Proxy(
          {},
          {
            set: (n, r, i) =>
              this.ngTemplateOutletContext ? Reflect.set(this.ngTemplateOutletContext, r, i) : !1,
            get: (n, r, i) => {
              if (this.ngTemplateOutletContext)
                return Reflect.get(this.ngTemplateOutletContext, r, i);
            },
          }
        );
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(or));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['', 'ngTemplateOutlet', '']],
          inputs: {
            ngTemplateOutletContext: 'ngTemplateOutletContext',
            ngTemplateOutlet: 'ngTemplateOutlet',
            ngTemplateOutletInjector: 'ngTemplateOutletInjector',
          },
          standalone: !0,
          features: [zt],
        });
      }
    }
    return t;
  })();
function rf(t, e) {
  return new Q(2100, !1);
}
var zy = class {
    createSubscription(e, n) {
      return dr(() =>
        e.subscribe({
          next: n,
          error: (r) => {
            throw r;
          },
        })
      );
    }
    dispose(e) {
      dr(() => e.unsubscribe());
    }
  },
  Wy = class {
    createSubscription(e, n) {
      return e.then(n, (r) => {
        throw r;
      });
    }
    dispose(e) {}
  },
  xB = new Wy(),
  RB = new zy(),
  QA = (() => {
    class t {
      constructor(n) {
        ((this._latestValue = null),
          (this.markForCheckOnValueUpdate = !0),
          (this._subscription = null),
          (this._obj = null),
          (this._strategy = null),
          (this._ref = n));
      }
      ngOnDestroy() {
        (this._subscription && this._dispose(), (this._ref = null));
      }
      transform(n) {
        if (!this._obj) {
          if (n)
            try {
              ((this.markForCheckOnValueUpdate = !1), this._subscribe(n));
            } finally {
              this.markForCheckOnValueUpdate = !0;
            }
          return this._latestValue;
        }
        return n !== this._obj ? (this._dispose(), this.transform(n)) : this._latestValue;
      }
      _subscribe(n) {
        ((this._obj = n),
          (this._strategy = this._selectStrategy(n)),
          (this._subscription = this._strategy.createSubscription(n, (r) =>
            this._updateLatestValue(n, r)
          )));
      }
      _selectStrategy(n) {
        if (Wi(n)) return xB;
        if (Py(n)) return RB;
        throw rf(t, n);
      }
      _dispose() {
        (this._strategy.dispose(this._subscription),
          (this._latestValue = null),
          (this._subscription = null),
          (this._obj = null));
      }
      _updateLatestValue(n, r) {
        n === this._obj &&
          ((this._latestValue = r), this.markForCheckOnValueUpdate && this._ref?.markForCheck());
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(ur, 16));
        };
      }
      static {
        this.ɵpipe = ni({ name: 'async', type: t, pure: !1, standalone: !0 });
      }
    }
    return t;
  })();
var NB = 'mediumDate',
  kB = new X(''),
  PB = new X(''),
  XA = (() => {
    class t {
      constructor(n, r, i) {
        ((this.locale = n), (this.defaultTimezone = r), (this.defaultOptions = i));
      }
      transform(n, r, i, o) {
        if (n == null || n === '' || n !== n) return null;
        try {
          let s = r ?? this.defaultOptions?.dateFormat ?? NB,
            a = i ?? this.defaultOptions?.timezone ?? this.defaultTimezone ?? void 0;
          return vt(n, s, o || this.locale, a);
        } catch (s) {
          throw rf(t, s.message);
        }
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(lr, 16), k(kB, 24), k(PB, 24));
        };
      }
      static {
        this.ɵpipe = ni({ name: 'date', type: t, pure: !0, standalone: !0 });
      }
    }
    return t;
  })(),
  OB = /#/g,
  of = (() => {
    class t {
      constructor(n) {
        this._localization = n;
      }
      transform(n, r, i) {
        if (n == null) return '';
        if (typeof r != 'object' || r === null) throw rf(t, r);
        let o = AB(n, Object.keys(r), this._localization, i);
        return r[o].replace(OB, n.toString());
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(YA, 16));
        };
      }
      static {
        this.ɵpipe = ni({
          name: 'i18nPlural',
          type: t,
          pure: !0,
          standalone: !0,
        });
      }
    }
    return t;
  })();
var ZA = (() => {
  class t {
    transform(n, r, i) {
      if (n == null) return null;
      if (!this.supports(n)) throw rf(t, n);
      return n.slice(r, i);
    }
    supports(n) {
      return typeof n == 'string' || Array.isArray(n);
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵpipe = ni({ name: 'slice', type: t, pure: !1, standalone: !0 });
    }
  }
  return t;
})();
var at = (() => {
    class t {
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵmod = Dt({ type: t });
      }
      static {
        this.ɵinj = It({});
      }
    }
    return t;
  })(),
  Gy = 'browser',
  FB = 'server';
function JA(t) {
  return t === Gy;
}
function ll(t) {
  return t === FB;
}
var tf = class {};
var af = class t {
  constructor(e) {
    ((this.normalizedNames = new Map()),
      (this.lazyUpdate = null),
      e
        ? typeof e == 'string'
          ? (this.lazyInit = () => {
              ((this.headers = new Map()),
                e
                  .split(
                    `
`
                  )
                  .forEach((n) => {
                    let r = n.indexOf(':');
                    if (r > 0) {
                      let i = n.slice(0, r),
                        o = i.toLowerCase(),
                        s = n.slice(r + 1).trim();
                      (this.maybeSetNormalizedName(i, o),
                        this.headers.has(o)
                          ? this.headers.get(o).push(s)
                          : this.headers.set(o, [s]));
                    }
                  }));
            })
          : typeof Headers < 'u' && e instanceof Headers
            ? ((this.headers = new Map()),
              e.forEach((n, r) => {
                this.setHeaderEntries(r, n);
              }))
            : (this.lazyInit = () => {
                ((this.headers = new Map()),
                  Object.entries(e).forEach(([n, r]) => {
                    this.setHeaderEntries(n, r);
                  }));
              })
        : (this.headers = new Map()));
  }
  has(e) {
    return (this.init(), this.headers.has(e.toLowerCase()));
  }
  get(e) {
    this.init();
    let n = this.headers.get(e.toLowerCase());
    return n && n.length > 0 ? n[0] : null;
  }
  keys() {
    return (this.init(), Array.from(this.normalizedNames.values()));
  }
  getAll(e) {
    return (this.init(), this.headers.get(e.toLowerCase()) || null);
  }
  append(e, n) {
    return this.clone({ name: e, value: n, op: 'a' });
  }
  set(e, n) {
    return this.clone({ name: e, value: n, op: 's' });
  }
  delete(e, n) {
    return this.clone({ name: e, value: n, op: 'd' });
  }
  maybeSetNormalizedName(e, n) {
    this.normalizedNames.has(n) || this.normalizedNames.set(n, e);
  }
  init() {
    this.lazyInit &&
      (this.lazyInit instanceof t ? this.copyFrom(this.lazyInit) : this.lazyInit(),
      (this.lazyInit = null),
      this.lazyUpdate &&
        (this.lazyUpdate.forEach((e) => this.applyUpdate(e)), (this.lazyUpdate = null)));
  }
  copyFrom(e) {
    (e.init(),
      Array.from(e.headers.keys()).forEach((n) => {
        (this.headers.set(n, e.headers.get(n)),
          this.normalizedNames.set(n, e.normalizedNames.get(n)));
      }));
  }
  clone(e) {
    let n = new t();
    return (
      (n.lazyInit = this.lazyInit && this.lazyInit instanceof t ? this.lazyInit : this),
      (n.lazyUpdate = (this.lazyUpdate || []).concat([e])),
      n
    );
  }
  applyUpdate(e) {
    let n = e.name.toLowerCase();
    switch (e.op) {
      case 'a':
      case 's':
        let r = e.value;
        if ((typeof r == 'string' && (r = [r]), r.length === 0)) return;
        this.maybeSetNormalizedName(e.name, n);
        let i = (e.op === 'a' ? this.headers.get(n) : void 0) || [];
        (i.push(...r), this.headers.set(n, i));
        break;
      case 'd':
        let o = e.value;
        if (!o) (this.headers.delete(n), this.normalizedNames.delete(n));
        else {
          let s = this.headers.get(n);
          if (!s) return;
          ((s = s.filter((a) => o.indexOf(a) === -1)),
            s.length === 0
              ? (this.headers.delete(n), this.normalizedNames.delete(n))
              : this.headers.set(n, s));
        }
        break;
    }
  }
  setHeaderEntries(e, n) {
    let r = (Array.isArray(n) ? n : [n]).map((o) => o.toString()),
      i = e.toLowerCase();
    (this.headers.set(i, r), this.maybeSetNormalizedName(e, i));
  }
  forEach(e) {
    (this.init(),
      Array.from(this.normalizedNames.keys()).forEach((n) =>
        e(this.normalizedNames.get(n), this.headers.get(n))
      ));
  }
};
var aM = (function (t) {
    return (
      (t[(t.Sent = 0)] = 'Sent'),
      (t[(t.UploadProgress = 1)] = 'UploadProgress'),
      (t[(t.ResponseHeader = 2)] = 'ResponseHeader'),
      (t[(t.DownloadProgress = 3)] = 'DownloadProgress'),
      (t[(t.Response = 4)] = 'Response'),
      (t[(t.User = 5)] = 'User'),
      t
    );
  })(aM || {}),
  Ky = class {
    constructor(e, n = 200, r = 'OK') {
      ((this.headers = e.headers || new af()),
        (this.status = e.status !== void 0 ? e.status : n),
        (this.statusText = e.statusText || r),
        (this.url = e.url || null),
        (this.ok = this.status >= 200 && this.status < 300));
    }
  };
var cf = class t extends Ky {
  constructor(e = {}) {
    (super(e), (this.type = aM.Response), (this.body = e.body !== void 0 ? e.body : null));
  }
  clone(e = {}) {
    return new t({
      body: e.body !== void 0 ? e.body : this.body,
      headers: e.headers || this.headers,
      status: e.status !== void 0 ? e.status : this.status,
      statusText: e.statusText || this.statusText,
      url: e.url || this.url || void 0,
    });
  }
};
var VB = new X('');
var LB = new X(''),
  eM = 'b',
  tM = 'h',
  nM = 's',
  rM = 'st',
  iM = 'u',
  oM = 'rt',
  sf = new X(''),
  jB = ['GET', 'HEAD'];
function UB(t, e) {
  let m = H(sf),
    { isCacheActive: n } = m,
    r = Gu(m, ['isCacheActive']),
    { transferCache: i, method: o } = t;
  if (
    !n ||
    i === !1 ||
    (o === 'POST' && !r.includePostRequests && !i) ||
    (o !== 'POST' && !jB.includes(o)) ||
    (!r.includeRequestsWithAuthHeaders && BB(t)) ||
    r.filter?.(t) === !1
  )
    return e(t);
  let s = H(ia),
    a = H(LB, { optional: !0 }),
    c = ll(H(hn));
  if (a && !c) throw new Q(2803, !1);
  let u = c && a ? WB(t.url, a) : t.url,
    d = $B(t, u),
    p = s.get(d, null),
    v = r.includeHeaders;
  if ((typeof i == 'object' && i.includeHeaders && (v = i.includeHeaders), p)) {
    let { [eM]: D, [oM]: M, [tM]: A, [nM]: N, [rM]: O, [iM]: F } = p,
      z = D;
    switch (M) {
      case 'arraybuffer':
        z = new TextEncoder().encode(D).buffer;
        break;
      case 'blob':
        z = new Blob([D]);
        break;
    }
    let Z = new af(A);
    return pe(new cf({ body: z, headers: Z, status: N, statusText: O, url: F }));
  }
  return e(t).pipe(
    tt((D) => {
      D instanceof cf &&
        c &&
        s.set(d, {
          [eM]: D.body,
          [tM]: HB(D.headers, v),
          [nM]: D.status,
          [rM]: D.statusText,
          [iM]: u,
          [oM]: t.responseType,
        });
    })
  );
}
function BB(t) {
  return t.headers.has('authorization') || t.headers.has('proxy-authorization');
}
function HB(t, e) {
  if (!e) return {};
  let n = {};
  for (let r of e) {
    let i = t.getAll(r);
    i !== null && (n[r] = i);
  }
  return n;
}
function sM(t) {
  return [...t.keys()]
    .sort()
    .map((e) => `${e}=${t.getAll(e)}`)
    .join('&');
}
function $B(t, e) {
  let { params: n, method: r, responseType: i } = t,
    o = sM(n),
    s = t.serializeBody();
  s instanceof URLSearchParams ? (s = sM(s)) : typeof s != 'string' && (s = '');
  let a = [r, i, e, s, o].join('|'),
    c = zB(a);
  return c;
}
function zB(t) {
  let e = 0;
  for (let n of t) e = (Math.imul(31, e) + n.charCodeAt(0)) << 0;
  return ((e += 2147483648), e.toString());
}
function cM(t) {
  return [
    {
      provide: sf,
      useFactory: () => (zi('NgHttpTransferCache'), U({ isCacheActive: !0 }, t)),
    },
    { provide: VB, useValue: UB, multi: !0, deps: [ia, sf] },
    {
      provide: oa,
      multi: !0,
      useFactory: () => {
        let e = H(Rr),
          n = H(sf);
        return () => {
          zh(e).then(() => {
            n.isCacheActive = !1;
          });
        };
      },
    },
  ];
}
function WB(t, e) {
  let n = new URL(t, 'resolve://').origin,
    r = e[n];
  return r ? t.replace(n, r) : t;
}
var Xy = class extends Jh {
    constructor() {
      (super(...arguments), (this.supportsDOMEvents = !0));
    }
  },
  Zy = class t extends Xy {
    static makeCurrent() {
      HA(new t());
    }
    onAndCancel(e, n, r) {
      return (
        e.addEventListener(n, r),
        () => {
          e.removeEventListener(n, r);
        }
      );
    }
    dispatchEvent(e, n) {
      e.dispatchEvent(n);
    }
    remove(e) {
      e.remove();
    }
    createElement(e, n) {
      return ((n = n || this.getDefaultDocument()), n.createElement(e));
    }
    createHtmlDocument() {
      return document.implementation.createHTMLDocument('fakeTitle');
    }
    getDefaultDocument() {
      return document;
    }
    isElementNode(e) {
      return e.nodeType === Node.ELEMENT_NODE;
    }
    isShadowRoot(e) {
      return e instanceof DocumentFragment;
    }
    getGlobalEventTarget(e, n) {
      return n === 'window' ? window : n === 'document' ? e : n === 'body' ? e.body : null;
    }
    getBaseHref(e) {
      let n = qB();
      return n == null ? null : GB(n);
    }
    resetBaseElement() {
      ul = null;
    }
    getUserAgent() {
      return window.navigator.userAgent;
    }
    getCookie(e) {
      return qy(document.cookie, e);
    }
  },
  ul = null;
function qB() {
  return ((ul = ul || document.querySelector('base')), ul ? ul.getAttribute('href') : null);
}
function GB(t) {
  return new URL(t, document.baseURI).pathname;
}
var KB = (() => {
    class t {
      build() {
        return new XMLHttpRequest();
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac });
      }
    }
    return t;
  })(),
  Jy = new X(''),
  hM = (() => {
    class t {
      constructor(n, r) {
        ((this._zone = r),
          (this._eventNameToPlugin = new Map()),
          n.forEach((i) => {
            i.manager = this;
          }),
          (this._plugins = n.slice().reverse()));
      }
      addEventListener(n, r, i) {
        return this._findPluginFor(r).addEventListener(n, r, i);
      }
      getZone() {
        return this._zone;
      }
      _findPluginFor(n) {
        let r = this._eventNameToPlugin.get(n);
        if (r) return r;
        if (((r = this._plugins.find((o) => o.supports(n))), !r)) throw new Q(5101, !1);
        return (this._eventNameToPlugin.set(n, r), r);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le(Jy), le(Se));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac });
      }
    }
    return t;
  })(),
  lf = class {
    constructor(e) {
      this._doc = e;
    }
  },
  Yy = 'ng-app-id',
  fM = (() => {
    class t {
      constructor(n, r, i, o = {}) {
        ((this.doc = n),
          (this.appId = r),
          (this.nonce = i),
          (this.platformId = o),
          (this.styleRef = new Map()),
          (this.hostNodes = new Set()),
          (this.styleNodesInDOM = this.collectServerRenderedStyles()),
          (this.platformIsServer = ll(o)),
          this.resetHostNodes());
      }
      addStyles(n) {
        for (let r of n) this.changeUsageCount(r, 1) === 1 && this.onStyleAdded(r);
      }
      removeStyles(n) {
        for (let r of n) this.changeUsageCount(r, -1) <= 0 && this.onStyleRemoved(r);
      }
      ngOnDestroy() {
        let n = this.styleNodesInDOM;
        n && (n.forEach((r) => r.remove()), n.clear());
        for (let r of this.getAllStyles()) this.onStyleRemoved(r);
        this.resetHostNodes();
      }
      addHost(n) {
        this.hostNodes.add(n);
        for (let r of this.getAllStyles()) this.addStyleToHost(n, r);
      }
      removeHost(n) {
        this.hostNodes.delete(n);
      }
      getAllStyles() {
        return this.styleRef.keys();
      }
      onStyleAdded(n) {
        for (let r of this.hostNodes) this.addStyleToHost(r, n);
      }
      onStyleRemoved(n) {
        let r = this.styleRef;
        (r.get(n)?.elements?.forEach((i) => i.remove()), r.delete(n));
      }
      collectServerRenderedStyles() {
        let n = this.doc.head?.querySelectorAll(`style[${Yy}="${this.appId}"]`);
        if (n?.length) {
          let r = new Map();
          return (
            n.forEach((i) => {
              i.textContent != null && r.set(i.textContent, i);
            }),
            r
          );
        }
        return null;
      }
      changeUsageCount(n, r) {
        let i = this.styleRef;
        if (i.has(n)) {
          let o = i.get(n);
          return ((o.usage += r), o.usage);
        }
        return (i.set(n, { usage: r, elements: [] }), r);
      }
      getStyleElement(n, r) {
        let i = this.styleNodesInDOM,
          o = i?.get(r);
        if (o?.parentNode === n) return (i.delete(r), o.removeAttribute(Yy), o);
        {
          let s = this.doc.createElement('style');
          return (
            this.nonce && s.setAttribute('nonce', this.nonce),
            (s.textContent = r),
            this.platformIsServer && s.setAttribute(Yy, this.appId),
            n.appendChild(s),
            s
          );
        }
      }
      addStyleToHost(n, r) {
        let i = this.getStyleElement(n, r),
          o = this.styleRef,
          s = o.get(r)?.elements;
        s ? s.push(i) : o.set(r, { elements: [i], usage: 1 });
      }
      resetHostNodes() {
        let n = this.hostNodes;
        (n.clear(), n.add(this.doc.head));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le(xt), le(Sh), le(sy, 8), le(hn));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac });
      }
    }
    return t;
  })(),
  Qy = {
    svg: 'http://www.w3.org/2000/svg',
    xhtml: 'http://www.w3.org/1999/xhtml',
    xlink: 'http://www.w3.org/1999/xlink',
    xml: 'http://www.w3.org/XML/1998/namespace',
    xmlns: 'http://www.w3.org/2000/xmlns/',
    math: 'http://www.w3.org/1998/Math/MathML',
  },
  n_ = /%COMP%/g,
  pM = '%COMP%',
  YB = `_nghost-${pM}`,
  QB = `_ngcontent-${pM}`,
  XB = !0,
  ZB = new X('', { providedIn: 'root', factory: () => XB });
function JB(t) {
  return QB.replace(n_, t);
}
function eH(t) {
  return YB.replace(n_, t);
}
function mM(t, e) {
  return e.map((n) => n.replace(n_, t));
}
var lM = (() => {
    class t {
      constructor(n, r, i, o, s, a, c, u = null) {
        ((this.eventManager = n),
          (this.sharedStylesHost = r),
          (this.appId = i),
          (this.removeStylesOnCompDestroy = o),
          (this.doc = s),
          (this.platformId = a),
          (this.ngZone = c),
          (this.nonce = u),
          (this.rendererByCompId = new Map()),
          (this.platformIsServer = ll(a)),
          (this.defaultRenderer = new dl(n, s, c, this.platformIsServer)));
      }
      createRenderer(n, r) {
        if (!n || !r) return this.defaultRenderer;
        this.platformIsServer &&
          r.encapsulation === Ir.ShadowDom &&
          (r = ve(U({}, r), { encapsulation: Ir.Emulated }));
        let i = this.getOrCreateRenderer(n, r);
        return (i instanceof uf ? i.applyToHost(n) : i instanceof hl && i.applyStyles(), i);
      }
      getOrCreateRenderer(n, r) {
        let i = this.rendererByCompId,
          o = i.get(r.id);
        if (!o) {
          let s = this.doc,
            a = this.ngZone,
            c = this.eventManager,
            u = this.sharedStylesHost,
            d = this.removeStylesOnCompDestroy,
            p = this.platformIsServer;
          switch (r.encapsulation) {
            case Ir.Emulated:
              o = new uf(c, u, r, this.appId, d, s, a, p);
              break;
            case Ir.ShadowDom:
              return new e_(c, u, n, r, s, a, this.nonce, p);
            default:
              o = new hl(c, u, r, d, s, a, p);
              break;
          }
          i.set(r.id, o);
        }
        return o;
      }
      ngOnDestroy() {
        this.rendererByCompId.clear();
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le(hM), le(fM), le(Sh), le(ZB), le(xt), le(hn), le(Se), le(sy));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac });
      }
    }
    return t;
  })(),
  dl = class {
    constructor(e, n, r, i) {
      ((this.eventManager = e),
        (this.doc = n),
        (this.ngZone = r),
        (this.platformIsServer = i),
        (this.data = Object.create(null)),
        (this.throwOnSyntheticProps = !0),
        (this.destroyNode = null));
    }
    destroy() {}
    createElement(e, n) {
      return n ? this.doc.createElementNS(Qy[n] || n, e) : this.doc.createElement(e);
    }
    createComment(e) {
      return this.doc.createComment(e);
    }
    createText(e) {
      return this.doc.createTextNode(e);
    }
    appendChild(e, n) {
      (uM(e) ? e.content : e).appendChild(n);
    }
    insertBefore(e, n, r) {
      e && (uM(e) ? e.content : e).insertBefore(n, r);
    }
    removeChild(e, n) {
      n.remove();
    }
    selectRootElement(e, n) {
      let r = typeof e == 'string' ? this.doc.querySelector(e) : e;
      if (!r) throw new Q(-5104, !1);
      return (n || (r.textContent = ''), r);
    }
    parentNode(e) {
      return e.parentNode;
    }
    nextSibling(e) {
      return e.nextSibling;
    }
    setAttribute(e, n, r, i) {
      if (i) {
        n = i + ':' + n;
        let o = Qy[i];
        o ? e.setAttributeNS(o, n, r) : e.setAttribute(n, r);
      } else e.setAttribute(n, r);
    }
    removeAttribute(e, n, r) {
      if (r) {
        let i = Qy[r];
        i ? e.removeAttributeNS(i, n) : e.removeAttribute(`${r}:${n}`);
      } else e.removeAttribute(n);
    }
    addClass(e, n) {
      e.classList.add(n);
    }
    removeClass(e, n) {
      e.classList.remove(n);
    }
    setStyle(e, n, r, i) {
      i & (br.DashCase | br.Important)
        ? e.style.setProperty(n, r, i & br.Important ? 'important' : '')
        : (e.style[n] = r);
    }
    removeStyle(e, n, r) {
      r & br.DashCase ? e.style.removeProperty(n) : (e.style[n] = '');
    }
    setProperty(e, n, r) {
      e != null && (e[n] = r);
    }
    setValue(e, n) {
      e.nodeValue = n;
    }
    listen(e, n, r) {
      if (typeof e == 'string' && ((e = ci().getGlobalEventTarget(this.doc, e)), !e))
        throw new Error(`Unsupported event target ${e} for event ${n}`);
      return this.eventManager.addEventListener(e, n, this.decoratePreventDefault(r));
    }
    decoratePreventDefault(e) {
      return (n) => {
        if (n === '__ngUnwrap__') return e;
        (this.platformIsServer ? this.ngZone.runGuarded(() => e(n)) : e(n)) === !1 &&
          n.preventDefault();
      };
    }
  };
function uM(t) {
  return t.tagName === 'TEMPLATE' && t.content !== void 0;
}
var e_ = class extends dl {
    constructor(e, n, r, i, o, s, a, c) {
      (super(e, o, s, c),
        (this.sharedStylesHost = n),
        (this.hostEl = r),
        (this.shadowRoot = r.attachShadow({ mode: 'open' })),
        this.sharedStylesHost.addHost(this.shadowRoot));
      let u = mM(i.id, i.styles);
      for (let d of u) {
        let p = document.createElement('style');
        (a && p.setAttribute('nonce', a), (p.textContent = d), this.shadowRoot.appendChild(p));
      }
    }
    nodeOrShadowRoot(e) {
      return e === this.hostEl ? this.shadowRoot : e;
    }
    appendChild(e, n) {
      return super.appendChild(this.nodeOrShadowRoot(e), n);
    }
    insertBefore(e, n, r) {
      return super.insertBefore(this.nodeOrShadowRoot(e), n, r);
    }
    removeChild(e, n) {
      return super.removeChild(null, n);
    }
    parentNode(e) {
      return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)));
    }
    destroy() {
      this.sharedStylesHost.removeHost(this.shadowRoot);
    }
  },
  hl = class extends dl {
    constructor(e, n, r, i, o, s, a, c) {
      (super(e, o, s, a),
        (this.sharedStylesHost = n),
        (this.removeStylesOnCompDestroy = i),
        (this.styles = c ? mM(c, r.styles) : r.styles));
    }
    applyStyles() {
      this.sharedStylesHost.addStyles(this.styles);
    }
    destroy() {
      this.removeStylesOnCompDestroy && this.sharedStylesHost.removeStyles(this.styles);
    }
  },
  uf = class extends hl {
    constructor(e, n, r, i, o, s, a, c) {
      let u = i + '-' + r.id;
      (super(e, n, r, o, s, a, c, u), (this.contentAttr = JB(u)), (this.hostAttr = eH(u)));
    }
    applyToHost(e) {
      (this.applyStyles(), this.setAttribute(e, this.hostAttr, ''));
    }
    createElement(e, n) {
      let r = super.createElement(e, n);
      return (super.setAttribute(r, this.contentAttr, ''), r);
    }
  },
  tH = (() => {
    class t extends lf {
      constructor(n) {
        super(n);
      }
      supports(n) {
        return !0;
      }
      addEventListener(n, r, i) {
        return (n.addEventListener(r, i, !1), () => this.removeEventListener(n, r, i));
      }
      removeEventListener(n, r, i) {
        return n.removeEventListener(r, i);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le(xt));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac });
      }
    }
    return t;
  })(),
  dM = ['alt', 'control', 'meta', 'shift'],
  nH = {
    '\b': 'Backspace',
    '	': 'Tab',
    '\x7F': 'Delete',
    '\x1B': 'Escape',
    Del: 'Delete',
    Esc: 'Escape',
    Left: 'ArrowLeft',
    Right: 'ArrowRight',
    Up: 'ArrowUp',
    Down: 'ArrowDown',
    Menu: 'ContextMenu',
    Scroll: 'ScrollLock',
    Win: 'OS',
  },
  rH = {
    alt: (t) => t.altKey,
    control: (t) => t.ctrlKey,
    meta: (t) => t.metaKey,
    shift: (t) => t.shiftKey,
  },
  iH = (() => {
    class t extends lf {
      constructor(n) {
        super(n);
      }
      supports(n) {
        return t.parseEventName(n) != null;
      }
      addEventListener(n, r, i) {
        let o = t.parseEventName(r),
          s = t.eventCallback(o.fullKey, i, this.manager.getZone());
        return this.manager
          .getZone()
          .runOutsideAngular(() => ci().onAndCancel(n, o.domEventName, s));
      }
      static parseEventName(n) {
        let r = n.toLowerCase().split('.'),
          i = r.shift();
        if (r.length === 0 || !(i === 'keydown' || i === 'keyup')) return null;
        let o = t._normalizeKey(r.pop()),
          s = '',
          a = r.indexOf('code');
        if (
          (a > -1 && (r.splice(a, 1), (s = 'code.')),
          dM.forEach((u) => {
            let d = r.indexOf(u);
            d > -1 && (r.splice(d, 1), (s += u + '.'));
          }),
          (s += o),
          r.length != 0 || o.length === 0)
        )
          return null;
        let c = {};
        return ((c.domEventName = i), (c.fullKey = s), c);
      }
      static matchEventFullKeyCode(n, r) {
        let i = nH[n.key] || n.key,
          o = '';
        return (
          r.indexOf('code.') > -1 && ((i = n.code), (o = 'code.')),
          i == null || !i
            ? !1
            : ((i = i.toLowerCase()),
              i === ' ' ? (i = 'space') : i === '.' && (i = 'dot'),
              dM.forEach((s) => {
                if (s !== i) {
                  let a = rH[s];
                  a(n) && (o += s + '.');
                }
              }),
              (o += i),
              o === r)
        );
      }
      static eventCallback(n, r, i) {
        return (o) => {
          t.matchEventFullKeyCode(o, n) && i.runGuarded(() => r(o));
        };
      }
      static _normalizeKey(n) {
        return n === 'esc' ? 'escape' : n;
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le(xt));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac });
      }
    }
    return t;
  })();
function gM(t, e) {
  return kA(U({ rootComponent: t }, oH(e)));
}
function oH(t) {
  return {
    appProviders: [...uH, ...(t?.providers ?? [])],
    platformProviders: lH,
  };
}
function sH() {
  Zy.makeCurrent();
}
function aH() {
  return new Jr();
}
function cH() {
  return (QT(document), document);
}
var lH = [
  { provide: hn, useValue: Gy },
  { provide: oy, useValue: sH, multi: !0 },
  { provide: xt, useFactory: cH, deps: [] },
];
var uH = [
  { provide: vh, useValue: 'root' },
  { provide: Jr, useFactory: aH, deps: [] },
  { provide: Jy, useClass: tH, multi: !0, deps: [xt, Se, hn] },
  { provide: Jy, useClass: iH, multi: !0, deps: [xt] },
  lM,
  fM,
  hM,
  { provide: ta, useExisting: lM },
  { provide: tf, useClass: KB, deps: [] },
  [],
];
var vM = (() => {
  class t {
    constructor(n) {
      this._doc = n;
    }
    getTitle() {
      return this._doc.title;
    }
    setTitle(n) {
      this._doc.title = n || '';
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)(le(xt));
      };
    }
    static {
      this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
    }
  }
  return t;
})();
var t_ = (function (t) {
  return (
    (t[(t.NoHttpTransferCache = 0)] = 'NoHttpTransferCache'),
    (t[(t.HttpTransferCacheOptions = 1)] = 'HttpTransferCacheOptions'),
    (t[(t.I18nSupport = 2)] = 'I18nSupport'),
    (t[(t.EventReplay = 3)] = 'EventReplay'),
    t
  );
})(t_ || {});
function yM(...t) {
  let e = [],
    n = new Set(),
    r = n.has(t_.HttpTransferCacheOptions);
  for (let { ɵproviders: i, ɵkind: o } of t) (n.add(o), i.length && e.push(i));
  return _n([[], PA(), n.has(t_.NoHttpTransferCache) || r ? [] : cM({}), e]);
}
var Ee = 'primary',
  Al = Symbol('RouteTitle'),
  a_ = class {
    constructor(e) {
      this.params = e || {};
    }
    has(e) {
      return Object.prototype.hasOwnProperty.call(this.params, e);
    }
    get(e) {
      if (this.has(e)) {
        let n = this.params[e];
        return Array.isArray(n) ? n[0] : n;
      }
      return null;
    }
    getAll(e) {
      if (this.has(e)) {
        let n = this.params[e];
        return Array.isArray(n) ? n : [n];
      }
      return [];
    }
    get keys() {
      return Object.keys(this.params);
    }
  };
function fa(t) {
  return new a_(t);
}
function hH(t, e, n) {
  let r = n.path.split('/');
  if (r.length > t.length || (n.pathMatch === 'full' && (e.hasChildren() || r.length < t.length)))
    return null;
  let i = {};
  for (let o = 0; o < r.length; o++) {
    let s = r[o],
      a = t[o];
    if (s[0] === ':') i[s.substring(1)] = a;
    else if (s !== a.path) return null;
  }
  return { consumed: t.slice(0, r.length), posParams: i };
}
function fH(t, e) {
  if (t.length !== e.length) return !1;
  for (let n = 0; n < t.length; ++n) if (!Nr(t[n], e[n])) return !1;
  return !0;
}
function Nr(t, e) {
  let n = t ? c_(t) : void 0,
    r = e ? c_(e) : void 0;
  if (!n || !r || n.length != r.length) return !1;
  let i;
  for (let o = 0; o < n.length; o++) if (((i = n[o]), !TM(t[i], e[i]))) return !1;
  return !0;
}
function c_(t) {
  return [...Object.keys(t), ...Object.getOwnPropertySymbols(t)];
}
function TM(t, e) {
  if (Array.isArray(t) && Array.isArray(e)) {
    if (t.length !== e.length) return !1;
    let n = [...t].sort(),
      r = [...e].sort();
    return n.every((i, o) => r[o] === i);
  } else return t === e;
}
function SM(t) {
  return t.length > 0 ? t[t.length - 1] : null;
}
function Yi(t) {
  return _g(t) ? t : Wi(t) ? Ze(Promise.resolve(t)) : pe(t);
}
var pH = { exact: MM, subset: xM },
  AM = { exact: mH, subset: gH, ignored: () => !0 };
function _M(t, e, n) {
  return (
    pH[n.paths](t.root, e.root, n.matrixParams) &&
    AM[n.queryParams](t.queryParams, e.queryParams) &&
    !(n.fragment === 'exact' && t.fragment !== e.fragment)
  );
}
function mH(t, e) {
  return Nr(t, e);
}
function MM(t, e, n) {
  if (
    !Go(t.segments, e.segments) ||
    !ff(t.segments, e.segments, n) ||
    t.numberOfChildren !== e.numberOfChildren
  )
    return !1;
  for (let r in e.children) if (!t.children[r] || !MM(t.children[r], e.children[r], n)) return !1;
  return !0;
}
function gH(t, e) {
  return (
    Object.keys(e).length <= Object.keys(t).length && Object.keys(e).every((n) => TM(t[n], e[n]))
  );
}
function xM(t, e, n) {
  return RM(t, e, e.segments, n);
}
function RM(t, e, n, r) {
  if (t.segments.length > n.length) {
    let i = t.segments.slice(0, n.length);
    return !(!Go(i, n) || e.hasChildren() || !ff(i, n, r));
  } else if (t.segments.length === n.length) {
    if (!Go(t.segments, n) || !ff(t.segments, n, r)) return !1;
    for (let i in e.children) if (!t.children[i] || !xM(t.children[i], e.children[i], r)) return !1;
    return !0;
  } else {
    let i = n.slice(0, t.segments.length),
      o = n.slice(t.segments.length);
    return !Go(t.segments, i) || !ff(t.segments, i, r) || !t.children[Ee]
      ? !1
      : RM(t.children[Ee], e, o, r);
  }
}
function ff(t, e, n) {
  return e.every((r, i) => AM[n](t[i].parameters, r.parameters));
}
var di = class {
    constructor(e = new je([], {}), n = {}, r = null) {
      ((this.root = e), (this.queryParams = n), (this.fragment = r));
    }
    get queryParamMap() {
      return ((this._queryParamMap ??= fa(this.queryParams)), this._queryParamMap);
    }
    toString() {
      return _H.serialize(this);
    }
  },
  je = class {
    constructor(e, n) {
      ((this.segments = e),
        (this.children = n),
        (this.parent = null),
        Object.values(n).forEach((r) => (r.parent = this)));
    }
    hasChildren() {
      return this.numberOfChildren > 0;
    }
    get numberOfChildren() {
      return Object.keys(this.children).length;
    }
    toString() {
      return pf(this);
    }
  },
  qo = class {
    constructor(e, n) {
      ((this.path = e), (this.parameters = n));
    }
    get parameterMap() {
      return ((this._parameterMap ??= fa(this.parameters)), this._parameterMap);
    }
    toString() {
      return kM(this);
    }
  };
function vH(t, e) {
  return Go(t, e) && t.every((n, r) => Nr(n.parameters, e[r].parameters));
}
function Go(t, e) {
  return t.length !== e.length ? !1 : t.every((n, r) => n.path === e[r].path);
}
function yH(t, e) {
  let n = [];
  return (
    Object.entries(t.children).forEach(([r, i]) => {
      r === Ee && (n = n.concat(e(i, r)));
    }),
    Object.entries(t.children).forEach(([r, i]) => {
      r !== Ee && (n = n.concat(e(i, r)));
    }),
    n
  );
}
var P_ = (() => {
    class t {
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({
          token: t,
          factory: () => new _l(),
          providedIn: 'root',
        });
      }
    }
    return t;
  })(),
  _l = class {
    parse(e) {
      let n = new u_(e);
      return new di(n.parseRootSegment(), n.parseQueryParams(), n.parseFragment());
    }
    serialize(e) {
      let n = `/${fl(e.root, !0)}`,
        r = IH(e.queryParams),
        i = typeof e.fragment == 'string' ? `#${wH(e.fragment)}` : '';
      return `${n}${r}${i}`;
    }
  },
  _H = new _l();
function pf(t) {
  return t.segments.map((e) => kM(e)).join('/');
}
function fl(t, e) {
  if (!t.hasChildren()) return pf(t);
  if (e) {
    let n = t.children[Ee] ? fl(t.children[Ee], !1) : '',
      r = [];
    return (
      Object.entries(t.children).forEach(([i, o]) => {
        i !== Ee && r.push(`${i}:${fl(o, !1)}`);
      }),
      r.length > 0 ? `${n}(${r.join('//')})` : n
    );
  } else {
    let n = yH(t, (r, i) => (i === Ee ? [fl(t.children[Ee], !1)] : [`${i}:${fl(r, !1)}`]));
    return Object.keys(t.children).length === 1 && t.children[Ee] != null
      ? `${pf(t)}/${n[0]}`
      : `${pf(t)}/(${n.join('//')})`;
  }
}
function NM(t) {
  return encodeURIComponent(t)
    .replace(/%40/g, '@')
    .replace(/%3A/gi, ':')
    .replace(/%24/g, '$')
    .replace(/%2C/gi, ',');
}
function df(t) {
  return NM(t).replace(/%3B/gi, ';');
}
function wH(t) {
  return encodeURI(t);
}
function l_(t) {
  return NM(t).replace(/\(/g, '%28').replace(/\)/g, '%29').replace(/%26/gi, '&');
}
function mf(t) {
  return decodeURIComponent(t);
}
function wM(t) {
  return mf(t.replace(/\+/g, '%20'));
}
function kM(t) {
  return `${l_(t.path)}${EH(t.parameters)}`;
}
function EH(t) {
  return Object.entries(t)
    .map(([e, n]) => `;${l_(e)}=${l_(n)}`)
    .join('');
}
function IH(t) {
  let e = Object.entries(t)
    .map(([n, r]) =>
      Array.isArray(r) ? r.map((i) => `${df(n)}=${df(i)}`).join('&') : `${df(n)}=${df(r)}`
    )
    .filter((n) => n);
  return e.length ? `?${e.join('&')}` : '';
}
var DH = /^[^\/()?;#]+/;
function r_(t) {
  let e = t.match(DH);
  return e ? e[0] : '';
}
var CH = /^[^\/()?;=#]+/;
function bH(t) {
  let e = t.match(CH);
  return e ? e[0] : '';
}
var TH = /^[^=?&#]+/;
function SH(t) {
  let e = t.match(TH);
  return e ? e[0] : '';
}
var AH = /^[^&#]+/;
function MH(t) {
  let e = t.match(AH);
  return e ? e[0] : '';
}
var u_ = class {
  constructor(e) {
    ((this.url = e), (this.remaining = e));
  }
  parseRootSegment() {
    return (
      this.consumeOptional('/'),
      this.remaining === '' || this.peekStartsWith('?') || this.peekStartsWith('#')
        ? new je([], {})
        : new je([], this.parseChildren())
    );
  }
  parseQueryParams() {
    let e = {};
    if (this.consumeOptional('?'))
      do this.parseQueryParam(e);
      while (this.consumeOptional('&'));
    return e;
  }
  parseFragment() {
    return this.consumeOptional('#') ? decodeURIComponent(this.remaining) : null;
  }
  parseChildren() {
    if (this.remaining === '') return {};
    this.consumeOptional('/');
    let e = [];
    for (
      this.peekStartsWith('(') || e.push(this.parseSegment());
      this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(');

    )
      (this.capture('/'), e.push(this.parseSegment()));
    let n = {};
    this.peekStartsWith('/(') && (this.capture('/'), (n = this.parseParens(!0)));
    let r = {};
    return (
      this.peekStartsWith('(') && (r = this.parseParens(!1)),
      (e.length > 0 || Object.keys(n).length > 0) && (r[Ee] = new je(e, n)),
      r
    );
  }
  parseSegment() {
    let e = r_(this.remaining);
    if (e === '' && this.peekStartsWith(';')) throw new Q(4009, !1);
    return (this.capture(e), new qo(mf(e), this.parseMatrixParams()));
  }
  parseMatrixParams() {
    let e = {};
    for (; this.consumeOptional(';'); ) this.parseParam(e);
    return e;
  }
  parseParam(e) {
    let n = bH(this.remaining);
    if (!n) return;
    this.capture(n);
    let r = '';
    if (this.consumeOptional('=')) {
      let i = r_(this.remaining);
      i && ((r = i), this.capture(r));
    }
    e[mf(n)] = mf(r);
  }
  parseQueryParam(e) {
    let n = SH(this.remaining);
    if (!n) return;
    this.capture(n);
    let r = '';
    if (this.consumeOptional('=')) {
      let s = MH(this.remaining);
      s && ((r = s), this.capture(r));
    }
    let i = wM(n),
      o = wM(r);
    if (e.hasOwnProperty(i)) {
      let s = e[i];
      (Array.isArray(s) || ((s = [s]), (e[i] = s)), s.push(o));
    } else e[i] = o;
  }
  parseParens(e) {
    let n = {};
    for (this.capture('('); !this.consumeOptional(')') && this.remaining.length > 0; ) {
      let r = r_(this.remaining),
        i = this.remaining[r.length];
      if (i !== '/' && i !== ')' && i !== ';') throw new Q(4010, !1);
      let o;
      r.indexOf(':') > -1
        ? ((o = r.slice(0, r.indexOf(':'))), this.capture(o), this.capture(':'))
        : e && (o = Ee);
      let s = this.parseChildren();
      ((n[o] = Object.keys(s).length === 1 ? s[Ee] : new je([], s)), this.consumeOptional('//'));
    }
    return n;
  }
  peekStartsWith(e) {
    return this.remaining.startsWith(e);
  }
  consumeOptional(e) {
    return this.peekStartsWith(e)
      ? ((this.remaining = this.remaining.substring(e.length)), !0)
      : !1;
  }
  capture(e) {
    if (!this.consumeOptional(e)) throw new Q(4011, !1);
  }
};
function PM(t) {
  return t.segments.length > 0 ? new je([], { [Ee]: t }) : t;
}
function OM(t) {
  let e = {};
  for (let [r, i] of Object.entries(t.children)) {
    let o = OM(i);
    if (r === Ee && o.segments.length === 0 && o.hasChildren())
      for (let [s, a] of Object.entries(o.children)) e[s] = a;
    else (o.segments.length > 0 || o.hasChildren()) && (e[r] = o);
  }
  let n = new je(t.segments, e);
  return xH(n);
}
function xH(t) {
  if (t.numberOfChildren === 1 && t.children[Ee]) {
    let e = t.children[Ee];
    return new je(t.segments.concat(e.segments), e.children);
  }
  return t;
}
function Ko(t) {
  return t instanceof di;
}
function RH(t, e, n = null, r = null) {
  let i = FM(t);
  return VM(i, e, n, r);
}
function FM(t) {
  let e;
  function n(o) {
    let s = {};
    for (let c of o.children) {
      let u = n(c);
      s[c.outlet] = u;
    }
    let a = new je(o.url, s);
    return (o === t && (e = a), a);
  }
  let r = n(t.root),
    i = PM(r);
  return e ?? i;
}
function VM(t, e, n, r) {
  let i = t;
  for (; i.parent; ) i = i.parent;
  if (e.length === 0) return i_(i, i, i, n, r);
  let o = NH(e);
  if (o.toRoot()) return i_(i, i, new je([], {}), n, r);
  let s = kH(o, i, t),
    a = s.processChildren
      ? gl(s.segmentGroup, s.index, o.commands)
      : jM(s.segmentGroup, s.index, o.commands);
  return i_(i, s.segmentGroup, a, n, r);
}
function gf(t) {
  return typeof t == 'object' && t != null && !t.outlets && !t.segmentPath;
}
function wl(t) {
  return typeof t == 'object' && t != null && t.outlets;
}
function i_(t, e, n, r, i) {
  let o = {};
  r &&
    Object.entries(r).forEach(([c, u]) => {
      o[c] = Array.isArray(u) ? u.map((d) => `${d}`) : `${u}`;
    });
  let s;
  t === e ? (s = n) : (s = LM(t, e, n));
  let a = PM(OM(s));
  return new di(a, o, i);
}
function LM(t, e, n) {
  let r = {};
  return (
    Object.entries(t.children).forEach(([i, o]) => {
      o === e ? (r[i] = n) : (r[i] = LM(o, e, n));
    }),
    new je(t.segments, r)
  );
}
var vf = class {
  constructor(e, n, r) {
    if (
      ((this.isAbsolute = e),
      (this.numberOfDoubleDots = n),
      (this.commands = r),
      e && r.length > 0 && gf(r[0]))
    )
      throw new Q(4003, !1);
    let i = r.find(wl);
    if (i && i !== SM(r)) throw new Q(4004, !1);
  }
  toRoot() {
    return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';
  }
};
function NH(t) {
  if (typeof t[0] == 'string' && t.length === 1 && t[0] === '/') return new vf(!0, 0, t);
  let e = 0,
    n = !1,
    r = t.reduce((i, o, s) => {
      if (typeof o == 'object' && o != null) {
        if (o.outlets) {
          let a = {};
          return (
            Object.entries(o.outlets).forEach(([c, u]) => {
              a[c] = typeof u == 'string' ? u.split('/') : u;
            }),
            [...i, { outlets: a }]
          );
        }
        if (o.segmentPath) return [...i, o.segmentPath];
      }
      return typeof o != 'string'
        ? [...i, o]
        : s === 0
          ? (o.split('/').forEach((a, c) => {
              (c == 0 && a === '.') ||
                (c == 0 && a === '' ? (n = !0) : a === '..' ? e++ : a != '' && i.push(a));
            }),
            i)
          : [...i, o];
    }, []);
  return new vf(n, e, r);
}
var ua = class {
  constructor(e, n, r) {
    ((this.segmentGroup = e), (this.processChildren = n), (this.index = r));
  }
};
function kH(t, e, n) {
  if (t.isAbsolute) return new ua(e, !0, 0);
  if (!n) return new ua(e, !1, NaN);
  if (n.parent === null) return new ua(n, !0, 0);
  let r = gf(t.commands[0]) ? 0 : 1,
    i = n.segments.length - 1 + r;
  return PH(n, i, t.numberOfDoubleDots);
}
function PH(t, e, n) {
  let r = t,
    i = e,
    o = n;
  for (; o > i; ) {
    if (((o -= i), (r = r.parent), !r)) throw new Q(4005, !1);
    i = r.segments.length;
  }
  return new ua(r, !1, i - o);
}
function OH(t) {
  return wl(t[0]) ? t[0].outlets : { [Ee]: t };
}
function jM(t, e, n) {
  if (((t ??= new je([], {})), t.segments.length === 0 && t.hasChildren())) return gl(t, e, n);
  let r = FH(t, e, n),
    i = n.slice(r.commandIndex);
  if (r.match && r.pathIndex < t.segments.length) {
    let o = new je(t.segments.slice(0, r.pathIndex), {});
    return ((o.children[Ee] = new je(t.segments.slice(r.pathIndex), t.children)), gl(o, 0, i));
  } else
    return r.match && i.length === 0
      ? new je(t.segments, {})
      : r.match && !t.hasChildren()
        ? d_(t, e, n)
        : r.match
          ? gl(t, 0, i)
          : d_(t, e, n);
}
function gl(t, e, n) {
  if (n.length === 0) return new je(t.segments, {});
  {
    let r = OH(n),
      i = {};
    if (
      Object.keys(r).some((o) => o !== Ee) &&
      t.children[Ee] &&
      t.numberOfChildren === 1 &&
      t.children[Ee].segments.length === 0
    ) {
      let o = gl(t.children[Ee], e, n);
      return new je(t.segments, o.children);
    }
    return (
      Object.entries(r).forEach(([o, s]) => {
        (typeof s == 'string' && (s = [s]), s !== null && (i[o] = jM(t.children[o], e, s)));
      }),
      Object.entries(t.children).forEach(([o, s]) => {
        r[o] === void 0 && (i[o] = s);
      }),
      new je(t.segments, i)
    );
  }
}
function FH(t, e, n) {
  let r = 0,
    i = e,
    o = { match: !1, pathIndex: 0, commandIndex: 0 };
  for (; i < t.segments.length; ) {
    if (r >= n.length) return o;
    let s = t.segments[i],
      a = n[r];
    if (wl(a)) break;
    let c = `${a}`,
      u = r < n.length - 1 ? n[r + 1] : null;
    if (i > 0 && c === void 0) break;
    if (c && u && typeof u == 'object' && u.outlets === void 0) {
      if (!IM(c, u, s)) return o;
      r += 2;
    } else {
      if (!IM(c, {}, s)) return o;
      r++;
    }
    i++;
  }
  return { match: !0, pathIndex: i, commandIndex: r };
}
function d_(t, e, n) {
  let r = t.segments.slice(0, e),
    i = 0;
  for (; i < n.length; ) {
    let o = n[i];
    if (wl(o)) {
      let c = VH(o.outlets);
      return new je(r, c);
    }
    if (i === 0 && gf(n[0])) {
      let c = t.segments[e];
      (r.push(new qo(c.path, EM(n[0]))), i++);
      continue;
    }
    let s = wl(o) ? o.outlets[Ee] : `${o}`,
      a = i < n.length - 1 ? n[i + 1] : null;
    s && a && gf(a) ? (r.push(new qo(s, EM(a))), (i += 2)) : (r.push(new qo(s, {})), i++);
  }
  return new je(r, {});
}
function VH(t) {
  let e = {};
  return (
    Object.entries(t).forEach(([n, r]) => {
      (typeof r == 'string' && (r = [r]), r !== null && (e[n] = d_(new je([], {}), 0, r)));
    }),
    e
  );
}
function EM(t) {
  let e = {};
  return (Object.entries(t).forEach(([n, r]) => (e[n] = `${r}`)), e);
}
function IM(t, e, n) {
  return t == n.path && Nr(e, n.parameters);
}
var vl = 'imperative',
  Ft = (function (t) {
    return (
      (t[(t.NavigationStart = 0)] = 'NavigationStart'),
      (t[(t.NavigationEnd = 1)] = 'NavigationEnd'),
      (t[(t.NavigationCancel = 2)] = 'NavigationCancel'),
      (t[(t.NavigationError = 3)] = 'NavigationError'),
      (t[(t.RoutesRecognized = 4)] = 'RoutesRecognized'),
      (t[(t.ResolveStart = 5)] = 'ResolveStart'),
      (t[(t.ResolveEnd = 6)] = 'ResolveEnd'),
      (t[(t.GuardsCheckStart = 7)] = 'GuardsCheckStart'),
      (t[(t.GuardsCheckEnd = 8)] = 'GuardsCheckEnd'),
      (t[(t.RouteConfigLoadStart = 9)] = 'RouteConfigLoadStart'),
      (t[(t.RouteConfigLoadEnd = 10)] = 'RouteConfigLoadEnd'),
      (t[(t.ChildActivationStart = 11)] = 'ChildActivationStart'),
      (t[(t.ChildActivationEnd = 12)] = 'ChildActivationEnd'),
      (t[(t.ActivationStart = 13)] = 'ActivationStart'),
      (t[(t.ActivationEnd = 14)] = 'ActivationEnd'),
      (t[(t.Scroll = 15)] = 'Scroll'),
      (t[(t.NavigationSkipped = 16)] = 'NavigationSkipped'),
      t
    );
  })(Ft || {}),
  zn = class {
    constructor(e, n) {
      ((this.id = e), (this.url = n));
    }
  },
  El = class extends zn {
    constructor(e, n, r = 'imperative', i = null) {
      (super(e, n),
        (this.type = Ft.NavigationStart),
        (this.navigationTrigger = r),
        (this.restoredState = i));
    }
    toString() {
      return `NavigationStart(id: ${this.id}, url: '${this.url}')`;
    }
  },
  Ki = class extends zn {
    constructor(e, n, r) {
      (super(e, n), (this.urlAfterRedirects = r), (this.type = Ft.NavigationEnd));
    }
    toString() {
      return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;
    }
  },
  Tn = (function (t) {
    return (
      (t[(t.Redirect = 0)] = 'Redirect'),
      (t[(t.SupersededByNewNavigation = 1)] = 'SupersededByNewNavigation'),
      (t[(t.NoDataFromResolver = 2)] = 'NoDataFromResolver'),
      (t[(t.GuardRejected = 3)] = 'GuardRejected'),
      t
    );
  })(Tn || {}),
  h_ = (function (t) {
    return (
      (t[(t.IgnoredSameUrlNavigation = 0)] = 'IgnoredSameUrlNavigation'),
      (t[(t.IgnoredByUrlHandlingStrategy = 1)] = 'IgnoredByUrlHandlingStrategy'),
      t
    );
  })(h_ || {}),
  ui = class extends zn {
    constructor(e, n, r, i) {
      (super(e, n), (this.reason = r), (this.code = i), (this.type = Ft.NavigationCancel));
    }
    toString() {
      return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;
    }
  },
  Yo = class extends zn {
    constructor(e, n, r, i) {
      (super(e, n), (this.reason = r), (this.code = i), (this.type = Ft.NavigationSkipped));
    }
  },
  Il = class extends zn {
    constructor(e, n, r, i) {
      (super(e, n), (this.error = r), (this.target = i), (this.type = Ft.NavigationError));
    }
    toString() {
      return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;
    }
  },
  yf = class extends zn {
    constructor(e, n, r, i) {
      (super(e, n),
        (this.urlAfterRedirects = r),
        (this.state = i),
        (this.type = Ft.RoutesRecognized));
    }
    toString() {
      return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  f_ = class extends zn {
    constructor(e, n, r, i) {
      (super(e, n),
        (this.urlAfterRedirects = r),
        (this.state = i),
        (this.type = Ft.GuardsCheckStart));
    }
    toString() {
      return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  p_ = class extends zn {
    constructor(e, n, r, i, o) {
      (super(e, n),
        (this.urlAfterRedirects = r),
        (this.state = i),
        (this.shouldActivate = o),
        (this.type = Ft.GuardsCheckEnd));
    }
    toString() {
      return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;
    }
  },
  m_ = class extends zn {
    constructor(e, n, r, i) {
      (super(e, n), (this.urlAfterRedirects = r), (this.state = i), (this.type = Ft.ResolveStart));
    }
    toString() {
      return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  g_ = class extends zn {
    constructor(e, n, r, i) {
      (super(e, n), (this.urlAfterRedirects = r), (this.state = i), (this.type = Ft.ResolveEnd));
    }
    toString() {
      return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;
    }
  },
  v_ = class {
    constructor(e) {
      ((this.route = e), (this.type = Ft.RouteConfigLoadStart));
    }
    toString() {
      return `RouteConfigLoadStart(path: ${this.route.path})`;
    }
  },
  y_ = class {
    constructor(e) {
      ((this.route = e), (this.type = Ft.RouteConfigLoadEnd));
    }
    toString() {
      return `RouteConfigLoadEnd(path: ${this.route.path})`;
    }
  },
  __ = class {
    constructor(e) {
      ((this.snapshot = e), (this.type = Ft.ChildActivationStart));
    }
    toString() {
      return `ChildActivationStart(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  },
  w_ = class {
    constructor(e) {
      ((this.snapshot = e), (this.type = Ft.ChildActivationEnd));
    }
    toString() {
      return `ChildActivationEnd(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  },
  E_ = class {
    constructor(e) {
      ((this.snapshot = e), (this.type = Ft.ActivationStart));
    }
    toString() {
      return `ActivationStart(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  },
  I_ = class {
    constructor(e) {
      ((this.snapshot = e), (this.type = Ft.ActivationEnd));
    }
    toString() {
      return `ActivationEnd(path: '${(this.snapshot.routeConfig && this.snapshot.routeConfig.path) || ''}')`;
    }
  };
var Dl = class {},
  pa = class {
    constructor(e, n) {
      ((this.url = e), (this.navigationBehaviorOptions = n));
    }
  };
function LH(t, e) {
  return (
    t.providers && !t._injector && (t._injector = Sy(t.providers, e, `Route: ${t.path}`)),
    t._injector ?? e
  );
}
function fr(t) {
  return t.outlet || Ee;
}
function jH(t, e) {
  let n = t.filter((r) => fr(r) === e);
  return (n.push(...t.filter((r) => fr(r) !== e)), n);
}
function Ml(t) {
  if (!t) return null;
  if (t.routeConfig?._injector) return t.routeConfig._injector;
  for (let e = t.parent; e; e = e.parent) {
    let n = e.routeConfig;
    if (n?._loadedInjector) return n._loadedInjector;
    if (n?._injector) return n._injector;
  }
  return null;
}
var D_ = class {
    get injector() {
      return Ml(this.route?.snapshot) ?? this.rootInjector;
    }
    set injector(e) {}
    constructor(e) {
      ((this.rootInjector = e),
        (this.outlet = null),
        (this.route = null),
        (this.children = new bf(this.rootInjector)),
        (this.attachRef = null));
    }
  },
  bf = (() => {
    class t {
      constructor(n) {
        ((this.rootInjector = n), (this.contexts = new Map()));
      }
      onChildOutletCreated(n, r) {
        let i = this.getOrCreateContext(n);
        ((i.outlet = r), this.contexts.set(n, i));
      }
      onChildOutletDestroyed(n) {
        let r = this.getContext(n);
        r && ((r.outlet = null), (r.attachRef = null));
      }
      onOutletDeactivated() {
        let n = this.contexts;
        return ((this.contexts = new Map()), n);
      }
      onOutletReAttached(n) {
        this.contexts = n;
      }
      getOrCreateContext(n) {
        let r = this.getContext(n);
        return (r || ((r = new D_(this.rootInjector)), this.contexts.set(n, r)), r);
      }
      getContext(n) {
        return this.contexts.get(n) || null;
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le(Pn));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })(),
  _f = class {
    constructor(e) {
      this._root = e;
    }
    get root() {
      return this._root.value;
    }
    parent(e) {
      let n = this.pathFromRoot(e);
      return n.length > 1 ? n[n.length - 2] : null;
    }
    children(e) {
      let n = C_(e, this._root);
      return n ? n.children.map((r) => r.value) : [];
    }
    firstChild(e) {
      let n = C_(e, this._root);
      return n && n.children.length > 0 ? n.children[0].value : null;
    }
    siblings(e) {
      let n = b_(e, this._root);
      return n.length < 2
        ? []
        : n[n.length - 2].children.map((i) => i.value).filter((i) => i !== e);
    }
    pathFromRoot(e) {
      return b_(e, this._root).map((n) => n.value);
    }
  };
function C_(t, e) {
  if (t === e.value) return e;
  for (let n of e.children) {
    let r = C_(t, n);
    if (r) return r;
  }
  return null;
}
function b_(t, e) {
  if (t === e.value) return [e];
  for (let n of e.children) {
    let r = b_(t, n);
    if (r.length) return (r.unshift(e), r);
  }
  return [];
}
var bn = class {
  constructor(e, n) {
    ((this.value = e), (this.children = n));
  }
  toString() {
    return `TreeNode(${this.value})`;
  }
};
function la(t) {
  let e = {};
  return (t && t.children.forEach((n) => (e[n.value.outlet] = n)), e);
}
var wf = class extends _f {
  constructor(e, n) {
    (super(e), (this.snapshot = n), O_(this, e));
  }
  toString() {
    return this.snapshot.toString();
  }
};
function UM(t) {
  let e = UH(t),
    n = new ot([new qo('', {})]),
    r = new ot({}),
    i = new ot({}),
    o = new ot({}),
    s = new ot(''),
    a = new Qo(n, r, o, s, i, Ee, t, e.root);
  return ((a.snapshot = e.root), new wf(new bn(a, []), e));
}
function UH(t) {
  let e = {},
    n = {},
    r = {},
    i = '',
    o = new da([], e, r, i, n, Ee, t, null, {});
  return new If('', new bn(o, []));
}
var Qo = class {
  constructor(e, n, r, i, o, s, a, c) {
    ((this.urlSubject = e),
      (this.paramsSubject = n),
      (this.queryParamsSubject = r),
      (this.fragmentSubject = i),
      (this.dataSubject = o),
      (this.outlet = s),
      (this.component = a),
      (this._futureSnapshot = c),
      (this.title = this.dataSubject?.pipe(ie((u) => u[Al])) ?? pe(void 0)),
      (this.url = e),
      (this.params = n),
      (this.queryParams = r),
      (this.fragment = i),
      (this.data = o));
  }
  get routeConfig() {
    return this._futureSnapshot.routeConfig;
  }
  get root() {
    return this._routerState.root;
  }
  get parent() {
    return this._routerState.parent(this);
  }
  get firstChild() {
    return this._routerState.firstChild(this);
  }
  get children() {
    return this._routerState.children(this);
  }
  get pathFromRoot() {
    return this._routerState.pathFromRoot(this);
  }
  get paramMap() {
    return ((this._paramMap ??= this.params.pipe(ie((e) => fa(e)))), this._paramMap);
  }
  get queryParamMap() {
    return ((this._queryParamMap ??= this.queryParams.pipe(ie((e) => fa(e)))), this._queryParamMap);
  }
  toString() {
    return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`;
  }
};
function Ef(t, e, n = 'emptyOnly') {
  let r,
    { routeConfig: i } = t;
  return (
    e !== null &&
    (n === 'always' || i?.path === '' || (!e.component && !e.routeConfig?.loadComponent))
      ? (r = {
          params: U(U({}, e.params), t.params),
          data: U(U({}, e.data), t.data),
          resolve: U(U(U(U({}, t.data), e.data), i?.data), t._resolvedData),
        })
      : (r = {
          params: U({}, t.params),
          data: U({}, t.data),
          resolve: U(U({}, t.data), t._resolvedData ?? {}),
        }),
    i && HM(i) && (r.resolve[Al] = i.title),
    r
  );
}
var da = class {
    get title() {
      return this.data?.[Al];
    }
    constructor(e, n, r, i, o, s, a, c, u) {
      ((this.url = e),
        (this.params = n),
        (this.queryParams = r),
        (this.fragment = i),
        (this.data = o),
        (this.outlet = s),
        (this.component = a),
        (this.routeConfig = c),
        (this._resolve = u));
    }
    get root() {
      return this._routerState.root;
    }
    get parent() {
      return this._routerState.parent(this);
    }
    get firstChild() {
      return this._routerState.firstChild(this);
    }
    get children() {
      return this._routerState.children(this);
    }
    get pathFromRoot() {
      return this._routerState.pathFromRoot(this);
    }
    get paramMap() {
      return ((this._paramMap ??= fa(this.params)), this._paramMap);
    }
    get queryParamMap() {
      return ((this._queryParamMap ??= fa(this.queryParams)), this._queryParamMap);
    }
    toString() {
      let e = this.url.map((r) => r.toString()).join('/'),
        n = this.routeConfig ? this.routeConfig.path : '';
      return `Route(url:'${e}', path:'${n}')`;
    }
  },
  If = class extends _f {
    constructor(e, n) {
      (super(n), (this.url = e), O_(this, n));
    }
    toString() {
      return BM(this._root);
    }
  };
function O_(t, e) {
  ((e.value._routerState = t), e.children.forEach((n) => O_(t, n)));
}
function BM(t) {
  let e = t.children.length > 0 ? ` { ${t.children.map(BM).join(', ')} } ` : '';
  return `${t.value}${e}`;
}
function o_(t) {
  if (t.snapshot) {
    let e = t.snapshot,
      n = t._futureSnapshot;
    ((t.snapshot = n),
      Nr(e.queryParams, n.queryParams) || t.queryParamsSubject.next(n.queryParams),
      e.fragment !== n.fragment && t.fragmentSubject.next(n.fragment),
      Nr(e.params, n.params) || t.paramsSubject.next(n.params),
      fH(e.url, n.url) || t.urlSubject.next(n.url),
      Nr(e.data, n.data) || t.dataSubject.next(n.data));
  } else ((t.snapshot = t._futureSnapshot), t.dataSubject.next(t._futureSnapshot.data));
}
function T_(t, e) {
  let n = Nr(t.params, e.params) && vH(t.url, e.url),
    r = !t.parent != !e.parent;
  return n && !r && (!t.parent || T_(t.parent, e.parent));
}
function HM(t) {
  return typeof t.title == 'string' || t.title === null;
}
var F_ = (() => {
    class t {
      constructor() {
        ((this.activated = null),
          (this._activatedRoute = null),
          (this.name = Ee),
          (this.activateEvents = new K()),
          (this.deactivateEvents = new K()),
          (this.attachEvents = new K()),
          (this.detachEvents = new K()),
          (this.parentContexts = H(bf)),
          (this.location = H(or)),
          (this.changeDetector = H(ur)),
          (this.inputBinder = H(V_, { optional: !0 })),
          (this.supportsBindingToComponentInputs = !0));
      }
      get activatedComponentRef() {
        return this.activated;
      }
      ngOnChanges(n) {
        if (n.name) {
          let { firstChange: r, previousValue: i } = n.name;
          if (r) return;
          (this.isTrackedInParentContexts(i) &&
            (this.deactivate(), this.parentContexts.onChildOutletDestroyed(i)),
            this.initializeOutletWithName());
        }
      }
      ngOnDestroy() {
        (this.isTrackedInParentContexts(this.name) &&
          this.parentContexts.onChildOutletDestroyed(this.name),
          this.inputBinder?.unsubscribeFromRouteData(this));
      }
      isTrackedInParentContexts(n) {
        return this.parentContexts.getContext(n)?.outlet === this;
      }
      ngOnInit() {
        this.initializeOutletWithName();
      }
      initializeOutletWithName() {
        if ((this.parentContexts.onChildOutletCreated(this.name, this), this.activated)) return;
        let n = this.parentContexts.getContext(this.name);
        n?.route &&
          (n.attachRef
            ? this.attach(n.attachRef, n.route)
            : this.activateWith(n.route, n.injector));
      }
      get isActivated() {
        return !!this.activated;
      }
      get component() {
        if (!this.activated) throw new Q(4012, !1);
        return this.activated.instance;
      }
      get activatedRoute() {
        if (!this.activated) throw new Q(4012, !1);
        return this._activatedRoute;
      }
      get activatedRouteData() {
        return this._activatedRoute ? this._activatedRoute.snapshot.data : {};
      }
      detach() {
        if (!this.activated) throw new Q(4012, !1);
        this.location.detach();
        let n = this.activated;
        return (
          (this.activated = null),
          (this._activatedRoute = null),
          this.detachEvents.emit(n.instance),
          n
        );
      }
      attach(n, r) {
        ((this.activated = n),
          (this._activatedRoute = r),
          this.location.insert(n.hostView),
          this.inputBinder?.bindActivatedRouteToOutletComponent(this),
          this.attachEvents.emit(n.instance));
      }
      deactivate() {
        if (this.activated) {
          let n = this.component;
          (this.activated.destroy(),
            (this.activated = null),
            (this._activatedRoute = null),
            this.deactivateEvents.emit(n));
        }
      }
      activateWith(n, r) {
        if (this.isActivated) throw new Q(4013, !1);
        this._activatedRoute = n;
        let i = this.location,
          s = n.snapshot.component,
          a = this.parentContexts.getOrCreateContext(this.name).children,
          c = new S_(n, a, i.injector);
        ((this.activated = i.createComponent(s, {
          index: i.length,
          injector: c,
          environmentInjector: r,
        })),
          this.changeDetector.markForCheck(),
          this.inputBinder?.bindActivatedRouteToOutletComponent(this),
          this.activateEvents.emit(this.activated.instance));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['router-outlet']],
          inputs: { name: 'name' },
          outputs: {
            activateEvents: 'activate',
            deactivateEvents: 'deactivate',
            attachEvents: 'attach',
            detachEvents: 'detach',
          },
          exportAs: ['outlet'],
          standalone: !0,
          features: [zt],
        });
      }
    }
    return t;
  })(),
  S_ = class t {
    __ngOutletInjector(e) {
      return new t(this.route, this.childContexts, e);
    }
    constructor(e, n, r) {
      ((this.route = e), (this.childContexts = n), (this.parent = r));
    }
    get(e, n) {
      return e === Qo ? this.route : e === bf ? this.childContexts : this.parent.get(e, n);
    }
  },
  V_ = new X('');
function BH(t, e, n) {
  let r = Cl(t, e._root, n ? n._root : void 0);
  return new wf(r, e);
}
function Cl(t, e, n) {
  if (n && t.shouldReuseRoute(e.value, n.value.snapshot)) {
    let r = n.value;
    r._futureSnapshot = e.value;
    let i = HH(t, e, n);
    return new bn(r, i);
  } else {
    if (t.shouldAttach(e.value)) {
      let o = t.retrieve(e.value);
      if (o !== null) {
        let s = o.route;
        return (
          (s.value._futureSnapshot = e.value),
          (s.children = e.children.map((a) => Cl(t, a))),
          s
        );
      }
    }
    let r = $H(e.value),
      i = e.children.map((o) => Cl(t, o));
    return new bn(r, i);
  }
}
function HH(t, e, n) {
  return e.children.map((r) => {
    for (let i of n.children) if (t.shouldReuseRoute(r.value, i.value.snapshot)) return Cl(t, r, i);
    return Cl(t, r);
  });
}
function $H(t) {
  return new Qo(
    new ot(t.url),
    new ot(t.params),
    new ot(t.queryParams),
    new ot(t.fragment),
    new ot(t.data),
    t.outlet,
    t.component,
    t
  );
}
var bl = class {
    constructor(e, n) {
      ((this.redirectTo = e), (this.navigationBehaviorOptions = n));
    }
  },
  $M = 'ngNavigationCancelingError';
function Df(t, e) {
  let { redirectTo: n, navigationBehaviorOptions: r } = Ko(e)
      ? { redirectTo: e, navigationBehaviorOptions: void 0 }
      : e,
    i = zM(!1, Tn.Redirect);
  return ((i.url = n), (i.navigationBehaviorOptions = r), i);
}
function zM(t, e) {
  let n = new Error(`NavigationCancelingError: ${t || ''}`);
  return ((n[$M] = !0), (n.cancellationCode = e), n);
}
function zH(t) {
  return WM(t) && Ko(t.url);
}
function WM(t) {
  return !!t && t[$M];
}
var WH = (t, e, n, r) =>
    ie((i) => (new A_(e, i.targetRouterState, i.currentRouterState, n, r).activate(t), i)),
  A_ = class {
    constructor(e, n, r, i, o) {
      ((this.routeReuseStrategy = e),
        (this.futureState = n),
        (this.currState = r),
        (this.forwardEvent = i),
        (this.inputBindingEnabled = o));
    }
    activate(e) {
      let n = this.futureState._root,
        r = this.currState ? this.currState._root : null;
      (this.deactivateChildRoutes(n, r, e),
        o_(this.futureState.root),
        this.activateChildRoutes(n, r, e));
    }
    deactivateChildRoutes(e, n, r) {
      let i = la(n);
      (e.children.forEach((o) => {
        let s = o.value.outlet;
        (this.deactivateRoutes(o, i[s], r), delete i[s]);
      }),
        Object.values(i).forEach((o) => {
          this.deactivateRouteAndItsChildren(o, r);
        }));
    }
    deactivateRoutes(e, n, r) {
      let i = e.value,
        o = n ? n.value : null;
      if (i === o)
        if (i.component) {
          let s = r.getContext(i.outlet);
          s && this.deactivateChildRoutes(e, n, s.children);
        } else this.deactivateChildRoutes(e, n, r);
      else o && this.deactivateRouteAndItsChildren(n, r);
    }
    deactivateRouteAndItsChildren(e, n) {
      e.value.component && this.routeReuseStrategy.shouldDetach(e.value.snapshot)
        ? this.detachAndStoreRouteSubtree(e, n)
        : this.deactivateRouteAndOutlet(e, n);
    }
    detachAndStoreRouteSubtree(e, n) {
      let r = n.getContext(e.value.outlet),
        i = r && e.value.component ? r.children : n,
        o = la(e);
      for (let s of Object.values(o)) this.deactivateRouteAndItsChildren(s, i);
      if (r && r.outlet) {
        let s = r.outlet.detach(),
          a = r.children.onOutletDeactivated();
        this.routeReuseStrategy.store(e.value.snapshot, {
          componentRef: s,
          route: e,
          contexts: a,
        });
      }
    }
    deactivateRouteAndOutlet(e, n) {
      let r = n.getContext(e.value.outlet),
        i = r && e.value.component ? r.children : n,
        o = la(e);
      for (let s of Object.values(o)) this.deactivateRouteAndItsChildren(s, i);
      r &&
        (r.outlet && (r.outlet.deactivate(), r.children.onOutletDeactivated()),
        (r.attachRef = null),
        (r.route = null));
    }
    activateChildRoutes(e, n, r) {
      let i = la(n);
      (e.children.forEach((o) => {
        (this.activateRoutes(o, i[o.value.outlet], r), this.forwardEvent(new I_(o.value.snapshot)));
      }),
        e.children.length && this.forwardEvent(new w_(e.value.snapshot)));
    }
    activateRoutes(e, n, r) {
      let i = e.value,
        o = n ? n.value : null;
      if ((o_(i), i === o))
        if (i.component) {
          let s = r.getOrCreateContext(i.outlet);
          this.activateChildRoutes(e, n, s.children);
        } else this.activateChildRoutes(e, n, r);
      else if (i.component) {
        let s = r.getOrCreateContext(i.outlet);
        if (this.routeReuseStrategy.shouldAttach(i.snapshot)) {
          let a = this.routeReuseStrategy.retrieve(i.snapshot);
          (this.routeReuseStrategy.store(i.snapshot, null),
            s.children.onOutletReAttached(a.contexts),
            (s.attachRef = a.componentRef),
            (s.route = a.route.value),
            s.outlet && s.outlet.attach(a.componentRef, a.route.value),
            o_(a.route.value),
            this.activateChildRoutes(e, null, s.children));
        } else
          ((s.attachRef = null),
            (s.route = i),
            s.outlet && s.outlet.activateWith(i, s.injector),
            this.activateChildRoutes(e, null, s.children));
      } else this.activateChildRoutes(e, null, r);
    }
  },
  Cf = class {
    constructor(e) {
      ((this.path = e), (this.route = this.path[this.path.length - 1]));
    }
  },
  ha = class {
    constructor(e, n) {
      ((this.component = e), (this.route = n));
    }
  };
function qH(t, e, n) {
  let r = t._root,
    i = e ? e._root : null;
  return pl(r, i, n, [r.value]);
}
function GH(t) {
  let e = t.routeConfig ? t.routeConfig.canActivateChild : null;
  return !e || e.length === 0 ? null : { node: t, guards: e };
}
function ga(t, e) {
  let n = Symbol(),
    r = e.get(t, n);
  return r === n ? (typeof t == 'function' && !Pb(t) ? t : e.get(t)) : r;
}
function pl(t, e, n, r, i = { canDeactivateChecks: [], canActivateChecks: [] }) {
  let o = la(e);
  return (
    t.children.forEach((s) => {
      (KH(s, o[s.value.outlet], n, r.concat([s.value]), i), delete o[s.value.outlet]);
    }),
    Object.entries(o).forEach(([s, a]) => yl(a, n.getContext(s), i)),
    i
  );
}
function KH(t, e, n, r, i = { canDeactivateChecks: [], canActivateChecks: [] }) {
  let o = t.value,
    s = e ? e.value : null,
    a = n ? n.getContext(t.value.outlet) : null;
  if (s && o.routeConfig === s.routeConfig) {
    let c = YH(s, o, o.routeConfig.runGuardsAndResolvers);
    (c
      ? i.canActivateChecks.push(new Cf(r))
      : ((o.data = s.data), (o._resolvedData = s._resolvedData)),
      o.component ? pl(t, e, a ? a.children : null, r, i) : pl(t, e, n, r, i),
      c &&
        a &&
        a.outlet &&
        a.outlet.isActivated &&
        i.canDeactivateChecks.push(new ha(a.outlet.component, s)));
  } else
    (s && yl(e, a, i),
      i.canActivateChecks.push(new Cf(r)),
      o.component ? pl(t, null, a ? a.children : null, r, i) : pl(t, null, n, r, i));
  return i;
}
function YH(t, e, n) {
  if (typeof n == 'function') return n(t, e);
  switch (n) {
    case 'pathParamsChange':
      return !Go(t.url, e.url);
    case 'pathParamsOrQueryParamsChange':
      return !Go(t.url, e.url) || !Nr(t.queryParams, e.queryParams);
    case 'always':
      return !0;
    case 'paramsOrQueryParamsChange':
      return !T_(t, e) || !Nr(t.queryParams, e.queryParams);
    case 'paramsChange':
    default:
      return !T_(t, e);
  }
}
function yl(t, e, n) {
  let r = la(t),
    i = t.value;
  (Object.entries(r).forEach(([o, s]) => {
    i.component ? (e ? yl(s, e.children.getContext(o), n) : yl(s, null, n)) : yl(s, e, n);
  }),
    i.component
      ? e && e.outlet && e.outlet.isActivated
        ? n.canDeactivateChecks.push(new ha(e.outlet.component, i))
        : n.canDeactivateChecks.push(new ha(null, i))
      : n.canDeactivateChecks.push(new ha(null, i)));
}
function xl(t) {
  return typeof t == 'function';
}
function QH(t) {
  return typeof t == 'boolean';
}
function XH(t) {
  return t && xl(t.canLoad);
}
function ZH(t) {
  return t && xl(t.canActivate);
}
function JH(t) {
  return t && xl(t.canActivateChild);
}
function e$(t) {
  return t && xl(t.canDeactivate);
}
function t$(t) {
  return t && xl(t.canMatch);
}
function qM(t) {
  return t instanceof Qr || t?.name === 'EmptyError';
}
var hf = Symbol('INITIAL_VALUE');
function ma() {
  return Pt((t) =>
    Ls(t.map((e) => e.pipe(Bt(1), So(hf)))).pipe(
      ie((e) => {
        for (let n of e)
          if (n !== !0) {
            if (n === hf) return hf;
            if (n === !1 || n$(n)) return n;
          }
        return !0;
      }),
      Ke((e) => e !== hf),
      Bt(1)
    )
  );
}
function n$(t) {
  return Ko(t) || t instanceof bl;
}
function r$(t, e) {
  return We((n) => {
    let {
      targetSnapshot: r,
      currentSnapshot: i,
      guards: { canActivateChecks: o, canDeactivateChecks: s },
    } = n;
    return s.length === 0 && o.length === 0
      ? pe(ve(U({}, n), { guardsResult: !0 }))
      : i$(s, r, i, t).pipe(
          We((a) => (a && QH(a) ? o$(r, o, t, e) : pe(a))),
          ie((a) => ve(U({}, n), { guardsResult: a }))
        );
  });
}
function i$(t, e, n, r) {
  return Ze(t).pipe(
    We((i) => u$(i.component, i.route, n, e, r)),
    Xn((i) => i !== !0, !0)
  );
}
function o$(t, e, n, r) {
  return Ze(e).pipe(
    To((i) => js(a$(i.route.parent, r), s$(i.route, r), l$(t, i.path, n), c$(t, i.route, n))),
    Xn((i) => i !== !0, !0)
  );
}
function s$(t, e) {
  return (t !== null && e && e(new E_(t)), pe(!0));
}
function a$(t, e) {
  return (t !== null && e && e(new __(t)), pe(!0));
}
function c$(t, e, n) {
  let r = e.routeConfig ? e.routeConfig.canActivate : null;
  if (!r || r.length === 0) return pe(!0);
  let i = r.map((o) =>
    Id(() => {
      let s = Ml(e) ?? n,
        a = ga(o, s),
        c = ZH(a) ? a.canActivate(e, t) : Tr(s, () => a(e, t));
      return Yi(c).pipe(Xn());
    })
  );
  return pe(i).pipe(ma());
}
function l$(t, e, n) {
  let r = e[e.length - 1],
    o = e
      .slice(0, e.length - 1)
      .reverse()
      .map((s) => GH(s))
      .filter((s) => s !== null)
      .map((s) =>
        Id(() => {
          let a = s.guards.map((c) => {
            let u = Ml(s.node) ?? n,
              d = ga(c, u),
              p = JH(d) ? d.canActivateChild(r, t) : Tr(u, () => d(r, t));
            return Yi(p).pipe(Xn());
          });
          return pe(a).pipe(ma());
        })
      );
  return pe(o).pipe(ma());
}
function u$(t, e, n, r, i) {
  let o = e && e.routeConfig ? e.routeConfig.canDeactivate : null;
  if (!o || o.length === 0) return pe(!0);
  let s = o.map((a) => {
    let c = Ml(e) ?? i,
      u = ga(a, c),
      d = e$(u) ? u.canDeactivate(t, e, n, r) : Tr(c, () => u(t, e, n, r));
    return Yi(d).pipe(Xn());
  });
  return pe(s).pipe(ma());
}
function d$(t, e, n, r) {
  let i = e.canLoad;
  if (i === void 0 || i.length === 0) return pe(!0);
  let o = i.map((s) => {
    let a = ga(s, t),
      c = XH(a) ? a.canLoad(e, n) : Tr(t, () => a(e, n));
    return Yi(c);
  });
  return pe(o).pipe(ma(), GM(r));
}
function GM(t) {
  return hg(
    tt((e) => {
      if (typeof e != 'boolean') throw Df(t, e);
    }),
    ie((e) => e === !0)
  );
}
function h$(t, e, n, r) {
  let i = e.canMatch;
  if (!i || i.length === 0) return pe(!0);
  let o = i.map((s) => {
    let a = ga(s, t),
      c = t$(a) ? a.canMatch(e, n) : Tr(t, () => a(e, n));
    return Yi(c);
  });
  return pe(o).pipe(ma(), GM(r));
}
var Tl = class {
    constructor(e) {
      this.segmentGroup = e || null;
    }
  },
  Sl = class extends Error {
    constructor(e) {
      (super(), (this.urlTree = e));
    }
  };
function ca(t) {
  return Fs(new Tl(t));
}
function f$(t) {
  return Fs(new Q(4e3, !1));
}
function p$(t) {
  return Fs(zM(!1, Tn.GuardRejected));
}
var M_ = class {
    constructor(e, n) {
      ((this.urlSerializer = e), (this.urlTree = n));
    }
    lineralizeSegments(e, n) {
      let r = [],
        i = n.root;
      for (;;) {
        if (((r = r.concat(i.segments)), i.numberOfChildren === 0)) return pe(r);
        if (i.numberOfChildren > 1 || !i.children[Ee]) return f$(`${e.redirectTo}`);
        i = i.children[Ee];
      }
    }
    applyRedirectCommands(e, n, r, i, o) {
      if (typeof n != 'string') {
        let a = n,
          {
            queryParams: c,
            fragment: u,
            routeConfig: d,
            url: p,
            outlet: v,
            params: m,
            data: D,
            title: M,
          } = i,
          A = Tr(o, () =>
            a({
              params: m,
              data: D,
              queryParams: c,
              fragment: u,
              routeConfig: d,
              url: p,
              outlet: v,
              title: M,
            })
          );
        if (A instanceof di) throw new Sl(A);
        n = A;
      }
      let s = this.applyRedirectCreateUrlTree(n, this.urlSerializer.parse(n), e, r);
      if (n[0] === '/') throw new Sl(s);
      return s;
    }
    applyRedirectCreateUrlTree(e, n, r, i) {
      let o = this.createSegmentGroup(e, n.root, r, i);
      return new di(o, this.createQueryParams(n.queryParams, this.urlTree.queryParams), n.fragment);
    }
    createQueryParams(e, n) {
      let r = {};
      return (
        Object.entries(e).forEach(([i, o]) => {
          if (typeof o == 'string' && o[0] === ':') {
            let a = o.substring(1);
            r[i] = n[a];
          } else r[i] = o;
        }),
        r
      );
    }
    createSegmentGroup(e, n, r, i) {
      let o = this.createSegments(e, n.segments, r, i),
        s = {};
      return (
        Object.entries(n.children).forEach(([a, c]) => {
          s[a] = this.createSegmentGroup(e, c, r, i);
        }),
        new je(o, s)
      );
    }
    createSegments(e, n, r, i) {
      return n.map((o) =>
        o.path[0] === ':' ? this.findPosParam(e, o, i) : this.findOrReturn(o, r)
      );
    }
    findPosParam(e, n, r) {
      let i = r[n.path.substring(1)];
      if (!i) throw new Q(4001, !1);
      return i;
    }
    findOrReturn(e, n) {
      let r = 0;
      for (let i of n) {
        if (i.path === e.path) return (n.splice(r), i);
        r++;
      }
      return e;
    }
  },
  x_ = {
    matched: !1,
    consumedSegments: [],
    remainingSegments: [],
    parameters: {},
    positionalParamSegments: {},
  };
function m$(t, e, n, r, i) {
  let o = KM(t, e, n);
  return o.matched
    ? ((r = LH(e, r)), h$(r, e, n, i).pipe(ie((s) => (s === !0 ? o : U({}, x_)))))
    : pe(o);
}
function KM(t, e, n) {
  if (e.path === '**') return g$(n);
  if (e.path === '')
    return e.pathMatch === 'full' && (t.hasChildren() || n.length > 0)
      ? U({}, x_)
      : {
          matched: !0,
          consumedSegments: [],
          remainingSegments: n,
          parameters: {},
          positionalParamSegments: {},
        };
  let i = (e.matcher || hH)(n, t, e);
  if (!i) return U({}, x_);
  let o = {};
  Object.entries(i.posParams ?? {}).forEach(([a, c]) => {
    o[a] = c.path;
  });
  let s = i.consumed.length > 0 ? U(U({}, o), i.consumed[i.consumed.length - 1].parameters) : o;
  return {
    matched: !0,
    consumedSegments: i.consumed,
    remainingSegments: n.slice(i.consumed.length),
    parameters: s,
    positionalParamSegments: i.posParams ?? {},
  };
}
function g$(t) {
  return {
    matched: !0,
    parameters: t.length > 0 ? SM(t).parameters : {},
    consumedSegments: t,
    remainingSegments: [],
    positionalParamSegments: {},
  };
}
function DM(t, e, n, r) {
  return n.length > 0 && _$(t, n, r)
    ? {
        segmentGroup: new je(e, y$(r, new je(n, t.children))),
        slicedSegments: [],
      }
    : n.length === 0 && w$(t, n, r)
      ? {
          segmentGroup: new je(t.segments, v$(t, n, r, t.children)),
          slicedSegments: n,
        }
      : { segmentGroup: new je(t.segments, t.children), slicedSegments: n };
}
function v$(t, e, n, r) {
  let i = {};
  for (let o of n)
    if (Tf(t, e, o) && !r[fr(o)]) {
      let s = new je([], {});
      i[fr(o)] = s;
    }
  return U(U({}, r), i);
}
function y$(t, e) {
  let n = {};
  n[Ee] = e;
  for (let r of t)
    if (r.path === '' && fr(r) !== Ee) {
      let i = new je([], {});
      n[fr(r)] = i;
    }
  return n;
}
function _$(t, e, n) {
  return n.some((r) => Tf(t, e, r) && fr(r) !== Ee);
}
function w$(t, e, n) {
  return n.some((r) => Tf(t, e, r));
}
function Tf(t, e, n) {
  return (t.hasChildren() || e.length > 0) && n.pathMatch === 'full' ? !1 : n.path === '';
}
function E$(t, e, n) {
  return e.length === 0 && !t.children[n];
}
var R_ = class {};
function I$(t, e, n, r, i, o, s = 'emptyOnly') {
  return new N_(t, e, n, r, i, s, o).recognize();
}
var D$ = 31,
  N_ = class {
    constructor(e, n, r, i, o, s, a) {
      ((this.injector = e),
        (this.configLoader = n),
        (this.rootComponentType = r),
        (this.config = i),
        (this.urlTree = o),
        (this.paramsInheritanceStrategy = s),
        (this.urlSerializer = a),
        (this.applyRedirects = new M_(this.urlSerializer, this.urlTree)),
        (this.absoluteRedirectCount = 0),
        (this.allowRedirects = !0));
    }
    noMatchError(e) {
      return new Q(4002, `'${e.segmentGroup}'`);
    }
    recognize() {
      let e = DM(this.urlTree.root, [], [], this.config).segmentGroup;
      return this.match(e).pipe(
        ie(({ children: n, rootSnapshot: r }) => {
          let i = new bn(r, n),
            o = new If('', i),
            s = RH(r, [], this.urlTree.queryParams, this.urlTree.fragment);
          return (
            (s.queryParams = this.urlTree.queryParams),
            (o.url = this.urlSerializer.serialize(s)),
            { state: o, tree: s }
          );
        })
      );
    }
    match(e) {
      let n = new da(
        [],
        Object.freeze({}),
        Object.freeze(U({}, this.urlTree.queryParams)),
        this.urlTree.fragment,
        Object.freeze({}),
        Ee,
        this.rootComponentType,
        null,
        {}
      );
      return this.processSegmentGroup(this.injector, this.config, e, Ee, n).pipe(
        ie((r) => ({ children: r, rootSnapshot: n })),
        Ni((r) => {
          if (r instanceof Sl) return ((this.urlTree = r.urlTree), this.match(r.urlTree.root));
          throw r instanceof Tl ? this.noMatchError(r) : r;
        })
      );
    }
    processSegmentGroup(e, n, r, i, o) {
      return r.segments.length === 0 && r.hasChildren()
        ? this.processChildren(e, n, r, o)
        : this.processSegment(e, n, r, r.segments, i, !0, o).pipe(
            ie((s) => (s instanceof bn ? [s] : []))
          );
    }
    processChildren(e, n, r, i) {
      let o = [];
      for (let s of Object.keys(r.children)) s === 'primary' ? o.unshift(s) : o.push(s);
      return Ze(o).pipe(
        To((s) => {
          let a = r.children[s],
            c = jH(n, s);
          return this.processSegmentGroup(e, c, a, s, i);
        }),
        Tg((s, a) => (s.push(...a), s)),
        ki(null),
        bg(),
        We((s) => {
          if (s === null) return ca(r);
          let a = YM(s);
          return (C$(a), pe(a));
        })
      );
    }
    processSegment(e, n, r, i, o, s, a) {
      return Ze(n).pipe(
        To((c) =>
          this.processSegmentAgainstRoute(c._injector ?? e, n, c, r, i, o, s, a).pipe(
            Ni((u) => {
              if (u instanceof Tl) return pe(null);
              throw u;
            })
          )
        ),
        Xn((c) => !!c),
        Ni((c) => {
          if (qM(c)) return E$(r, i, o) ? pe(new R_()) : ca(r);
          throw c;
        })
      );
    }
    processSegmentAgainstRoute(e, n, r, i, o, s, a, c) {
      return fr(r) !== s && (s === Ee || !Tf(i, o, r))
        ? ca(i)
        : r.redirectTo === void 0
          ? this.matchSegmentAgainstRoute(e, i, r, o, s, c)
          : this.allowRedirects && a
            ? this.expandSegmentAgainstRouteUsingRedirect(e, i, n, r, o, s, c)
            : ca(i);
    }
    expandSegmentAgainstRouteUsingRedirect(e, n, r, i, o, s, a) {
      let {
        matched: c,
        parameters: u,
        consumedSegments: d,
        positionalParamSegments: p,
        remainingSegments: v,
      } = KM(n, i, o);
      if (!c) return ca(n);
      typeof i.redirectTo == 'string' &&
        i.redirectTo[0] === '/' &&
        (this.absoluteRedirectCount++,
        this.absoluteRedirectCount > D$ && (this.allowRedirects = !1));
      let m = new da(
          o,
          u,
          Object.freeze(U({}, this.urlTree.queryParams)),
          this.urlTree.fragment,
          CM(i),
          fr(i),
          i.component ?? i._loadedComponent ?? null,
          i,
          bM(i)
        ),
        D = Ef(m, a, this.paramsInheritanceStrategy);
      ((m.params = Object.freeze(D.params)), (m.data = Object.freeze(D.data)));
      let M = this.applyRedirects.applyRedirectCommands(d, i.redirectTo, p, m, e);
      return this.applyRedirects
        .lineralizeSegments(i, M)
        .pipe(We((A) => this.processSegment(e, r, n, A.concat(v), s, !1, a)));
    }
    matchSegmentAgainstRoute(e, n, r, i, o, s) {
      let a = m$(n, r, i, e, this.urlSerializer);
      return (
        r.path === '**' && (n.children = {}),
        a.pipe(
          Pt((c) =>
            c.matched
              ? ((e = r._injector ?? e),
                this.getChildConfig(e, r, i).pipe(
                  Pt(({ routes: u }) => {
                    let d = r._loadedInjector ?? e,
                      { parameters: p, consumedSegments: v, remainingSegments: m } = c,
                      D = new da(
                        v,
                        p,
                        Object.freeze(U({}, this.urlTree.queryParams)),
                        this.urlTree.fragment,
                        CM(r),
                        fr(r),
                        r.component ?? r._loadedComponent ?? null,
                        r,
                        bM(r)
                      ),
                      M = Ef(D, s, this.paramsInheritanceStrategy);
                    ((D.params = Object.freeze(M.params)), (D.data = Object.freeze(M.data)));
                    let { segmentGroup: A, slicedSegments: N } = DM(n, v, m, u);
                    if (N.length === 0 && A.hasChildren())
                      return this.processChildren(d, u, A, D).pipe(ie((F) => new bn(D, F)));
                    if (u.length === 0 && N.length === 0) return pe(new bn(D, []));
                    let O = fr(r) === o;
                    return this.processSegment(d, u, A, N, O ? Ee : o, !0, D).pipe(
                      ie((F) => new bn(D, F instanceof bn ? [F] : []))
                    );
                  })
                ))
              : ca(n)
          )
        )
      );
    }
    getChildConfig(e, n, r) {
      return n.children
        ? pe({ routes: n.children, injector: e })
        : n.loadChildren
          ? n._loadedRoutes !== void 0
            ? pe({ routes: n._loadedRoutes, injector: n._loadedInjector })
            : d$(e, n, r, this.urlSerializer).pipe(
                We((i) =>
                  i
                    ? this.configLoader.loadChildren(e, n).pipe(
                        tt((o) => {
                          ((n._loadedRoutes = o.routes), (n._loadedInjector = o.injector));
                        })
                      )
                    : p$(n)
                )
              )
          : pe({ routes: [], injector: e });
    }
  };
function C$(t) {
  t.sort((e, n) =>
    e.value.outlet === Ee
      ? -1
      : n.value.outlet === Ee
        ? 1
        : e.value.outlet.localeCompare(n.value.outlet)
  );
}
function b$(t) {
  let e = t.value.routeConfig;
  return e && e.path === '';
}
function YM(t) {
  let e = [],
    n = new Set();
  for (let r of t) {
    if (!b$(r)) {
      e.push(r);
      continue;
    }
    let i = e.find((o) => r.value.routeConfig === o.value.routeConfig);
    i !== void 0 ? (i.children.push(...r.children), n.add(i)) : e.push(r);
  }
  for (let r of n) {
    let i = YM(r.children);
    e.push(new bn(r.value, i));
  }
  return e.filter((r) => !n.has(r));
}
function CM(t) {
  return t.data || {};
}
function bM(t) {
  return t.resolve || {};
}
function T$(t, e, n, r, i, o) {
  return We((s) =>
    I$(t, e, n, r, s.extractedUrl, i, o).pipe(
      ie(({ state: a, tree: c }) => ve(U({}, s), { targetSnapshot: a, urlAfterRedirects: c }))
    )
  );
}
function S$(t, e) {
  return We((n) => {
    let {
      targetSnapshot: r,
      guards: { canActivateChecks: i },
    } = n;
    if (!i.length) return pe(n);
    let o = new Set(i.map((c) => c.route)),
      s = new Set();
    for (let c of o) if (!s.has(c)) for (let u of QM(c)) s.add(u);
    let a = 0;
    return Ze(s).pipe(
      To((c) => (o.has(c) ? A$(c, r, t, e) : ((c.data = Ef(c, c.parent, t).resolve), pe(void 0)))),
      tt(() => a++),
      Pi(1),
      We((c) => (a === s.size ? pe(n) : tn))
    );
  });
}
function QM(t) {
  let e = t.children.map((n) => QM(n)).flat();
  return [t, ...e];
}
function A$(t, e, n, r) {
  let i = t.routeConfig,
    o = t._resolve;
  return (
    i?.title !== void 0 && !HM(i) && (o[Al] = i.title),
    M$(o, t, e, r).pipe(
      ie((s) => ((t._resolvedData = s), (t.data = Ef(t, t.parent, n).resolve), null))
    )
  );
}
function M$(t, e, n, r) {
  let i = c_(t);
  if (i.length === 0) return pe({});
  let o = {};
  return Ze(i).pipe(
    We((s) =>
      x$(t[s], e, n, r).pipe(
        Xn(),
        tt((a) => {
          if (a instanceof bl) throw Df(new _l(), a);
          o[s] = a;
        })
      )
    ),
    Pi(1),
    Dg(o),
    Ni((s) => (qM(s) ? tn : Fs(s)))
  );
}
function x$(t, e, n, r) {
  let i = Ml(e) ?? r,
    o = ga(t, i),
    s = o.resolve ? o.resolve(e, n) : Tr(i, () => o(e, n));
  return Yi(s);
}
function s_(t) {
  return Pt((e) => {
    let n = t(e);
    return n ? Ze(n).pipe(ie(() => e)) : pe(e);
  });
}
var XM = (() => {
    class t {
      buildTitle(n) {
        let r,
          i = n.root;
        for (; i !== void 0; )
          ((r = this.getResolvedTitleForRoute(i) ?? r),
            (i = i.children.find((o) => o.outlet === Ee)));
        return r;
      }
      getResolvedTitleForRoute(n) {
        return n.data[Al];
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: () => H(R$), providedIn: 'root' });
      }
    }
    return t;
  })(),
  R$ = (() => {
    class t extends XM {
      constructor(n) {
        (super(), (this.title = n));
      }
      updateTitle(n) {
        let r = this.buildTitle(n);
        r !== void 0 && this.title.setTitle(r);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(le(vM));
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })(),
  L_ = new X('', { providedIn: 'root', factory: () => ({}) }),
  N$ = (() => {
    class t {
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵcmp = Oe({
          type: t,
          selectors: [['ng-component']],
          standalone: !0,
          features: [Mt],
          decls: 1,
          vars: 0,
          template: function (r, i) {
            r & 1 && ue(0, 'router-outlet');
          },
          dependencies: [F_],
          encapsulation: 2,
        });
      }
    }
    return t;
  })();
function j_(t) {
  let e = t.children && t.children.map(j_),
    n = e ? ve(U({}, t), { children: e }) : U({}, t);
  return (
    !n.component &&
      !n.loadComponent &&
      (e || n.loadChildren) &&
      n.outlet &&
      n.outlet !== Ee &&
      (n.component = N$),
    n
  );
}
var U_ = new X(''),
  k$ = (() => {
    class t {
      constructor() {
        ((this.componentLoaders = new WeakMap()),
          (this.childrenLoaders = new WeakMap()),
          (this.compiler = H(Oy)));
      }
      loadComponent(n) {
        if (this.componentLoaders.get(n)) return this.componentLoaders.get(n);
        if (n._loadedComponent) return pe(n._loadedComponent);
        this.onLoadStartListener && this.onLoadStartListener(n);
        let r = Yi(n.loadComponent()).pipe(
            ie(ZM),
            tt((o) => {
              (this.onLoadEndListener && this.onLoadEndListener(n), (n._loadedComponent = o));
            }),
            Us(() => {
              this.componentLoaders.delete(n);
            })
          ),
          i = new xs(r, () => new Te()).pipe(Ms());
        return (this.componentLoaders.set(n, i), i);
      }
      loadChildren(n, r) {
        if (this.childrenLoaders.get(r)) return this.childrenLoaders.get(r);
        if (r._loadedRoutes) return pe({ routes: r._loadedRoutes, injector: r._loadedInjector });
        this.onLoadStartListener && this.onLoadStartListener(r);
        let o = P$(r, this.compiler, n, this.onLoadEndListener).pipe(
            Us(() => {
              this.childrenLoaders.delete(r);
            })
          ),
          s = new xs(o, () => new Te()).pipe(Ms());
        return (this.childrenLoaders.set(r, s), s);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })();
function P$(t, e, n, r) {
  return Yi(t.loadChildren()).pipe(
    ie(ZM),
    We((i) => (i instanceof Wc || Array.isArray(i) ? pe(i) : Ze(e.compileModuleAsync(i)))),
    ie((i) => {
      r && r(t);
      let o,
        s,
        a = !1;
      return (
        Array.isArray(i)
          ? ((s = i), (a = !0))
          : ((o = i.create(n).injector), (s = o.get(U_, [], { optional: !0, self: !0 }).flat())),
        { routes: s.map(j_), injector: o }
      );
    })
  );
}
function O$(t) {
  return t && typeof t == 'object' && 'default' in t;
}
function ZM(t) {
  return O$(t) ? t.default : t;
}
var B_ = (() => {
    class t {
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: () => H(F$), providedIn: 'root' });
      }
    }
    return t;
  })(),
  F$ = (() => {
    class t {
      shouldProcessUrl(n) {
        return !0;
      }
      extract(n) {
        return n;
      }
      merge(n, r) {
        return n;
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })(),
  V$ = new X('');
var L$ = new X(''),
  j$ = (() => {
    class t {
      get hasRequestedNavigation() {
        return this.navigationId !== 0;
      }
      constructor() {
        ((this.currentNavigation = null),
          (this.currentTransition = null),
          (this.lastSuccessfulNavigation = null),
          (this.events = new Te()),
          (this.transitionAbortSubject = new Te()),
          (this.configLoader = H(k$)),
          (this.environmentInjector = H(Pn)),
          (this.urlSerializer = H(P_)),
          (this.rootContexts = H(bf)),
          (this.location = H(al)),
          (this.inputBindingEnabled = H(V_, { optional: !0 }) !== null),
          (this.titleStrategy = H(XM)),
          (this.options = H(L_, { optional: !0 }) || {}),
          (this.paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || 'emptyOnly'),
          (this.urlHandlingStrategy = H(B_)),
          (this.createViewTransition = H(V$, { optional: !0 })),
          (this.navigationErrorHandler = H(L$, { optional: !0 })),
          (this.navigationId = 0),
          (this.afterPreactivation = () => pe(void 0)),
          (this.rootComponentType = null));
        let n = (i) => this.events.next(new v_(i)),
          r = (i) => this.events.next(new y_(i));
        ((this.configLoader.onLoadEndListener = r), (this.configLoader.onLoadStartListener = n));
      }
      complete() {
        this.transitions?.complete();
      }
      handleNavigationRequest(n) {
        let r = ++this.navigationId;
        this.transitions?.next(ve(U(U({}, this.transitions.value), n), { id: r }));
      }
      setupNavigations(n, r, i) {
        return (
          (this.transitions = new ot({
            id: 0,
            currentUrlTree: r,
            currentRawUrl: r,
            extractedUrl: this.urlHandlingStrategy.extract(r),
            urlAfterRedirects: this.urlHandlingStrategy.extract(r),
            rawUrl: r,
            extras: {},
            resolve: () => {},
            reject: () => {},
            promise: Promise.resolve(!0),
            source: vl,
            restoredState: null,
            currentSnapshot: i.snapshot,
            targetSnapshot: null,
            currentRouterState: i,
            targetRouterState: null,
            guards: { canActivateChecks: [], canDeactivateChecks: [] },
            guardsResult: null,
          })),
          this.transitions.pipe(
            Ke((o) => o.id !== 0),
            ie((o) =>
              ve(U({}, o), {
                extractedUrl: this.urlHandlingStrategy.extract(o.rawUrl),
              })
            ),
            Pt((o) => {
              let s = !1,
                a = !1;
              return pe(o).pipe(
                Pt((c) => {
                  if (this.navigationId > o.id)
                    return (
                      this.cancelNavigationTransition(o, '', Tn.SupersededByNewNavigation),
                      tn
                    );
                  ((this.currentTransition = o),
                    (this.currentNavigation = {
                      id: c.id,
                      initialUrl: c.rawUrl,
                      extractedUrl: c.extractedUrl,
                      targetBrowserUrl:
                        typeof c.extras.browserUrl == 'string'
                          ? this.urlSerializer.parse(c.extras.browserUrl)
                          : c.extras.browserUrl,
                      trigger: c.source,
                      extras: c.extras,
                      previousNavigation: this.lastSuccessfulNavigation
                        ? ve(U({}, this.lastSuccessfulNavigation), {
                            previousNavigation: null,
                          })
                        : null,
                    }));
                  let u =
                      !n.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl(),
                    d = c.extras.onSameUrlNavigation ?? n.onSameUrlNavigation;
                  if (!u && d !== 'reload') {
                    let p = '';
                    return (
                      this.events.next(
                        new Yo(
                          c.id,
                          this.urlSerializer.serialize(c.rawUrl),
                          p,
                          h_.IgnoredSameUrlNavigation
                        )
                      ),
                      c.resolve(!1),
                      tn
                    );
                  }
                  if (this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))
                    return pe(c).pipe(
                      Pt((p) => {
                        let v = this.transitions?.getValue();
                        return (
                          this.events.next(
                            new El(
                              p.id,
                              this.urlSerializer.serialize(p.extractedUrl),
                              p.source,
                              p.restoredState
                            )
                          ),
                          v !== this.transitions?.getValue() ? tn : Promise.resolve(p)
                        );
                      }),
                      T$(
                        this.environmentInjector,
                        this.configLoader,
                        this.rootComponentType,
                        n.config,
                        this.urlSerializer,
                        this.paramsInheritanceStrategy
                      ),
                      tt((p) => {
                        ((o.targetSnapshot = p.targetSnapshot),
                          (o.urlAfterRedirects = p.urlAfterRedirects),
                          (this.currentNavigation = ve(U({}, this.currentNavigation), {
                            finalUrl: p.urlAfterRedirects,
                          })));
                        let v = new yf(
                          p.id,
                          this.urlSerializer.serialize(p.extractedUrl),
                          this.urlSerializer.serialize(p.urlAfterRedirects),
                          p.targetSnapshot
                        );
                        this.events.next(v);
                      })
                    );
                  if (u && this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)) {
                    let { id: p, extractedUrl: v, source: m, restoredState: D, extras: M } = c,
                      A = new El(p, this.urlSerializer.serialize(v), m, D);
                    this.events.next(A);
                    let N = UM(this.rootComponentType).snapshot;
                    return (
                      (this.currentTransition = o =
                        ve(U({}, c), {
                          targetSnapshot: N,
                          urlAfterRedirects: v,
                          extras: ve(U({}, M), {
                            skipLocationChange: !1,
                            replaceUrl: !1,
                          }),
                        })),
                      (this.currentNavigation.finalUrl = v),
                      pe(o)
                    );
                  } else {
                    let p = '';
                    return (
                      this.events.next(
                        new Yo(
                          c.id,
                          this.urlSerializer.serialize(c.extractedUrl),
                          p,
                          h_.IgnoredByUrlHandlingStrategy
                        )
                      ),
                      c.resolve(!1),
                      tn
                    );
                  }
                }),
                tt((c) => {
                  let u = new f_(
                    c.id,
                    this.urlSerializer.serialize(c.extractedUrl),
                    this.urlSerializer.serialize(c.urlAfterRedirects),
                    c.targetSnapshot
                  );
                  this.events.next(u);
                }),
                ie(
                  (c) => (
                    (this.currentTransition = o =
                      ve(U({}, c), {
                        guards: qH(c.targetSnapshot, c.currentSnapshot, this.rootContexts),
                      })),
                    o
                  )
                ),
                r$(this.environmentInjector, (c) => this.events.next(c)),
                tt((c) => {
                  if (
                    ((o.guardsResult = c.guardsResult),
                    c.guardsResult && typeof c.guardsResult != 'boolean')
                  )
                    throw Df(this.urlSerializer, c.guardsResult);
                  let u = new p_(
                    c.id,
                    this.urlSerializer.serialize(c.extractedUrl),
                    this.urlSerializer.serialize(c.urlAfterRedirects),
                    c.targetSnapshot,
                    !!c.guardsResult
                  );
                  this.events.next(u);
                }),
                Ke((c) =>
                  c.guardsResult
                    ? !0
                    : (this.cancelNavigationTransition(c, '', Tn.GuardRejected), !1)
                ),
                s_((c) => {
                  if (c.guards.canActivateChecks.length)
                    return pe(c).pipe(
                      tt((u) => {
                        let d = new m_(
                          u.id,
                          this.urlSerializer.serialize(u.extractedUrl),
                          this.urlSerializer.serialize(u.urlAfterRedirects),
                          u.targetSnapshot
                        );
                        this.events.next(d);
                      }),
                      Pt((u) => {
                        let d = !1;
                        return pe(u).pipe(
                          S$(this.paramsInheritanceStrategy, this.environmentInjector),
                          tt({
                            next: () => (d = !0),
                            complete: () => {
                              d || this.cancelNavigationTransition(u, '', Tn.NoDataFromResolver);
                            },
                          })
                        );
                      }),
                      tt((u) => {
                        let d = new g_(
                          u.id,
                          this.urlSerializer.serialize(u.extractedUrl),
                          this.urlSerializer.serialize(u.urlAfterRedirects),
                          u.targetSnapshot
                        );
                        this.events.next(d);
                      })
                    );
                }),
                s_((c) => {
                  let u = (d) => {
                    let p = [];
                    d.routeConfig?.loadComponent &&
                      !d.routeConfig._loadedComponent &&
                      p.push(
                        this.configLoader.loadComponent(d.routeConfig).pipe(
                          tt((v) => {
                            d.component = v;
                          }),
                          ie(() => {})
                        )
                      );
                    for (let v of d.children) p.push(...u(v));
                    return p;
                  };
                  return Ls(u(c.targetSnapshot.root)).pipe(ki(null), Bt(1));
                }),
                s_(() => this.afterPreactivation()),
                Pt(() => {
                  let { currentSnapshot: c, targetSnapshot: u } = o,
                    d = this.createViewTransition?.(this.environmentInjector, c.root, u.root);
                  return d ? Ze(d).pipe(ie(() => o)) : pe(o);
                }),
                ie((c) => {
                  let u = BH(n.routeReuseStrategy, c.targetSnapshot, c.currentRouterState);
                  return (
                    (this.currentTransition = o = ve(U({}, c), { targetRouterState: u })),
                    (this.currentNavigation.targetRouterState = u),
                    o
                  );
                }),
                tt(() => {
                  this.events.next(new Dl());
                }),
                WH(
                  this.rootContexts,
                  n.routeReuseStrategy,
                  (c) => this.events.next(c),
                  this.inputBindingEnabled
                ),
                Bt(1),
                tt({
                  next: (c) => {
                    ((s = !0),
                      (this.lastSuccessfulNavigation = this.currentNavigation),
                      this.events.next(
                        new Ki(
                          c.id,
                          this.urlSerializer.serialize(c.extractedUrl),
                          this.urlSerializer.serialize(c.urlAfterRedirects)
                        )
                      ),
                      this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),
                      c.resolve(!0));
                  },
                  complete: () => {
                    s = !0;
                  },
                }),
                un(
                  this.transitionAbortSubject.pipe(
                    tt((c) => {
                      throw c;
                    })
                  )
                ),
                Us(() => {
                  (!s && !a && this.cancelNavigationTransition(o, '', Tn.SupersededByNewNavigation),
                    this.currentTransition?.id === o.id &&
                      ((this.currentNavigation = null), (this.currentTransition = null)));
                }),
                Ni((c) => {
                  if (((a = !0), WM(c)))
                    (this.events.next(
                      new ui(
                        o.id,
                        this.urlSerializer.serialize(o.extractedUrl),
                        c.message,
                        c.cancellationCode
                      )
                    ),
                      zH(c)
                        ? this.events.next(new pa(c.url, c.navigationBehaviorOptions))
                        : o.resolve(!1));
                  else {
                    let u = new Il(
                      o.id,
                      this.urlSerializer.serialize(o.extractedUrl),
                      c,
                      o.targetSnapshot ?? void 0
                    );
                    try {
                      let d = Tr(this.environmentInjector, () => this.navigationErrorHandler?.(u));
                      if (d instanceof bl) {
                        let { message: p, cancellationCode: v } = Df(this.urlSerializer, d);
                        (this.events.next(
                          new ui(o.id, this.urlSerializer.serialize(o.extractedUrl), p, v)
                        ),
                          this.events.next(new pa(d.redirectTo, d.navigationBehaviorOptions)));
                      } else {
                        this.events.next(u);
                        let p = n.errorHandler(c);
                        o.resolve(!!p);
                      }
                    } catch (d) {
                      this.options.resolveNavigationPromiseOnError ? o.resolve(!1) : o.reject(d);
                    }
                  }
                  return tn;
                })
              );
            })
          )
        );
      }
      cancelNavigationTransition(n, r, i) {
        let o = new ui(n.id, this.urlSerializer.serialize(n.extractedUrl), r, i);
        (this.events.next(o), n.resolve(!1));
      }
      isUpdatingInternalState() {
        return (
          this.currentTransition?.extractedUrl.toString() !==
          this.currentTransition?.currentUrlTree.toString()
        );
      }
      isUpdatedBrowserUrl() {
        let n = this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),
          r = this.currentNavigation?.targetBrowserUrl ?? this.currentNavigation?.extractedUrl;
        return n.toString() !== r?.toString() && !this.currentNavigation?.extras.skipLocationChange;
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })();
function U$(t) {
  return t !== vl;
}
var B$ = (() => {
    class t {
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: () => H(H$), providedIn: 'root' });
      }
    }
    return t;
  })(),
  k_ = class {
    shouldDetach(e) {
      return !1;
    }
    store(e, n) {}
    shouldAttach(e) {
      return !1;
    }
    retrieve(e) {
      return null;
    }
    shouldReuseRoute(e, n) {
      return e.routeConfig === n.routeConfig;
    }
  },
  H$ = (() => {
    class t extends k_ {
      static {
        this.ɵfac = (() => {
          let n;
          return function (i) {
            return (n || (n = Ar(t)))(i || t);
          };
        })();
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })(),
  JM = (() => {
    class t {
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: () => H($$), providedIn: 'root' });
      }
    }
    return t;
  })(),
  $$ = (() => {
    class t extends JM {
      constructor() {
        (super(...arguments),
          (this.location = H(al)),
          (this.urlSerializer = H(P_)),
          (this.options = H(L_, { optional: !0 }) || {}),
          (this.canceledNavigationResolution =
            this.options.canceledNavigationResolution || 'replace'),
          (this.urlHandlingStrategy = H(B_)),
          (this.urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred'),
          (this.currentUrlTree = new di()),
          (this.rawUrlTree = this.currentUrlTree),
          (this.currentPageId = 0),
          (this.lastSuccessfulId = -1),
          (this.routerState = UM(null)),
          (this.stateMemento = this.createStateMemento()));
      }
      getCurrentUrlTree() {
        return this.currentUrlTree;
      }
      getRawUrlTree() {
        return this.rawUrlTree;
      }
      restoredState() {
        return this.location.getState();
      }
      get browserPageId() {
        return this.canceledNavigationResolution !== 'computed'
          ? this.currentPageId
          : (this.restoredState()?.ɵrouterPageId ?? this.currentPageId);
      }
      getRouterState() {
        return this.routerState;
      }
      createStateMemento() {
        return {
          rawUrlTree: this.rawUrlTree,
          currentUrlTree: this.currentUrlTree,
          routerState: this.routerState,
        };
      }
      registerNonRouterCurrentEntryChangeListener(n) {
        return this.location.subscribe((r) => {
          r.type === 'popstate' && n(r.url, r.state);
        });
      }
      handleRouterEvent(n, r) {
        if (n instanceof El) this.stateMemento = this.createStateMemento();
        else if (n instanceof Yo) this.rawUrlTree = r.initialUrl;
        else if (n instanceof yf) {
          if (this.urlUpdateStrategy === 'eager' && !r.extras.skipLocationChange) {
            let i = this.urlHandlingStrategy.merge(r.finalUrl, r.initialUrl);
            this.setBrowserUrl(r.targetBrowserUrl ?? i, r);
          }
        } else
          n instanceof Dl
            ? ((this.currentUrlTree = r.finalUrl),
              (this.rawUrlTree = this.urlHandlingStrategy.merge(r.finalUrl, r.initialUrl)),
              (this.routerState = r.targetRouterState),
              this.urlUpdateStrategy === 'deferred' &&
                !r.extras.skipLocationChange &&
                this.setBrowserUrl(r.targetBrowserUrl ?? this.rawUrlTree, r))
            : n instanceof ui && (n.code === Tn.GuardRejected || n.code === Tn.NoDataFromResolver)
              ? this.restoreHistory(r)
              : n instanceof Il
                ? this.restoreHistory(r, !0)
                : n instanceof Ki &&
                  ((this.lastSuccessfulId = n.id), (this.currentPageId = this.browserPageId));
      }
      setBrowserUrl(n, r) {
        let i = n instanceof di ? this.urlSerializer.serialize(n) : n;
        if (this.location.isCurrentPathEqualTo(i) || r.extras.replaceUrl) {
          let o = this.browserPageId,
            s = U(U({}, r.extras.state), this.generateNgRouterState(r.id, o));
          this.location.replaceState(i, '', s);
        } else {
          let o = U(
            U({}, r.extras.state),
            this.generateNgRouterState(r.id, this.browserPageId + 1)
          );
          this.location.go(i, '', o);
        }
      }
      restoreHistory(n, r = !1) {
        if (this.canceledNavigationResolution === 'computed') {
          let i = this.browserPageId,
            o = this.currentPageId - i;
          o !== 0
            ? this.location.historyGo(o)
            : this.currentUrlTree === n.finalUrl &&
              o === 0 &&
              (this.resetState(n), this.resetUrlToCurrentUrlTree());
        } else
          this.canceledNavigationResolution === 'replace' &&
            (r && this.resetState(n), this.resetUrlToCurrentUrlTree());
      }
      resetState(n) {
        ((this.routerState = this.stateMemento.routerState),
          (this.currentUrlTree = this.stateMemento.currentUrlTree),
          (this.rawUrlTree = this.urlHandlingStrategy.merge(
            this.currentUrlTree,
            n.finalUrl ?? this.rawUrlTree
          )));
      }
      resetUrlToCurrentUrlTree() {
        this.location.replaceState(
          this.urlSerializer.serialize(this.rawUrlTree),
          '',
          this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId)
        );
      }
      generateNgRouterState(n, r) {
        return this.canceledNavigationResolution === 'computed'
          ? { navigationId: n, ɵrouterPageId: r }
          : { navigationId: n };
      }
      static {
        this.ɵfac = (() => {
          let n;
          return function (i) {
            return (n || (n = Ar(t)))(i || t);
          };
        })();
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })(),
  ml = (function (t) {
    return (
      (t[(t.COMPLETE = 0)] = 'COMPLETE'),
      (t[(t.FAILED = 1)] = 'FAILED'),
      (t[(t.REDIRECTING = 2)] = 'REDIRECTING'),
      t
    );
  })(ml || {});
function z$(t, e) {
  t.events
    .pipe(
      Ke((n) => n instanceof Ki || n instanceof ui || n instanceof Il || n instanceof Yo),
      ie((n) =>
        n instanceof Ki || n instanceof Yo
          ? ml.COMPLETE
          : (
                n instanceof ui
                  ? n.code === Tn.Redirect || n.code === Tn.SupersededByNewNavigation
                  : !1
              )
            ? ml.REDIRECTING
            : ml.FAILED
      ),
      Ke((n) => n !== ml.REDIRECTING),
      Bt(1)
    )
    .subscribe(() => {
      e();
    });
}
function W$(t) {
  throw t;
}
var q$ = {
    paths: 'exact',
    fragment: 'ignored',
    matrixParams: 'ignored',
    queryParams: 'exact',
  },
  G$ = {
    paths: 'subset',
    fragment: 'ignored',
    matrixParams: 'ignored',
    queryParams: 'subset',
  },
  cn = (() => {
    class t {
      get currentUrlTree() {
        return this.stateManager.getCurrentUrlTree();
      }
      get rawUrlTree() {
        return this.stateManager.getRawUrlTree();
      }
      get events() {
        return this._events;
      }
      get routerState() {
        return this.stateManager.getRouterState();
      }
      constructor() {
        ((this.disposed = !1),
          (this.console = H($h)),
          (this.stateManager = H(JM)),
          (this.options = H(L_, { optional: !0 }) || {}),
          (this.pendingTasks = H(Uo)),
          (this.urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred'),
          (this.navigationTransitions = H(j$)),
          (this.urlSerializer = H(P_)),
          (this.location = H(al)),
          (this.urlHandlingStrategy = H(B_)),
          (this._events = new Te()),
          (this.errorHandler = this.options.errorHandler || W$),
          (this.navigated = !1),
          (this.routeReuseStrategy = H(B$)),
          (this.onSameUrlNavigation = this.options.onSameUrlNavigation || 'ignore'),
          (this.config = H(U_, { optional: !0 })?.flat() ?? []),
          (this.componentInputBindingEnabled = !!H(V_, { optional: !0 })),
          (this.eventsSubscription = new it()),
          this.resetConfig(this.config),
          this.navigationTransitions
            .setupNavigations(this, this.currentUrlTree, this.routerState)
            .subscribe({
              error: (n) => {
                this.console.warn(n);
              },
            }),
          this.subscribeToNavigationEvents());
      }
      subscribeToNavigationEvents() {
        let n = this.navigationTransitions.events.subscribe((r) => {
          try {
            let i = this.navigationTransitions.currentTransition,
              o = this.navigationTransitions.currentNavigation;
            if (i !== null && o !== null) {
              if (
                (this.stateManager.handleRouterEvent(r, o),
                r instanceof ui &&
                  r.code !== Tn.Redirect &&
                  r.code !== Tn.SupersededByNewNavigation)
              )
                this.navigated = !0;
              else if (r instanceof Ki) this.navigated = !0;
              else if (r instanceof pa) {
                let s = r.navigationBehaviorOptions,
                  a = this.urlHandlingStrategy.merge(r.url, i.currentRawUrl),
                  c = U(
                    {
                      browserUrl: i.extras.browserUrl,
                      info: i.extras.info,
                      skipLocationChange: i.extras.skipLocationChange,
                      replaceUrl:
                        i.extras.replaceUrl || this.urlUpdateStrategy === 'eager' || U$(i.source),
                    },
                    s
                  );
                this.scheduleNavigation(a, vl, null, c, {
                  resolve: i.resolve,
                  reject: i.reject,
                  promise: i.promise,
                });
              }
            }
            Y$(r) && this._events.next(r);
          } catch (i) {
            this.navigationTransitions.transitionAbortSubject.next(i);
          }
        });
        this.eventsSubscription.add(n);
      }
      resetRootComponentType(n) {
        ((this.routerState.root.component = n), (this.navigationTransitions.rootComponentType = n));
      }
      initialNavigation() {
        (this.setUpLocationChangeListener(),
          this.navigationTransitions.hasRequestedNavigation ||
            this.navigateToSyncWithBrowser(
              this.location.path(!0),
              vl,
              this.stateManager.restoredState()
            ));
      }
      setUpLocationChangeListener() {
        this.nonRouterCurrentEntryChangeSubscription ??=
          this.stateManager.registerNonRouterCurrentEntryChangeListener((n, r) => {
            setTimeout(() => {
              this.navigateToSyncWithBrowser(n, 'popstate', r);
            }, 0);
          });
      }
      navigateToSyncWithBrowser(n, r, i) {
        let o = { replaceUrl: !0 },
          s = i?.navigationId ? i : null;
        if (i) {
          let c = U({}, i);
          (delete c.navigationId,
            delete c.ɵrouterPageId,
            Object.keys(c).length !== 0 && (o.state = c));
        }
        let a = this.parseUrl(n);
        this.scheduleNavigation(a, r, s, o);
      }
      get url() {
        return this.serializeUrl(this.currentUrlTree);
      }
      getCurrentNavigation() {
        return this.navigationTransitions.currentNavigation;
      }
      get lastSuccessfulNavigation() {
        return this.navigationTransitions.lastSuccessfulNavigation;
      }
      resetConfig(n) {
        ((this.config = n.map(j_)), (this.navigated = !1));
      }
      ngOnDestroy() {
        this.dispose();
      }
      dispose() {
        (this.navigationTransitions.complete(),
          this.nonRouterCurrentEntryChangeSubscription &&
            (this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),
            (this.nonRouterCurrentEntryChangeSubscription = void 0)),
          (this.disposed = !0),
          this.eventsSubscription.unsubscribe());
      }
      createUrlTree(n, r = {}) {
        let {
            relativeTo: i,
            queryParams: o,
            fragment: s,
            queryParamsHandling: a,
            preserveFragment: c,
          } = r,
          u = c ? this.currentUrlTree.fragment : s,
          d = null;
        switch (a ?? this.options.defaultQueryParamsHandling) {
          case 'merge':
            d = U(U({}, this.currentUrlTree.queryParams), o);
            break;
          case 'preserve':
            d = this.currentUrlTree.queryParams;
            break;
          default:
            d = o || null;
        }
        d !== null && (d = this.removeEmptyProps(d));
        let p;
        try {
          let v = i ? i.snapshot : this.routerState.snapshot.root;
          p = FM(v);
        } catch {
          ((typeof n[0] != 'string' || n[0][0] !== '/') && (n = []),
            (p = this.currentUrlTree.root));
        }
        return VM(p, n, d, u ?? null);
      }
      navigateByUrl(n, r = { skipLocationChange: !1 }) {
        let i = Ko(n) ? n : this.parseUrl(n),
          o = this.urlHandlingStrategy.merge(i, this.rawUrlTree);
        return this.scheduleNavigation(o, vl, null, r);
      }
      navigate(n, r = { skipLocationChange: !1 }) {
        return (K$(n), this.navigateByUrl(this.createUrlTree(n, r), r));
      }
      serializeUrl(n) {
        return this.urlSerializer.serialize(n);
      }
      parseUrl(n) {
        try {
          return this.urlSerializer.parse(n);
        } catch {
          return this.urlSerializer.parse('/');
        }
      }
      isActive(n, r) {
        let i;
        if ((r === !0 ? (i = U({}, q$)) : r === !1 ? (i = U({}, G$)) : (i = r), Ko(n)))
          return _M(this.currentUrlTree, n, i);
        let o = this.parseUrl(n);
        return _M(this.currentUrlTree, o, i);
      }
      removeEmptyProps(n) {
        return Object.entries(n).reduce((r, [i, o]) => (o != null && (r[i] = o), r), {});
      }
      scheduleNavigation(n, r, i, o, s) {
        if (this.disposed) return Promise.resolve(!1);
        let a, c, u;
        s
          ? ((a = s.resolve), (c = s.reject), (u = s.promise))
          : (u = new Promise((p, v) => {
              ((a = p), (c = v));
            }));
        let d = this.pendingTasks.add();
        return (
          z$(this, () => {
            queueMicrotask(() => this.pendingTasks.remove(d));
          }),
          this.navigationTransitions.handleNavigationRequest({
            source: r,
            restoredState: i,
            currentUrlTree: this.currentUrlTree,
            currentRawUrl: this.currentUrlTree,
            rawUrl: n,
            extras: o,
            resolve: a,
            reject: c,
            promise: u,
            currentSnapshot: this.routerState.snapshot,
            currentRouterState: this.routerState,
          }),
          u.catch((p) => Promise.reject(p))
        );
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
      }
    }
    return t;
  })();
function K$(t) {
  for (let e = 0; e < t.length; e++) if (t[e] == null) throw new Q(4008, !1);
}
function Y$(t) {
  return !(t instanceof Dl) && !(t instanceof pa);
}
var Sf = (() => {
  class t {
    constructor(n, r, i, o, s, a) {
      ((this.router = n),
        (this.route = r),
        (this.tabIndexAttribute = i),
        (this.renderer = o),
        (this.el = s),
        (this.locationStrategy = a),
        (this.href = null),
        (this.onChanges = new Te()),
        (this.preserveFragment = !1),
        (this.skipLocationChange = !1),
        (this.replaceUrl = !1),
        (this.routerLinkInput = null));
      let c = s.nativeElement.tagName?.toLowerCase();
      ((this.isAnchorElement = c === 'a' || c === 'area'),
        this.isAnchorElement
          ? (this.subscription = n.events.subscribe((u) => {
              u instanceof Ki && this.updateHref();
            }))
          : this.setTabIndexIfNotOnNativeEl('0'));
    }
    setTabIndexIfNotOnNativeEl(n) {
      this.tabIndexAttribute != null ||
        this.isAnchorElement ||
        this.applyAttributeValue('tabindex', n);
    }
    ngOnChanges(n) {
      (this.isAnchorElement && this.updateHref(), this.onChanges.next(this));
    }
    set routerLink(n) {
      n == null
        ? ((this.routerLinkInput = null), this.setTabIndexIfNotOnNativeEl(null))
        : (Ko(n) ? (this.routerLinkInput = n) : (this.routerLinkInput = Array.isArray(n) ? n : [n]),
          this.setTabIndexIfNotOnNativeEl('0'));
    }
    onClick(n, r, i, o, s) {
      let a = this.urlTree;
      if (
        a === null ||
        (this.isAnchorElement &&
          (n !== 0 ||
            r ||
            i ||
            o ||
            s ||
            (typeof this.target == 'string' && this.target != '_self')))
      )
        return !0;
      let c = {
        skipLocationChange: this.skipLocationChange,
        replaceUrl: this.replaceUrl,
        state: this.state,
        info: this.info,
      };
      return (this.router.navigateByUrl(a, c), !this.isAnchorElement);
    }
    ngOnDestroy() {
      this.subscription?.unsubscribe();
    }
    updateHref() {
      let n = this.urlTree;
      this.href =
        n !== null && this.locationStrategy
          ? this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))
          : null;
      let r =
        this.href === null
          ? null
          : fS(this.href, this.el.nativeElement.tagName.toLowerCase(), 'href');
      this.applyAttributeValue('href', r);
    }
    applyAttributeValue(n, r) {
      let i = this.renderer,
        o = this.el.nativeElement;
      r !== null ? i.setAttribute(o, n, r) : i.removeAttribute(o, n);
    }
    get urlTree() {
      return this.routerLinkInput === null
        ? null
        : Ko(this.routerLinkInput)
          ? this.routerLinkInput
          : this.router.createUrlTree(this.routerLinkInput, {
              relativeTo: this.relativeTo !== void 0 ? this.relativeTo : this.route,
              queryParams: this.queryParams,
              fragment: this.fragment,
              queryParamsHandling: this.queryParamsHandling,
              preserveFragment: this.preserveFragment,
            });
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)(k(cn), k(Qo), ny('tabindex'), k(ut), k(Je), k(aa));
      };
    }
    static {
      this.ɵdir = Re({
        type: t,
        selectors: [['', 'routerLink', '']],
        hostVars: 1,
        hostBindings: function (r, i) {
          (r & 1 &&
            ae('click', function (s) {
              return i.onClick(s.button, s.ctrlKey, s.shiftKey, s.altKey, s.metaKey);
            }),
            r & 2 && qt('target', i.target));
        },
        inputs: {
          target: 'target',
          queryParams: 'queryParams',
          fragment: 'fragment',
          queryParamsHandling: 'queryParamsHandling',
          state: 'state',
          info: 'info',
          relativeTo: 'relativeTo',
          preserveFragment: [2, 'preserveFragment', 'preserveFragment', qi],
          skipLocationChange: [2, 'skipLocationChange', 'skipLocationChange', qi],
          replaceUrl: [2, 'replaceUrl', 'replaceUrl', qi],
          routerLink: 'routerLink',
        },
        standalone: !0,
        features: [Ty, zt],
      });
    }
  }
  return t;
})();
var Q$ = new X('');
function ex(t, ...e) {
  return _n([
    { provide: U_, multi: !0, useValue: t },
    [],
    { provide: Qo, useFactory: X$, deps: [cn] },
    { provide: oa, multi: !0, useFactory: Z$ },
    e.map((n) => n.ɵproviders),
  ]);
}
function X$(t) {
  return t.routerState.root;
}
function Z$() {
  let t = H(At);
  return (e) => {
    let n = t.get(Rr);
    if (e !== n.components[0]) return;
    let r = t.get(cn),
      i = t.get(J$);
    (t.get(ez) === 1 && r.initialNavigation(),
      t.get(tz, null, Ce.Optional)?.setUpPreloading(),
      t.get(Q$, null, Ce.Optional)?.init(),
      r.resetRootComponentType(n.componentTypes[0]),
      i.closed || (i.next(), i.complete(), i.unsubscribe()));
  };
}
var J$ = new X('', { factory: () => new Te() }),
  ez = new X('', { providedIn: 'root', factory: () => 1 });
var tz = new X('');
var tx = {
  production: !0,
  firebase: {
    apiKey: 'AIzaSyAOZ6R5siNGVKJp76i8uQunU9mojsKvU64',
    authDomain: 'reportease-app.firebaseapp.com',
    projectId: 'reportease-app',
    storageBucket: 'reportease-app.firebasestorage.app',
    messagingSenderId: '540320774976',
    appId: '1:540320774976:web:6be3679164b40d903dd8a5',
    measurementId: 'G-LGQ0WPDNRV',
  },
};
var dx = (() => {
    class t {
      constructor(n, r) {
        ((this._renderer = n),
          (this._elementRef = r),
          (this.onChange = (i) => {}),
          (this.onTouched = () => {}));
      }
      setProperty(n, r) {
        this._renderer.setProperty(this._elementRef.nativeElement, n, r);
      }
      registerOnTouched(n) {
        this.onTouched = n;
      }
      registerOnChange(n) {
        this.onChange = n;
      }
      setDisabledState(n) {
        this.setProperty('disabled', n);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(ut), k(Je));
        };
      }
      static {
        this.ɵdir = Re({ type: t });
      }
    }
    return t;
  })(),
  $_ = (() => {
    class t extends dx {
      static {
        this.ɵfac = (() => {
          let n;
          return function (i) {
            return (n || (n = Ar(t)))(i || t);
          };
        })();
      }
      static {
        this.ɵdir = Re({ type: t, features: [ar] });
      }
    }
    return t;
  })(),
  Ff = new X('');
var nz = { provide: Ff, useExisting: ti(() => Qi), multi: !0 };
function rz() {
  let t = ci() ? ci().getUserAgent() : '';
  return /android (\d+)/.test(t.toLowerCase());
}
var iz = new X(''),
  Qi = (() => {
    class t extends dx {
      constructor(n, r, i) {
        (super(n, r),
          (this._compositionMode = i),
          (this._composing = !1),
          this._compositionMode == null && (this._compositionMode = !rz()));
      }
      writeValue(n) {
        let r = n ?? '';
        this.setProperty('value', r);
      }
      _handleInput(n) {
        (!this._compositionMode || (this._compositionMode && !this._composing)) && this.onChange(n);
      }
      _compositionStart() {
        this._composing = !0;
      }
      _compositionEnd(n) {
        ((this._composing = !1), this._compositionMode && this.onChange(n));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(ut), k(Je), k(iz, 8));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [
            ['input', 'formControlName', '', 3, 'type', 'checkbox'],
            ['textarea', 'formControlName', ''],
            ['input', 'formControl', '', 3, 'type', 'checkbox'],
            ['textarea', 'formControl', ''],
            ['input', 'ngModel', '', 3, 'type', 'checkbox'],
            ['textarea', 'ngModel', ''],
            ['', 'ngDefaultControl', ''],
          ],
          hostBindings: function (r, i) {
            r & 1 &&
              ae('input', function (s) {
                return i._handleInput(s.target.value);
              })('blur', function () {
                return i.onTouched();
              })('compositionstart', function () {
                return i._compositionStart();
              })('compositionend', function (s) {
                return i._compositionEnd(s.target.value);
              });
          },
          features: [Ho([nz]), ar],
        });
      }
    }
    return t;
  })();
function oz(t) {
  return t == null || ((typeof t == 'string' || Array.isArray(t)) && t.length === 0);
}
var z_ = new X(''),
  hx = new X('');
function sz(t) {
  return oz(t.value) ? { required: !0 } : null;
}
function nx(t) {
  return null;
}
function fx(t) {
  return t != null;
}
function px(t) {
  return Wi(t) ? Ze(t) : t;
}
function mx(t) {
  let e = {};
  return (
    t.forEach((n) => {
      e = n != null ? U(U({}, e), n) : e;
    }),
    Object.keys(e).length === 0 ? null : e
  );
}
function gx(t, e) {
  return e.map((n) => n(t));
}
function az(t) {
  return !t.validate;
}
function vx(t) {
  return t.map((e) => (az(e) ? e : (n) => e.validate(n)));
}
function cz(t) {
  if (!t) return null;
  let e = t.filter(fx);
  return e.length == 0
    ? null
    : function (n) {
        return mx(gx(n, e));
      };
}
function W_(t) {
  return t != null ? cz(vx(t)) : null;
}
function lz(t) {
  if (!t) return null;
  let e = t.filter(fx);
  return e.length == 0
    ? null
    : function (n) {
        let r = gx(n, e).map(px);
        return wg(r).pipe(ie(mx));
      };
}
function q_(t) {
  return t != null ? lz(vx(t)) : null;
}
function rx(t, e) {
  return t === null ? [e] : Array.isArray(t) ? [...t, e] : [t, e];
}
function uz(t) {
  return t._rawValidators;
}
function dz(t) {
  return t._rawAsyncValidators;
}
function H_(t) {
  return t ? (Array.isArray(t) ? t : [t]) : [];
}
function xf(t, e) {
  return Array.isArray(t) ? t.includes(e) : t === e;
}
function ix(t, e) {
  let n = H_(e);
  return (
    H_(t).forEach((i) => {
      xf(n, i) || n.push(i);
    }),
    n
  );
}
function ox(t, e) {
  return H_(e).filter((n) => !xf(t, n));
}
var Rf = class {
    constructor() {
      ((this._rawValidators = []),
        (this._rawAsyncValidators = []),
        (this._onDestroyCallbacks = []));
    }
    get value() {
      return this.control ? this.control.value : null;
    }
    get valid() {
      return this.control ? this.control.valid : null;
    }
    get invalid() {
      return this.control ? this.control.invalid : null;
    }
    get pending() {
      return this.control ? this.control.pending : null;
    }
    get disabled() {
      return this.control ? this.control.disabled : null;
    }
    get enabled() {
      return this.control ? this.control.enabled : null;
    }
    get errors() {
      return this.control ? this.control.errors : null;
    }
    get pristine() {
      return this.control ? this.control.pristine : null;
    }
    get dirty() {
      return this.control ? this.control.dirty : null;
    }
    get touched() {
      return this.control ? this.control.touched : null;
    }
    get status() {
      return this.control ? this.control.status : null;
    }
    get untouched() {
      return this.control ? this.control.untouched : null;
    }
    get statusChanges() {
      return this.control ? this.control.statusChanges : null;
    }
    get valueChanges() {
      return this.control ? this.control.valueChanges : null;
    }
    get path() {
      return null;
    }
    _setValidators(e) {
      ((this._rawValidators = e || []), (this._composedValidatorFn = W_(this._rawValidators)));
    }
    _setAsyncValidators(e) {
      ((this._rawAsyncValidators = e || []),
        (this._composedAsyncValidatorFn = q_(this._rawAsyncValidators)));
    }
    get validator() {
      return this._composedValidatorFn || null;
    }
    get asyncValidator() {
      return this._composedAsyncValidatorFn || null;
    }
    _registerOnDestroy(e) {
      this._onDestroyCallbacks.push(e);
    }
    _invokeOnDestroyCallbacks() {
      (this._onDestroyCallbacks.forEach((e) => e()), (this._onDestroyCallbacks = []));
    }
    reset(e = void 0) {
      this.control && this.control.reset(e);
    }
    hasError(e, n) {
      return this.control ? this.control.hasError(e, n) : !1;
    }
    getError(e, n) {
      return this.control ? this.control.getError(e, n) : null;
    }
  },
  _a = class extends Rf {
    get formDirective() {
      return null;
    }
    get path() {
      return null;
    }
  },
  Fl = class extends Rf {
    constructor() {
      (super(...arguments), (this._parent = null), (this.name = null), (this.valueAccessor = null));
    }
  },
  Nf = class {
    constructor(e) {
      this._cd = e;
    }
    get isTouched() {
      return (this._cd?.control?._touched?.(), !!this._cd?.control?.touched);
    }
    get isUntouched() {
      return !!this._cd?.control?.untouched;
    }
    get isPristine() {
      return (this._cd?.control?._pristine?.(), !!this._cd?.control?.pristine);
    }
    get isDirty() {
      return !!this._cd?.control?.dirty;
    }
    get isValid() {
      return (this._cd?.control?._status?.(), !!this._cd?.control?.valid);
    }
    get isInvalid() {
      return !!this._cd?.control?.invalid;
    }
    get isPending() {
      return !!this._cd?.control?.pending;
    }
    get isSubmitted() {
      return (this._cd?._submitted?.(), !!this._cd?.submitted);
    }
  },
  hz = {
    '[class.ng-untouched]': 'isUntouched',
    '[class.ng-touched]': 'isTouched',
    '[class.ng-pristine]': 'isPristine',
    '[class.ng-dirty]': 'isDirty',
    '[class.ng-valid]': 'isValid',
    '[class.ng-invalid]': 'isInvalid',
    '[class.ng-pending]': 'isPending',
  },
  Ote = ve(U({}, hz), { '[class.ng-submitted]': 'isSubmitted' }),
  Ea = (() => {
    class t extends Nf {
      constructor(n) {
        super(n);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(Fl, 2));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [
            ['', 'formControlName', ''],
            ['', 'ngModel', ''],
            ['', 'formControl', ''],
          ],
          hostVars: 14,
          hostBindings: function (r, i) {
            r & 2 &&
              pt('ng-untouched', i.isUntouched)('ng-touched', i.isTouched)(
                'ng-pristine',
                i.isPristine
              )('ng-dirty', i.isDirty)('ng-valid', i.isValid)('ng-invalid', i.isInvalid)(
                'ng-pending',
                i.isPending
              );
          },
          features: [ar],
        });
      }
    }
    return t;
  })(),
  Vf = (() => {
    class t extends Nf {
      constructor(n) {
        super(n);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(_a, 10));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [
            ['', 'formGroupName', ''],
            ['', 'formArrayName', ''],
            ['', 'ngModelGroup', ''],
            ['', 'formGroup', ''],
            ['form', 3, 'ngNoForm', ''],
            ['', 'ngForm', ''],
          ],
          hostVars: 16,
          hostBindings: function (r, i) {
            r & 2 &&
              pt('ng-untouched', i.isUntouched)('ng-touched', i.isTouched)(
                'ng-pristine',
                i.isPristine
              )('ng-dirty', i.isDirty)('ng-valid', i.isValid)('ng-invalid', i.isInvalid)(
                'ng-pending',
                i.isPending
              )('ng-submitted', i.isSubmitted);
          },
          features: [ar],
        });
      }
    }
    return t;
  })();
var Rl = 'VALID',
  Mf = 'INVALID',
  va = 'PENDING',
  Nl = 'DISABLED',
  wa = class {},
  kf = class extends wa {
    constructor(e, n) {
      (super(), (this.value = e), (this.source = n));
    }
  },
  Pl = class extends wa {
    constructor(e, n) {
      (super(), (this.pristine = e), (this.source = n));
    }
  },
  Ol = class extends wa {
    constructor(e, n) {
      (super(), (this.touched = e), (this.source = n));
    }
  },
  ya = class extends wa {
    constructor(e, n) {
      (super(), (this.status = e), (this.source = n));
    }
  };
function yx(t) {
  return (Lf(t) ? t.validators : t) || null;
}
function fz(t) {
  return Array.isArray(t) ? W_(t) : t || null;
}
function _x(t, e) {
  return (Lf(e) ? e.asyncValidators : t) || null;
}
function pz(t) {
  return Array.isArray(t) ? q_(t) : t || null;
}
function Lf(t) {
  return t != null && !Array.isArray(t) && typeof t == 'object';
}
function mz(t, e, n) {
  let r = t.controls;
  if (!(e ? Object.keys(r) : r).length) throw new Q(1e3, '');
  if (!r[n]) throw new Q(1001, '');
}
function gz(t, e, n) {
  t._forEachChild((r, i) => {
    if (n[i] === void 0) throw new Q(1002, '');
  });
}
var Pf = class {
    constructor(e, n) {
      ((this._pendingDirty = !1),
        (this._hasOwnPendingAsyncValidator = null),
        (this._pendingTouched = !1),
        (this._onCollectionChange = () => {}),
        (this._parent = null),
        (this._status = zo(() => this.statusReactive())),
        (this.statusReactive = sr(void 0)),
        (this._pristine = zo(() => this.pristineReactive())),
        (this.pristineReactive = sr(!0)),
        (this._touched = zo(() => this.touchedReactive())),
        (this.touchedReactive = sr(!1)),
        (this._events = new Te()),
        (this.events = this._events.asObservable()),
        (this._onDisabledChange = []),
        this._assignValidators(e),
        this._assignAsyncValidators(n));
    }
    get validator() {
      return this._composedValidatorFn;
    }
    set validator(e) {
      this._rawValidators = this._composedValidatorFn = e;
    }
    get asyncValidator() {
      return this._composedAsyncValidatorFn;
    }
    set asyncValidator(e) {
      this._rawAsyncValidators = this._composedAsyncValidatorFn = e;
    }
    get parent() {
      return this._parent;
    }
    get status() {
      return dr(this.statusReactive);
    }
    set status(e) {
      dr(() => this.statusReactive.set(e));
    }
    get valid() {
      return this.status === Rl;
    }
    get invalid() {
      return this.status === Mf;
    }
    get pending() {
      return this.status == va;
    }
    get disabled() {
      return this.status === Nl;
    }
    get enabled() {
      return this.status !== Nl;
    }
    get pristine() {
      return dr(this.pristineReactive);
    }
    set pristine(e) {
      dr(() => this.pristineReactive.set(e));
    }
    get dirty() {
      return !this.pristine;
    }
    get touched() {
      return dr(this.touchedReactive);
    }
    set touched(e) {
      dr(() => this.touchedReactive.set(e));
    }
    get untouched() {
      return !this.touched;
    }
    get updateOn() {
      return this._updateOn ? this._updateOn : this.parent ? this.parent.updateOn : 'change';
    }
    setValidators(e) {
      this._assignValidators(e);
    }
    setAsyncValidators(e) {
      this._assignAsyncValidators(e);
    }
    addValidators(e) {
      this.setValidators(ix(e, this._rawValidators));
    }
    addAsyncValidators(e) {
      this.setAsyncValidators(ix(e, this._rawAsyncValidators));
    }
    removeValidators(e) {
      this.setValidators(ox(e, this._rawValidators));
    }
    removeAsyncValidators(e) {
      this.setAsyncValidators(ox(e, this._rawAsyncValidators));
    }
    hasValidator(e) {
      return xf(this._rawValidators, e);
    }
    hasAsyncValidator(e) {
      return xf(this._rawAsyncValidators, e);
    }
    clearValidators() {
      this.validator = null;
    }
    clearAsyncValidators() {
      this.asyncValidator = null;
    }
    markAsTouched(e = {}) {
      let n = this.touched === !1;
      this.touched = !0;
      let r = e.sourceControl ?? this;
      (this._parent &&
        !e.onlySelf &&
        this._parent.markAsTouched(ve(U({}, e), { sourceControl: r })),
        n && e.emitEvent !== !1 && this._events.next(new Ol(!0, r)));
    }
    markAllAsTouched(e = {}) {
      (this.markAsTouched({
        onlySelf: !0,
        emitEvent: e.emitEvent,
        sourceControl: this,
      }),
        this._forEachChild((n) => n.markAllAsTouched(e)));
    }
    markAsUntouched(e = {}) {
      let n = this.touched === !0;
      ((this.touched = !1), (this._pendingTouched = !1));
      let r = e.sourceControl ?? this;
      (this._forEachChild((i) => {
        i.markAsUntouched({
          onlySelf: !0,
          emitEvent: e.emitEvent,
          sourceControl: r,
        });
      }),
        this._parent && !e.onlySelf && this._parent._updateTouched(e, r),
        n && e.emitEvent !== !1 && this._events.next(new Ol(!1, r)));
    }
    markAsDirty(e = {}) {
      let n = this.pristine === !0;
      this.pristine = !1;
      let r = e.sourceControl ?? this;
      (this._parent && !e.onlySelf && this._parent.markAsDirty(ve(U({}, e), { sourceControl: r })),
        n && e.emitEvent !== !1 && this._events.next(new Pl(!1, r)));
    }
    markAsPristine(e = {}) {
      let n = this.pristine === !1;
      ((this.pristine = !0), (this._pendingDirty = !1));
      let r = e.sourceControl ?? this;
      (this._forEachChild((i) => {
        i.markAsPristine({ onlySelf: !0, emitEvent: e.emitEvent });
      }),
        this._parent && !e.onlySelf && this._parent._updatePristine(e, r),
        n && e.emitEvent !== !1 && this._events.next(new Pl(!0, r)));
    }
    markAsPending(e = {}) {
      this.status = va;
      let n = e.sourceControl ?? this;
      (e.emitEvent !== !1 &&
        (this._events.next(new ya(this.status, n)), this.statusChanges.emit(this.status)),
        this._parent &&
          !e.onlySelf &&
          this._parent.markAsPending(ve(U({}, e), { sourceControl: n })));
    }
    disable(e = {}) {
      let n = this._parentMarkedDirty(e.onlySelf);
      ((this.status = Nl),
        (this.errors = null),
        this._forEachChild((i) => {
          i.disable(ve(U({}, e), { onlySelf: !0 }));
        }),
        this._updateValue());
      let r = e.sourceControl ?? this;
      (e.emitEvent !== !1 &&
        (this._events.next(new kf(this.value, r)),
        this._events.next(new ya(this.status, r)),
        this.valueChanges.emit(this.value),
        this.statusChanges.emit(this.status)),
        this._updateAncestors(ve(U({}, e), { skipPristineCheck: n }), this),
        this._onDisabledChange.forEach((i) => i(!0)));
    }
    enable(e = {}) {
      let n = this._parentMarkedDirty(e.onlySelf);
      ((this.status = Rl),
        this._forEachChild((r) => {
          r.enable(ve(U({}, e), { onlySelf: !0 }));
        }),
        this.updateValueAndValidity({ onlySelf: !0, emitEvent: e.emitEvent }),
        this._updateAncestors(ve(U({}, e), { skipPristineCheck: n }), this),
        this._onDisabledChange.forEach((r) => r(!1)));
    }
    _updateAncestors(e, n) {
      this._parent &&
        !e.onlySelf &&
        (this._parent.updateValueAndValidity(e),
        e.skipPristineCheck || this._parent._updatePristine({}, n),
        this._parent._updateTouched({}, n));
    }
    setParent(e) {
      this._parent = e;
    }
    getRawValue() {
      return this.value;
    }
    updateValueAndValidity(e = {}) {
      if ((this._setInitialStatus(), this._updateValue(), this.enabled)) {
        let r = this._cancelExistingSubscription();
        ((this.errors = this._runValidator()),
          (this.status = this._calculateStatus()),
          (this.status === Rl || this.status === va) && this._runAsyncValidator(r, e.emitEvent));
      }
      let n = e.sourceControl ?? this;
      (e.emitEvent !== !1 &&
        (this._events.next(new kf(this.value, n)),
        this._events.next(new ya(this.status, n)),
        this.valueChanges.emit(this.value),
        this.statusChanges.emit(this.status)),
        this._parent &&
          !e.onlySelf &&
          this._parent.updateValueAndValidity(ve(U({}, e), { sourceControl: n })));
    }
    _updateTreeValidity(e = { emitEvent: !0 }) {
      (this._forEachChild((n) => n._updateTreeValidity(e)),
        this.updateValueAndValidity({ onlySelf: !0, emitEvent: e.emitEvent }));
    }
    _setInitialStatus() {
      this.status = this._allControlsDisabled() ? Nl : Rl;
    }
    _runValidator() {
      return this.validator ? this.validator(this) : null;
    }
    _runAsyncValidator(e, n) {
      if (this.asyncValidator) {
        ((this.status = va), (this._hasOwnPendingAsyncValidator = { emitEvent: n !== !1 }));
        let r = px(this.asyncValidator(this));
        this._asyncValidationSubscription = r.subscribe((i) => {
          ((this._hasOwnPendingAsyncValidator = null),
            this.setErrors(i, { emitEvent: n, shouldHaveEmitted: e }));
        });
      }
    }
    _cancelExistingSubscription() {
      if (this._asyncValidationSubscription) {
        this._asyncValidationSubscription.unsubscribe();
        let e = this._hasOwnPendingAsyncValidator?.emitEvent ?? !1;
        return ((this._hasOwnPendingAsyncValidator = null), e);
      }
      return !1;
    }
    setErrors(e, n = {}) {
      ((this.errors = e),
        this._updateControlsErrors(n.emitEvent !== !1, this, n.shouldHaveEmitted));
    }
    get(e) {
      let n = e;
      return n == null || (Array.isArray(n) || (n = n.split('.')), n.length === 0)
        ? null
        : n.reduce((r, i) => r && r._find(i), this);
    }
    getError(e, n) {
      let r = n ? this.get(n) : this;
      return r && r.errors ? r.errors[e] : null;
    }
    hasError(e, n) {
      return !!this.getError(e, n);
    }
    get root() {
      let e = this;
      for (; e._parent; ) e = e._parent;
      return e;
    }
    _updateControlsErrors(e, n, r) {
      ((this.status = this._calculateStatus()),
        e && this.statusChanges.emit(this.status),
        (e || r) && this._events.next(new ya(this.status, n)),
        this._parent && this._parent._updateControlsErrors(e, n, r));
    }
    _initObservables() {
      ((this.valueChanges = new K()), (this.statusChanges = new K()));
    }
    _calculateStatus() {
      return this._allControlsDisabled()
        ? Nl
        : this.errors
          ? Mf
          : this._hasOwnPendingAsyncValidator || this._anyControlsHaveStatus(va)
            ? va
            : this._anyControlsHaveStatus(Mf)
              ? Mf
              : Rl;
    }
    _anyControlsHaveStatus(e) {
      return this._anyControls((n) => n.status === e);
    }
    _anyControlsDirty() {
      return this._anyControls((e) => e.dirty);
    }
    _anyControlsTouched() {
      return this._anyControls((e) => e.touched);
    }
    _updatePristine(e, n) {
      let r = !this._anyControlsDirty(),
        i = this.pristine !== r;
      ((this.pristine = r),
        this._parent && !e.onlySelf && this._parent._updatePristine(e, n),
        i && this._events.next(new Pl(this.pristine, n)));
    }
    _updateTouched(e = {}, n) {
      ((this.touched = this._anyControlsTouched()),
        this._events.next(new Ol(this.touched, n)),
        this._parent && !e.onlySelf && this._parent._updateTouched(e, n));
    }
    _registerOnCollectionChange(e) {
      this._onCollectionChange = e;
    }
    _setUpdateStrategy(e) {
      Lf(e) && e.updateOn != null && (this._updateOn = e.updateOn);
    }
    _parentMarkedDirty(e) {
      let n = this._parent && this._parent.dirty;
      return !e && !!n && !this._parent._anyControlsDirty();
    }
    _find(e) {
      return null;
    }
    _assignValidators(e) {
      ((this._rawValidators = Array.isArray(e) ? e.slice() : e),
        (this._composedValidatorFn = fz(this._rawValidators)));
    }
    _assignAsyncValidators(e) {
      ((this._rawAsyncValidators = Array.isArray(e) ? e.slice() : e),
        (this._composedAsyncValidatorFn = pz(this._rawAsyncValidators)));
    }
  },
  Of = class extends Pf {
    constructor(e, n, r) {
      (super(yx(n), _x(r, n)),
        (this.controls = e),
        this._initObservables(),
        this._setUpdateStrategy(n),
        this._setUpControls(),
        this.updateValueAndValidity({
          onlySelf: !0,
          emitEvent: !!this.asyncValidator,
        }));
    }
    registerControl(e, n) {
      return this.controls[e]
        ? this.controls[e]
        : ((this.controls[e] = n),
          n.setParent(this),
          n._registerOnCollectionChange(this._onCollectionChange),
          n);
    }
    addControl(e, n, r = {}) {
      (this.registerControl(e, n),
        this.updateValueAndValidity({ emitEvent: r.emitEvent }),
        this._onCollectionChange());
    }
    removeControl(e, n = {}) {
      (this.controls[e] && this.controls[e]._registerOnCollectionChange(() => {}),
        delete this.controls[e],
        this.updateValueAndValidity({ emitEvent: n.emitEvent }),
        this._onCollectionChange());
    }
    setControl(e, n, r = {}) {
      (this.controls[e] && this.controls[e]._registerOnCollectionChange(() => {}),
        delete this.controls[e],
        n && this.registerControl(e, n),
        this.updateValueAndValidity({ emitEvent: r.emitEvent }),
        this._onCollectionChange());
    }
    contains(e) {
      return this.controls.hasOwnProperty(e) && this.controls[e].enabled;
    }
    setValue(e, n = {}) {
      (gz(this, !0, e),
        Object.keys(e).forEach((r) => {
          (mz(this, !0, r),
            this.controls[r].setValue(e[r], {
              onlySelf: !0,
              emitEvent: n.emitEvent,
            }));
        }),
        this.updateValueAndValidity(n));
    }
    patchValue(e, n = {}) {
      e != null &&
        (Object.keys(e).forEach((r) => {
          let i = this.controls[r];
          i && i.patchValue(e[r], { onlySelf: !0, emitEvent: n.emitEvent });
        }),
        this.updateValueAndValidity(n));
    }
    reset(e = {}, n = {}) {
      (this._forEachChild((r, i) => {
        r.reset(e ? e[i] : null, { onlySelf: !0, emitEvent: n.emitEvent });
      }),
        this._updatePristine(n, this),
        this._updateTouched(n, this),
        this.updateValueAndValidity(n));
    }
    getRawValue() {
      return this._reduceChildren({}, (e, n, r) => ((e[r] = n.getRawValue()), e));
    }
    _syncPendingControls() {
      let e = this._reduceChildren(!1, (n, r) => (r._syncPendingControls() ? !0 : n));
      return (e && this.updateValueAndValidity({ onlySelf: !0 }), e);
    }
    _forEachChild(e) {
      Object.keys(this.controls).forEach((n) => {
        let r = this.controls[n];
        r && e(r, n);
      });
    }
    _setUpControls() {
      this._forEachChild((e) => {
        (e.setParent(this), e._registerOnCollectionChange(this._onCollectionChange));
      });
    }
    _updateValue() {
      this.value = this._reduceValue();
    }
    _anyControls(e) {
      for (let [n, r] of Object.entries(this.controls)) if (this.contains(n) && e(r)) return !0;
      return !1;
    }
    _reduceValue() {
      let e = {};
      return this._reduceChildren(
        e,
        (n, r, i) => ((r.enabled || this.disabled) && (n[i] = r.value), n)
      );
    }
    _reduceChildren(e, n) {
      let r = e;
      return (
        this._forEachChild((i, o) => {
          r = n(r, i, o);
        }),
        r
      );
    }
    _allControlsDisabled() {
      for (let e of Object.keys(this.controls)) if (this.controls[e].enabled) return !1;
      return Object.keys(this.controls).length > 0 || this.disabled;
    }
    _find(e) {
      return this.controls.hasOwnProperty(e) ? this.controls[e] : null;
    }
  };
var G_ = new X('CallSetDisabledState', {
    providedIn: 'root',
    factory: () => K_,
  }),
  K_ = 'always';
function vz(t, e) {
  return [...e.path, t];
}
function wx(t, e, n = K_) {
  (Ex(t, e),
    e.valueAccessor.writeValue(t.value),
    (t.disabled || n === 'always') && e.valueAccessor.setDisabledState?.(t.disabled),
    _z(t, e),
    Ez(t, e),
    wz(t, e),
    yz(t, e));
}
function sx(t, e) {
  t.forEach((n) => {
    n.registerOnValidatorChange && n.registerOnValidatorChange(e);
  });
}
function yz(t, e) {
  if (e.valueAccessor.setDisabledState) {
    let n = (r) => {
      e.valueAccessor.setDisabledState(r);
    };
    (t.registerOnDisabledChange(n),
      e._registerOnDestroy(() => {
        t._unregisterOnDisabledChange(n);
      }));
  }
}
function Ex(t, e) {
  let n = uz(t);
  e.validator !== null
    ? t.setValidators(rx(n, e.validator))
    : typeof n == 'function' && t.setValidators([n]);
  let r = dz(t);
  e.asyncValidator !== null
    ? t.setAsyncValidators(rx(r, e.asyncValidator))
    : typeof r == 'function' && t.setAsyncValidators([r]);
  let i = () => t.updateValueAndValidity();
  (sx(e._rawValidators, i), sx(e._rawAsyncValidators, i));
}
function _z(t, e) {
  e.valueAccessor.registerOnChange((n) => {
    ((t._pendingValue = n),
      (t._pendingChange = !0),
      (t._pendingDirty = !0),
      t.updateOn === 'change' && Ix(t, e));
  });
}
function wz(t, e) {
  e.valueAccessor.registerOnTouched(() => {
    ((t._pendingTouched = !0),
      t.updateOn === 'blur' && t._pendingChange && Ix(t, e),
      t.updateOn !== 'submit' && t.markAsTouched());
  });
}
function Ix(t, e) {
  (t._pendingDirty && t.markAsDirty(),
    t.setValue(t._pendingValue, { emitModelToViewChange: !1 }),
    e.viewToModelUpdate(t._pendingValue),
    (t._pendingChange = !1));
}
function Ez(t, e) {
  let n = (r, i) => {
    (e.valueAccessor.writeValue(r), i && e.viewToModelUpdate(r));
  };
  (t.registerOnChange(n),
    e._registerOnDestroy(() => {
      t._unregisterOnChange(n);
    }));
}
function Iz(t, e) {
  (t == null, Ex(t, e));
}
function Dz(t, e) {
  if (!t.hasOwnProperty('model')) return !1;
  let n = t.model;
  return n.isFirstChange() ? !0 : !Object.is(e, n.currentValue);
}
function Cz(t) {
  return Object.getPrototypeOf(t.constructor) === $_;
}
function bz(t, e) {
  (t._syncPendingControls(),
    e.forEach((n) => {
      let r = n.control;
      r.updateOn === 'submit' &&
        r._pendingChange &&
        (n.viewToModelUpdate(r._pendingValue), (r._pendingChange = !1));
    }));
}
function Tz(t, e) {
  if (!e) return null;
  Array.isArray(e);
  let n, r, i;
  return (
    e.forEach((o) => {
      o.constructor === Qi ? (n = o) : Cz(o) ? (r = o) : (i = o);
    }),
    i || r || n || null
  );
}
var Sz = { provide: _a, useExisting: ti(() => Vl) },
  kl = Promise.resolve(),
  Vl = (() => {
    class t extends _a {
      get submitted() {
        return dr(this.submittedReactive);
      }
      constructor(n, r, i) {
        (super(),
          (this.callSetDisabledState = i),
          (this._submitted = zo(() => this.submittedReactive())),
          (this.submittedReactive = sr(!1)),
          (this._directives = new Set()),
          (this.ngSubmit = new K()),
          (this.form = new Of({}, W_(n), q_(r))));
      }
      ngAfterViewInit() {
        this._setUpdateStrategy();
      }
      get formDirective() {
        return this;
      }
      get control() {
        return this.form;
      }
      get path() {
        return [];
      }
      get controls() {
        return this.form.controls;
      }
      addControl(n) {
        kl.then(() => {
          let r = this._findContainer(n.path);
          ((n.control = r.registerControl(n.name, n.control)),
            wx(n.control, n, this.callSetDisabledState),
            n.control.updateValueAndValidity({ emitEvent: !1 }),
            this._directives.add(n));
        });
      }
      getControl(n) {
        return this.form.get(n.path);
      }
      removeControl(n) {
        kl.then(() => {
          let r = this._findContainer(n.path);
          (r && r.removeControl(n.name), this._directives.delete(n));
        });
      }
      addFormGroup(n) {
        kl.then(() => {
          let r = this._findContainer(n.path),
            i = new Of({});
          (Iz(i, n), r.registerControl(n.name, i), i.updateValueAndValidity({ emitEvent: !1 }));
        });
      }
      removeFormGroup(n) {
        kl.then(() => {
          let r = this._findContainer(n.path);
          r && r.removeControl(n.name);
        });
      }
      getFormGroup(n) {
        return this.form.get(n.path);
      }
      updateModel(n, r) {
        kl.then(() => {
          this.form.get(n.path).setValue(r);
        });
      }
      setValue(n) {
        this.control.setValue(n);
      }
      onSubmit(n) {
        return (
          this.submittedReactive.set(!0),
          bz(this.form, this._directives),
          this.ngSubmit.emit(n),
          n?.target?.method === 'dialog'
        );
      }
      onReset() {
        this.resetForm();
      }
      resetForm(n = void 0) {
        (this.form.reset(n), this.submittedReactive.set(!1));
      }
      _setUpdateStrategy() {
        this.options &&
          this.options.updateOn != null &&
          (this.form._updateOn = this.options.updateOn);
      }
      _findContainer(n) {
        return (n.pop(), n.length ? this.form.get(n) : this.form);
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(z_, 10), k(hx, 10), k(G_, 8));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [
            ['form', 3, 'ngNoForm', '', 3, 'formGroup', ''],
            ['ng-form'],
            ['', 'ngForm', ''],
          ],
          hostBindings: function (r, i) {
            r & 1 &&
              ae('submit', function (s) {
                return i.onSubmit(s);
              })('reset', function () {
                return i.onReset();
              });
          },
          inputs: { options: [0, 'ngFormOptions', 'options'] },
          outputs: { ngSubmit: 'ngSubmit' },
          exportAs: ['ngForm'],
          features: [Ho([Sz]), ar],
        });
      }
    }
    return t;
  })();
function ax(t, e) {
  let n = t.indexOf(e);
  n > -1 && t.splice(n, 1);
}
function cx(t) {
  return (
    typeof t == 'object' &&
    t !== null &&
    Object.keys(t).length === 2 &&
    'value' in t &&
    'disabled' in t
  );
}
var Az = class extends Pf {
  constructor(e = null, n, r) {
    (super(yx(n), _x(r, n)),
      (this.defaultValue = null),
      (this._onChange = []),
      (this._pendingChange = !1),
      this._applyFormState(e),
      this._setUpdateStrategy(n),
      this._initObservables(),
      this.updateValueAndValidity({
        onlySelf: !0,
        emitEvent: !!this.asyncValidator,
      }),
      Lf(n) &&
        (n.nonNullable || n.initialValueIsDefault) &&
        (cx(e) ? (this.defaultValue = e.value) : (this.defaultValue = e)));
  }
  setValue(e, n = {}) {
    ((this.value = this._pendingValue = e),
      this._onChange.length &&
        n.emitModelToViewChange !== !1 &&
        this._onChange.forEach((r) => r(this.value, n.emitViewToModelChange !== !1)),
      this.updateValueAndValidity(n));
  }
  patchValue(e, n = {}) {
    this.setValue(e, n);
  }
  reset(e = this.defaultValue, n = {}) {
    (this._applyFormState(e),
      this.markAsPristine(n),
      this.markAsUntouched(n),
      this.setValue(this.value, n),
      (this._pendingChange = !1));
  }
  _updateValue() {}
  _anyControls(e) {
    return !1;
  }
  _allControlsDisabled() {
    return this.disabled;
  }
  registerOnChange(e) {
    this._onChange.push(e);
  }
  _unregisterOnChange(e) {
    ax(this._onChange, e);
  }
  registerOnDisabledChange(e) {
    this._onDisabledChange.push(e);
  }
  _unregisterOnDisabledChange(e) {
    ax(this._onDisabledChange, e);
  }
  _forEachChild(e) {}
  _syncPendingControls() {
    return this.updateOn === 'submit' &&
      (this._pendingDirty && this.markAsDirty(),
      this._pendingTouched && this.markAsTouched(),
      this._pendingChange)
      ? (this.setValue(this._pendingValue, {
          onlySelf: !0,
          emitModelToViewChange: !1,
        }),
        !0)
      : !1;
  }
  _applyFormState(e) {
    cx(e)
      ? ((this.value = this._pendingValue = e.value),
        e.disabled
          ? this.disable({ onlySelf: !0, emitEvent: !1 })
          : this.enable({ onlySelf: !0, emitEvent: !1 }))
      : (this.value = this._pendingValue = e);
  }
};
var Mz = { provide: Fl, useExisting: ti(() => Xo) },
  lx = Promise.resolve(),
  Xo = (() => {
    class t extends Fl {
      constructor(n, r, i, o, s, a) {
        (super(),
          (this._changeDetectorRef = s),
          (this.callSetDisabledState = a),
          (this.control = new Az()),
          (this._registered = !1),
          (this.name = ''),
          (this.update = new K()),
          (this._parent = n),
          this._setValidators(r),
          this._setAsyncValidators(i),
          (this.valueAccessor = Tz(this, o)));
      }
      ngOnChanges(n) {
        if ((this._checkForErrors(), !this._registered || 'name' in n)) {
          if (this._registered && (this._checkName(), this.formDirective)) {
            let r = n.name.previousValue;
            this.formDirective.removeControl({
              name: r,
              path: this._getPath(r),
            });
          }
          this._setUpControl();
        }
        ('isDisabled' in n && this._updateDisabled(n),
          Dz(n, this.viewModel) && (this._updateValue(this.model), (this.viewModel = this.model)));
      }
      ngOnDestroy() {
        this.formDirective && this.formDirective.removeControl(this);
      }
      get path() {
        return this._getPath(this.name);
      }
      get formDirective() {
        return this._parent ? this._parent.formDirective : null;
      }
      viewToModelUpdate(n) {
        ((this.viewModel = n), this.update.emit(n));
      }
      _setUpControl() {
        (this._setUpdateStrategy(),
          this._isStandalone() ? this._setUpStandalone() : this.formDirective.addControl(this),
          (this._registered = !0));
      }
      _setUpdateStrategy() {
        this.options &&
          this.options.updateOn != null &&
          (this.control._updateOn = this.options.updateOn);
      }
      _isStandalone() {
        return !this._parent || !!(this.options && this.options.standalone);
      }
      _setUpStandalone() {
        (wx(this.control, this, this.callSetDisabledState),
          this.control.updateValueAndValidity({ emitEvent: !1 }));
      }
      _checkForErrors() {
        (this._isStandalone() || this._checkParentType(), this._checkName());
      }
      _checkParentType() {}
      _checkName() {
        (this.options && this.options.name && (this.name = this.options.name),
          !this._isStandalone() && this.name);
      }
      _updateValue(n) {
        lx.then(() => {
          (this.control.setValue(n, { emitViewToModelChange: !1 }),
            this._changeDetectorRef?.markForCheck());
        });
      }
      _updateDisabled(n) {
        let r = n.isDisabled.currentValue,
          i = r !== 0 && qi(r);
        lx.then(() => {
          (i && !this.control.disabled
            ? this.control.disable()
            : !i && this.control.disabled && this.control.enable(),
            this._changeDetectorRef?.markForCheck());
        });
      }
      _getPath(n) {
        return this._parent ? vz(n, this._parent) : [n];
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(_a, 9), k(z_, 10), k(hx, 10), k(Ff, 10), k(ur, 8), k(G_, 8));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['', 'ngModel', '', 3, 'formControlName', '', 3, 'formControl', '']],
          inputs: {
            name: 'name',
            isDisabled: [0, 'disabled', 'isDisabled'],
            model: [0, 'ngModel', 'model'],
            options: [0, 'ngModelOptions', 'options'],
          },
          outputs: { update: 'ngModelChange' },
          exportAs: ['ngModel'],
          features: [Ho([Mz]), ar, zt],
        });
      }
    }
    return t;
  })(),
  jf = (() => {
    class t {
      static {
        this.ɵfac = function (r) {
          return new (r || t)();
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['form', 3, 'ngNoForm', '', 3, 'ngNativeValidate', '']],
          hostAttrs: ['novalidate', ''],
        });
      }
    }
    return t;
  })();
var xz = { provide: Ff, useExisting: ti(() => Uf), multi: !0 };
function Dx(t, e) {
  return t == null
    ? `${e}`
    : (e && typeof e == 'object' && (e = 'Object'), `${t}: ${e}`.slice(0, 50));
}
function Rz(t) {
  return t.split(':')[0];
}
var Uf = (() => {
    class t extends $_ {
      constructor() {
        (super(...arguments),
          (this._optionMap = new Map()),
          (this._idCounter = 0),
          (this._compareWith = Object.is));
      }
      set compareWith(n) {
        this._compareWith = n;
      }
      writeValue(n) {
        this.value = n;
        let r = this._getOptionId(n),
          i = Dx(r, n);
        this.setProperty('value', i);
      }
      registerOnChange(n) {
        this.onChange = (r) => {
          ((this.value = this._getOptionValue(r)), n(this.value));
        };
      }
      _registerOption() {
        return (this._idCounter++).toString();
      }
      _getOptionId(n) {
        for (let r of this._optionMap.keys())
          if (this._compareWith(this._optionMap.get(r), n)) return r;
        return null;
      }
      _getOptionValue(n) {
        let r = Rz(n);
        return this._optionMap.has(r) ? this._optionMap.get(r) : n;
      }
      static {
        this.ɵfac = (() => {
          let n;
          return function (i) {
            return (n || (n = Ar(t)))(i || t);
          };
        })();
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [
            ['select', 'formControlName', '', 3, 'multiple', ''],
            ['select', 'formControl', '', 3, 'multiple', ''],
            ['select', 'ngModel', '', 3, 'multiple', ''],
          ],
          hostBindings: function (r, i) {
            r & 1 &&
              ae('change', function (s) {
                return i.onChange(s.target.value);
              })('blur', function () {
                return i.onTouched();
              });
          },
          inputs: { compareWith: 'compareWith' },
          features: [Ho([xz]), ar],
        });
      }
    }
    return t;
  })(),
  Cx = (() => {
    class t {
      constructor(n, r, i) {
        ((this._element = n),
          (this._renderer = r),
          (this._select = i),
          this._select && (this.id = this._select._registerOption()));
      }
      set ngValue(n) {
        this._select != null &&
          (this._select._optionMap.set(this.id, n),
          this._setElementValue(Dx(this.id, n)),
          this._select.writeValue(this._select.value));
      }
      set value(n) {
        (this._setElementValue(n), this._select && this._select.writeValue(this._select.value));
      }
      _setElementValue(n) {
        this._renderer.setProperty(this._element.nativeElement, 'value', n);
      }
      ngOnDestroy() {
        this._select &&
          (this._select._optionMap.delete(this.id), this._select.writeValue(this._select.value));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(Je), k(ut), k(Uf, 9));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['option']],
          inputs: { ngValue: 'ngValue', value: 'value' },
        });
      }
    }
    return t;
  })(),
  Nz = { provide: Ff, useExisting: ti(() => bx), multi: !0 };
function ux(t, e) {
  return t == null
    ? `${e}`
    : (typeof e == 'string' && (e = `'${e}'`),
      e && typeof e == 'object' && (e = 'Object'),
      `${t}: ${e}`.slice(0, 50));
}
function kz(t) {
  return t.split(':')[0];
}
var bx = (() => {
    class t extends $_ {
      constructor() {
        (super(...arguments),
          (this._optionMap = new Map()),
          (this._idCounter = 0),
          (this._compareWith = Object.is));
      }
      set compareWith(n) {
        this._compareWith = n;
      }
      writeValue(n) {
        this.value = n;
        let r;
        if (Array.isArray(n)) {
          let i = n.map((o) => this._getOptionId(o));
          r = (o, s) => {
            o._setSelected(i.indexOf(s.toString()) > -1);
          };
        } else
          r = (i, o) => {
            i._setSelected(!1);
          };
        this._optionMap.forEach(r);
      }
      registerOnChange(n) {
        this.onChange = (r) => {
          let i = [],
            o = r.selectedOptions;
          if (o !== void 0) {
            let s = o;
            for (let a = 0; a < s.length; a++) {
              let c = s[a],
                u = this._getOptionValue(c.value);
              i.push(u);
            }
          } else {
            let s = r.options;
            for (let a = 0; a < s.length; a++) {
              let c = s[a];
              if (c.selected) {
                let u = this._getOptionValue(c.value);
                i.push(u);
              }
            }
          }
          ((this.value = i), n(i));
        };
      }
      _registerOption(n) {
        let r = (this._idCounter++).toString();
        return (this._optionMap.set(r, n), r);
      }
      _getOptionId(n) {
        for (let r of this._optionMap.keys())
          if (this._compareWith(this._optionMap.get(r)._value, n)) return r;
        return null;
      }
      _getOptionValue(n) {
        let r = kz(n);
        return this._optionMap.has(r) ? this._optionMap.get(r)._value : n;
      }
      static {
        this.ɵfac = (() => {
          let n;
          return function (i) {
            return (n || (n = Ar(t)))(i || t);
          };
        })();
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [
            ['select', 'multiple', '', 'formControlName', ''],
            ['select', 'multiple', '', 'formControl', ''],
            ['select', 'multiple', '', 'ngModel', ''],
          ],
          hostBindings: function (r, i) {
            r & 1 &&
              ae('change', function (s) {
                return i.onChange(s.target);
              })('blur', function () {
                return i.onTouched();
              });
          },
          inputs: { compareWith: 'compareWith' },
          features: [Ho([Nz]), ar],
        });
      }
    }
    return t;
  })(),
  Tx = (() => {
    class t {
      constructor(n, r, i) {
        ((this._element = n),
          (this._renderer = r),
          (this._select = i),
          this._select && (this.id = this._select._registerOption(this)));
      }
      set ngValue(n) {
        this._select != null &&
          ((this._value = n),
          this._setElementValue(ux(this.id, n)),
          this._select.writeValue(this._select.value));
      }
      set value(n) {
        this._select
          ? ((this._value = n),
            this._setElementValue(ux(this.id, n)),
            this._select.writeValue(this._select.value))
          : this._setElementValue(n);
      }
      _setElementValue(n) {
        this._renderer.setProperty(this._element.nativeElement, 'value', n);
      }
      _setSelected(n) {
        this._renderer.setProperty(this._element.nativeElement, 'selected', n);
      }
      ngOnDestroy() {
        this._select &&
          (this._select._optionMap.delete(this.id), this._select.writeValue(this._select.value));
      }
      static {
        this.ɵfac = function (r) {
          return new (r || t)(k(Je), k(ut), k(bx, 9));
        };
      }
      static {
        this.ɵdir = Re({
          type: t,
          selectors: [['option']],
          inputs: { ngValue: 'ngValue', value: 'value' },
        });
      }
    }
    return t;
  })();
var Pz = (() => {
  class t {
    constructor() {
      this._validator = nx;
    }
    ngOnChanges(n) {
      if (this.inputName in n) {
        let r = this.normalizeInput(n[this.inputName].currentValue);
        ((this._enabled = this.enabled(r)),
          (this._validator = this._enabled ? this.createValidator(r) : nx),
          this._onChange && this._onChange());
      }
    }
    validate(n) {
      return this._validator(n);
    }
    registerOnValidatorChange(n) {
      this._onChange = n;
    }
    enabled(n) {
      return n != null;
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵdir = Re({ type: t, features: [zt] });
    }
  }
  return t;
})();
var Oz = { provide: z_, useExisting: ti(() => Y_), multi: !0 };
var Y_ = (() => {
  class t extends Pz {
    constructor() {
      (super(...arguments),
        (this.inputName = 'required'),
        (this.normalizeInput = qi),
        (this.createValidator = (n) => sz));
    }
    enabled(n) {
      return n;
    }
    static {
      this.ɵfac = (() => {
        let n;
        return function (i) {
          return (n || (n = Ar(t)))(i || t);
        };
      })();
    }
    static {
      this.ɵdir = Re({
        type: t,
        selectors: [
          ['', 'required', '', 'formControlName', '', 3, 'type', 'checkbox'],
          ['', 'required', '', 'formControl', '', 3, 'type', 'checkbox'],
          ['', 'required', '', 'ngModel', '', 3, 'type', 'checkbox'],
        ],
        hostVars: 1,
        hostBindings: function (r, i) {
          r & 2 && qt('required', i._enabled ? '' : null);
        },
        inputs: { required: 'required' },
        features: [Ho([Oz]), ar],
      });
    }
  }
  return t;
})();
var Fz = (() => {
  class t {
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵmod = Dt({ type: t });
    }
    static {
      this.ɵinj = It({});
    }
  }
  return t;
})();
var Ia = (() => {
  class t {
    static withConfig(n) {
      return {
        ngModule: t,
        providers: [{ provide: G_, useValue: n.callSetDisabledState ?? K_ }],
      };
    }
    static {
      this.ɵfac = function (r) {
        return new (r || t)();
      };
    }
    static {
      this.ɵmod = Dt({ type: t });
    }
    static {
      this.ɵinj = It({ imports: [Fz] });
    }
  }
  return t;
})();
var Ax = function (t) {
    let e = [],
      n = 0;
    for (let r = 0; r < t.length; r++) {
      let i = t.charCodeAt(r);
      i < 128
        ? (e[n++] = i)
        : i < 2048
          ? ((e[n++] = (i >> 6) | 192), (e[n++] = (i & 63) | 128))
          : (i & 64512) === 55296 && r + 1 < t.length && (t.charCodeAt(r + 1) & 64512) === 56320
            ? ((i = 65536 + ((i & 1023) << 10) + (t.charCodeAt(++r) & 1023)),
              (e[n++] = (i >> 18) | 240),
              (e[n++] = ((i >> 12) & 63) | 128),
              (e[n++] = ((i >> 6) & 63) | 128),
              (e[n++] = (i & 63) | 128))
            : ((e[n++] = (i >> 12) | 224),
              (e[n++] = ((i >> 6) & 63) | 128),
              (e[n++] = (i & 63) | 128));
    }
    return e;
  },
  Vz = function (t) {
    let e = [],
      n = 0,
      r = 0;
    for (; n < t.length; ) {
      let i = t[n++];
      if (i < 128) e[r++] = String.fromCharCode(i);
      else if (i > 191 && i < 224) {
        let o = t[n++];
        e[r++] = String.fromCharCode(((i & 31) << 6) | (o & 63));
      } else if (i > 239 && i < 365) {
        let o = t[n++],
          s = t[n++],
          a = t[n++],
          c = (((i & 7) << 18) | ((o & 63) << 12) | ((s & 63) << 6) | (a & 63)) - 65536;
        ((e[r++] = String.fromCharCode(55296 + (c >> 10))),
          (e[r++] = String.fromCharCode(56320 + (c & 1023))));
      } else {
        let o = t[n++],
          s = t[n++];
        e[r++] = String.fromCharCode(((i & 15) << 12) | ((o & 63) << 6) | (s & 63));
      }
    }
    return e.join('');
  },
  Mx = {
    byteToCharMap_: null,
    charToByteMap_: null,
    byteToCharMapWebSafe_: null,
    charToByteMapWebSafe_: null,
    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',
    get ENCODED_VALS() {
      return this.ENCODED_VALS_BASE + '+/=';
    },
    get ENCODED_VALS_WEBSAFE() {
      return this.ENCODED_VALS_BASE + '-_.';
    },
    HAS_NATIVE_SUPPORT: typeof atob == 'function',
    encodeByteArray(t, e) {
      if (!Array.isArray(t)) throw Error('encodeByteArray takes an array as a parameter');
      this.init_();
      let n = e ? this.byteToCharMapWebSafe_ : this.byteToCharMap_,
        r = [];
      for (let i = 0; i < t.length; i += 3) {
        let o = t[i],
          s = i + 1 < t.length,
          a = s ? t[i + 1] : 0,
          c = i + 2 < t.length,
          u = c ? t[i + 2] : 0,
          d = o >> 2,
          p = ((o & 3) << 4) | (a >> 4),
          v = ((a & 15) << 2) | (u >> 6),
          m = u & 63;
        (c || ((m = 64), s || (v = 64)), r.push(n[d], n[p], n[v], n[m]));
      }
      return r.join('');
    },
    encodeString(t, e) {
      return this.HAS_NATIVE_SUPPORT && !e ? btoa(t) : this.encodeByteArray(Ax(t), e);
    },
    decodeString(t, e) {
      return this.HAS_NATIVE_SUPPORT && !e ? atob(t) : Vz(this.decodeStringToByteArray(t, e));
    },
    decodeStringToByteArray(t, e) {
      this.init_();
      let n = e ? this.charToByteMapWebSafe_ : this.charToByteMap_,
        r = [];
      for (let i = 0; i < t.length; ) {
        let o = n[t.charAt(i++)],
          a = i < t.length ? n[t.charAt(i)] : 0;
        ++i;
        let u = i < t.length ? n[t.charAt(i)] : 64;
        ++i;
        let p = i < t.length ? n[t.charAt(i)] : 64;
        if ((++i, o == null || a == null || u == null || p == null)) throw new Z_();
        let v = (o << 2) | (a >> 4);
        if ((r.push(v), u !== 64)) {
          let m = ((a << 4) & 240) | (u >> 2);
          if ((r.push(m), p !== 64)) {
            let D = ((u << 6) & 192) | p;
            r.push(D);
          }
        }
      }
      return r;
    },
    init_() {
      if (!this.byteToCharMap_) {
        ((this.byteToCharMap_ = {}),
          (this.charToByteMap_ = {}),
          (this.byteToCharMapWebSafe_ = {}),
          (this.charToByteMapWebSafe_ = {}));
        for (let t = 0; t < this.ENCODED_VALS.length; t++)
          ((this.byteToCharMap_[t] = this.ENCODED_VALS.charAt(t)),
            (this.charToByteMap_[this.byteToCharMap_[t]] = t),
            (this.byteToCharMapWebSafe_[t] = this.ENCODED_VALS_WEBSAFE.charAt(t)),
            (this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]] = t),
            t >= this.ENCODED_VALS_BASE.length &&
              ((this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)] = t),
              (this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)] = t)));
      }
    },
  },
  Z_ = class extends Error {
    constructor() {
      (super(...arguments), (this.name = 'DecodeBase64StringError'));
    }
  },
  Lz = function (t) {
    let e = Ax(t);
    return Mx.encodeByteArray(e, !0);
  },
  Ll = function (t) {
    return Lz(t).replace(/\./g, '');
  },
  ew = function (t) {
    try {
      return Mx.decodeString(t, !0);
    } catch (e) {
      console.error('base64Decode failed: ', e);
    }
    return null;
  };
function jz() {
  if (typeof self < 'u') return self;
  if (typeof window < 'u') return window;
  if (typeof global < 'u') return global;
  throw new Error('Unable to locate global object.');
}
var Uz = () => jz().__FIREBASE_DEFAULTS__,
  Bz = () => {
    if (typeof process > 'u' || typeof process.env > 'u') return;
    let t = process.env.__FIREBASE_DEFAULTS__;
    if (t) return JSON.parse(t);
  },
  Hz = () => {
    if (typeof document > 'u') return;
    let t;
    try {
      t = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
    } catch {
      return;
    }
    let e = t && ew(t[1]);
    return e && JSON.parse(e);
  },
  Hf = () => {
    try {
      return Uz() || Bz() || Hz();
    } catch (t) {
      console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);
      return;
    }
  },
  tw = (t) => {
    var e, n;
    return (n = (e = Hf()) === null || e === void 0 ? void 0 : e.emulatorHosts) === null ||
      n === void 0
      ? void 0
      : n[t];
  },
  xx = (t) => {
    let e = tw(t);
    if (!e) return;
    let n = e.lastIndexOf(':');
    if (n <= 0 || n + 1 === e.length)
      throw new Error(`Invalid host ${e} with no separate hostname and port!`);
    let r = parseInt(e.substring(n + 1), 10);
    return e[0] === '[' ? [e.substring(1, n - 1), r] : [e.substring(0, n), r];
  },
  nw = () => {
    var t;
    return (t = Hf()) === null || t === void 0 ? void 0 : t.config;
  },
  rw = (t) => {
    var e;
    return (e = Hf()) === null || e === void 0 ? void 0 : e[`_${t}`];
  };
var Bf = class {
  constructor() {
    ((this.reject = () => {}),
      (this.resolve = () => {}),
      (this.promise = new Promise((e, n) => {
        ((this.resolve = e), (this.reject = n));
      })));
  }
  wrapCallback(e) {
    return (n, r) => {
      (n ? this.reject(n) : this.resolve(r),
        typeof e == 'function' && (this.promise.catch(() => {}), e.length === 1 ? e(n) : e(n, r)));
    };
  }
};
function Rx(t, e) {
  if (t.uid)
    throw new Error(
      'The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.'
    );
  let n = { alg: 'none', type: 'JWT' },
    r = e || 'demo-project',
    i = t.iat || 0,
    o = t.sub || t.user_id;
  if (!o) throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
  let s = Object.assign(
    {
      iss: `https://securetoken.google.com/${r}`,
      aud: r,
      iat: i,
      exp: i + 3600,
      auth_time: i,
      sub: o,
      user_id: o,
      firebase: { sign_in_provider: 'custom', identities: {} },
    },
    t
  );
  return [Ll(JSON.stringify(n)), Ll(JSON.stringify(s)), ''].join('.');
}
function Rt() {
  return typeof navigator < 'u' && typeof navigator.userAgent == 'string'
    ? navigator.userAgent
    : '';
}
function Nx() {
  return (
    typeof window < 'u' &&
    !!(window.cordova || window.phonegap || window.PhoneGap) &&
    /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())
  );
}
function $z() {
  var t;
  let e = (t = Hf()) === null || t === void 0 ? void 0 : t.forceEnvironment;
  if (e === 'node') return !0;
  if (e === 'browser') return !1;
  try {
    return Object.prototype.toString.call(global.process) === '[object process]';
  } catch {
    return !1;
  }
}
function kx() {
  return typeof navigator < 'u' && navigator.userAgent === 'Cloudflare-Workers';
}
function Px() {
  let t =
    typeof chrome == 'object'
      ? chrome.runtime
      : typeof browser == 'object'
        ? browser.runtime
        : void 0;
  return typeof t == 'object' && t.id !== void 0;
}
function Ox() {
  return typeof navigator == 'object' && navigator.product === 'ReactNative';
}
function Fx() {
  let t = Rt();
  return t.indexOf('MSIE ') >= 0 || t.indexOf('Trident/') >= 0;
}
function Vx() {
  return (
    !$z() &&
    !!navigator.userAgent &&
    navigator.userAgent.includes('Safari') &&
    !navigator.userAgent.includes('Chrome')
  );
}
function iw() {
  try {
    return typeof indexedDB == 'object';
  } catch {
    return !1;
  }
}
function Lx() {
  return new Promise((t, e) => {
    try {
      let n = !0,
        r = 'validate-browser-context-for-indexeddb-analytics-module',
        i = self.indexedDB.open(r);
      ((i.onsuccess = () => {
        (i.result.close(), n || self.indexedDB.deleteDatabase(r), t(!0));
      }),
        (i.onupgradeneeded = () => {
          n = !1;
        }),
        (i.onerror = () => {
          var o;
          e(((o = i.error) === null || o === void 0 ? void 0 : o.message) || '');
        }));
    } catch (n) {
      e(n);
    }
  });
}
var zz = 'FirebaseError',
  Sn = class t extends Error {
    constructor(e, n, r) {
      (super(n),
        (this.code = e),
        (this.customData = r),
        (this.name = zz),
        Object.setPrototypeOf(this, t.prototype),
        Error.captureStackTrace && Error.captureStackTrace(this, hi.prototype.create));
    }
  },
  hi = class {
    constructor(e, n, r) {
      ((this.service = e), (this.serviceName = n), (this.errors = r));
    }
    create(e, ...n) {
      let r = n[0] || {},
        i = `${this.service}/${e}`,
        o = this.errors[e],
        s = o ? Wz(o, r) : 'Error',
        a = `${this.serviceName}: ${s} (${i}).`;
      return new Sn(i, a, r);
    }
  };
function Wz(t, e) {
  return t.replace(qz, (n, r) => {
    let i = e[r];
    return i != null ? String(i) : `<${r}?>`;
  });
}
var qz = /\{\$([^}]+)}/g;
function jx(t) {
  for (let e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
  return !0;
}
function Zo(t, e) {
  if (t === e) return !0;
  let n = Object.keys(t),
    r = Object.keys(e);
  for (let i of n) {
    if (!r.includes(i)) return !1;
    let o = t[i],
      s = e[i];
    if (Sx(o) && Sx(s)) {
      if (!Zo(o, s)) return !1;
    } else if (o !== s) return !1;
  }
  for (let i of r) if (!n.includes(i)) return !1;
  return !0;
}
function Sx(t) {
  return t !== null && typeof t == 'object';
}
function Da(t) {
  let e = [];
  for (let [n, r] of Object.entries(t))
    Array.isArray(r)
      ? r.forEach((i) => {
          e.push(encodeURIComponent(n) + '=' + encodeURIComponent(i));
        })
      : e.push(encodeURIComponent(n) + '=' + encodeURIComponent(r));
  return e.length ? '&' + e.join('&') : '';
}
function Ca(t) {
  let e = {};
  return (
    t
      .replace(/^\?/, '')
      .split('&')
      .forEach((r) => {
        if (r) {
          let [i, o] = r.split('=');
          e[decodeURIComponent(i)] = decodeURIComponent(o);
        }
      }),
    e
  );
}
function ba(t) {
  let e = t.indexOf('?');
  if (!e) return '';
  let n = t.indexOf('#', e);
  return t.substring(e, n > 0 ? n : void 0);
}
function Ux(t, e) {
  let n = new J_(t, e);
  return n.subscribe.bind(n);
}
var J_ = class {
  constructor(e, n) {
    ((this.observers = []),
      (this.unsubscribes = []),
      (this.observerCount = 0),
      (this.task = Promise.resolve()),
      (this.finalized = !1),
      (this.onNoObservers = n),
      this.task
        .then(() => {
          e(this);
        })
        .catch((r) => {
          this.error(r);
        }));
  }
  next(e) {
    this.forEachObserver((n) => {
      n.next(e);
    });
  }
  error(e) {
    (this.forEachObserver((n) => {
      n.error(e);
    }),
      this.close(e));
  }
  complete() {
    (this.forEachObserver((e) => {
      e.complete();
    }),
      this.close());
  }
  subscribe(e, n, r) {
    let i;
    if (e === void 0 && n === void 0 && r === void 0) throw new Error('Missing Observer.');
    (Gz(e, ['next', 'error', 'complete']) ? (i = e) : (i = { next: e, error: n, complete: r }),
      i.next === void 0 && (i.next = X_),
      i.error === void 0 && (i.error = X_),
      i.complete === void 0 && (i.complete = X_));
    let o = this.unsubscribeOne.bind(this, this.observers.length);
    return (
      this.finalized &&
        this.task.then(() => {
          try {
            this.finalError ? i.error(this.finalError) : i.complete();
          } catch {}
        }),
      this.observers.push(i),
      o
    );
  }
  unsubscribeOne(e) {
    this.observers === void 0 ||
      this.observers[e] === void 0 ||
      (delete this.observers[e],
      (this.observerCount -= 1),
      this.observerCount === 0 && this.onNoObservers !== void 0 && this.onNoObservers(this));
  }
  forEachObserver(e) {
    if (!this.finalized) for (let n = 0; n < this.observers.length; n++) this.sendOne(n, e);
  }
  sendOne(e, n) {
    this.task.then(() => {
      if (this.observers !== void 0 && this.observers[e] !== void 0)
        try {
          n(this.observers[e]);
        } catch (r) {
          typeof console < 'u' && console.error && console.error(r);
        }
    });
  }
  close(e) {
    this.finalized ||
      ((this.finalized = !0),
      e !== void 0 && (this.finalError = e),
      this.task.then(() => {
        ((this.observers = void 0), (this.onNoObservers = void 0));
      }));
  }
};
function Gz(t, e) {
  if (typeof t != 'object' || t === null) return !1;
  for (let n of e) if (n in t && typeof t[n] == 'function') return !0;
  return !1;
}
function X_() {}
var Lte = 4 * 60 * 60 * 1e3;
function Gt(t) {
  return t && t._delegate ? t._delegate : t;
}
var Wn = class {
  constructor(e, n, r) {
    ((this.name = e),
      (this.instanceFactory = n),
      (this.type = r),
      (this.multipleInstances = !1),
      (this.serviceProps = {}),
      (this.instantiationMode = 'LAZY'),
      (this.onInstanceCreated = null));
  }
  setInstantiationMode(e) {
    return ((this.instantiationMode = e), this);
  }
  setMultipleInstances(e) {
    return ((this.multipleInstances = e), this);
  }
  setServiceProps(e) {
    return ((this.serviceProps = e), this);
  }
  setInstanceCreatedCallback(e) {
    return ((this.onInstanceCreated = e), this);
  }
};
var Jo = '[DEFAULT]';
var ow = class {
  constructor(e, n) {
    ((this.name = e),
      (this.container = n),
      (this.component = null),
      (this.instances = new Map()),
      (this.instancesDeferred = new Map()),
      (this.instancesOptions = new Map()),
      (this.onInitCallbacks = new Map()));
  }
  get(e) {
    let n = this.normalizeInstanceIdentifier(e);
    if (!this.instancesDeferred.has(n)) {
      let r = new Bf();
      if ((this.instancesDeferred.set(n, r), this.isInitialized(n) || this.shouldAutoInitialize()))
        try {
          let i = this.getOrInitializeService({ instanceIdentifier: n });
          i && r.resolve(i);
        } catch {}
    }
    return this.instancesDeferred.get(n).promise;
  }
  getImmediate(e) {
    var n;
    let r = this.normalizeInstanceIdentifier(e?.identifier),
      i = (n = e?.optional) !== null && n !== void 0 ? n : !1;
    if (this.isInitialized(r) || this.shouldAutoInitialize())
      try {
        return this.getOrInitializeService({ instanceIdentifier: r });
      } catch (o) {
        if (i) return null;
        throw o;
      }
    else {
      if (i) return null;
      throw Error(`Service ${this.name} is not available`);
    }
  }
  getComponent() {
    return this.component;
  }
  setComponent(e) {
    if (e.name !== this.name)
      throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);
    if (this.component) throw Error(`Component for ${this.name} has already been provided`);
    if (((this.component = e), !!this.shouldAutoInitialize())) {
      if (Yz(e))
        try {
          this.getOrInitializeService({ instanceIdentifier: Jo });
        } catch {}
      for (let [n, r] of this.instancesDeferred.entries()) {
        let i = this.normalizeInstanceIdentifier(n);
        try {
          let o = this.getOrInitializeService({ instanceIdentifier: i });
          r.resolve(o);
        } catch {}
      }
    }
  }
  clearInstance(e = Jo) {
    (this.instancesDeferred.delete(e), this.instancesOptions.delete(e), this.instances.delete(e));
  }
  delete() {
    return C(this, null, function* () {
      let e = Array.from(this.instances.values());
      yield Promise.all([
        ...e.filter((n) => 'INTERNAL' in n).map((n) => n.INTERNAL.delete()),
        ...e.filter((n) => '_delete' in n).map((n) => n._delete()),
      ]);
    });
  }
  isComponentSet() {
    return this.component != null;
  }
  isInitialized(e = Jo) {
    return this.instances.has(e);
  }
  getOptions(e = Jo) {
    return this.instancesOptions.get(e) || {};
  }
  initialize(e = {}) {
    let { options: n = {} } = e,
      r = this.normalizeInstanceIdentifier(e.instanceIdentifier);
    if (this.isInitialized(r)) throw Error(`${this.name}(${r}) has already been initialized`);
    if (!this.isComponentSet()) throw Error(`Component ${this.name} has not been registered yet`);
    let i = this.getOrInitializeService({ instanceIdentifier: r, options: n });
    for (let [o, s] of this.instancesDeferred.entries()) {
      let a = this.normalizeInstanceIdentifier(o);
      r === a && s.resolve(i);
    }
    return i;
  }
  onInit(e, n) {
    var r;
    let i = this.normalizeInstanceIdentifier(n),
      o = (r = this.onInitCallbacks.get(i)) !== null && r !== void 0 ? r : new Set();
    (o.add(e), this.onInitCallbacks.set(i, o));
    let s = this.instances.get(i);
    return (
      s && e(s, i),
      () => {
        o.delete(e);
      }
    );
  }
  invokeOnInitCallbacks(e, n) {
    let r = this.onInitCallbacks.get(n);
    if (r)
      for (let i of r)
        try {
          i(e, n);
        } catch {}
  }
  getOrInitializeService({ instanceIdentifier: e, options: n = {} }) {
    let r = this.instances.get(e);
    if (
      !r &&
      this.component &&
      ((r = this.component.instanceFactory(this.container, {
        instanceIdentifier: Kz(e),
        options: n,
      })),
      this.instances.set(e, r),
      this.instancesOptions.set(e, n),
      this.invokeOnInitCallbacks(r, e),
      this.component.onInstanceCreated)
    )
      try {
        this.component.onInstanceCreated(this.container, e, r);
      } catch {}
    return r || null;
  }
  normalizeInstanceIdentifier(e = Jo) {
    return this.component ? (this.component.multipleInstances ? e : Jo) : e;
  }
  shouldAutoInitialize() {
    return !!this.component && this.component.instantiationMode !== 'EXPLICIT';
  }
};
function Kz(t) {
  return t === Jo ? void 0 : t;
}
function Yz(t) {
  return t.instantiationMode === 'EAGER';
}
var $f = class {
  constructor(e) {
    ((this.name = e), (this.providers = new Map()));
  }
  addComponent(e) {
    let n = this.getProvider(e.name);
    if (n.isComponentSet())
      throw new Error(`Component ${e.name} has already been registered with ${this.name}`);
    n.setComponent(e);
  }
  addOrOverwriteComponent(e) {
    (this.getProvider(e.name).isComponentSet() && this.providers.delete(e.name),
      this.addComponent(e));
  }
  getProvider(e) {
    if (this.providers.has(e)) return this.providers.get(e);
    let n = new ow(e, this);
    return (this.providers.set(e, n), n);
  }
  getProviders() {
    return Array.from(this.providers.values());
  }
};
var Qz = [],
  Me = (function (t) {
    return (
      (t[(t.DEBUG = 0)] = 'DEBUG'),
      (t[(t.VERBOSE = 1)] = 'VERBOSE'),
      (t[(t.INFO = 2)] = 'INFO'),
      (t[(t.WARN = 3)] = 'WARN'),
      (t[(t.ERROR = 4)] = 'ERROR'),
      (t[(t.SILENT = 5)] = 'SILENT'),
      t
    );
  })(Me || {}),
  Xz = {
    debug: Me.DEBUG,
    verbose: Me.VERBOSE,
    info: Me.INFO,
    warn: Me.WARN,
    error: Me.ERROR,
    silent: Me.SILENT,
  },
  Zz = Me.INFO,
  Jz = {
    [Me.DEBUG]: 'log',
    [Me.VERBOSE]: 'log',
    [Me.INFO]: 'info',
    [Me.WARN]: 'warn',
    [Me.ERROR]: 'error',
  },
  e4 = (t, e, ...n) => {
    if (e < t.logLevel) return;
    let r = new Date().toISOString(),
      i = Jz[e];
    if (i) console[i](`[${r}]  ${t.name}:`, ...n);
    else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);
  },
  Xi = class {
    constructor(e) {
      ((this.name = e),
        (this._logLevel = Zz),
        (this._logHandler = e4),
        (this._userLogHandler = null),
        Qz.push(this));
    }
    get logLevel() {
      return this._logLevel;
    }
    set logLevel(e) {
      if (!(e in Me)) throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
      this._logLevel = e;
    }
    setLogLevel(e) {
      this._logLevel = typeof e == 'string' ? Xz[e] : e;
    }
    get logHandler() {
      return this._logHandler;
    }
    set logHandler(e) {
      if (typeof e != 'function')
        throw new TypeError('Value assigned to `logHandler` must be a function');
      this._logHandler = e;
    }
    get userLogHandler() {
      return this._userLogHandler;
    }
    set userLogHandler(e) {
      this._userLogHandler = e;
    }
    debug(...e) {
      (this._userLogHandler && this._userLogHandler(this, Me.DEBUG, ...e),
        this._logHandler(this, Me.DEBUG, ...e));
    }
    log(...e) {
      (this._userLogHandler && this._userLogHandler(this, Me.VERBOSE, ...e),
        this._logHandler(this, Me.VERBOSE, ...e));
    }
    info(...e) {
      (this._userLogHandler && this._userLogHandler(this, Me.INFO, ...e),
        this._logHandler(this, Me.INFO, ...e));
    }
    warn(...e) {
      (this._userLogHandler && this._userLogHandler(this, Me.WARN, ...e),
        this._logHandler(this, Me.WARN, ...e));
    }
    error(...e) {
      (this._userLogHandler && this._userLogHandler(this, Me.ERROR, ...e),
        this._logHandler(this, Me.ERROR, ...e));
    }
  };
var t4 = (t, e) => e.some((n) => t instanceof n),
  Bx,
  Hx;
function n4() {
  return Bx || (Bx = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction]);
}
function r4() {
  return (
    Hx ||
    (Hx = [
      IDBCursor.prototype.advance,
      IDBCursor.prototype.continue,
      IDBCursor.prototype.continuePrimaryKey,
    ])
  );
}
var $x = new WeakMap(),
  aw = new WeakMap(),
  zx = new WeakMap(),
  sw = new WeakMap(),
  lw = new WeakMap();
function i4(t) {
  let e = new Promise((n, r) => {
    let i = () => {
        (t.removeEventListener('success', o), t.removeEventListener('error', s));
      },
      o = () => {
        (n(kr(t.result)), i());
      },
      s = () => {
        (r(t.error), i());
      };
    (t.addEventListener('success', o), t.addEventListener('error', s));
  });
  return (
    e
      .then((n) => {
        n instanceof IDBCursor && $x.set(n, t);
      })
      .catch(() => {}),
    lw.set(e, t),
    e
  );
}
function o4(t) {
  if (aw.has(t)) return;
  let e = new Promise((n, r) => {
    let i = () => {
        (t.removeEventListener('complete', o),
          t.removeEventListener('error', s),
          t.removeEventListener('abort', s));
      },
      o = () => {
        (n(), i());
      },
      s = () => {
        (r(t.error || new DOMException('AbortError', 'AbortError')), i());
      };
    (t.addEventListener('complete', o),
      t.addEventListener('error', s),
      t.addEventListener('abort', s));
  });
  aw.set(t, e);
}
var cw = {
  get(t, e, n) {
    if (t instanceof IDBTransaction) {
      if (e === 'done') return aw.get(t);
      if (e === 'objectStoreNames') return t.objectStoreNames || zx.get(t);
      if (e === 'store')
        return n.objectStoreNames[1] ? void 0 : n.objectStore(n.objectStoreNames[0]);
    }
    return kr(t[e]);
  },
  set(t, e, n) {
    return ((t[e] = n), !0);
  },
  has(t, e) {
    return t instanceof IDBTransaction && (e === 'done' || e === 'store') ? !0 : e in t;
  },
};
function Wx(t) {
  cw = t(cw);
}
function s4(t) {
  return t === IDBDatabase.prototype.transaction &&
    !('objectStoreNames' in IDBTransaction.prototype)
    ? function (e, ...n) {
        let r = t.call(zf(this), e, ...n);
        return (zx.set(r, e.sort ? e.sort() : [e]), kr(r));
      }
    : r4().includes(t)
      ? function (...e) {
          return (t.apply(zf(this), e), kr($x.get(this)));
        }
      : function (...e) {
          return kr(t.apply(zf(this), e));
        };
}
function a4(t) {
  return typeof t == 'function'
    ? s4(t)
    : (t instanceof IDBTransaction && o4(t), t4(t, n4()) ? new Proxy(t, cw) : t);
}
function kr(t) {
  if (t instanceof IDBRequest) return i4(t);
  if (sw.has(t)) return sw.get(t);
  let e = a4(t);
  return (e !== t && (sw.set(t, e), lw.set(e, t)), e);
}
var zf = (t) => lw.get(t);
function Gx(t, e, { blocked: n, upgrade: r, blocking: i, terminated: o } = {}) {
  let s = indexedDB.open(t, e),
    a = kr(s);
  return (
    r &&
      s.addEventListener('upgradeneeded', (c) => {
        r(kr(s.result), c.oldVersion, c.newVersion, kr(s.transaction), c);
      }),
    n && s.addEventListener('blocked', (c) => n(c.oldVersion, c.newVersion, c)),
    a
      .then((c) => {
        (o && c.addEventListener('close', () => o()),
          i && c.addEventListener('versionchange', (u) => i(u.oldVersion, u.newVersion, u)));
      })
      .catch(() => {}),
    a
  );
}
var c4 = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'],
  l4 = ['put', 'add', 'delete', 'clear'],
  uw = new Map();
function qx(t, e) {
  if (!(t instanceof IDBDatabase && !(e in t) && typeof e == 'string')) return;
  if (uw.get(e)) return uw.get(e);
  let n = e.replace(/FromIndex$/, ''),
    r = e !== n,
    i = l4.includes(n);
  if (!(n in (r ? IDBIndex : IDBObjectStore).prototype) || !(i || c4.includes(n))) return;
  let o = function (s, ...a) {
    return C(this, null, function* () {
      let c = this.transaction(s, i ? 'readwrite' : 'readonly'),
        u = c.store;
      return (r && (u = u.index(a.shift())), (yield Promise.all([u[n](...a), i && c.done]))[0]);
    });
  };
  return (uw.set(e, o), o);
}
Wx((t) =>
  ve(U({}, t), {
    get: (e, n, r) => qx(e, n) || t.get(e, n, r),
    has: (e, n) => !!qx(e, n) || t.has(e, n),
  })
);
var hw = class {
  constructor(e) {
    this.container = e;
  }
  getPlatformInfoString() {
    return this.container
      .getProviders()
      .map((n) => {
        if (u4(n)) {
          let r = n.getImmediate();
          return `${r.library}/${r.version}`;
        } else return null;
      })
      .filter((n) => n)
      .join(' ');
  }
};
function u4(t) {
  let e = t.getComponent();
  return e?.type === 'VERSION';
}
var fw = '@firebase/app',
  Kx = '0.10.13';
var fi = new Xi('@firebase/app'),
  d4 = '@firebase/app-compat',
  h4 = '@firebase/analytics-compat',
  f4 = '@firebase/analytics',
  p4 = '@firebase/app-check-compat',
  m4 = '@firebase/app-check',
  g4 = '@firebase/auth',
  v4 = '@firebase/auth-compat',
  y4 = '@firebase/database',
  _4 = '@firebase/data-connect',
  w4 = '@firebase/database-compat',
  E4 = '@firebase/functions',
  I4 = '@firebase/functions-compat',
  D4 = '@firebase/installations',
  C4 = '@firebase/installations-compat',
  b4 = '@firebase/messaging',
  T4 = '@firebase/messaging-compat',
  S4 = '@firebase/performance',
  A4 = '@firebase/performance-compat',
  M4 = '@firebase/remote-config',
  x4 = '@firebase/remote-config-compat',
  R4 = '@firebase/storage',
  N4 = '@firebase/storage-compat',
  k4 = '@firebase/firestore',
  P4 = '@firebase/vertexai-preview',
  O4 = '@firebase/firestore-compat',
  F4 = 'firebase',
  V4 = '10.14.1';
var pw = '[DEFAULT]',
  L4 = {
    [fw]: 'fire-core',
    [d4]: 'fire-core-compat',
    [f4]: 'fire-analytics',
    [h4]: 'fire-analytics-compat',
    [m4]: 'fire-app-check',
    [p4]: 'fire-app-check-compat',
    [g4]: 'fire-auth',
    [v4]: 'fire-auth-compat',
    [y4]: 'fire-rtdb',
    [_4]: 'fire-data-connect',
    [w4]: 'fire-rtdb-compat',
    [E4]: 'fire-fn',
    [I4]: 'fire-fn-compat',
    [D4]: 'fire-iid',
    [C4]: 'fire-iid-compat',
    [b4]: 'fire-fcm',
    [T4]: 'fire-fcm-compat',
    [S4]: 'fire-perf',
    [A4]: 'fire-perf-compat',
    [M4]: 'fire-rc',
    [x4]: 'fire-rc-compat',
    [R4]: 'fire-gcs',
    [N4]: 'fire-gcs-compat',
    [k4]: 'fire-fst',
    [O4]: 'fire-fst-compat',
    [P4]: 'fire-vertex',
    'fire-js': 'fire-js',
    [F4]: 'fire-js-all',
  };
var jl = new Map(),
  j4 = new Map(),
  mw = new Map();
function Yx(t, e) {
  try {
    t.container.addComponent(e);
  } catch (n) {
    fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`, n);
  }
}
function Ji(t) {
  let e = t.name;
  if (mw.has(e)) return (fi.debug(`There were multiple attempts to register component ${e}.`), !1);
  mw.set(e, t);
  for (let n of jl.values()) Yx(n, t);
  for (let n of j4.values()) Yx(n, t);
  return !0;
}
function Bl(t, e) {
  let n = t.container.getProvider('heartbeat').getImmediate({ optional: !0 });
  return (n && n.triggerHeartbeat(), t.container.getProvider(e));
}
function qn(t) {
  return t.settings !== void 0;
}
var U4 = {
    'no-app': "No Firebase App '{$appName}' has been created - call initializeApp() first",
    'bad-app-name': "Illegal App name: '{$appName}'",
    'duplicate-app':
      "Firebase App named '{$appName}' already exists with different options or config",
    'app-deleted': "Firebase App named '{$appName}' already deleted",
    'server-app-deleted': 'Firebase Server App has been deleted',
    'no-options': 'Need to provide options, when not being deployed to hosting via source.',
    'invalid-app-argument':
      'firebase.{$appName}() takes either no argument or a Firebase App instance.',
    'invalid-log-argument': 'First argument to `onLog` must be null or a function.',
    'idb-open': 'Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.',
    'idb-get': 'Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.',
    'idb-set': 'Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.',
    'idb-delete':
      'Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.',
    'finalization-registry-not-supported':
      'FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.',
    'invalid-server-app-environment': 'FirebaseServerApp is not for use in browser environments.',
  },
  Zi = new hi('app', 'Firebase', U4);
var gw = class {
  constructor(e, n, r) {
    ((this._isDeleted = !1),
      (this._options = Object.assign({}, e)),
      (this._config = Object.assign({}, n)),
      (this._name = n.name),
      (this._automaticDataCollectionEnabled = n.automaticDataCollectionEnabled),
      (this._container = r),
      this.container.addComponent(new Wn('app', () => this, 'PUBLIC')));
  }
  get automaticDataCollectionEnabled() {
    return (this.checkDestroyed(), this._automaticDataCollectionEnabled);
  }
  set automaticDataCollectionEnabled(e) {
    (this.checkDestroyed(), (this._automaticDataCollectionEnabled = e));
  }
  get name() {
    return (this.checkDestroyed(), this._name);
  }
  get options() {
    return (this.checkDestroyed(), this._options);
  }
  get config() {
    return (this.checkDestroyed(), this._config);
  }
  get container() {
    return this._container;
  }
  get isDeleted() {
    return this._isDeleted;
  }
  set isDeleted(e) {
    this._isDeleted = e;
  }
  checkDestroyed() {
    if (this.isDeleted) throw Zi.create('app-deleted', { appName: this._name });
  }
};
var eo = V4;
function _w(t, e = {}) {
  let n = t;
  typeof e != 'object' && (e = { name: e });
  let r = Object.assign({ name: pw, automaticDataCollectionEnabled: !1 }, e),
    i = r.name;
  if (typeof i != 'string' || !i) throw Zi.create('bad-app-name', { appName: String(i) });
  if ((n || (n = nw()), !n)) throw Zi.create('no-options');
  let o = jl.get(i);
  if (o) {
    if (Zo(n, o.options) && Zo(r, o.config)) return o;
    throw Zi.create('duplicate-app', { appName: i });
  }
  let s = new $f(i);
  for (let c of mw.values()) s.addComponent(c);
  let a = new gw(n, r, s);
  return (jl.set(i, a), a);
}
function es(t = pw) {
  let e = jl.get(t);
  if (!e && t === pw && nw()) return _w();
  if (!e) throw Zi.create('no-app', { appName: t });
  return e;
}
function Hl() {
  return Array.from(jl.values());
}
function yt(t, e, n) {
  var r;
  let i = (r = L4[t]) !== null && r !== void 0 ? r : t;
  n && (i += `-${n}`);
  let o = i.match(/\s|\//),
    s = e.match(/\s|\//);
  if (o || s) {
    let a = [`Unable to register library "${i}" with version "${e}":`];
    (o && a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),
      o && s && a.push('and'),
      s && a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),
      fi.warn(a.join(' ')));
    return;
  }
  Ji(new Wn(`${i}-version`, () => ({ library: i, version: e }), 'VERSION'));
}
var B4 = 'firebase-heartbeat-database',
  H4 = 1,
  Ul = 'firebase-heartbeat-store',
  dw = null;
function Jx() {
  return (
    dw ||
      (dw = Gx(B4, H4, {
        upgrade: (t, e) => {
          switch (e) {
            case 0:
              try {
                t.createObjectStore(Ul);
              } catch (n) {
                console.warn(n);
              }
          }
        },
      }).catch((t) => {
        throw Zi.create('idb-open', { originalErrorMessage: t.message });
      })),
    dw
  );
}
function $4(t) {
  return C(this, null, function* () {
    try {
      let n = (yield Jx()).transaction(Ul),
        r = yield n.objectStore(Ul).get(eR(t));
      return (yield n.done, r);
    } catch (e) {
      if (e instanceof Sn) fi.warn(e.message);
      else {
        let n = Zi.create('idb-get', { originalErrorMessage: e?.message });
        fi.warn(n.message);
      }
    }
  });
}
function Qx(t, e) {
  return C(this, null, function* () {
    try {
      let r = (yield Jx()).transaction(Ul, 'readwrite');
      (yield r.objectStore(Ul).put(e, eR(t)), yield r.done);
    } catch (n) {
      if (n instanceof Sn) fi.warn(n.message);
      else {
        let r = Zi.create('idb-set', { originalErrorMessage: n?.message });
        fi.warn(r.message);
      }
    }
  });
}
function eR(t) {
  return `${t.name}!${t.options.appId}`;
}
var z4 = 1024,
  W4 = 30 * 24 * 60 * 60 * 1e3,
  vw = class {
    constructor(e) {
      ((this.container = e), (this._heartbeatsCache = null));
      let n = this.container.getProvider('app').getImmediate();
      ((this._storage = new yw(n)),
        (this._heartbeatsCachePromise = this._storage
          .read()
          .then((r) => ((this._heartbeatsCache = r), r))));
    }
    triggerHeartbeat() {
      return C(this, null, function* () {
        var e, n;
        try {
          let i = this.container
              .getProvider('platform-logger')
              .getImmediate()
              .getPlatformInfoString(),
            o = Xx();
          return (((e = this._heartbeatsCache) === null || e === void 0 ? void 0 : e.heartbeats) ==
            null &&
            ((this._heartbeatsCache = yield this._heartbeatsCachePromise),
            ((n = this._heartbeatsCache) === null || n === void 0 ? void 0 : n.heartbeats) ==
              null)) ||
            this._heartbeatsCache.lastSentHeartbeatDate === o ||
            this._heartbeatsCache.heartbeats.some((s) => s.date === o)
            ? void 0
            : (this._heartbeatsCache.heartbeats.push({ date: o, agent: i }),
              (this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter((s) => {
                let a = new Date(s.date).valueOf();
                return Date.now() - a <= W4;
              })),
              this._storage.overwrite(this._heartbeatsCache));
        } catch (r) {
          fi.warn(r);
        }
      });
    }
    getHeartbeatsHeader() {
      return C(this, null, function* () {
        var e;
        try {
          if (
            (this._heartbeatsCache === null && (yield this._heartbeatsCachePromise),
            ((e = this._heartbeatsCache) === null || e === void 0 ? void 0 : e.heartbeats) ==
              null || this._heartbeatsCache.heartbeats.length === 0)
          )
            return '';
          let n = Xx(),
            { heartbeatsToSend: r, unsentEntries: i } = q4(this._heartbeatsCache.heartbeats),
            o = Ll(JSON.stringify({ version: 2, heartbeats: r }));
          return (
            (this._heartbeatsCache.lastSentHeartbeatDate = n),
            i.length > 0
              ? ((this._heartbeatsCache.heartbeats = i),
                yield this._storage.overwrite(this._heartbeatsCache))
              : ((this._heartbeatsCache.heartbeats = []),
                this._storage.overwrite(this._heartbeatsCache)),
            o
          );
        } catch (n) {
          return (fi.warn(n), '');
        }
      });
    }
  };
function Xx() {
  return new Date().toISOString().substring(0, 10);
}
function q4(t, e = z4) {
  let n = [],
    r = t.slice();
  for (let i of t) {
    let o = n.find((s) => s.agent === i.agent);
    if (o) {
      if ((o.dates.push(i.date), Zx(n) > e)) {
        o.dates.pop();
        break;
      }
    } else if ((n.push({ agent: i.agent, dates: [i.date] }), Zx(n) > e)) {
      n.pop();
      break;
    }
    r = r.slice(1);
  }
  return { heartbeatsToSend: n, unsentEntries: r };
}
var yw = class {
  constructor(e) {
    ((this.app = e), (this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck()));
  }
  runIndexedDBEnvironmentCheck() {
    return C(this, null, function* () {
      return iw()
        ? Lx()
            .then(() => !0)
            .catch(() => !1)
        : !1;
    });
  }
  read() {
    return C(this, null, function* () {
      if (yield this._canUseIndexedDBPromise) {
        let n = yield $4(this.app);
        return n?.heartbeats ? n : { heartbeats: [] };
      } else return { heartbeats: [] };
    });
  }
  overwrite(e) {
    return C(this, null, function* () {
      var n;
      if (yield this._canUseIndexedDBPromise) {
        let i = yield this.read();
        return Qx(this.app, {
          lastSentHeartbeatDate:
            (n = e.lastSentHeartbeatDate) !== null && n !== void 0 ? n : i.lastSentHeartbeatDate,
          heartbeats: e.heartbeats,
        });
      } else return;
    });
  }
  add(e) {
    return C(this, null, function* () {
      var n;
      if (yield this._canUseIndexedDBPromise) {
        let i = yield this.read();
        return Qx(this.app, {
          lastSentHeartbeatDate:
            (n = e.lastSentHeartbeatDate) !== null && n !== void 0 ? n : i.lastSentHeartbeatDate,
          heartbeats: [...i.heartbeats, ...e.heartbeats],
        });
      } else return;
    });
  }
};
function Zx(t) {
  return Ll(JSON.stringify({ version: 2, heartbeats: t })).length;
}
function G4(t) {
  (Ji(new Wn('platform-logger', (e) => new hw(e), 'PRIVATE')),
    Ji(new Wn('heartbeat', (e) => new vw(e), 'PRIVATE')),
    yt(fw, Kx, t),
    yt(fw, Kx, 'esm2017'),
    yt('fire-js', ''));
}
G4('');
var K4 = 'firebase',
  Y4 = '10.14.1';
yt(K4, Y4, 'app');
var ns = new ei('ANGULARFIRE2_VERSION');
function qf(t, e, n) {
  if (e) {
    if (e.length === 1) return e[0];
    let o = e.filter((s) => s.app === n);
    if (o.length === 1) return o[0];
  }
  return n.container.getProvider(t).getImmediate({ optional: !0 });
}
var $l = (t, e) => {
    let n = e ? [e] : Hl(),
      r = [];
    return (
      n.forEach((i) => {
        i.container.getProvider(t).instances.forEach((s) => {
          r.includes(s) || r.push(s);
        });
      }),
      r
    );
  },
  Gf = class {
    constructor() {
      return $l(X4);
    }
  },
  X4 = 'app-check';
function Ta() {}
var tR = class {
    zone;
    delegate;
    constructor(t, e = vg) {
      ((this.zone = t), (this.delegate = e));
    }
    now() {
      return this.delegate.now();
    }
    schedule(t, e, n) {
      let r = this.zone,
        i = function (o) {
          r.runGuarded(() => {
            t.apply(this, [o]);
          });
        };
      return this.delegate.schedule(i, e, n);
    }
  },
  Z4 = class {
    zone;
    task = null;
    constructor(t) {
      this.zone = t;
    }
    call(t, e) {
      let n = this.unscheduleTask.bind(this);
      return (
        (this.task = this.zone.run(() =>
          Zone.current.scheduleMacroTask('firebaseZoneBlock', Ta, {}, Ta, Ta)
        )),
        e
          .pipe(tt({ next: n, complete: n, error: n }))
          .subscribe(t)
          .add(n)
      );
    }
    unscheduleTask() {
      setTimeout(() => {
        this.task != null &&
          this.task.state === 'scheduled' &&
          (this.task.invoke(), (this.task = null));
      }, 10);
    }
  },
  Sa = class Wf {
    ngZone;
    outsideAngular;
    insideAngular;
    constructor(n) {
      ((this.ngZone = n),
        (this.outsideAngular = n.runOutsideAngular(() => new tR(Zone.current))),
        (this.insideAngular = n.run(() => new tR(Zone.current, Ps))),
        (globalThis.ɵAngularFireScheduler ||= this));
    }
    static ɵfac = function (r) {
      return new (r || Wf)(le(Se));
    };
    static ɵprov = G({ token: Wf, factory: Wf.ɵfac, providedIn: 'root' });
  };
function Kf() {
  let t = globalThis.ɵAngularFireScheduler;
  if (!t)
    throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);
  return t;
}
function J4(t) {
  return Kf().ngZone.runOutsideAngular(() => t());
}
function ts(t) {
  return Kf().ngZone.run(() => t());
}
function eW(t) {
  return tW(Kf())(t);
}
function tW(t) {
  return function (n) {
    return ((n = n.lift(new Z4(t.ngZone))), n.pipe(xi(t.outsideAngular), Mi(t.insideAngular)));
  };
}
var nW = (t, e) =>
    function () {
      let r = arguments;
      return (
        e &&
          setTimeout(() => {
            e.state === 'scheduled' && e.invoke();
          }, 10),
        ts(() => t.apply(void 0, r))
      );
    },
  Kt = (t, e) =>
    function () {
      let n,
        r = arguments;
      for (let o = 0; o < arguments.length; o++)
        typeof r[o] == 'function' &&
          (e &&
            (n ||= ts(() => Zone.current.scheduleMacroTask('firebaseZoneBlock', Ta, {}, Ta, Ta))),
          (r[o] = nW(r[o], n)));
      let i = J4(() => t.apply(this, r));
      if (!e)
        if (i instanceof he) {
          let o = Kf();
          return i.pipe(xi(o.outsideAngular), Mi(o.insideAngular));
        } else return ts(() => i);
      return i instanceof he
        ? i.pipe(eW)
        : i instanceof Promise
          ? ts(
              () =>
                new Promise((o, s) =>
                  i.then(
                    (a) => ts(() => o(a)),
                    (a) => ts(() => s(a))
                  )
                )
            )
          : typeof i == 'function' && n
            ? function () {
                return (
                  setTimeout(() => {
                    n && n.state === 'scheduled' && n.invoke();
                  }, 10),
                  i.apply(this, arguments)
                );
              }
            : ts(() => i);
    };
var rs = class {
    constructor(t) {
      return t;
    }
  },
  zl = class {
    constructor() {
      return Hl();
    }
  };
function rW(t) {
  return t && t.length === 1 ? t[0] : new rs(es());
}
var ww = new X('angularfire2._apps'),
  iW = { provide: rs, useFactory: rW, deps: [[new $t(), ww]] },
  oW = { provide: zl, deps: [[new $t(), ww]] };
function sW(t) {
  return (e, n) => {
    let r = n.get(hn);
    (yt('angularfire', ns.full, 'core'),
      yt('angularfire', ns.full, 'app'),
      yt('angular', TA.full, r.toString()));
    let i = e.runOutsideAngular(() => t(n));
    return new rs(i);
  };
}
function nR(t, ...e) {
  return _n([iW, oW, { provide: ww, useFactory: sW(t), multi: !0, deps: [Se, At, Sa, ...e] }]);
}
var rR = Kt(_w, !0);
function wR() {
  return {
    'dependent-sdk-initialized-before-auth':
      'Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.',
  };
}
var ER = wR,
  IR = new hi('auth', 'Firebase', wR());
var ep = new Xi('@firebase/auth');
function aW(t, ...e) {
  ep.logLevel <= Me.WARN && ep.warn(`Auth (${eo}): ${t}`, ...e);
}
function Qf(t, ...e) {
  ep.logLevel <= Me.ERROR && ep.error(`Auth (${eo}): ${t}`, ...e);
}
function Gn(t, ...e) {
  throw Bw(t, ...e);
}
function pr(t, ...e) {
  return Bw(t, ...e);
}
function Uw(t, e, n) {
  let r = Object.assign(Object.assign({}, ER()), { [e]: n });
  return new hi('auth', 'Firebase', r).create(e, { appName: t.name });
}
function gi(t) {
  return Uw(
    t,
    'operation-not-supported-in-this-environment',
    'Operations that alter the current user are not supported in conjunction with FirebaseServerApp'
  );
}
function cW(t, e, n) {
  let r = n;
  if (!(e instanceof r))
    throw (
      r.name !== e.constructor.name && Gn(t, 'argument-error'),
      Uw(
        t,
        'argument-error',
        `Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`
      )
    );
}
function Bw(t, ...e) {
  if (typeof t != 'string') {
    let n = e[0],
      r = [...e.slice(1)];
    return (r[0] && (r[0].appName = t.name), t._errorFactory.create(n, ...r));
  }
  return IR.create(t, ...e);
}
function de(t, e, ...n) {
  if (!t) throw Bw(e, ...n);
}
function pi(t) {
  let e = 'INTERNAL ASSERTION FAILED: ' + t;
  throw (Qf(e), new Error(e));
}
function vi(t, e) {
  t || pi(e);
}
function Dw() {
  var t;
  return (
    (typeof self < 'u' && ((t = self.location) === null || t === void 0 ? void 0 : t.href)) || ''
  );
}
function lW() {
  return iR() === 'http:' || iR() === 'https:';
}
function iR() {
  var t;
  return (
    (typeof self < 'u' && ((t = self.location) === null || t === void 0 ? void 0 : t.protocol)) ||
    null
  );
}
function uW() {
  return typeof navigator < 'u' &&
    navigator &&
    'onLine' in navigator &&
    typeof navigator.onLine == 'boolean' &&
    (lW() || Px() || 'connection' in navigator)
    ? navigator.onLine
    : !0;
}
function dW() {
  if (typeof navigator > 'u') return null;
  let t = navigator;
  return (t.languages && t.languages[0]) || t.language || null;
}
var is = class {
  constructor(e, n) {
    ((this.shortDelay = e),
      (this.longDelay = n),
      vi(n > e, 'Short delay should be less than long delay!'),
      (this.isMobile = Nx() || Ox()));
  }
  get() {
    return uW()
      ? this.isMobile
        ? this.longDelay
        : this.shortDelay
      : Math.min(5e3, this.shortDelay);
  }
};
function Hw(t, e) {
  vi(t.emulator, 'Emulator should always be set here');
  let { url: n } = t.emulator;
  return e ? `${n}${e.startsWith('/') ? e.slice(1) : e}` : n;
}
var tp = class {
  static initialize(e, n, r) {
    ((this.fetchImpl = e), n && (this.headersImpl = n), r && (this.responseImpl = r));
  }
  static fetch() {
    if (this.fetchImpl) return this.fetchImpl;
    if (typeof self < 'u' && 'fetch' in self) return self.fetch;
    if (typeof globalThis < 'u' && globalThis.fetch) return globalThis.fetch;
    if (typeof fetch < 'u') return fetch;
    pi(
      'Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill'
    );
  }
  static headers() {
    if (this.headersImpl) return this.headersImpl;
    if (typeof self < 'u' && 'Headers' in self) return self.Headers;
    if (typeof globalThis < 'u' && globalThis.Headers) return globalThis.Headers;
    if (typeof Headers < 'u') return Headers;
    pi(
      'Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill'
    );
  }
  static response() {
    if (this.responseImpl) return this.responseImpl;
    if (typeof self < 'u' && 'Response' in self) return self.Response;
    if (typeof globalThis < 'u' && globalThis.Response) return globalThis.Response;
    if (typeof Response < 'u') return Response;
    pi(
      'Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill'
    );
  }
};
var hW = {
  CREDENTIAL_MISMATCH: 'custom-token-mismatch',
  MISSING_CUSTOM_TOKEN: 'internal-error',
  INVALID_IDENTIFIER: 'invalid-email',
  MISSING_CONTINUE_URI: 'internal-error',
  INVALID_PASSWORD: 'wrong-password',
  MISSING_PASSWORD: 'missing-password',
  INVALID_LOGIN_CREDENTIALS: 'invalid-credential',
  EMAIL_EXISTS: 'email-already-in-use',
  PASSWORD_LOGIN_DISABLED: 'operation-not-allowed',
  INVALID_IDP_RESPONSE: 'invalid-credential',
  INVALID_PENDING_TOKEN: 'invalid-credential',
  FEDERATED_USER_ID_ALREADY_LINKED: 'credential-already-in-use',
  MISSING_REQ_TYPE: 'internal-error',
  EMAIL_NOT_FOUND: 'user-not-found',
  RESET_PASSWORD_EXCEED_LIMIT: 'too-many-requests',
  EXPIRED_OOB_CODE: 'expired-action-code',
  INVALID_OOB_CODE: 'invalid-action-code',
  MISSING_OOB_CODE: 'internal-error',
  CREDENTIAL_TOO_OLD_LOGIN_AGAIN: 'requires-recent-login',
  INVALID_ID_TOKEN: 'invalid-user-token',
  TOKEN_EXPIRED: 'user-token-expired',
  USER_NOT_FOUND: 'user-token-expired',
  TOO_MANY_ATTEMPTS_TRY_LATER: 'too-many-requests',
  PASSWORD_DOES_NOT_MEET_REQUIREMENTS: 'password-does-not-meet-requirements',
  INVALID_CODE: 'invalid-verification-code',
  INVALID_SESSION_INFO: 'invalid-verification-id',
  INVALID_TEMPORARY_PROOF: 'invalid-credential',
  MISSING_SESSION_INFO: 'missing-verification-id',
  SESSION_EXPIRED: 'code-expired',
  MISSING_ANDROID_PACKAGE_NAME: 'missing-android-pkg-name',
  UNAUTHORIZED_DOMAIN: 'unauthorized-continue-uri',
  INVALID_OAUTH_CLIENT_ID: 'invalid-oauth-client-id',
  ADMIN_ONLY_OPERATION: 'admin-restricted-operation',
  INVALID_MFA_PENDING_CREDENTIAL: 'invalid-multi-factor-session',
  MFA_ENROLLMENT_NOT_FOUND: 'multi-factor-info-not-found',
  MISSING_MFA_ENROLLMENT_ID: 'missing-multi-factor-info',
  MISSING_MFA_PENDING_CREDENTIAL: 'missing-multi-factor-session',
  SECOND_FACTOR_EXISTS: 'second-factor-already-in-use',
  SECOND_FACTOR_LIMIT_EXCEEDED: 'maximum-second-factor-count-exceeded',
  BLOCKING_FUNCTION_ERROR_RESPONSE: 'internal-error',
  RECAPTCHA_NOT_ENABLED: 'recaptcha-not-enabled',
  MISSING_RECAPTCHA_TOKEN: 'missing-recaptcha-token',
  INVALID_RECAPTCHA_TOKEN: 'invalid-recaptcha-token',
  INVALID_RECAPTCHA_ACTION: 'invalid-recaptcha-action',
  MISSING_CLIENT_TYPE: 'missing-client-type',
  MISSING_RECAPTCHA_VERSION: 'missing-recaptcha-version',
  INVALID_RECAPTCHA_VERSION: 'invalid-recaptcha-version',
  INVALID_REQ_TYPE: 'invalid-req-type',
};
var fW = new is(3e4, 6e4);
function no(t, e) {
  return t.tenantId && !e.tenantId
    ? Object.assign(Object.assign({}, e), { tenantId: t.tenantId })
    : e;
}
function ro(o, s, a, c) {
  return C(this, arguments, function* (t, e, n, r, i = {}) {
    return DR(t, i, () =>
      C(this, null, function* () {
        let u = {},
          d = {};
        r && (e === 'GET' ? (d = r) : (u = { body: JSON.stringify(r) }));
        let p = Da(Object.assign({ key: t.config.apiKey }, d)).slice(1),
          v = yield t._getAdditionalHeaders();
        ((v['Content-Type'] = 'application/json'),
          t.languageCode && (v['X-Firebase-Locale'] = t.languageCode));
        let m = Object.assign({ method: e, headers: v }, u);
        return (
          kx() || (m.referrerPolicy = 'no-referrer'),
          tp.fetch()(CR(t, t.config.apiHost, n, p), m)
        );
      })
    );
  });
}
function DR(t, e, n) {
  return C(this, null, function* () {
    t._canInitEmulator = !1;
    let r = Object.assign(Object.assign({}, hW), e);
    try {
      let i = new Cw(t),
        o = yield Promise.race([n(), i.promise]);
      i.clearNetworkTimeout();
      let s = yield o.json();
      if ('needConfirmation' in s) throw Yf(t, 'account-exists-with-different-credential', s);
      if (o.ok && !('errorMessage' in s)) return s;
      {
        let a = o.ok ? s.errorMessage : s.error.message,
          [c, u] = a.split(' : ');
        if (c === 'FEDERATED_USER_ID_ALREADY_LINKED') throw Yf(t, 'credential-already-in-use', s);
        if (c === 'EMAIL_EXISTS') throw Yf(t, 'email-already-in-use', s);
        if (c === 'USER_DISABLED') throw Yf(t, 'user-disabled', s);
        let d = r[c] || c.toLowerCase().replace(/[_\s]+/g, '-');
        if (u) throw Uw(t, d, u);
        Gn(t, d);
      }
    } catch (i) {
      if (i instanceof Sn) throw i;
      Gn(t, 'network-request-failed', { message: String(i) });
    }
  });
}
function Zl(o, s, a, c) {
  return C(this, arguments, function* (t, e, n, r, i = {}) {
    let u = yield ro(t, e, n, r, i);
    return (
      'mfaPendingCredential' in u && Gn(t, 'multi-factor-auth-required', { _serverResponse: u }),
      u
    );
  });
}
function CR(t, e, n, r) {
  let i = `${e}${n}?${r}`;
  return t.config.emulator ? Hw(t.config, i) : `${t.config.apiScheme}://${i}`;
}
function pW(t) {
  switch (t) {
    case 'ENFORCE':
      return 'ENFORCE';
    case 'AUDIT':
      return 'AUDIT';
    case 'OFF':
      return 'OFF';
    default:
      return 'ENFORCEMENT_STATE_UNSPECIFIED';
  }
}
var Cw = class {
  constructor(e) {
    ((this.auth = e),
      (this.timer = null),
      (this.promise = new Promise((n, r) => {
        this.timer = setTimeout(() => r(pr(this.auth, 'network-request-failed')), fW.get());
      })));
  }
  clearNetworkTimeout() {
    clearTimeout(this.timer);
  }
};
function Yf(t, e, n) {
  let r = { appName: t.name };
  (n.email && (r.email = n.email), n.phoneNumber && (r.phoneNumber = n.phoneNumber));
  let i = pr(t, e, r);
  return ((i.customData._tokenResponse = n), i);
}
function oR(t) {
  return t !== void 0 && t.enterprise !== void 0;
}
var bw = class {
  constructor(e) {
    if (((this.siteKey = ''), (this.recaptchaEnforcementState = []), e.recaptchaKey === void 0))
      throw new Error('recaptchaKey undefined');
    ((this.siteKey = e.recaptchaKey.split('/')[3]),
      (this.recaptchaEnforcementState = e.recaptchaEnforcementState));
  }
  getProviderEnforcementState(e) {
    if (!this.recaptchaEnforcementState || this.recaptchaEnforcementState.length === 0) return null;
    for (let n of this.recaptchaEnforcementState)
      if (n.provider && n.provider === e) return pW(n.enforcementState);
    return null;
  }
  isProviderEnabled(e) {
    return (
      this.getProviderEnforcementState(e) === 'ENFORCE' ||
      this.getProviderEnforcementState(e) === 'AUDIT'
    );
  }
};
function mW(t, e) {
  return C(this, null, function* () {
    return ro(t, 'GET', '/v2/recaptchaConfig', no(t, e));
  });
}
function gW(t, e) {
  return C(this, null, function* () {
    return ro(t, 'POST', '/v1/accounts:delete', e);
  });
}
function bR(t, e) {
  return C(this, null, function* () {
    return ro(t, 'POST', '/v1/accounts:lookup', e);
  });
}
function Wl(t) {
  if (t)
    try {
      let e = new Date(Number(t));
      if (!isNaN(e.getTime())) return e.toUTCString();
    } catch {}
}
function $w(t, e = !1) {
  return C(this, null, function* () {
    let n = Gt(t),
      r = yield n.getIdToken(e),
      i = zw(r);
    de(i && i.exp && i.auth_time && i.iat, n.auth, 'internal-error');
    let o = typeof i.firebase == 'object' ? i.firebase : void 0,
      s = o?.sign_in_provider;
    return {
      claims: i,
      token: r,
      authTime: Wl(Ew(i.auth_time)),
      issuedAtTime: Wl(Ew(i.iat)),
      expirationTime: Wl(Ew(i.exp)),
      signInProvider: s || null,
      signInSecondFactor: o?.sign_in_second_factor || null,
    };
  });
}
function Ew(t) {
  return Number(t) * 1e3;
}
function zw(t) {
  let [e, n, r] = t.split('.');
  if (e === void 0 || n === void 0 || r === void 0)
    return (Qf('JWT malformed, contained fewer than 3 sections'), null);
  try {
    let i = ew(n);
    return i ? JSON.parse(i) : (Qf('Failed to decode base64 JWT payload'), null);
  } catch (i) {
    return (Qf('Caught error parsing JWT payload as JSON', i?.toString()), null);
  }
}
function sR(t) {
  let e = zw(t);
  return (
    de(e, 'internal-error'),
    de(typeof e.exp < 'u', 'internal-error'),
    de(typeof e.iat < 'u', 'internal-error'),
    Number(e.exp) - Number(e.iat)
  );
}
function Gl(t, e, n = !1) {
  return C(this, null, function* () {
    if (n) return e;
    try {
      return yield e;
    } catch (r) {
      throw (r instanceof Sn && vW(r) && t.auth.currentUser === t && (yield t.auth.signOut()), r);
    }
  });
}
function vW({ code: t }) {
  return t === 'auth/user-disabled' || t === 'auth/user-token-expired';
}
var Tw = class {
  constructor(e) {
    ((this.user = e), (this.isRunning = !1), (this.timerId = null), (this.errorBackoff = 3e4));
  }
  _start() {
    this.isRunning || ((this.isRunning = !0), this.schedule());
  }
  _stop() {
    this.isRunning && ((this.isRunning = !1), this.timerId !== null && clearTimeout(this.timerId));
  }
  getInterval(e) {
    var n;
    if (e) {
      let r = this.errorBackoff;
      return ((this.errorBackoff = Math.min(this.errorBackoff * 2, 96e4)), r);
    } else {
      this.errorBackoff = 3e4;
      let i =
        ((n = this.user.stsTokenManager.expirationTime) !== null && n !== void 0 ? n : 0) -
        Date.now() -
        3e5;
      return Math.max(0, i);
    }
  }
  schedule(e = !1) {
    if (!this.isRunning) return;
    let n = this.getInterval(e);
    this.timerId = setTimeout(
      () =>
        C(this, null, function* () {
          yield this.iteration();
        }),
      n
    );
  }
  iteration() {
    return C(this, null, function* () {
      try {
        yield this.user.getIdToken(!0);
      } catch (e) {
        e?.code === 'auth/network-request-failed' && this.schedule(!0);
        return;
      }
      this.schedule();
    });
  }
};
var Kl = class {
  constructor(e, n) {
    ((this.createdAt = e), (this.lastLoginAt = n), this._initializeTime());
  }
  _initializeTime() {
    ((this.lastSignInTime = Wl(this.lastLoginAt)), (this.creationTime = Wl(this.createdAt)));
  }
  _copy(e) {
    ((this.createdAt = e.createdAt), (this.lastLoginAt = e.lastLoginAt), this._initializeTime());
  }
  toJSON() {
    return { createdAt: this.createdAt, lastLoginAt: this.lastLoginAt };
  }
};
function np(t) {
  return C(this, null, function* () {
    var e;
    let n = t.auth,
      r = yield t.getIdToken(),
      i = yield Gl(t, bR(n, { idToken: r }));
    de(i?.users.length, n, 'internal-error');
    let o = i.users[0];
    t._notifyReloadListener(o);
    let s =
        !((e = o.providerUserInfo) === null || e === void 0) && e.length
          ? TR(o.providerUserInfo)
          : [],
      a = yW(t.providerData, s),
      c = t.isAnonymous,
      u = !(t.email && o.passwordHash) && !a?.length,
      d = c ? u : !1,
      p = {
        uid: o.localId,
        displayName: o.displayName || null,
        photoURL: o.photoUrl || null,
        email: o.email || null,
        emailVerified: o.emailVerified || !1,
        phoneNumber: o.phoneNumber || null,
        tenantId: o.tenantId || null,
        providerData: a,
        metadata: new Kl(o.createdAt, o.lastLoginAt),
        isAnonymous: d,
      };
    Object.assign(t, p);
  });
}
function Ww(t) {
  return C(this, null, function* () {
    let e = Gt(t);
    (yield np(e), yield e.auth._persistUserIfCurrent(e), e.auth._notifyListenersIfCurrent(e));
  });
}
function yW(t, e) {
  return [...t.filter((r) => !e.some((i) => i.providerId === r.providerId)), ...e];
}
function TR(t) {
  return t.map((e) => {
    var { providerId: n } = e,
      r = ud(e, ['providerId']);
    return {
      providerId: n,
      uid: r.rawId || '',
      displayName: r.displayName || null,
      email: r.email || null,
      phoneNumber: r.phoneNumber || null,
      photoURL: r.photoUrl || null,
    };
  });
}
function _W(t, e) {
  return C(this, null, function* () {
    let n = yield DR(t, {}, () =>
      C(this, null, function* () {
        let r = Da({ grant_type: 'refresh_token', refresh_token: e }).slice(1),
          { tokenApiHost: i, apiKey: o } = t.config,
          s = CR(t, i, '/v1/token', `key=${o}`),
          a = yield t._getAdditionalHeaders();
        return (
          (a['Content-Type'] = 'application/x-www-form-urlencoded'),
          tp.fetch()(s, { method: 'POST', headers: a, body: r })
        );
      })
    );
    return {
      accessToken: n.access_token,
      expiresIn: n.expires_in,
      refreshToken: n.refresh_token,
    };
  });
}
function wW(t, e) {
  return C(this, null, function* () {
    return ro(t, 'POST', '/v2/accounts:revokeToken', no(t, e));
  });
}
var ql = class t {
  constructor() {
    ((this.refreshToken = null), (this.accessToken = null), (this.expirationTime = null));
  }
  get isExpired() {
    return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
  }
  updateFromServerResponse(e) {
    (de(e.idToken, 'internal-error'),
      de(typeof e.idToken < 'u', 'internal-error'),
      de(typeof e.refreshToken < 'u', 'internal-error'));
    let n = 'expiresIn' in e && typeof e.expiresIn < 'u' ? Number(e.expiresIn) : sR(e.idToken);
    this.updateTokensAndExpiration(e.idToken, e.refreshToken, n);
  }
  updateFromIdToken(e) {
    de(e.length !== 0, 'internal-error');
    let n = sR(e);
    this.updateTokensAndExpiration(e, null, n);
  }
  getToken(e, n = !1) {
    return C(this, null, function* () {
      return !n && this.accessToken && !this.isExpired
        ? this.accessToken
        : (de(this.refreshToken, e, 'user-token-expired'),
          this.refreshToken ? (yield this.refresh(e, this.refreshToken), this.accessToken) : null);
    });
  }
  clearRefreshToken() {
    this.refreshToken = null;
  }
  refresh(e, n) {
    return C(this, null, function* () {
      let { accessToken: r, refreshToken: i, expiresIn: o } = yield _W(e, n);
      this.updateTokensAndExpiration(r, i, Number(o));
    });
  }
  updateTokensAndExpiration(e, n, r) {
    ((this.refreshToken = n || null),
      (this.accessToken = e || null),
      (this.expirationTime = Date.now() + r * 1e3));
  }
  static fromJSON(e, n) {
    let { refreshToken: r, accessToken: i, expirationTime: o } = n,
      s = new t();
    return (
      r && (de(typeof r == 'string', 'internal-error', { appName: e }), (s.refreshToken = r)),
      i && (de(typeof i == 'string', 'internal-error', { appName: e }), (s.accessToken = i)),
      o && (de(typeof o == 'number', 'internal-error', { appName: e }), (s.expirationTime = o)),
      s
    );
  }
  toJSON() {
    return {
      refreshToken: this.refreshToken,
      accessToken: this.accessToken,
      expirationTime: this.expirationTime,
    };
  }
  _assign(e) {
    ((this.accessToken = e.accessToken),
      (this.refreshToken = e.refreshToken),
      (this.expirationTime = e.expirationTime));
  }
  _clone() {
    return Object.assign(new t(), this.toJSON());
  }
  _performRefresh() {
    return pi('not implemented');
  }
};
function to(t, e) {
  de(typeof t == 'string' || typeof t > 'u', 'internal-error', { appName: e });
}
var Ma = class t {
  constructor(e) {
    var { uid: n, auth: r, stsTokenManager: i } = e,
      o = ud(e, ['uid', 'auth', 'stsTokenManager']);
    ((this.providerId = 'firebase'),
      (this.proactiveRefresh = new Tw(this)),
      (this.reloadUserInfo = null),
      (this.reloadListener = null),
      (this.uid = n),
      (this.auth = r),
      (this.stsTokenManager = i),
      (this.accessToken = i.accessToken),
      (this.displayName = o.displayName || null),
      (this.email = o.email || null),
      (this.emailVerified = o.emailVerified || !1),
      (this.phoneNumber = o.phoneNumber || null),
      (this.photoURL = o.photoURL || null),
      (this.isAnonymous = o.isAnonymous || !1),
      (this.tenantId = o.tenantId || null),
      (this.providerData = o.providerData ? [...o.providerData] : []),
      (this.metadata = new Kl(o.createdAt || void 0, o.lastLoginAt || void 0)));
  }
  getIdToken(e) {
    return C(this, null, function* () {
      let n = yield Gl(this, this.stsTokenManager.getToken(this.auth, e));
      return (
        de(n, this.auth, 'internal-error'),
        this.accessToken !== n &&
          ((this.accessToken = n),
          yield this.auth._persistUserIfCurrent(this),
          this.auth._notifyListenersIfCurrent(this)),
        n
      );
    });
  }
  getIdTokenResult(e) {
    return $w(this, e);
  }
  reload() {
    return Ww(this);
  }
  _assign(e) {
    this !== e &&
      (de(this.uid === e.uid, this.auth, 'internal-error'),
      (this.displayName = e.displayName),
      (this.photoURL = e.photoURL),
      (this.email = e.email),
      (this.emailVerified = e.emailVerified),
      (this.phoneNumber = e.phoneNumber),
      (this.isAnonymous = e.isAnonymous),
      (this.tenantId = e.tenantId),
      (this.providerData = e.providerData.map((n) => Object.assign({}, n))),
      this.metadata._copy(e.metadata),
      this.stsTokenManager._assign(e.stsTokenManager));
  }
  _clone(e) {
    let n = new t(
      Object.assign(Object.assign({}, this), {
        auth: e,
        stsTokenManager: this.stsTokenManager._clone(),
      })
    );
    return (n.metadata._copy(this.metadata), n);
  }
  _onReload(e) {
    (de(!this.reloadListener, this.auth, 'internal-error'),
      (this.reloadListener = e),
      this.reloadUserInfo &&
        (this._notifyReloadListener(this.reloadUserInfo), (this.reloadUserInfo = null)));
  }
  _notifyReloadListener(e) {
    this.reloadListener ? this.reloadListener(e) : (this.reloadUserInfo = e);
  }
  _startProactiveRefresh() {
    this.proactiveRefresh._start();
  }
  _stopProactiveRefresh() {
    this.proactiveRefresh._stop();
  }
  _updateTokensIfNecessary(e, n = !1) {
    return C(this, null, function* () {
      let r = !1;
      (e.idToken &&
        e.idToken !== this.stsTokenManager.accessToken &&
        (this.stsTokenManager.updateFromServerResponse(e), (r = !0)),
        n && (yield np(this)),
        yield this.auth._persistUserIfCurrent(this),
        r && this.auth._notifyListenersIfCurrent(this));
    });
  }
  delete() {
    return C(this, null, function* () {
      if (qn(this.auth.app)) return Promise.reject(gi(this.auth));
      let e = yield this.getIdToken();
      return (
        yield Gl(this, gW(this.auth, { idToken: e })),
        this.stsTokenManager.clearRefreshToken(),
        this.auth.signOut()
      );
    });
  }
  toJSON() {
    return Object.assign(
      Object.assign(
        {
          uid: this.uid,
          email: this.email || void 0,
          emailVerified: this.emailVerified,
          displayName: this.displayName || void 0,
          isAnonymous: this.isAnonymous,
          photoURL: this.photoURL || void 0,
          phoneNumber: this.phoneNumber || void 0,
          tenantId: this.tenantId || void 0,
          providerData: this.providerData.map((e) => Object.assign({}, e)),
          stsTokenManager: this.stsTokenManager.toJSON(),
          _redirectEventId: this._redirectEventId,
        },
        this.metadata.toJSON()
      ),
      { apiKey: this.auth.config.apiKey, appName: this.auth.name }
    );
  }
  get refreshToken() {
    return this.stsTokenManager.refreshToken || '';
  }
  static _fromJSON(e, n) {
    var r, i, o, s, a, c, u, d;
    let p = (r = n.displayName) !== null && r !== void 0 ? r : void 0,
      v = (i = n.email) !== null && i !== void 0 ? i : void 0,
      m = (o = n.phoneNumber) !== null && o !== void 0 ? o : void 0,
      D = (s = n.photoURL) !== null && s !== void 0 ? s : void 0,
      M = (a = n.tenantId) !== null && a !== void 0 ? a : void 0,
      A = (c = n._redirectEventId) !== null && c !== void 0 ? c : void 0,
      N = (u = n.createdAt) !== null && u !== void 0 ? u : void 0,
      O = (d = n.lastLoginAt) !== null && d !== void 0 ? d : void 0,
      { uid: F, emailVerified: z, isAnonymous: Z, providerData: q, stsTokenManager: T } = n;
    de(F && T, e, 'internal-error');
    let y = ql.fromJSON(this.name, T);
    (de(typeof F == 'string', e, 'internal-error'),
      to(p, e.name),
      to(v, e.name),
      de(typeof z == 'boolean', e, 'internal-error'),
      de(typeof Z == 'boolean', e, 'internal-error'),
      to(m, e.name),
      to(D, e.name),
      to(M, e.name),
      to(A, e.name),
      to(N, e.name),
      to(O, e.name));
    let _ = new t({
      uid: F,
      auth: e,
      email: v,
      emailVerified: z,
      displayName: p,
      isAnonymous: Z,
      photoURL: D,
      phoneNumber: m,
      tenantId: M,
      stsTokenManager: y,
      createdAt: N,
      lastLoginAt: O,
    });
    return (
      q && Array.isArray(q) && (_.providerData = q.map((b) => Object.assign({}, b))),
      A && (_._redirectEventId = A),
      _
    );
  }
  static _fromIdTokenResponse(e, n, r = !1) {
    return C(this, null, function* () {
      let i = new ql();
      i.updateFromServerResponse(n);
      let o = new t({
        uid: n.localId,
        auth: e,
        stsTokenManager: i,
        isAnonymous: r,
      });
      return (yield np(o), o);
    });
  }
  static _fromGetAccountInfoResponse(e, n, r) {
    return C(this, null, function* () {
      let i = n.users[0];
      de(i.localId !== void 0, 'internal-error');
      let o = i.providerUserInfo !== void 0 ? TR(i.providerUserInfo) : [],
        s = !(i.email && i.passwordHash) && !o?.length,
        a = new ql();
      a.updateFromIdToken(r);
      let c = new t({
          uid: i.localId,
          auth: e,
          stsTokenManager: a,
          isAnonymous: s,
        }),
        u = {
          uid: i.localId,
          displayName: i.displayName || null,
          photoURL: i.photoUrl || null,
          email: i.email || null,
          emailVerified: i.emailVerified || !1,
          phoneNumber: i.phoneNumber || null,
          tenantId: i.tenantId || null,
          providerData: o,
          metadata: new Kl(i.createdAt, i.lastLoginAt),
          isAnonymous: !(i.email && i.passwordHash) && !o?.length,
        };
      return (Object.assign(c, u), c);
    });
  }
};
var aR = new Map();
function mi(t) {
  vi(t instanceof Function, 'Expected a class definition');
  let e = aR.get(t);
  return e
    ? (vi(e instanceof t, 'Instance stored in cache mismatched with class'), e)
    : ((e = new t()), aR.set(t, e), e);
}
var EW = (() => {
    class t {
      constructor() {
        ((this.type = 'NONE'), (this.storage = {}));
      }
      _isAvailable() {
        return C(this, null, function* () {
          return !0;
        });
      }
      _set(n, r) {
        return C(this, null, function* () {
          this.storage[n] = r;
        });
      }
      _get(n) {
        return C(this, null, function* () {
          let r = this.storage[n];
          return r === void 0 ? null : r;
        });
      }
      _remove(n) {
        return C(this, null, function* () {
          delete this.storage[n];
        });
      }
      _addListener(n, r) {}
      _removeListener(n, r) {}
    }
    return ((t.type = 'NONE'), t);
  })(),
  Sw = EW;
function Xf(t, e, n) {
  return `firebase:${t}:${e}:${n}`;
}
var rp = class t {
  constructor(e, n, r) {
    ((this.persistence = e), (this.auth = n), (this.userKey = r));
    let { config: i, name: o } = this.auth;
    ((this.fullUserKey = Xf(this.userKey, i.apiKey, o)),
      (this.fullPersistenceKey = Xf('persistence', i.apiKey, o)),
      (this.boundEventHandler = n._onStorageEvent.bind(n)),
      this.persistence._addListener(this.fullUserKey, this.boundEventHandler));
  }
  setCurrentUser(e) {
    return this.persistence._set(this.fullUserKey, e.toJSON());
  }
  getCurrentUser() {
    return C(this, null, function* () {
      let e = yield this.persistence._get(this.fullUserKey);
      return e ? Ma._fromJSON(this.auth, e) : null;
    });
  }
  removeCurrentUser() {
    return this.persistence._remove(this.fullUserKey);
  }
  savePersistenceForRedirect() {
    return this.persistence._set(this.fullPersistenceKey, this.persistence.type);
  }
  setPersistence(e) {
    return C(this, null, function* () {
      if (this.persistence === e) return;
      let n = yield this.getCurrentUser();
      if ((yield this.removeCurrentUser(), (this.persistence = e), n))
        return this.setCurrentUser(n);
    });
  }
  delete() {
    this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
  }
  static create(e, n, r = 'authUser') {
    return C(this, null, function* () {
      if (!n.length) return new t(mi(Sw), e, r);
      let i = (yield Promise.all(
          n.map((u) =>
            C(this, null, function* () {
              if (yield u._isAvailable()) return u;
            })
          )
        )).filter((u) => u),
        o = i[0] || mi(Sw),
        s = Xf(r, e.config.apiKey, e.name),
        a = null;
      for (let u of n)
        try {
          let d = yield u._get(s);
          if (d) {
            let p = Ma._fromJSON(e, d);
            (u !== o && (a = p), (o = u));
            break;
          }
        } catch {}
      let c = i.filter((u) => u._shouldAllowMigration);
      return !o._shouldAllowMigration || !c.length
        ? new t(o, e, r)
        : ((o = c[0]),
          a && (yield o._set(s, a.toJSON())),
          yield Promise.all(
            n.map((u) =>
              C(this, null, function* () {
                if (u !== o)
                  try {
                    yield u._remove(s);
                  } catch {}
              })
            )
          ),
          new t(o, e, r));
    });
  }
};
function cR(t) {
  let e = t.toLowerCase();
  if (e.includes('opera/') || e.includes('opr/') || e.includes('opios/')) return 'Opera';
  if (xR(e)) return 'IEMobile';
  if (e.includes('msie') || e.includes('trident/')) return 'IE';
  if (e.includes('edge/')) return 'Edge';
  if (SR(e)) return 'Firefox';
  if (e.includes('silk/')) return 'Silk';
  if (NR(e)) return 'Blackberry';
  if (kR(e)) return 'Webos';
  if (AR(e)) return 'Safari';
  if ((e.includes('chrome/') || MR(e)) && !e.includes('edge/')) return 'Chrome';
  if (RR(e)) return 'Android';
  {
    let n = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,
      r = t.match(n);
    if (r?.length === 2) return r[1];
  }
  return 'Other';
}
function SR(t = Rt()) {
  return /firefox\//i.test(t);
}
function AR(t = Rt()) {
  let e = t.toLowerCase();
  return (
    e.includes('safari/') &&
    !e.includes('chrome/') &&
    !e.includes('crios/') &&
    !e.includes('android')
  );
}
function MR(t = Rt()) {
  return /crios\//i.test(t);
}
function xR(t = Rt()) {
  return /iemobile/i.test(t);
}
function RR(t = Rt()) {
  return /android/i.test(t);
}
function NR(t = Rt()) {
  return /blackberry/i.test(t);
}
function kR(t = Rt()) {
  return /webos/i.test(t);
}
function qw(t = Rt()) {
  return /iphone|ipad|ipod/i.test(t) || (/macintosh/i.test(t) && /mobile/i.test(t));
}
function IW(t = Rt()) {
  var e;
  return qw(t) && !!(!((e = window.navigator) === null || e === void 0) && e.standalone);
}
function DW() {
  return Fx() && document.documentMode === 10;
}
function PR(t = Rt()) {
  return qw(t) || RR(t) || kR(t) || NR(t) || /windows phone/i.test(t) || xR(t);
}
function OR(t, e = []) {
  let n;
  switch (t) {
    case 'Browser':
      n = cR(Rt());
      break;
    case 'Worker':
      n = `${cR(Rt())}-${t}`;
      break;
    default:
      n = t;
  }
  let r = e.length ? e.join(',') : 'FirebaseCore-web';
  return `${n}/JsCore/${eo}/${r}`;
}
var Aw = class {
  constructor(e) {
    ((this.auth = e), (this.queue = []));
  }
  pushCallback(e, n) {
    let r = (o) =>
      new Promise((s, a) => {
        try {
          let c = e(o);
          s(c);
        } catch (c) {
          a(c);
        }
      });
    ((r.onAbort = n), this.queue.push(r));
    let i = this.queue.length - 1;
    return () => {
      this.queue[i] = () => Promise.resolve();
    };
  }
  runMiddleware(e) {
    return C(this, null, function* () {
      if (this.auth.currentUser === e) return;
      let n = [];
      try {
        for (let r of this.queue) (yield r(e), r.onAbort && n.push(r.onAbort));
      } catch (r) {
        n.reverse();
        for (let i of n)
          try {
            i();
          } catch {}
        throw this.auth._errorFactory.create('login-blocked', {
          originalMessage: r?.message,
        });
      }
    });
  }
};
function CW(n) {
  return C(this, arguments, function* (t, e = {}) {
    return ro(t, 'GET', '/v2/passwordPolicy', no(t, e));
  });
}
var bW = 6,
  Mw = class {
    constructor(e) {
      var n, r, i, o;
      let s = e.customStrengthOptions;
      ((this.customStrengthOptions = {}),
        (this.customStrengthOptions.minPasswordLength =
          (n = s.minPasswordLength) !== null && n !== void 0 ? n : bW),
        s.maxPasswordLength && (this.customStrengthOptions.maxPasswordLength = s.maxPasswordLength),
        s.containsLowercaseCharacter !== void 0 &&
          (this.customStrengthOptions.containsLowercaseLetter = s.containsLowercaseCharacter),
        s.containsUppercaseCharacter !== void 0 &&
          (this.customStrengthOptions.containsUppercaseLetter = s.containsUppercaseCharacter),
        s.containsNumericCharacter !== void 0 &&
          (this.customStrengthOptions.containsNumericCharacter = s.containsNumericCharacter),
        s.containsNonAlphanumericCharacter !== void 0 &&
          (this.customStrengthOptions.containsNonAlphanumericCharacter =
            s.containsNonAlphanumericCharacter),
        (this.enforcementState = e.enforcementState),
        this.enforcementState === 'ENFORCEMENT_STATE_UNSPECIFIED' &&
          (this.enforcementState = 'OFF'),
        (this.allowedNonAlphanumericCharacters =
          (i =
            (r = e.allowedNonAlphanumericCharacters) === null || r === void 0
              ? void 0
              : r.join('')) !== null && i !== void 0
            ? i
            : ''),
        (this.forceUpgradeOnSignin =
          (o = e.forceUpgradeOnSignin) !== null && o !== void 0 ? o : !1),
        (this.schemaVersion = e.schemaVersion));
    }
    validatePassword(e) {
      var n, r, i, o, s, a;
      let c = { isValid: !0, passwordPolicy: this };
      return (
        this.validatePasswordLengthOptions(e, c),
        this.validatePasswordCharacterOptions(e, c),
        c.isValid && (c.isValid = (n = c.meetsMinPasswordLength) !== null && n !== void 0 ? n : !0),
        c.isValid && (c.isValid = (r = c.meetsMaxPasswordLength) !== null && r !== void 0 ? r : !0),
        c.isValid &&
          (c.isValid = (i = c.containsLowercaseLetter) !== null && i !== void 0 ? i : !0),
        c.isValid &&
          (c.isValid = (o = c.containsUppercaseLetter) !== null && o !== void 0 ? o : !0),
        c.isValid &&
          (c.isValid = (s = c.containsNumericCharacter) !== null && s !== void 0 ? s : !0),
        c.isValid &&
          (c.isValid = (a = c.containsNonAlphanumericCharacter) !== null && a !== void 0 ? a : !0),
        c
      );
    }
    validatePasswordLengthOptions(e, n) {
      let r = this.customStrengthOptions.minPasswordLength,
        i = this.customStrengthOptions.maxPasswordLength;
      (r && (n.meetsMinPasswordLength = e.length >= r),
        i && (n.meetsMaxPasswordLength = e.length <= i));
    }
    validatePasswordCharacterOptions(e, n) {
      this.updatePasswordCharacterOptionsStatuses(n, !1, !1, !1, !1);
      let r;
      for (let i = 0; i < e.length; i++)
        ((r = e.charAt(i)),
          this.updatePasswordCharacterOptionsStatuses(
            n,
            r >= 'a' && r <= 'z',
            r >= 'A' && r <= 'Z',
            r >= '0' && r <= '9',
            this.allowedNonAlphanumericCharacters.includes(r)
          ));
    }
    updatePasswordCharacterOptionsStatuses(e, n, r, i, o) {
      (this.customStrengthOptions.containsLowercaseLetter &&
        (e.containsLowercaseLetter || (e.containsLowercaseLetter = n)),
        this.customStrengthOptions.containsUppercaseLetter &&
          (e.containsUppercaseLetter || (e.containsUppercaseLetter = r)),
        this.customStrengthOptions.containsNumericCharacter &&
          (e.containsNumericCharacter || (e.containsNumericCharacter = i)),
        this.customStrengthOptions.containsNonAlphanumericCharacter &&
          (e.containsNonAlphanumericCharacter || (e.containsNonAlphanumericCharacter = o)));
    }
  };
var xw = class {
  constructor(e, n, r, i) {
    ((this.app = e),
      (this.heartbeatServiceProvider = n),
      (this.appCheckServiceProvider = r),
      (this.config = i),
      (this.currentUser = null),
      (this.emulatorConfig = null),
      (this.operations = Promise.resolve()),
      (this.authStateSubscription = new ip(this)),
      (this.idTokenSubscription = new ip(this)),
      (this.beforeStateQueue = new Aw(this)),
      (this.redirectUser = null),
      (this.isProactiveRefreshEnabled = !1),
      (this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1),
      (this._canInitEmulator = !0),
      (this._isInitialized = !1),
      (this._deleted = !1),
      (this._initializationPromise = null),
      (this._popupRedirectResolver = null),
      (this._errorFactory = IR),
      (this._agentRecaptchaConfig = null),
      (this._tenantRecaptchaConfigs = {}),
      (this._projectPasswordPolicy = null),
      (this._tenantPasswordPolicies = {}),
      (this.lastNotifiedUid = void 0),
      (this.languageCode = null),
      (this.tenantId = null),
      (this.settings = { appVerificationDisabledForTesting: !1 }),
      (this.frameworks = []),
      (this.name = e.name),
      (this.clientVersion = i.sdkClientVersion));
  }
  _initializeWithPersistence(e, n) {
    return (
      n && (this._popupRedirectResolver = mi(n)),
      (this._initializationPromise = this.queue(() =>
        C(this, null, function* () {
          var r, i;
          if (
            !this._deleted &&
            ((this.persistenceManager = yield rp.create(this, e)), !this._deleted)
          ) {
            if (
              !((r = this._popupRedirectResolver) === null || r === void 0) &&
              r._shouldInitProactively
            )
              try {
                yield this._popupRedirectResolver._initialize(this);
              } catch {}
            (yield this.initializeCurrentUser(n),
              (this.lastNotifiedUid =
                ((i = this.currentUser) === null || i === void 0 ? void 0 : i.uid) || null),
              !this._deleted && (this._isInitialized = !0));
          }
        })
      )),
      this._initializationPromise
    );
  }
  _onStorageEvent() {
    return C(this, null, function* () {
      if (this._deleted) return;
      let e = yield this.assertedPersistence.getCurrentUser();
      if (!(!this.currentUser && !e)) {
        if (this.currentUser && e && this.currentUser.uid === e.uid) {
          (this._currentUser._assign(e), yield this.currentUser.getIdToken());
          return;
        }
        yield this._updateCurrentUser(e, !0);
      }
    });
  }
  initializeCurrentUserFromIdToken(e) {
    return C(this, null, function* () {
      try {
        let n = yield bR(this, { idToken: e }),
          r = yield Ma._fromGetAccountInfoResponse(this, n, e);
        yield this.directlySetCurrentUser(r);
      } catch (n) {
        (console.warn('FirebaseServerApp could not login user with provided authIdToken: ', n),
          yield this.directlySetCurrentUser(null));
      }
    });
  }
  initializeCurrentUser(e) {
    return C(this, null, function* () {
      var n;
      if (qn(this.app)) {
        let s = this.app.settings.authIdToken;
        return s
          ? new Promise((a) => {
              setTimeout(() => this.initializeCurrentUserFromIdToken(s).then(a, a));
            })
          : this.directlySetCurrentUser(null);
      }
      let r = yield this.assertedPersistence.getCurrentUser(),
        i = r,
        o = !1;
      if (e && this.config.authDomain) {
        yield this.getOrInitRedirectPersistenceManager();
        let s = (n = this.redirectUser) === null || n === void 0 ? void 0 : n._redirectEventId,
          a = i?._redirectEventId,
          c = yield this.tryRedirectSignIn(e);
        (!s || s === a) && c?.user && ((i = c.user), (o = !0));
      }
      if (!i) return this.directlySetCurrentUser(null);
      if (!i._redirectEventId) {
        if (o)
          try {
            yield this.beforeStateQueue.runMiddleware(i);
          } catch (s) {
            ((i = r),
              this._popupRedirectResolver._overrideRedirectResult(this, () => Promise.reject(s)));
          }
        return i ? this.reloadAndSetCurrentUserOrClear(i) : this.directlySetCurrentUser(null);
      }
      return (
        de(this._popupRedirectResolver, this, 'argument-error'),
        yield this.getOrInitRedirectPersistenceManager(),
        this.redirectUser && this.redirectUser._redirectEventId === i._redirectEventId
          ? this.directlySetCurrentUser(i)
          : this.reloadAndSetCurrentUserOrClear(i)
      );
    });
  }
  tryRedirectSignIn(e) {
    return C(this, null, function* () {
      let n = null;
      try {
        n = yield this._popupRedirectResolver._completeRedirectFn(this, e, !0);
      } catch {
        yield this._setRedirectUser(null);
      }
      return n;
    });
  }
  reloadAndSetCurrentUserOrClear(e) {
    return C(this, null, function* () {
      try {
        yield np(e);
      } catch (n) {
        if (n?.code !== 'auth/network-request-failed') return this.directlySetCurrentUser(null);
      }
      return this.directlySetCurrentUser(e);
    });
  }
  useDeviceLanguage() {
    this.languageCode = dW();
  }
  _delete() {
    return C(this, null, function* () {
      this._deleted = !0;
    });
  }
  updateCurrentUser(e) {
    return C(this, null, function* () {
      if (qn(this.app)) return Promise.reject(gi(this));
      let n = e ? Gt(e) : null;
      return (
        n && de(n.auth.config.apiKey === this.config.apiKey, this, 'invalid-user-token'),
        this._updateCurrentUser(n && n._clone(this))
      );
    });
  }
  _updateCurrentUser(e, n = !1) {
    return C(this, null, function* () {
      if (!this._deleted)
        return (
          e && de(this.tenantId === e.tenantId, this, 'tenant-id-mismatch'),
          n || (yield this.beforeStateQueue.runMiddleware(e)),
          this.queue(() =>
            C(this, null, function* () {
              (yield this.directlySetCurrentUser(e), this.notifyAuthListeners());
            })
          )
        );
    });
  }
  signOut() {
    return C(this, null, function* () {
      return qn(this.app)
        ? Promise.reject(gi(this))
        : (yield this.beforeStateQueue.runMiddleware(null),
          (this.redirectPersistenceManager || this._popupRedirectResolver) &&
            (yield this._setRedirectUser(null)),
          this._updateCurrentUser(null, !0));
    });
  }
  setPersistence(e) {
    return qn(this.app)
      ? Promise.reject(gi(this))
      : this.queue(() =>
          C(this, null, function* () {
            yield this.assertedPersistence.setPersistence(mi(e));
          })
        );
  }
  _getRecaptchaConfig() {
    return this.tenantId == null
      ? this._agentRecaptchaConfig
      : this._tenantRecaptchaConfigs[this.tenantId];
  }
  validatePassword(e) {
    return C(this, null, function* () {
      this._getPasswordPolicyInternal() || (yield this._updatePasswordPolicy());
      let n = this._getPasswordPolicyInternal();
      return n.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION
        ? Promise.reject(
            this._errorFactory.create('unsupported-password-policy-schema-version', {})
          )
        : n.validatePassword(e);
    });
  }
  _getPasswordPolicyInternal() {
    return this.tenantId === null
      ? this._projectPasswordPolicy
      : this._tenantPasswordPolicies[this.tenantId];
  }
  _updatePasswordPolicy() {
    return C(this, null, function* () {
      let e = yield CW(this),
        n = new Mw(e);
      this.tenantId === null
        ? (this._projectPasswordPolicy = n)
        : (this._tenantPasswordPolicies[this.tenantId] = n);
    });
  }
  _getPersistence() {
    return this.assertedPersistence.persistence.type;
  }
  _updateErrorMap(e) {
    this._errorFactory = new hi('auth', 'Firebase', e());
  }
  onAuthStateChanged(e, n, r) {
    return this.registerStateListener(this.authStateSubscription, e, n, r);
  }
  beforeAuthStateChanged(e, n) {
    return this.beforeStateQueue.pushCallback(e, n);
  }
  onIdTokenChanged(e, n, r) {
    return this.registerStateListener(this.idTokenSubscription, e, n, r);
  }
  authStateReady() {
    return new Promise((e, n) => {
      if (this.currentUser) e();
      else {
        let r = this.onAuthStateChanged(() => {
          (r(), e());
        }, n);
      }
    });
  }
  revokeAccessToken(e) {
    return C(this, null, function* () {
      if (this.currentUser) {
        let n = yield this.currentUser.getIdToken(),
          r = {
            providerId: 'apple.com',
            tokenType: 'ACCESS_TOKEN',
            token: e,
            idToken: n,
          };
        (this.tenantId != null && (r.tenantId = this.tenantId), yield wW(this, r));
      }
    });
  }
  toJSON() {
    var e;
    return {
      apiKey: this.config.apiKey,
      authDomain: this.config.authDomain,
      appName: this.name,
      currentUser: (e = this._currentUser) === null || e === void 0 ? void 0 : e.toJSON(),
    };
  }
  _setRedirectUser(e, n) {
    return C(this, null, function* () {
      let r = yield this.getOrInitRedirectPersistenceManager(n);
      return e === null ? r.removeCurrentUser() : r.setCurrentUser(e);
    });
  }
  getOrInitRedirectPersistenceManager(e) {
    return C(this, null, function* () {
      if (!this.redirectPersistenceManager) {
        let n = (e && mi(e)) || this._popupRedirectResolver;
        (de(n, this, 'argument-error'),
          (this.redirectPersistenceManager = yield rp.create(
            this,
            [mi(n._redirectPersistence)],
            'redirectUser'
          )),
          (this.redirectUser = yield this.redirectPersistenceManager.getCurrentUser()));
      }
      return this.redirectPersistenceManager;
    });
  }
  _redirectUserForId(e) {
    return C(this, null, function* () {
      var n, r;
      return (
        this._isInitialized && (yield this.queue(() => C(this, null, function* () {}))),
        ((n = this._currentUser) === null || n === void 0 ? void 0 : n._redirectEventId) === e
          ? this._currentUser
          : ((r = this.redirectUser) === null || r === void 0 ? void 0 : r._redirectEventId) === e
            ? this.redirectUser
            : null
      );
    });
  }
  _persistUserIfCurrent(e) {
    return C(this, null, function* () {
      if (e === this.currentUser)
        return this.queue(() =>
          C(this, null, function* () {
            return this.directlySetCurrentUser(e);
          })
        );
    });
  }
  _notifyListenersIfCurrent(e) {
    e === this.currentUser && this.notifyAuthListeners();
  }
  _key() {
    return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
  }
  _startProactiveRefresh() {
    ((this.isProactiveRefreshEnabled = !0),
      this.currentUser && this._currentUser._startProactiveRefresh());
  }
  _stopProactiveRefresh() {
    ((this.isProactiveRefreshEnabled = !1),
      this.currentUser && this._currentUser._stopProactiveRefresh());
  }
  get _currentUser() {
    return this.currentUser;
  }
  notifyAuthListeners() {
    var e, n;
    if (!this._isInitialized) return;
    this.idTokenSubscription.next(this.currentUser);
    let r =
      (n = (e = this.currentUser) === null || e === void 0 ? void 0 : e.uid) !== null &&
      n !== void 0
        ? n
        : null;
    this.lastNotifiedUid !== r &&
      ((this.lastNotifiedUid = r), this.authStateSubscription.next(this.currentUser));
  }
  registerStateListener(e, n, r, i) {
    if (this._deleted) return () => {};
    let o = typeof n == 'function' ? n : n.next.bind(n),
      s = !1,
      a = this._isInitialized ? Promise.resolve() : this._initializationPromise;
    if (
      (de(a, this, 'internal-error'),
      a.then(() => {
        s || o(this.currentUser);
      }),
      typeof n == 'function')
    ) {
      let c = e.addObserver(n, r, i);
      return () => {
        ((s = !0), c());
      };
    } else {
      let c = e.addObserver(n);
      return () => {
        ((s = !0), c());
      };
    }
  }
  directlySetCurrentUser(e) {
    return C(this, null, function* () {
      (this.currentUser && this.currentUser !== e && this._currentUser._stopProactiveRefresh(),
        e && this.isProactiveRefreshEnabled && e._startProactiveRefresh(),
        (this.currentUser = e),
        e
          ? yield this.assertedPersistence.setCurrentUser(e)
          : yield this.assertedPersistence.removeCurrentUser());
    });
  }
  queue(e) {
    return ((this.operations = this.operations.then(e, e)), this.operations);
  }
  get assertedPersistence() {
    return (de(this.persistenceManager, this, 'internal-error'), this.persistenceManager);
  }
  _logFramework(e) {
    !e ||
      this.frameworks.includes(e) ||
      (this.frameworks.push(e),
      this.frameworks.sort(),
      (this.clientVersion = OR(this.config.clientPlatform, this._getFrameworks())));
  }
  _getFrameworks() {
    return this.frameworks;
  }
  _getAdditionalHeaders() {
    return C(this, null, function* () {
      var e;
      let n = { 'X-Client-Version': this.clientVersion };
      this.app.options.appId && (n['X-Firebase-gmpid'] = this.app.options.appId);
      let r = yield (e = this.heartbeatServiceProvider.getImmediate({
        optional: !0,
      })) === null || e === void 0
        ? void 0
        : e.getHeartbeatsHeader();
      r && (n['X-Firebase-Client'] = r);
      let i = yield this._getAppCheckToken();
      return (i && (n['X-Firebase-AppCheck'] = i), n);
    });
  }
  _getAppCheckToken() {
    return C(this, null, function* () {
      var e;
      let n = yield (e = this.appCheckServiceProvider.getImmediate({
        optional: !0,
      })) === null || e === void 0
        ? void 0
        : e.getToken();
      return (n?.error && aW(`Error while retrieving App Check token: ${n.error}`), n?.token);
    });
  }
};
function io(t) {
  return Gt(t);
}
var ip = class {
  constructor(e) {
    ((this.auth = e), (this.observer = null), (this.addObserver = Ux((n) => (this.observer = n))));
  }
  get next() {
    return (de(this.observer, this.auth, 'internal-error'), this.observer.next.bind(this.observer));
  }
};
var fp = {
  loadJS() {
    return C(this, null, function* () {
      throw new Error('Unable to load external scripts');
    });
  },
  recaptchaV2Script: '',
  recaptchaEnterpriseScript: '',
  gapiScript: '',
};
function TW(t) {
  fp = t;
}
function FR(t) {
  return fp.loadJS(t);
}
function SW() {
  return fp.recaptchaEnterpriseScript;
}
function AW() {
  return fp.gapiScript;
}
function VR(t) {
  return `__${t}${Math.floor(Math.random() * 1e6)}`;
}
var MW = 'recaptcha-enterprise',
  xW = 'NO_RECAPTCHA',
  Rw = class {
    constructor(e) {
      ((this.type = MW), (this.auth = io(e)));
    }
    verify(e = 'verify', n = !1) {
      return C(this, null, function* () {
        function r(o) {
          return C(this, null, function* () {
            if (!n) {
              if (o.tenantId == null && o._agentRecaptchaConfig != null)
                return o._agentRecaptchaConfig.siteKey;
              if (o.tenantId != null && o._tenantRecaptchaConfigs[o.tenantId] !== void 0)
                return o._tenantRecaptchaConfigs[o.tenantId].siteKey;
            }
            return new Promise((s, a) =>
              C(this, null, function* () {
                mW(o, {
                  clientType: 'CLIENT_TYPE_WEB',
                  version: 'RECAPTCHA_ENTERPRISE',
                })
                  .then((c) => {
                    if (c.recaptchaKey === void 0)
                      a(new Error('recaptcha Enterprise site key undefined'));
                    else {
                      let u = new bw(c);
                      return (
                        o.tenantId == null
                          ? (o._agentRecaptchaConfig = u)
                          : (o._tenantRecaptchaConfigs[o.tenantId] = u),
                        s(u.siteKey)
                      );
                    }
                  })
                  .catch((c) => {
                    a(c);
                  });
              })
            );
          });
        }
        function i(o, s, a) {
          let c = window.grecaptcha;
          oR(c)
            ? c.enterprise.ready(() => {
                c.enterprise
                  .execute(o, { action: e })
                  .then((u) => {
                    s(u);
                  })
                  .catch(() => {
                    s(xW);
                  });
              })
            : a(Error('No reCAPTCHA enterprise script loaded.'));
        }
        return new Promise((o, s) => {
          r(this.auth)
            .then((a) => {
              if (!n && oR(window.grecaptcha)) i(a, o, s);
              else {
                if (typeof window > 'u') {
                  s(new Error('RecaptchaVerifier is only supported in browser'));
                  return;
                }
                let c = SW();
                (c.length !== 0 && (c += a),
                  FR(c)
                    .then(() => {
                      i(a, o, s);
                    })
                    .catch((u) => {
                      s(u);
                    }));
              }
            })
            .catch((a) => {
              s(a);
            });
        });
      });
    }
  };
function lR(t, e, n, r = !1) {
  return C(this, null, function* () {
    let i = new Rw(t),
      o;
    try {
      o = yield i.verify(n);
    } catch {
      o = yield i.verify(n, !0);
    }
    let s = Object.assign({}, e);
    return (
      r ? Object.assign(s, { captchaResp: o }) : Object.assign(s, { captchaResponse: o }),
      Object.assign(s, { clientType: 'CLIENT_TYPE_WEB' }),
      Object.assign(s, { recaptchaVersion: 'RECAPTCHA_ENTERPRISE' }),
      s
    );
  });
}
function Nw(t, e, n, r) {
  return C(this, null, function* () {
    var i;
    if (
      !((i = t._getRecaptchaConfig()) === null || i === void 0) &&
      i.isProviderEnabled('EMAIL_PASSWORD_PROVIDER')
    ) {
      let o = yield lR(t, e, n, n === 'getOobCode');
      return r(t, o);
    } else
      return r(t, e).catch((o) =>
        C(this, null, function* () {
          if (o.code === 'auth/missing-recaptcha-token') {
            console.log(
              `${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`
            );
            let s = yield lR(t, e, n, n === 'getOobCode');
            return r(t, s);
          } else return Promise.reject(o);
        })
      );
  });
}
function Gw(t, e) {
  let n = Bl(t, 'auth');
  if (n.isInitialized()) {
    let i = n.getImmediate(),
      o = n.getOptions();
    if (Zo(o, e ?? {})) return i;
    Gn(i, 'already-initialized');
  }
  return n.initialize({ options: e });
}
function RW(t, e) {
  let n = e?.persistence || [],
    r = (Array.isArray(n) ? n : [n]).map(mi);
  (e?.errorMap && t._updateErrorMap(e.errorMap),
    t._initializeWithPersistence(r, e?.popupRedirectResolver));
}
function Kw(t, e, n) {
  let r = io(t);
  (de(r._canInitEmulator, r, 'emulator-config-failed'),
    de(/^https?:\/\//.test(e), r, 'invalid-emulator-scheme'));
  let i = !!n?.disableWarnings,
    o = LR(e),
    { host: s, port: a } = NW(e),
    c = a === null ? '' : `:${a}`;
  ((r.config.emulator = { url: `${o}//${s}${c}/` }),
    (r.settings.appVerificationDisabledForTesting = !0),
    (r.emulatorConfig = Object.freeze({
      host: s,
      port: a,
      protocol: o.replace(':', ''),
      options: Object.freeze({ disableWarnings: i }),
    })),
    i || kW());
}
function LR(t) {
  let e = t.indexOf(':');
  return e < 0 ? '' : t.substr(0, e + 1);
}
function NW(t) {
  let e = LR(t),
    n = /(\/\/)?([^?#/]+)/.exec(t.substr(e.length));
  if (!n) return { host: '', port: null };
  let r = n[2].split('@').pop() || '',
    i = /^(\[[^\]]+\])(:|$)/.exec(r);
  if (i) {
    let o = i[1];
    return { host: o, port: uR(r.substr(o.length + 1)) };
  } else {
    let [o, s] = r.split(':');
    return { host: o, port: uR(s) };
  }
}
function uR(t) {
  if (!t) return null;
  let e = Number(t);
  return isNaN(e) ? null : e;
}
function kW() {
  function t() {
    let e = document.createElement('p'),
      n = e.style;
    ((e.innerText = 'Running in emulator mode. Do not use with production credentials.'),
      (n.position = 'fixed'),
      (n.width = '100%'),
      (n.backgroundColor = '#ffffff'),
      (n.border = '.1em solid #000000'),
      (n.color = '#b50000'),
      (n.bottom = '0px'),
      (n.left = '0px'),
      (n.margin = '0px'),
      (n.zIndex = '10000'),
      (n.textAlign = 'center'),
      e.classList.add('firebase-emulator-warning'),
      document.body.appendChild(e));
  }
  (typeof console < 'u' &&
    typeof console.info == 'function' &&
    console.info(
      'WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.'
    ),
    typeof window < 'u' &&
      typeof document < 'u' &&
      (document.readyState === 'loading' ? window.addEventListener('DOMContentLoaded', t) : t()));
}
var xa = class {
  constructor(e, n) {
    ((this.providerId = e), (this.signInMethod = n));
  }
  toJSON() {
    return pi('not implemented');
  }
  _getIdTokenResponse(e) {
    return pi('not implemented');
  }
  _linkToIdToken(e, n) {
    return pi('not implemented');
  }
  _getReauthenticationResolver(e) {
    return pi('not implemented');
  }
};
function PW(t, e) {
  return C(this, null, function* () {
    return ro(t, 'POST', '/v1/accounts:signUp', e);
  });
}
function OW(t, e) {
  return C(this, null, function* () {
    return Zl(t, 'POST', '/v1/accounts:signInWithPassword', no(t, e));
  });
}
function FW(t, e) {
  return C(this, null, function* () {
    return Zl(t, 'POST', '/v1/accounts:signInWithEmailLink', no(t, e));
  });
}
function VW(t, e) {
  return C(this, null, function* () {
    return Zl(t, 'POST', '/v1/accounts:signInWithEmailLink', no(t, e));
  });
}
var Yl = class t extends xa {
  constructor(e, n, r, i = null) {
    (super('password', r), (this._email = e), (this._password = n), (this._tenantId = i));
  }
  static _fromEmailAndPassword(e, n) {
    return new t(e, n, 'password');
  }
  static _fromEmailAndCode(e, n, r = null) {
    return new t(e, n, 'emailLink', r);
  }
  toJSON() {
    return {
      email: this._email,
      password: this._password,
      signInMethod: this.signInMethod,
      tenantId: this._tenantId,
    };
  }
  static fromJSON(e) {
    let n = typeof e == 'string' ? JSON.parse(e) : e;
    if (n?.email && n?.password) {
      if (n.signInMethod === 'password') return this._fromEmailAndPassword(n.email, n.password);
      if (n.signInMethod === 'emailLink')
        return this._fromEmailAndCode(n.email, n.password, n.tenantId);
    }
    return null;
  }
  _getIdTokenResponse(e) {
    return C(this, null, function* () {
      switch (this.signInMethod) {
        case 'password':
          let n = {
            returnSecureToken: !0,
            email: this._email,
            password: this._password,
            clientType: 'CLIENT_TYPE_WEB',
          };
          return Nw(e, n, 'signInWithPassword', OW);
        case 'emailLink':
          return FW(e, { email: this._email, oobCode: this._password });
        default:
          Gn(e, 'internal-error');
      }
    });
  }
  _linkToIdToken(e, n) {
    return C(this, null, function* () {
      switch (this.signInMethod) {
        case 'password':
          let r = {
            idToken: n,
            returnSecureToken: !0,
            email: this._email,
            password: this._password,
            clientType: 'CLIENT_TYPE_WEB',
          };
          return Nw(e, r, 'signUpPassword', PW);
        case 'emailLink':
          return VW(e, {
            idToken: n,
            email: this._email,
            oobCode: this._password,
          });
        default:
          Gn(e, 'internal-error');
      }
    });
  }
  _getReauthenticationResolver(e) {
    return this._getIdTokenResponse(e);
  }
};
function Aa(t, e) {
  return C(this, null, function* () {
    return Zl(t, 'POST', '/v1/accounts:signInWithIdp', no(t, e));
  });
}
var LW = 'http://localhost',
  op = class t extends xa {
    constructor() {
      (super(...arguments), (this.pendingToken = null));
    }
    static _fromParams(e) {
      let n = new t(e.providerId, e.signInMethod);
      return (
        e.idToken || e.accessToken
          ? (e.idToken && (n.idToken = e.idToken),
            e.accessToken && (n.accessToken = e.accessToken),
            e.nonce && !e.pendingToken && (n.nonce = e.nonce),
            e.pendingToken && (n.pendingToken = e.pendingToken))
          : e.oauthToken && e.oauthTokenSecret
            ? ((n.accessToken = e.oauthToken), (n.secret = e.oauthTokenSecret))
            : Gn('argument-error'),
        n
      );
    }
    toJSON() {
      return {
        idToken: this.idToken,
        accessToken: this.accessToken,
        secret: this.secret,
        nonce: this.nonce,
        pendingToken: this.pendingToken,
        providerId: this.providerId,
        signInMethod: this.signInMethod,
      };
    }
    static fromJSON(e) {
      let n = typeof e == 'string' ? JSON.parse(e) : e,
        { providerId: r, signInMethod: i } = n,
        o = ud(n, ['providerId', 'signInMethod']);
      if (!r || !i) return null;
      let s = new t(r, i);
      return (
        (s.idToken = o.idToken || void 0),
        (s.accessToken = o.accessToken || void 0),
        (s.secret = o.secret),
        (s.nonce = o.nonce),
        (s.pendingToken = o.pendingToken || null),
        s
      );
    }
    _getIdTokenResponse(e) {
      let n = this.buildRequest();
      return Aa(e, n);
    }
    _linkToIdToken(e, n) {
      let r = this.buildRequest();
      return ((r.idToken = n), Aa(e, r));
    }
    _getReauthenticationResolver(e) {
      let n = this.buildRequest();
      return ((n.autoCreate = !1), Aa(e, n));
    }
    buildRequest() {
      let e = { requestUri: LW, returnSecureToken: !0 };
      if (this.pendingToken) e.pendingToken = this.pendingToken;
      else {
        let n = {};
        (this.idToken && (n.id_token = this.idToken),
          this.accessToken && (n.access_token = this.accessToken),
          this.secret && (n.oauth_token_secret = this.secret),
          (n.providerId = this.providerId),
          this.nonce && !this.pendingToken && (n.nonce = this.nonce),
          (e.postBody = Da(n)));
      }
      return e;
    }
  };
function jW(t) {
  switch (t) {
    case 'recoverEmail':
      return 'RECOVER_EMAIL';
    case 'resetPassword':
      return 'PASSWORD_RESET';
    case 'signIn':
      return 'EMAIL_SIGNIN';
    case 'verifyEmail':
      return 'VERIFY_EMAIL';
    case 'verifyAndChangeEmail':
      return 'VERIFY_AND_CHANGE_EMAIL';
    case 'revertSecondFactorAddition':
      return 'REVERT_SECOND_FACTOR_ADDITION';
    default:
      return null;
  }
}
function UW(t) {
  let e = Ca(ba(t)).link,
    n = e ? Ca(ba(e)).deep_link_id : null,
    r = Ca(ba(t)).deep_link_id;
  return (r ? Ca(ba(r)).link : null) || r || n || e || t;
}
var sp = class t {
  constructor(e) {
    var n, r, i, o, s, a;
    let c = Ca(ba(e)),
      u = (n = c.apiKey) !== null && n !== void 0 ? n : null,
      d = (r = c.oobCode) !== null && r !== void 0 ? r : null,
      p = jW((i = c.mode) !== null && i !== void 0 ? i : null);
    (de(u && d && p, 'argument-error'),
      (this.apiKey = u),
      (this.operation = p),
      (this.code = d),
      (this.continueUrl = (o = c.continueUrl) !== null && o !== void 0 ? o : null),
      (this.languageCode = (s = c.languageCode) !== null && s !== void 0 ? s : null),
      (this.tenantId = (a = c.tenantId) !== null && a !== void 0 ? a : null));
  }
  static parseLink(e) {
    let n = UW(e);
    try {
      return new t(n);
    } catch {
      return null;
    }
  }
};
var jR = (() => {
    class t {
      constructor() {
        this.providerId = t.PROVIDER_ID;
      }
      static credential(n, r) {
        return Yl._fromEmailAndPassword(n, r);
      }
      static credentialWithLink(n, r) {
        let i = sp.parseLink(r);
        return (de(i, 'argument-error'), Yl._fromEmailAndCode(n, i.code, i.tenantId));
      }
    }
    ((t.PROVIDER_ID = 'password'),
      (t.EMAIL_PASSWORD_SIGN_IN_METHOD = 'password'),
      (t.EMAIL_LINK_SIGN_IN_METHOD = 'emailLink'));
    return t;
  })(),
  Ql = class {
    constructor(e) {
      ((this.providerId = e), (this.defaultLanguageCode = null), (this.customParameters = {}));
    }
    setDefaultLanguage(e) {
      this.defaultLanguageCode = e;
    }
    setCustomParameters(e) {
      return ((this.customParameters = e), this);
    }
    getCustomParameters() {
      return this.customParameters;
    }
  };
var ap = class extends Ql {
  constructor() {
    (super(...arguments), (this.scopes = []));
  }
  addScope(e) {
    return (this.scopes.includes(e) || this.scopes.push(e), this);
  }
  getScopes() {
    return [...this.scopes];
  }
};
var Yw = (() => {
  class t extends ap {
    constructor() {
      (super('google.com'), this.addScope('profile'));
    }
    static credential(n, r) {
      return op._fromParams({
        providerId: t.PROVIDER_ID,
        signInMethod: t.GOOGLE_SIGN_IN_METHOD,
        idToken: n,
        accessToken: r,
      });
    }
    static credentialFromResult(n) {
      return t.credentialFromTaggedObject(n);
    }
    static credentialFromError(n) {
      return t.credentialFromTaggedObject(n.customData || {});
    }
    static credentialFromTaggedObject({ _tokenResponse: n }) {
      if (!n) return null;
      let { oauthIdToken: r, oauthAccessToken: i } = n;
      if (!r && !i) return null;
      try {
        return t.credential(r, i);
      } catch {
        return null;
      }
    }
  }
  ((t.GOOGLE_SIGN_IN_METHOD = 'google.com'), (t.PROVIDER_ID = 'google.com'));
  return t;
})();
function BW(t, e) {
  return C(this, null, function* () {
    return Zl(t, 'POST', '/v1/accounts:signUp', no(t, e));
  });
}
var Ra = class t {
  constructor(e) {
    ((this.user = e.user),
      (this.providerId = e.providerId),
      (this._tokenResponse = e._tokenResponse),
      (this.operationType = e.operationType));
  }
  static _fromIdTokenResponse(e, n, r, i = !1) {
    return C(this, null, function* () {
      let o = yield Ma._fromIdTokenResponse(e, r, i),
        s = dR(r);
      return new t({
        user: o,
        providerId: s,
        _tokenResponse: r,
        operationType: n,
      });
    });
  }
  static _forOperation(e, n, r) {
    return C(this, null, function* () {
      yield e._updateTokensIfNecessary(r, !0);
      let i = dR(r);
      return new t({
        user: e,
        providerId: i,
        _tokenResponse: r,
        operationType: n,
      });
    });
  }
};
function dR(t) {
  return t.providerId ? t.providerId : 'phoneNumber' in t ? 'phone' : null;
}
var kw = class t extends Sn {
  constructor(e, n, r, i) {
    var o;
    (super(n.code, n.message),
      (this.operationType = r),
      (this.user = i),
      Object.setPrototypeOf(this, t.prototype),
      (this.customData = {
        appName: e.name,
        tenantId: (o = e.tenantId) !== null && o !== void 0 ? o : void 0,
        _serverResponse: n.customData._serverResponse,
        operationType: r,
      }));
  }
  static _fromErrorAndOperation(e, n, r, i) {
    return new t(e, n, r, i);
  }
};
function UR(t, e, n, r) {
  return (
    e === 'reauthenticate' ? n._getReauthenticationResolver(t) : n._getIdTokenResponse(t)
  ).catch((o) => {
    throw o.code === 'auth/multi-factor-auth-required' ? kw._fromErrorAndOperation(t, o, e, r) : o;
  });
}
function HW(t, e, n = !1) {
  return C(this, null, function* () {
    let r = yield Gl(t, e._linkToIdToken(t.auth, yield t.getIdToken()), n);
    return Ra._forOperation(t, 'link', r);
  });
}
function $W(t, e, n = !1) {
  return C(this, null, function* () {
    let { auth: r } = t;
    if (qn(r.app)) return Promise.reject(gi(r));
    let i = 'reauthenticate';
    try {
      let o = yield Gl(t, UR(r, i, e, t), n);
      de(o.idToken, r, 'internal-error');
      let s = zw(o.idToken);
      de(s, r, 'internal-error');
      let { sub: a } = s;
      return (de(t.uid === a, r, 'user-mismatch'), Ra._forOperation(t, i, o));
    } catch (o) {
      throw (o?.code === 'auth/user-not-found' && Gn(r, 'user-mismatch'), o);
    }
  });
}
function BR(t, e, n = !1) {
  return C(this, null, function* () {
    if (qn(t.app)) return Promise.reject(gi(t));
    let r = 'signIn',
      i = yield UR(t, r, e),
      o = yield Ra._fromIdTokenResponse(t, r, i);
    return (n || (yield t._updateCurrentUser(o.user)), o);
  });
}
function Qw(t, e) {
  return C(this, null, function* () {
    return BR(io(t), e);
  });
}
function HR(t) {
  return C(this, null, function* () {
    let e = io(t);
    e._getPasswordPolicyInternal() && (yield e._updatePasswordPolicy());
  });
}
function Xw(t, e, n) {
  return C(this, null, function* () {
    if (qn(t.app)) return Promise.reject(gi(t));
    let r = io(t),
      s = yield Nw(
        r,
        {
          returnSecureToken: !0,
          email: e,
          password: n,
          clientType: 'CLIENT_TYPE_WEB',
        },
        'signUpPassword',
        BW
      ).catch((c) => {
        throw (c.code === 'auth/password-does-not-meet-requirements' && HR(t), c);
      }),
      a = yield Ra._fromIdTokenResponse(r, 'signIn', s);
    return (yield r._updateCurrentUser(a.user), a);
  });
}
function Zw(t, e, n) {
  return qn(t.app)
    ? Promise.reject(gi(t))
    : Qw(Gt(t), jR.credential(e, n)).catch((r) =>
        C(this, null, function* () {
          throw (r.code === 'auth/password-does-not-meet-requirements' && HR(t), r);
        })
      );
}
function Jw(t, e, n, r) {
  return Gt(t).onIdTokenChanged(e, n, r);
}
function eE(t, e, n) {
  return Gt(t).beforeAuthStateChanged(e, n);
}
function tE(t, e, n, r) {
  return Gt(t).onAuthStateChanged(e, n, r);
}
function nE(t) {
  return Gt(t).signOut();
}
var cp = '__sak';
var lp = class {
  constructor(e, n) {
    ((this.storageRetriever = e), (this.type = n));
  }
  _isAvailable() {
    try {
      return this.storage
        ? (this.storage.setItem(cp, '1'), this.storage.removeItem(cp), Promise.resolve(!0))
        : Promise.resolve(!1);
    } catch {
      return Promise.resolve(!1);
    }
  }
  _set(e, n) {
    return (this.storage.setItem(e, JSON.stringify(n)), Promise.resolve());
  }
  _get(e) {
    let n = this.storage.getItem(e);
    return Promise.resolve(n ? JSON.parse(n) : null);
  }
  _remove(e) {
    return (this.storage.removeItem(e), Promise.resolve());
  }
  get storage() {
    return this.storageRetriever();
  }
};
var zW = 1e3,
  WW = 10,
  qW = (() => {
    class t extends lp {
      constructor() {
        (super(() => window.localStorage, 'LOCAL'),
          (this.boundEventHandler = (n, r) => this.onStorageEvent(n, r)),
          (this.listeners = {}),
          (this.localCache = {}),
          (this.pollTimer = null),
          (this.fallbackToPolling = PR()),
          (this._shouldAllowMigration = !0));
      }
      forAllChangedKeys(n) {
        for (let r of Object.keys(this.listeners)) {
          let i = this.storage.getItem(r),
            o = this.localCache[r];
          i !== o && n(r, o, i);
        }
      }
      onStorageEvent(n, r = !1) {
        if (!n.key) {
          this.forAllChangedKeys((a, c, u) => {
            this.notifyListeners(a, u);
          });
          return;
        }
        let i = n.key;
        r ? this.detachListener() : this.stopPolling();
        let o = () => {
            let a = this.storage.getItem(i);
            (!r && this.localCache[i] === a) || this.notifyListeners(i, a);
          },
          s = this.storage.getItem(i);
        DW() && s !== n.newValue && n.newValue !== n.oldValue ? setTimeout(o, WW) : o();
      }
      notifyListeners(n, r) {
        this.localCache[n] = r;
        let i = this.listeners[n];
        if (i) for (let o of Array.from(i)) o(r && JSON.parse(r));
      }
      startPolling() {
        (this.stopPolling(),
          (this.pollTimer = setInterval(() => {
            this.forAllChangedKeys((n, r, i) => {
              this.onStorageEvent(
                new StorageEvent('storage', {
                  key: n,
                  oldValue: r,
                  newValue: i,
                }),
                !0
              );
            });
          }, zW)));
      }
      stopPolling() {
        this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
      }
      attachListener() {
        window.addEventListener('storage', this.boundEventHandler);
      }
      detachListener() {
        window.removeEventListener('storage', this.boundEventHandler);
      }
      _addListener(n, r) {
        (Object.keys(this.listeners).length === 0 &&
          (this.fallbackToPolling ? this.startPolling() : this.attachListener()),
          this.listeners[n] ||
            ((this.listeners[n] = new Set()), (this.localCache[n] = this.storage.getItem(n))),
          this.listeners[n].add(r));
      }
      _removeListener(n, r) {
        (this.listeners[n] &&
          (this.listeners[n].delete(r), this.listeners[n].size === 0 && delete this.listeners[n]),
          Object.keys(this.listeners).length === 0 && (this.detachListener(), this.stopPolling()));
      }
      _set(n, r) {
        return C(this, null, function* () {
          (yield Ai(t.prototype, this, '_set').call(this, n, r),
            (this.localCache[n] = JSON.stringify(r)));
        });
      }
      _get(n) {
        return C(this, null, function* () {
          let r = yield Ai(t.prototype, this, '_get').call(this, n);
          return ((this.localCache[n] = JSON.stringify(r)), r);
        });
      }
      _remove(n) {
        return C(this, null, function* () {
          (yield Ai(t.prototype, this, '_remove').call(this, n), delete this.localCache[n]);
        });
      }
    }
    return ((t.type = 'LOCAL'), t);
  })(),
  $R = qW;
var GW = (() => {
    class t extends lp {
      constructor() {
        super(() => window.sessionStorage, 'SESSION');
      }
      _addListener(n, r) {}
      _removeListener(n, r) {}
    }
    return ((t.type = 'SESSION'), t);
  })(),
  rE = GW;
function KW(t) {
  return Promise.all(
    t.map((e) =>
      C(this, null, function* () {
        try {
          return { fulfilled: !0, value: yield e };
        } catch (n) {
          return { fulfilled: !1, reason: n };
        }
      })
    )
  );
}
var YW = (() => {
  class t {
    constructor(n) {
      ((this.eventTarget = n),
        (this.handlersMap = {}),
        (this.boundEventHandler = this.handleEvent.bind(this)));
    }
    static _getInstance(n) {
      let r = this.receivers.find((o) => o.isListeningto(n));
      if (r) return r;
      let i = new t(n);
      return (this.receivers.push(i), i);
    }
    isListeningto(n) {
      return this.eventTarget === n;
    }
    handleEvent(n) {
      return C(this, null, function* () {
        let r = n,
          { eventId: i, eventType: o, data: s } = r.data,
          a = this.handlersMap[o];
        if (!a?.size) return;
        r.ports[0].postMessage({ status: 'ack', eventId: i, eventType: o });
        let c = Array.from(a).map((d) =>
            C(this, null, function* () {
              return d(r.origin, s);
            })
          ),
          u = yield KW(c);
        r.ports[0].postMessage({
          status: 'done',
          eventId: i,
          eventType: o,
          response: u,
        });
      });
    }
    _subscribe(n, r) {
      (Object.keys(this.handlersMap).length === 0 &&
        this.eventTarget.addEventListener('message', this.boundEventHandler),
        this.handlersMap[n] || (this.handlersMap[n] = new Set()),
        this.handlersMap[n].add(r));
    }
    _unsubscribe(n, r) {
      (this.handlersMap[n] && r && this.handlersMap[n].delete(r),
        (!r || this.handlersMap[n].size === 0) && delete this.handlersMap[n],
        Object.keys(this.handlersMap).length === 0 &&
          this.eventTarget.removeEventListener('message', this.boundEventHandler));
    }
  }
  t.receivers = [];
  return t;
})();
function iE(t = '', e = 10) {
  let n = '';
  for (let r = 0; r < e; r++) n += Math.floor(Math.random() * 10);
  return t + n;
}
var Pw = class {
  constructor(e) {
    ((this.target = e), (this.handlers = new Set()));
  }
  removeMessageHandler(e) {
    (e.messageChannel &&
      (e.messageChannel.port1.removeEventListener('message', e.onMessage),
      e.messageChannel.port1.close()),
      this.handlers.delete(e));
  }
  _send(e, n, r = 50) {
    return C(this, null, function* () {
      let i = typeof MessageChannel < 'u' ? new MessageChannel() : null;
      if (!i) throw new Error('connection_unavailable');
      let o, s;
      return new Promise((a, c) => {
        let u = iE('', 20);
        i.port1.start();
        let d = setTimeout(() => {
          c(new Error('unsupported_event'));
        }, r);
        ((s = {
          messageChannel: i,
          onMessage(p) {
            let v = p;
            if (v.data.eventId === u)
              switch (v.data.status) {
                case 'ack':
                  (clearTimeout(d),
                    (o = setTimeout(() => {
                      c(new Error('timeout'));
                    }, 3e3)));
                  break;
                case 'done':
                  (clearTimeout(o), a(v.data.response));
                  break;
                default:
                  (clearTimeout(d), clearTimeout(o), c(new Error('invalid_response')));
                  break;
              }
          },
        }),
          this.handlers.add(s),
          i.port1.addEventListener('message', s.onMessage),
          this.target.postMessage({ eventType: e, eventId: u, data: n }, [i.port2]));
      }).finally(() => {
        s && this.removeMessageHandler(s);
      });
    });
  }
};
function Pr() {
  return window;
}
function QW(t) {
  Pr().location.href = t;
}
function zR() {
  return typeof Pr().WorkerGlobalScope < 'u' && typeof Pr().importScripts == 'function';
}
function XW() {
  return C(this, null, function* () {
    if (!navigator?.serviceWorker) return null;
    try {
      return (yield navigator.serviceWorker.ready).active;
    } catch {
      return null;
    }
  });
}
function ZW() {
  var t;
  return ((t = navigator?.serviceWorker) === null || t === void 0 ? void 0 : t.controller) || null;
}
function JW() {
  return zR() ? self : null;
}
var WR = 'firebaseLocalStorageDb',
  e3 = 1,
  up = 'firebaseLocalStorage',
  qR = 'fbase_key',
  os = class {
    constructor(e) {
      this.request = e;
    }
    toPromise() {
      return new Promise((e, n) => {
        (this.request.addEventListener('success', () => {
          e(this.request.result);
        }),
          this.request.addEventListener('error', () => {
            n(this.request.error);
          }));
      });
    }
  };
function pp(t, e) {
  return t.transaction([up], e ? 'readwrite' : 'readonly').objectStore(up);
}
function t3() {
  let t = indexedDB.deleteDatabase(WR);
  return new os(t).toPromise();
}
function Ow() {
  let t = indexedDB.open(WR, e3);
  return new Promise((e, n) => {
    (t.addEventListener('error', () => {
      n(t.error);
    }),
      t.addEventListener('upgradeneeded', () => {
        let r = t.result;
        try {
          r.createObjectStore(up, { keyPath: qR });
        } catch (i) {
          n(i);
        }
      }),
      t.addEventListener('success', () =>
        C(this, null, function* () {
          let r = t.result;
          r.objectStoreNames.contains(up) ? e(r) : (r.close(), yield t3(), e(yield Ow()));
        })
      ));
  });
}
function hR(t, e, n) {
  return C(this, null, function* () {
    let r = pp(t, !0).put({ [qR]: e, value: n });
    return new os(r).toPromise();
  });
}
function n3(t, e) {
  return C(this, null, function* () {
    let n = pp(t, !1).get(e),
      r = yield new os(n).toPromise();
    return r === void 0 ? null : r.value;
  });
}
function fR(t, e) {
  let n = pp(t, !0).delete(e);
  return new os(n).toPromise();
}
var r3 = 800,
  i3 = 3,
  o3 = (() => {
    class t {
      constructor() {
        ((this.type = 'LOCAL'),
          (this._shouldAllowMigration = !0),
          (this.listeners = {}),
          (this.localCache = {}),
          (this.pollTimer = null),
          (this.pendingWrites = 0),
          (this.receiver = null),
          (this.sender = null),
          (this.serviceWorkerReceiverAvailable = !1),
          (this.activeServiceWorker = null),
          (this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(
            () => {},
            () => {}
          )));
      }
      _openDb() {
        return C(this, null, function* () {
          return this.db ? this.db : ((this.db = yield Ow()), this.db);
        });
      }
      _withRetries(n) {
        return C(this, null, function* () {
          let r = 0;
          for (;;)
            try {
              let i = yield this._openDb();
              return yield n(i);
            } catch (i) {
              if (r++ > i3) throw i;
              this.db && (this.db.close(), (this.db = void 0));
            }
        });
      }
      initializeServiceWorkerMessaging() {
        return C(this, null, function* () {
          return zR() ? this.initializeReceiver() : this.initializeSender();
        });
      }
      initializeReceiver() {
        return C(this, null, function* () {
          ((this.receiver = YW._getInstance(JW())),
            this.receiver._subscribe('keyChanged', (n, r) =>
              C(this, null, function* () {
                return { keyProcessed: (yield this._poll()).includes(r.key) };
              })
            ),
            this.receiver._subscribe('ping', (n, r) =>
              C(this, null, function* () {
                return ['keyChanged'];
              })
            ));
        });
      }
      initializeSender() {
        return C(this, null, function* () {
          var n, r;
          if (((this.activeServiceWorker = yield XW()), !this.activeServiceWorker)) return;
          this.sender = new Pw(this.activeServiceWorker);
          let i = yield this.sender._send('ping', {}, 800);
          i &&
            !((n = i[0]) === null || n === void 0) &&
            n.fulfilled &&
            !((r = i[0]) === null || r === void 0) &&
            r.value.includes('keyChanged') &&
            (this.serviceWorkerReceiverAvailable = !0);
        });
      }
      notifyServiceWorker(n) {
        return C(this, null, function* () {
          if (!(!this.sender || !this.activeServiceWorker || ZW() !== this.activeServiceWorker))
            try {
              yield this.sender._send(
                'keyChanged',
                { key: n },
                this.serviceWorkerReceiverAvailable ? 800 : 50
              );
            } catch {}
        });
      }
      _isAvailable() {
        return C(this, null, function* () {
          try {
            if (!indexedDB) return !1;
            let n = yield Ow();
            return (yield hR(n, cp, '1'), yield fR(n, cp), !0);
          } catch {}
          return !1;
        });
      }
      _withPendingWrite(n) {
        return C(this, null, function* () {
          this.pendingWrites++;
          try {
            yield n();
          } finally {
            this.pendingWrites--;
          }
        });
      }
      _set(n, r) {
        return C(this, null, function* () {
          return this._withPendingWrite(() =>
            C(this, null, function* () {
              return (
                yield this._withRetries((i) => hR(i, n, r)),
                (this.localCache[n] = r),
                this.notifyServiceWorker(n)
              );
            })
          );
        });
      }
      _get(n) {
        return C(this, null, function* () {
          let r = yield this._withRetries((i) => n3(i, n));
          return ((this.localCache[n] = r), r);
        });
      }
      _remove(n) {
        return C(this, null, function* () {
          return this._withPendingWrite(() =>
            C(this, null, function* () {
              return (
                yield this._withRetries((r) => fR(r, n)),
                delete this.localCache[n],
                this.notifyServiceWorker(n)
              );
            })
          );
        });
      }
      _poll() {
        return C(this, null, function* () {
          let n = yield this._withRetries((o) => {
            let s = pp(o, !1).getAll();
            return new os(s).toPromise();
          });
          if (!n) return [];
          if (this.pendingWrites !== 0) return [];
          let r = [],
            i = new Set();
          if (n.length !== 0)
            for (let { fbase_key: o, value: s } of n)
              (i.add(o),
                JSON.stringify(this.localCache[o]) !== JSON.stringify(s) &&
                  (this.notifyListeners(o, s), r.push(o)));
          for (let o of Object.keys(this.localCache))
            this.localCache[o] && !i.has(o) && (this.notifyListeners(o, null), r.push(o));
          return r;
        });
      }
      notifyListeners(n, r) {
        this.localCache[n] = r;
        let i = this.listeners[n];
        if (i) for (let o of Array.from(i)) o(r);
      }
      startPolling() {
        (this.stopPolling(),
          (this.pollTimer = setInterval(
            () =>
              C(this, null, function* () {
                return this._poll();
              }),
            r3
          )));
      }
      stopPolling() {
        this.pollTimer && (clearInterval(this.pollTimer), (this.pollTimer = null));
      }
      _addListener(n, r) {
        (Object.keys(this.listeners).length === 0 && this.startPolling(),
          this.listeners[n] || ((this.listeners[n] = new Set()), this._get(n)),
          this.listeners[n].add(r));
      }
      _removeListener(n, r) {
        (this.listeners[n] &&
          (this.listeners[n].delete(r), this.listeners[n].size === 0 && delete this.listeners[n]),
          Object.keys(this.listeners).length === 0 && this.stopPolling());
      }
    }
    return ((t.type = 'LOCAL'), t);
  })(),
  GR = o3;
var Fne = VR('rcb'),
  Vne = new is(3e4, 6e4);
function KR(t, e) {
  return e ? mi(e) : (de(t._popupRedirectResolver, t, 'argument-error'), t._popupRedirectResolver);
}
var Xl = class extends xa {
  constructor(e) {
    (super('custom', 'custom'), (this.params = e));
  }
  _getIdTokenResponse(e) {
    return Aa(e, this._buildIdpRequest());
  }
  _linkToIdToken(e, n) {
    return Aa(e, this._buildIdpRequest(n));
  }
  _getReauthenticationResolver(e) {
    return Aa(e, this._buildIdpRequest());
  }
  _buildIdpRequest(e) {
    let n = {
      requestUri: this.params.requestUri,
      sessionId: this.params.sessionId,
      postBody: this.params.postBody,
      tenantId: this.params.tenantId,
      pendingToken: this.params.pendingToken,
      returnSecureToken: !0,
      returnIdpCredential: !0,
    };
    return (e && (n.idToken = e), n);
  }
};
function s3(t) {
  return BR(t.auth, new Xl(t), t.bypassAuthState);
}
function a3(t) {
  let { auth: e, user: n } = t;
  return (de(n, e, 'internal-error'), $W(n, new Xl(t), t.bypassAuthState));
}
function c3(t) {
  return C(this, null, function* () {
    let { auth: e, user: n } = t;
    return (de(n, e, 'internal-error'), HW(n, new Xl(t), t.bypassAuthState));
  });
}
var dp = class {
  constructor(e, n, r, i, o = !1) {
    ((this.auth = e),
      (this.resolver = r),
      (this.user = i),
      (this.bypassAuthState = o),
      (this.pendingPromise = null),
      (this.eventManager = null),
      (this.filter = Array.isArray(n) ? n : [n]));
  }
  execute() {
    return new Promise((e, n) =>
      C(this, null, function* () {
        this.pendingPromise = { resolve: e, reject: n };
        try {
          ((this.eventManager = yield this.resolver._initialize(this.auth)),
            yield this.onExecution(),
            this.eventManager.registerConsumer(this));
        } catch (r) {
          this.reject(r);
        }
      })
    );
  }
  onAuthEvent(e) {
    return C(this, null, function* () {
      let { urlResponse: n, sessionId: r, postBody: i, tenantId: o, error: s, type: a } = e;
      if (s) {
        this.reject(s);
        return;
      }
      let c = {
        auth: this.auth,
        requestUri: n,
        sessionId: r,
        tenantId: o || void 0,
        postBody: i || void 0,
        user: this.user,
        bypassAuthState: this.bypassAuthState,
      };
      try {
        this.resolve(yield this.getIdpTask(a)(c));
      } catch (u) {
        this.reject(u);
      }
    });
  }
  onError(e) {
    this.reject(e);
  }
  getIdpTask(e) {
    switch (e) {
      case 'signInViaPopup':
      case 'signInViaRedirect':
        return s3;
      case 'linkViaPopup':
      case 'linkViaRedirect':
        return c3;
      case 'reauthViaPopup':
      case 'reauthViaRedirect':
        return a3;
      default:
        Gn(this.auth, 'internal-error');
    }
  }
  resolve(e) {
    (vi(this.pendingPromise, 'Pending promise was never set'),
      this.pendingPromise.resolve(e),
      this.unregisterAndCleanUp());
  }
  reject(e) {
    (vi(this.pendingPromise, 'Pending promise was never set'),
      this.pendingPromise.reject(e),
      this.unregisterAndCleanUp());
  }
  unregisterAndCleanUp() {
    (this.eventManager && this.eventManager.unregisterConsumer(this),
      (this.pendingPromise = null),
      this.cleanUp());
  }
};
var l3 = new is(2e3, 1e4);
function oE(t, e, n) {
  return C(this, null, function* () {
    if (qn(t.app)) return Promise.reject(pr(t, 'operation-not-supported-in-this-environment'));
    let r = io(t);
    cW(t, e, Ql);
    let i = KR(r, n);
    return new u3(r, 'signInViaPopup', e, i).executeNotNull();
  });
}
var u3 = (() => {
    class t extends dp {
      constructor(n, r, i, o, s) {
        (super(n, r, o, s),
          (this.provider = i),
          (this.authWindow = null),
          (this.pollId = null),
          t.currentPopupAction && t.currentPopupAction.cancel(),
          (t.currentPopupAction = this));
      }
      executeNotNull() {
        return C(this, null, function* () {
          let n = yield this.execute();
          return (de(n, this.auth, 'internal-error'), n);
        });
      }
      onExecution() {
        return C(this, null, function* () {
          vi(this.filter.length === 1, 'Popup operations only handle one event');
          let n = iE();
          ((this.authWindow = yield this.resolver._openPopup(
            this.auth,
            this.provider,
            this.filter[0],
            n
          )),
            (this.authWindow.associatedEvent = n),
            this.resolver._originValidation(this.auth).catch((r) => {
              this.reject(r);
            }),
            this.resolver._isIframeWebStorageSupported(this.auth, (r) => {
              r || this.reject(pr(this.auth, 'web-storage-unsupported'));
            }),
            this.pollUserCancellation());
        });
      }
      get eventId() {
        var n;
        return (
          ((n = this.authWindow) === null || n === void 0 ? void 0 : n.associatedEvent) || null
        );
      }
      cancel() {
        this.reject(pr(this.auth, 'cancelled-popup-request'));
      }
      cleanUp() {
        (this.authWindow && this.authWindow.close(),
          this.pollId && window.clearTimeout(this.pollId),
          (this.authWindow = null),
          (this.pollId = null),
          (t.currentPopupAction = null));
      }
      pollUserCancellation() {
        let n = () => {
          var r, i;
          if (
            !(
              (i = (r = this.authWindow) === null || r === void 0 ? void 0 : r.window) === null ||
              i === void 0
            ) &&
            i.closed
          ) {
            this.pollId = window.setTimeout(() => {
              ((this.pollId = null), this.reject(pr(this.auth, 'popup-closed-by-user')));
            }, 8e3);
            return;
          }
          this.pollId = window.setTimeout(n, l3.get());
        };
        n();
      }
    }
    t.currentPopupAction = null;
    return t;
  })(),
  d3 = 'pendingRedirect',
  Zf = new Map(),
  Fw = class t extends dp {
    constructor(e, n, r = !1) {
      (super(
        e,
        ['signInViaRedirect', 'linkViaRedirect', 'reauthViaRedirect', 'unknown'],
        n,
        void 0,
        r
      ),
        (this.eventId = null));
    }
    execute() {
      return C(this, null, function* () {
        let e = Zf.get(this.auth._key());
        if (!e) {
          try {
            let r = (yield h3(this.resolver, this.auth))
              ? yield Ai(t.prototype, this, 'execute').call(this)
              : null;
            e = () => Promise.resolve(r);
          } catch (n) {
            e = () => Promise.reject(n);
          }
          Zf.set(this.auth._key(), e);
        }
        return (this.bypassAuthState || Zf.set(this.auth._key(), () => Promise.resolve(null)), e());
      });
    }
    onAuthEvent(e) {
      return C(this, null, function* () {
        if (e.type === 'signInViaRedirect')
          return Ai(t.prototype, this, 'onAuthEvent').call(this, e);
        if (e.type === 'unknown') {
          this.resolve(null);
          return;
        }
        if (e.eventId) {
          let n = yield this.auth._redirectUserForId(e.eventId);
          if (n) return ((this.user = n), Ai(t.prototype, this, 'onAuthEvent').call(this, e));
          this.resolve(null);
        }
      });
    }
    onExecution() {
      return C(this, null, function* () {});
    }
    cleanUp() {}
  };
function h3(t, e) {
  return C(this, null, function* () {
    let n = m3(e),
      r = p3(t);
    if (!(yield r._isAvailable())) return !1;
    let i = (yield r._get(n)) === 'true';
    return (yield r._remove(n), i);
  });
}
function f3(t, e) {
  Zf.set(t._key(), e);
}
function p3(t) {
  return mi(t._redirectPersistence);
}
function m3(t) {
  return Xf(d3, t.config.apiKey, t.name);
}
function g3(t, e, n = !1) {
  return C(this, null, function* () {
    if (qn(t.app)) return Promise.reject(gi(t));
    let r = io(t),
      i = KR(r, e),
      s = yield new Fw(r, i, n).execute();
    return (
      s &&
        !n &&
        (delete s.user._redirectEventId,
        yield r._persistUserIfCurrent(s.user),
        yield r._setRedirectUser(null, e)),
      s
    );
  });
}
var v3 = 10 * 60 * 1e3,
  Vw = class {
    constructor(e) {
      ((this.auth = e),
        (this.cachedEventUids = new Set()),
        (this.consumers = new Set()),
        (this.queuedRedirectEvent = null),
        (this.hasHandledPotentialRedirect = !1),
        (this.lastProcessedEventTime = Date.now()));
    }
    registerConsumer(e) {
      (this.consumers.add(e),
        this.queuedRedirectEvent &&
          this.isEventForConsumer(this.queuedRedirectEvent, e) &&
          (this.sendToConsumer(this.queuedRedirectEvent, e),
          this.saveEventToCache(this.queuedRedirectEvent),
          (this.queuedRedirectEvent = null)));
    }
    unregisterConsumer(e) {
      this.consumers.delete(e);
    }
    onEvent(e) {
      if (this.hasEventBeenHandled(e)) return !1;
      let n = !1;
      return (
        this.consumers.forEach((r) => {
          this.isEventForConsumer(e, r) &&
            ((n = !0), this.sendToConsumer(e, r), this.saveEventToCache(e));
        }),
        this.hasHandledPotentialRedirect ||
          !y3(e) ||
          ((this.hasHandledPotentialRedirect = !0),
          n || ((this.queuedRedirectEvent = e), (n = !0))),
        n
      );
    }
    sendToConsumer(e, n) {
      var r;
      if (e.error && !YR(e)) {
        let i =
          ((r = e.error.code) === null || r === void 0 ? void 0 : r.split('auth/')[1]) ||
          'internal-error';
        n.onError(pr(this.auth, i));
      } else n.onAuthEvent(e);
    }
    isEventForConsumer(e, n) {
      let r = n.eventId === null || (!!e.eventId && e.eventId === n.eventId);
      return n.filter.includes(e.type) && r;
    }
    hasEventBeenHandled(e) {
      return (
        Date.now() - this.lastProcessedEventTime >= v3 && this.cachedEventUids.clear(),
        this.cachedEventUids.has(pR(e))
      );
    }
    saveEventToCache(e) {
      (this.cachedEventUids.add(pR(e)), (this.lastProcessedEventTime = Date.now()));
    }
  };
function pR(t) {
  return [t.type, t.eventId, t.sessionId, t.tenantId].filter((e) => e).join('-');
}
function YR({ type: t, error: e }) {
  return t === 'unknown' && e?.code === 'auth/no-auth-event';
}
function y3(t) {
  switch (t.type) {
    case 'signInViaRedirect':
    case 'linkViaRedirect':
    case 'reauthViaRedirect':
      return !0;
    case 'unknown':
      return YR(t);
    default:
      return !1;
  }
}
function _3(n) {
  return C(this, arguments, function* (t, e = {}) {
    return ro(t, 'GET', '/v1/projects', e);
  });
}
var w3 = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,
  E3 = /^https?/;
function I3(t) {
  return C(this, null, function* () {
    if (t.config.emulator) return;
    let { authorizedDomains: e } = yield _3(t);
    for (let n of e)
      try {
        if (D3(n)) return;
      } catch {}
    Gn(t, 'unauthorized-domain');
  });
}
function D3(t) {
  let e = Dw(),
    { protocol: n, hostname: r } = new URL(e);
  if (t.startsWith('chrome-extension://')) {
    let s = new URL(t);
    return s.hostname === '' && r === ''
      ? n === 'chrome-extension:' &&
          t.replace('chrome-extension://', '') === e.replace('chrome-extension://', '')
      : n === 'chrome-extension:' && s.hostname === r;
  }
  if (!E3.test(n)) return !1;
  if (w3.test(t)) return r === t;
  let i = t.replace(/\./g, '\\.');
  return new RegExp('^(.+\\.' + i + '|' + i + ')$', 'i').test(r);
}
var C3 = new is(3e4, 6e4);
function mR() {
  let t = Pr().___jsl;
  if (t?.H) {
    for (let e of Object.keys(t.H))
      if (
        ((t.H[e].r = t.H[e].r || []), (t.H[e].L = t.H[e].L || []), (t.H[e].r = [...t.H[e].L]), t.CP)
      )
        for (let n = 0; n < t.CP.length; n++) t.CP[n] = null;
  }
}
function b3(t) {
  return new Promise((e, n) => {
    var r, i, o;
    function s() {
      (mR(),
        gapi.load('gapi.iframes', {
          callback: () => {
            e(gapi.iframes.getContext());
          },
          ontimeout: () => {
            (mR(), n(pr(t, 'network-request-failed')));
          },
          timeout: C3.get(),
        }));
    }
    if (
      !(
        (i = (r = Pr().gapi) === null || r === void 0 ? void 0 : r.iframes) === null || i === void 0
      ) &&
      i.Iframe
    )
      e(gapi.iframes.getContext());
    else if (!((o = Pr().gapi) === null || o === void 0) && o.load) s();
    else {
      let a = VR('iframefcb');
      return (
        (Pr()[a] = () => {
          gapi.load ? s() : n(pr(t, 'network-request-failed'));
        }),
        FR(`${AW()}?onload=${a}`).catch((c) => n(c))
      );
    }
  }).catch((e) => {
    throw ((Jf = null), e);
  });
}
var Jf = null;
function T3(t) {
  return ((Jf = Jf || b3(t)), Jf);
}
var S3 = new is(5e3, 15e3),
  A3 = '__/auth/iframe',
  M3 = 'emulator/auth/iframe',
  x3 = {
    style: { position: 'absolute', top: '-100px', width: '1px', height: '1px' },
    'aria-hidden': 'true',
    tabindex: '-1',
  },
  R3 = new Map([
    ['identitytoolkit.googleapis.com', 'p'],
    ['staging-identitytoolkit.sandbox.googleapis.com', 's'],
    ['test-identitytoolkit.sandbox.googleapis.com', 't'],
  ]);
function N3(t) {
  let e = t.config;
  de(e.authDomain, t, 'auth-domain-config-required');
  let n = e.emulator ? Hw(e, M3) : `https://${t.config.authDomain}/${A3}`,
    r = { apiKey: e.apiKey, appName: t.name, v: eo },
    i = R3.get(t.config.apiHost);
  i && (r.eid = i);
  let o = t._getFrameworks();
  return (o.length && (r.fw = o.join(',')), `${n}?${Da(r).slice(1)}`);
}
function k3(t) {
  return C(this, null, function* () {
    let e = yield T3(t),
      n = Pr().gapi;
    return (
      de(n, t, 'internal-error'),
      e.open(
        {
          where: document.body,
          url: N3(t),
          messageHandlersFilter: n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
          attributes: x3,
          dontclear: !0,
        },
        (r) =>
          new Promise((i, o) =>
            C(this, null, function* () {
              yield r.restyle({ setHideOnLeave: !1 });
              let s = pr(t, 'network-request-failed'),
                a = Pr().setTimeout(() => {
                  o(s);
                }, S3.get());
              function c() {
                (Pr().clearTimeout(a), i(r));
              }
              r.ping(c).then(c, () => {
                o(s);
              });
            })
          )
      )
    );
  });
}
var P3 = { location: 'yes', resizable: 'yes', statusbar: 'yes', toolbar: 'no' },
  O3 = 500,
  F3 = 600,
  V3 = '_blank',
  L3 = 'http://localhost',
  hp = class {
    constructor(e) {
      ((this.window = e), (this.associatedEvent = null));
    }
    close() {
      if (this.window)
        try {
          this.window.close();
        } catch {}
    }
  };
function j3(t, e, n, r = O3, i = F3) {
  let o = Math.max((window.screen.availHeight - i) / 2, 0).toString(),
    s = Math.max((window.screen.availWidth - r) / 2, 0).toString(),
    a = '',
    c = Object.assign(Object.assign({}, P3), {
      width: r.toString(),
      height: i.toString(),
      top: o,
      left: s,
    }),
    u = Rt().toLowerCase();
  (n && (a = MR(u) ? V3 : n), SR(u) && ((e = e || L3), (c.scrollbars = 'yes')));
  let d = Object.entries(c).reduce((v, [m, D]) => `${v}${m}=${D},`, '');
  if (IW(u) && a !== '_self') return (U3(e || '', a), new hp(null));
  let p = window.open(e || '', a, d);
  de(p, t, 'popup-blocked');
  try {
    p.focus();
  } catch {}
  return new hp(p);
}
function U3(t, e) {
  let n = document.createElement('a');
  ((n.href = t), (n.target = e));
  let r = document.createEvent('MouseEvent');
  (r.initMouseEvent('click', !0, !0, window, 1, 0, 0, 0, 0, !1, !1, !1, !1, 1, null),
    n.dispatchEvent(r));
}
var B3 = '__/auth/handler',
  H3 = 'emulator/auth/handler',
  $3 = encodeURIComponent('fac');
function gR(t, e, n, r, i, o) {
  return C(this, null, function* () {
    (de(t.config.authDomain, t, 'auth-domain-config-required'),
      de(t.config.apiKey, t, 'invalid-api-key'));
    let s = {
      apiKey: t.config.apiKey,
      appName: t.name,
      authType: n,
      redirectUrl: r,
      v: eo,
      eventId: i,
    };
    if (e instanceof Ql) {
      (e.setDefaultLanguage(t.languageCode),
        (s.providerId = e.providerId || ''),
        jx(e.getCustomParameters()) ||
          (s.customParameters = JSON.stringify(e.getCustomParameters())));
      for (let [d, p] of Object.entries(o || {})) s[d] = p;
    }
    if (e instanceof ap) {
      let d = e.getScopes().filter((p) => p !== '');
      d.length > 0 && (s.scopes = d.join(','));
    }
    t.tenantId && (s.tid = t.tenantId);
    let a = s;
    for (let d of Object.keys(a)) a[d] === void 0 && delete a[d];
    let c = yield t._getAppCheckToken(),
      u = c ? `#${$3}=${encodeURIComponent(c)}` : '';
    return `${z3(t)}?${Da(a).slice(1)}${u}`;
  });
}
function z3({ config: t }) {
  return t.emulator ? Hw(t, H3) : `https://${t.authDomain}/${B3}`;
}
var Iw = 'webStorageSupport',
  Lw = class {
    constructor() {
      ((this.eventManagers = {}),
        (this.iframes = {}),
        (this.originValidationPromises = {}),
        (this._redirectPersistence = rE),
        (this._completeRedirectFn = g3),
        (this._overrideRedirectResult = f3));
    }
    _openPopup(e, n, r, i) {
      return C(this, null, function* () {
        var o;
        vi(
          (o = this.eventManagers[e._key()]) === null || o === void 0 ? void 0 : o.manager,
          '_initialize() not called before _openPopup()'
        );
        let s = yield gR(e, n, r, Dw(), i);
        return j3(e, s, iE());
      });
    }
    _openRedirect(e, n, r, i) {
      return C(this, null, function* () {
        yield this._originValidation(e);
        let o = yield gR(e, n, r, Dw(), i);
        return (QW(o), new Promise(() => {}));
      });
    }
    _initialize(e) {
      let n = e._key();
      if (this.eventManagers[n]) {
        let { manager: i, promise: o } = this.eventManagers[n];
        return i ? Promise.resolve(i) : (vi(o, 'If manager is not set, promise should be'), o);
      }
      let r = this.initAndGetManager(e);
      return (
        (this.eventManagers[n] = { promise: r }),
        r.catch(() => {
          delete this.eventManagers[n];
        }),
        r
      );
    }
    initAndGetManager(e) {
      return C(this, null, function* () {
        let n = yield k3(e),
          r = new Vw(e);
        return (
          n.register(
            'authEvent',
            (i) => (
              de(i?.authEvent, e, 'invalid-auth-event'),
              { status: r.onEvent(i.authEvent) ? 'ACK' : 'ERROR' }
            ),
            gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER
          ),
          (this.eventManagers[e._key()] = { manager: r }),
          (this.iframes[e._key()] = n),
          r
        );
      });
    }
    _isIframeWebStorageSupported(e, n) {
      this.iframes[e._key()].send(
        Iw,
        { type: Iw },
        (i) => {
          var o;
          let s = (o = i?.[0]) === null || o === void 0 ? void 0 : o[Iw];
          (s !== void 0 && n(!!s), Gn(e, 'internal-error'));
        },
        gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER
      );
    }
    _originValidation(e) {
      let n = e._key();
      return (
        this.originValidationPromises[n] || (this.originValidationPromises[n] = I3(e)),
        this.originValidationPromises[n]
      );
    }
    get _shouldInitProactively() {
      return PR() || AR() || qw();
    }
  },
  QR = Lw;
var vR = '@firebase/auth',
  yR = '1.7.9';
var jw = class {
  constructor(e) {
    ((this.auth = e), (this.internalListeners = new Map()));
  }
  getUid() {
    var e;
    return (
      this.assertAuthConfigured(),
      ((e = this.auth.currentUser) === null || e === void 0 ? void 0 : e.uid) || null
    );
  }
  getToken(e) {
    return C(this, null, function* () {
      return (
        this.assertAuthConfigured(),
        yield this.auth._initializationPromise,
        this.auth.currentUser ? { accessToken: yield this.auth.currentUser.getIdToken(e) } : null
      );
    });
  }
  addAuthTokenListener(e) {
    if ((this.assertAuthConfigured(), this.internalListeners.has(e))) return;
    let n = this.auth.onIdTokenChanged((r) => {
      e(r?.stsTokenManager.accessToken || null);
    });
    (this.internalListeners.set(e, n), this.updateProactiveRefresh());
  }
  removeAuthTokenListener(e) {
    this.assertAuthConfigured();
    let n = this.internalListeners.get(e);
    n && (this.internalListeners.delete(e), n(), this.updateProactiveRefresh());
  }
  assertAuthConfigured() {
    de(this.auth._initializationPromise, 'dependent-sdk-initialized-before-auth');
  }
  updateProactiveRefresh() {
    this.internalListeners.size > 0
      ? this.auth._startProactiveRefresh()
      : this.auth._stopProactiveRefresh();
  }
};
function W3(t) {
  switch (t) {
    case 'Node':
      return 'node';
    case 'ReactNative':
      return 'rn';
    case 'Worker':
      return 'webworker';
    case 'Cordova':
      return 'cordova';
    case 'WebExtension':
      return 'web-extension';
    default:
      return;
  }
}
function q3(t) {
  (Ji(
    new Wn(
      'auth',
      (e, { options: n }) => {
        let r = e.getProvider('app').getImmediate(),
          i = e.getProvider('heartbeat'),
          o = e.getProvider('app-check-internal'),
          { apiKey: s, authDomain: a } = r.options;
        de(s && !s.includes(':'), 'invalid-api-key', { appName: r.name });
        let c = {
            apiKey: s,
            authDomain: a,
            clientPlatform: t,
            apiHost: 'identitytoolkit.googleapis.com',
            tokenApiHost: 'securetoken.googleapis.com',
            apiScheme: 'https',
            sdkClientVersion: OR(t),
          },
          u = new xw(r, i, o, c);
        return (RW(u, n), u);
      },
      'PUBLIC'
    )
      .setInstantiationMode('EXPLICIT')
      .setInstanceCreatedCallback((e, n, r) => {
        e.getProvider('auth-internal').initialize();
      })
  ),
    Ji(
      new Wn(
        'auth-internal',
        (e) => {
          let n = io(e.getProvider('auth').getImmediate());
          return ((r) => new jw(r))(n);
        },
        'PRIVATE'
      ).setInstantiationMode('EXPLICIT')
    ),
    yt(vR, yR, W3(t)),
    yt(vR, yR, 'esm2017'));
}
var G3 = 5 * 60,
  K3 = rw('authIdTokenMaxAge') || G3,
  _R = null,
  Y3 = (t) => (e) =>
    C(void 0, null, function* () {
      let n = e && (yield e.getIdTokenResult()),
        r = n && (new Date().getTime() - Date.parse(n.issuedAtTime)) / 1e3;
      if (r && r > K3) return;
      let i = n?.token;
      _R !== i &&
        ((_R = i),
        yield fetch(t, {
          method: i ? 'POST' : 'DELETE',
          headers: i ? { Authorization: `Bearer ${i}` } : {},
        }));
    });
function sE(t = es()) {
  let e = Bl(t, 'auth');
  if (e.isInitialized()) return e.getImmediate();
  let n = Gw(t, { popupRedirectResolver: QR, persistence: [GR, $R, rE] }),
    r = rw('authTokenSyncURL');
  if (r && typeof isSecureContext == 'boolean' && isSecureContext) {
    let o = new URL(r, location.origin);
    if (location.origin === o.origin) {
      let s = Y3(o.toString());
      (eE(n, s, () => s(n.currentUser)), Jw(n, (a) => s(a)));
    }
  }
  let i = tw('auth');
  return (i && Kw(n, `http://${i}`), n);
}
function Q3() {
  var t, e;
  return (e =
    (t = document.getElementsByTagName('head')) === null || t === void 0 ? void 0 : t[0]) !==
    null && e !== void 0
    ? e
    : document;
}
TW({
  loadJS(t) {
    return new Promise((e, n) => {
      let r = document.createElement('script');
      (r.setAttribute('src', t),
        (r.onload = e),
        (r.onerror = (i) => {
          let o = pr('internal-error');
          ((o.customData = i), n(o));
        }),
        (r.type = 'text/javascript'),
        (r.charset = 'UTF-8'),
        Q3().appendChild(r));
    });
  },
  gapiScript: 'https://apis.google.com/js/api.js',
  recaptchaV2Script: 'https://www.google.com/recaptcha/api.js',
  recaptchaEnterpriseScript: 'https://www.google.com/recaptcha/enterprise.js?render=',
});
q3('Browser');
var XR = 'auth',
  An = class {
    constructor(t) {
      return t;
    }
  },
  aE = class {
    constructor() {
      return $l(XR);
    }
  };
var cE = new X('angularfire2.auth-instances');
function jq(t, e) {
  let n = qf(XR, t, e);
  return n && new An(n);
}
function Uq(t) {
  return (e, n) => {
    let r = e.runOutsideAngular(() => t(n));
    return new An(r);
  };
}
var Bq = { provide: aE, deps: [[new $t(), cE]] },
  Hq = { provide: An, useFactory: jq, deps: [[new $t(), cE], rs] };
function ZR(t, ...e) {
  return (
    yt('angularfire', ns.full, 'auth'),
    _n([
      Hq,
      Bq,
      {
        provide: cE,
        useFactory: Uq(t),
        multi: !0,
        deps: [Se, At, Sa, zl, [new $t(), Gf], ...e],
      },
    ])
  );
}
var JR = Kt(Xw, !0);
var eN = Kt(sE, !0);
var oo = Kt(tE, !0);
var tN = Kt(Zw, !0);
var nN = Kt(oE, !0);
var rN = Kt(nE, !0);
var so = (() => {
  class t {
    auth;
    router;
    userSubject = new ot(null);
    user$ = this.userSubject.asObservable();
    isLoading = new ot(!0);
    constructor(n, r) {
      ((this.auth = n),
        (this.router = r),
        oo(this.auth, (i) => {
          (this.userSubject.next(i),
            i ? this.router.navigate(['/']) : this.router.navigate(['/login']));
        }));
    }
    signUp(n, r) {
      return C(this, null, function* () {
        try {
          let i = yield JR(this.auth, n, r);
          return (
            console.log('User signed up:', i.user),
            this.userSubject.next(i.user),
            this.router.navigate(['/dashboard']),
            i.user
          );
        } catch (i) {
          throw (console.error('Error signing up:', i), i);
        }
      });
    }
    login(n, r) {
      return C(this, null, function* () {
        try {
          let i = yield tN(this.auth, n, r);
          return (
            console.log('User logged in:', i.user),
            this.userSubject.next(i.user),
            this.router.navigate(['/dashboard']),
            i.user
          );
        } catch (i) {
          throw (console.error('Error logging in:', i), i);
        }
      });
    }
    logout() {
      return C(this, null, function* () {
        try {
          (yield rN(this.auth), this.userSubject.next(null), this.router.navigate(['/login']));
        } catch (n) {
          throw (console.error('Error logging out:', n), n);
        }
      });
    }
    signinWithGoogle() {
      return C(this, null, function* () {
        try {
          let n = yield nN(this.auth, new Yw());
          return (this.userSubject.next(n.user), this.router.navigate(['/dashboard']), n.user);
        } catch (n) {
          throw (console.error('Error signing in with Google:', n), n);
        }
      });
    }
    static ɵfac = function (r) {
      return new (r || t)(le(An), le(cn));
    };
    static ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
  }
  return t;
})();
function $q(t, e) {
  if ((t & 1 && (R(0, 'p', 18), re(1), P()), t & 2)) {
    let n = B();
    (V(), Dn(' ', n.errorMessage, ' '));
  }
}
var iN = (() => {
  class t {
    auth;
    route;
    email = '';
    password = '';
    errorMessage = '';
    constructor(n, r) {
      ((this.auth = n), (this.route = r));
    }
    login() {
      return C(this, null, function* () {
        try {
          yield this.auth.login(this.email, this.password);
        } catch (n) {
          this.errorMessage = n.message;
        }
      });
    }
    signInWithGoogle() {
      return C(this, null, function* () {
        try {
          (yield this.auth.signinWithGoogle(), this.route.navigate(['/']));
        } catch (n) {
          this.errorMessage = n.message;
        }
      });
    }
    static ɵfac = function (r) {
      return new (r || t)(k(so), k(cn));
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-login']],
      standalone: !0,
      features: [Mt],
      decls: 25,
      vars: 3,
      consts: [
        [1, 'min-h-screen', 'flex', 'items-center', 'justify-center', 'bg-gray-100'],
        [
          1,
          'w-full',
          'max-w-md',
          'bg-white',
          'p-8',
          'rounded-2xl',
          'shadow-lg',
          'space-y-6',
          3,
          'submit',
        ],
        [1, 'text-3xl', 'font-bold', 'text-gray-700', 'text-center'],
        [1, 'space-y-4'],
        [1, 'relative'],
        [
          'xmlns',
          'http://www.w3.org/2000/svg',
          'width',
          '20',
          'height',
          '20',
          'viewBox',
          '0 0 24 24',
          'fill',
          'none',
          'stroke',
          'currentColor',
          'stroke-width',
          '2',
          'stroke-linecap',
          'round',
          'stroke-linejoin',
          'round',
          1,
          'absolute',
          'left-3',
          'top-1/2',
          'transform',
          '-translate-y-1/2',
          'text-gray-400',
        ],
        ['d', 'M4 4h16v16H4z'],
        ['d', 'M22 6l-10 7L2 6'],
        [
          'type',
          'email',
          'placeholder',
          'Email',
          'name',
          'email',
          'required',
          '',
          1,
          'w-full',
          'pl-10',
          'pr-4',
          'py-3',
          'border',
          'border-gray-300',
          'rounded-lg',
          'focus:outline-none',
          'focus:ring-2',
          'focus:ring-blue-500',
          3,
          'ngModelChange',
          'ngModel',
        ],
        ['d', 'M8 11V7a4 4 0 0 1 8 0v4'],
        ['width', '18', 'height', '11', 'x', '3', 'y', '11', 'rx', '2'],
        ['cx', '12', 'cy', '16', 'r', '1'],
        [
          'type',
          'password',
          'placeholder',
          'Password',
          'name',
          'password',
          'required',
          '',
          1,
          'w-full',
          'pl-10',
          'pr-4',
          'py-3',
          'border',
          'border-gray-300',
          'rounded-lg',
          'focus:outline-none',
          'focus:ring-2',
          'focus:ring-blue-500',
          3,
          'ngModelChange',
          'ngModel',
        ],
        [
          'type',
          'submit',
          1,
          'w-full',
          'flex',
          'items-center',
          'justify-center',
          'gap-2',
          'bg-blue-600',
          'text-white',
          'py-3',
          'rounded-lg',
          'hover:bg-blue-700',
          'transition',
          'duration-300',
          'font-bold',
        ],
        [
          'type',
          'button',
          1,
          'w-full',
          'flex',
          'items-center',
          'justify-center',
          'gap-2',
          'bg-gray-100',
          'text-gray-700',
          'py-3',
          'rounded-lg',
          'hover:bg-gray-200',
          'transition',
          'duration-300',
          'border',
          'border-gray-300',
          3,
          'click',
        ],
        [1, 'bi', 'bi-google', 'text-dark'],
        ['routerLink', '/register', 1, 'text-center', 'text-blue-600', 'hover:underline'],
        ['class', 'text-red-500 text-sm text-center', 4, 'ngIf'],
        [1, 'text-red-500', 'text-sm', 'text-center'],
      ],
      template: function (r, i) {
        (r & 1 &&
          (R(0, 'div', 0)(1, 'form', 1),
          ae('submit', function (s) {
            return (i.login(), s.preventDefault());
          }),
          R(2, 'h2', 2),
          re(3, 'Sign In'),
          P(),
          R(4, 'div', 3)(5, 'div', 4),
          Jc(),
          R(6, 'svg', 5),
          ue(7, 'path', 6)(8, 'path', 7),
          P(),
          ey(),
          R(9, 'input', 8),
          jn('ngModelChange', function (s) {
            return (cr(i.email, s) || (i.email = s), s);
          }),
          P()(),
          R(10, 'div', 4),
          Jc(),
          R(11, 'svg', 5),
          ue(12, 'path', 9)(13, 'rect', 10)(14, 'circle', 11),
          P(),
          ey(),
          R(15, 'input', 12),
          jn('ngModelChange', function (s) {
            return (cr(i.password, s) || (i.password = s), s);
          }),
          P()()(),
          R(16, 'button', 13),
          re(17, ' Login '),
          P(),
          R(18, 'button', 14),
          ae('click', function () {
            return i.signInWithGoogle();
          }),
          ue(19, 'i', 15),
          re(20, ' Sign in with Google '),
          P(),
          ue(21, 'br'),
          R(22, 'a', 16),
          re(23, 'Create an account'),
          P(),
          ne(24, $q, 2, 1, 'p', 17),
          P()()),
          r & 2 &&
            (V(9),
            Ln('ngModel', i.email),
            V(6),
            Ln('ngModel', i.password),
            V(9),
            L('ngIf', i.errorMessage)));
      },
      dependencies: [at, bt, Ia, jf, Qi, Ea, Vf, Y_, Xo, Vl, Sf],
    });
  }
  return t;
})();
var oN = (() => {
  class t {
    auth = H(An);
    router = H(cn);
    isAuthenticated = sr(!1);
    constructor() {
      oo(this.auth, (n) => {
        this.isAuthenticated.set(!!n);
      });
    }
    canActivate() {
      return this.isAuthenticated()
        ? !0
        : (this.router.navigateByUrl('/login', { replaceUrl: !0 }), !1);
    }
    static ɵfac = function (r) {
      return new (r || t)();
    };
    static ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
  }
  return t;
})();
var zq = (function () {
  function t() {}
  return (
    (t.prototype.getAllStyles = function (e) {
      return window.getComputedStyle(e);
    }),
    (t.prototype.getStyle = function (e, n) {
      return this.getAllStyles(e)[n];
    }),
    (t.prototype.isStaticPositioned = function (e) {
      return (this.getStyle(e, 'position') || 'static') === 'static';
    }),
    (t.prototype.offsetParent = function (e) {
      for (
        var n = e.offsetParent || document.documentElement;
        n && n !== document.documentElement && this.isStaticPositioned(n);

      )
        n = n.offsetParent;
      return n || document.documentElement;
    }),
    (t.prototype.position = function (e, n) {
      n === void 0 && (n = !0);
      var r,
        i = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };
      if (this.getStyle(e, 'position') === 'fixed')
        ((r = e.getBoundingClientRect()),
          (r = {
            top: r.top,
            bottom: r.bottom,
            left: r.left,
            right: r.right,
            height: r.height,
            width: r.width,
          }));
      else {
        var o = this.offsetParent(e);
        ((r = this.offset(e, !1)),
          o !== document.documentElement && (i = this.offset(o, !1)),
          (i.top += o.clientTop),
          (i.left += o.clientLeft));
      }
      return (
        (r.top -= i.top),
        (r.bottom -= i.top),
        (r.left -= i.left),
        (r.right -= i.left),
        n &&
          ((r.top = Math.round(r.top)),
          (r.bottom = Math.round(r.bottom)),
          (r.left = Math.round(r.left)),
          (r.right = Math.round(r.right))),
        r
      );
    }),
    (t.prototype.offset = function (e, n) {
      n === void 0 && (n = !0);
      var r = e.getBoundingClientRect(),
        i = {
          top: window.pageYOffset - document.documentElement.clientTop,
          left: window.pageXOffset - document.documentElement.clientLeft,
        },
        o = {
          height: r.height || e.offsetHeight,
          width: r.width || e.offsetWidth,
          top: r.top + i.top,
          bottom: r.bottom + i.top,
          left: r.left + i.left,
          right: r.right + i.left,
        };
      return (
        n &&
          ((o.height = Math.round(o.height)),
          (o.width = Math.round(o.width)),
          (o.top = Math.round(o.top)),
          (o.bottom = Math.round(o.bottom)),
          (o.left = Math.round(o.left)),
          (o.right = Math.round(o.right))),
        o
      );
    }),
    (t.prototype.positionElements = function (e, n, r, i) {
      var o = r.split('-'),
        s = o[0],
        a = s === void 0 ? 'top' : s,
        c = o[1],
        u = c === void 0 ? 'center' : c,
        d = i ? this.offset(e, !1) : this.position(e, !1),
        p = this.getAllStyles(n),
        v = parseFloat(p.marginTop),
        m = parseFloat(p.marginBottom),
        D = parseFloat(p.marginLeft),
        M = parseFloat(p.marginRight),
        A = 0,
        N = 0;
      switch (a) {
        case 'top':
          A = d.top - (n.offsetHeight + v + m);
          break;
        case 'bottom':
          A = d.top + d.height;
          break;
        case 'left':
          N = d.left - (n.offsetWidth + D + M);
          break;
        case 'right':
          N = d.left + d.width;
          break;
      }
      switch (u) {
        case 'top':
          A = d.top;
          break;
        case 'bottom':
          A = d.top + d.height - n.offsetHeight;
          break;
        case 'left':
          N = d.left;
          break;
        case 'right':
          N = d.left + d.width - n.offsetWidth;
          break;
        case 'center':
          a === 'top' || a === 'bottom'
            ? (N = d.left + d.width / 2 - n.offsetWidth / 2)
            : (A = d.top + d.height / 2 - n.offsetHeight / 2);
          break;
      }
      n.style.transform = 'translate(' + Math.round(N) + 'px, ' + Math.round(A) + 'px)';
      var O = n.getBoundingClientRect(),
        F = document.documentElement,
        z = window.innerHeight || F.clientHeight,
        Z = window.innerWidth || F.clientWidth;
      return O.left >= 0 && O.top >= 0 && O.right <= Z && O.bottom <= z;
    }),
    t
  );
})();
var Wq = /\s+/,
  sN = new zq();
function uE(t, e, n, r, i) {
  var o = Array.isArray(n) ? n : n.split(Wq),
    s = [
      'top',
      'bottom',
      'left',
      'right',
      'top-left',
      'top-right',
      'bottom-left',
      'bottom-right',
      'left-top',
      'left-bottom',
      'right-top',
      'right-bottom',
    ],
    a = e.classList,
    c = function (A) {
      var N = A.split('-'),
        O = N[0],
        F = N[1],
        z = [];
      return (
        i &&
          (z.push(i + '-' + O),
          F && z.push(i + '-' + O + '-' + F),
          z.forEach(function (Z) {
            a.add(Z);
          })),
        z
      );
    };
  i &&
    s.forEach(function (A) {
      a.remove(i + '-' + A);
    });
  var u = o.findIndex(function (A) {
    return A === 'auto';
  });
  u >= 0 &&
    s.forEach(function (A) {
      o.find(function (N) {
        return N.search('^' + A) !== -1;
      }) == null && o.splice(u++, 1, A);
    });
  var d = e.style;
  ((d.position = 'absolute'), (d.top = '0'), (d.left = '0'), (d['will-change'] = 'transform'));
  for (var p, v = !1, m = 0, D = o; m < D.length; m++) {
    p = D[m];
    var M = c(p);
    if (sN.positionElements(t, e, p, r)) {
      v = !0;
      break;
    }
    i &&
      M.forEach(function (A) {
        a.remove(A);
      });
  }
  return (v || ((p = o[0]), c(p), sN.positionElements(t, e, p, r)), p);
}
var mr = function () {
    return (
      (mr =
        Object.assign ||
        function (t) {
          for (var e, n = 1, r = arguments.length; n < r; n++) {
            e = arguments[n];
            for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
          }
          return t;
        }),
      mr.apply(this, arguments)
    );
  },
  dE = function (t, e, n) {
    if (n || arguments.length === 2)
      for (var r = 0, i = e.length, o; r < i; r++)
        (o || !(r in e)) && (o || (o = Array.prototype.slice.call(e, 0, r)), (o[r] = e[r]));
    return t.concat(o || Array.prototype.slice.call(e));
  },
  yp = (function (t) {
    return (
      (t[(t.SUNDAY = 0)] = 'SUNDAY'),
      (t[(t.MONDAY = 1)] = 'MONDAY'),
      (t[(t.TUESDAY = 2)] = 'TUESDAY'),
      (t[(t.WEDNESDAY = 3)] = 'WEDNESDAY'),
      (t[(t.THURSDAY = 4)] = 'THURSDAY'),
      (t[(t.FRIDAY = 5)] = 'FRIDAY'),
      (t[(t.SATURDAY = 6)] = 'SATURDAY'),
      t
    );
  })(yp || {}),
  qq = [yp.SUNDAY, yp.SATURDAY],
  hE = 7,
  fE = 24,
  gp = 60,
  ao = 60 * 60 * 24;
function aN(t, e) {
  var n = e.startDate,
    r = e.seconds,
    i = e.excluded,
    o = e.precision;
  if (i.length < 1) return 0;
  for (
    var s = t.addSeconds,
      a = t.getDay,
      c = t.addDays,
      u = s(n, r - 1),
      d = a(n),
      p = a(u),
      v = 0,
      m = n,
      D = function () {
        var M = a(m);
        (i.some(function (A) {
          return A === M;
        }) &&
          (v += Gq(t, {
            dayStart: d,
            dayEnd: p,
            day: M,
            precision: o,
            startDate: n,
            endDate: u,
          })),
          (m = c(m, 1)));
      };
    m < u;

  )
    D();
  return v;
}
function Gq(t, e) {
  var n = e.precision,
    r = e.day,
    i = e.dayStart,
    o = e.dayEnd,
    s = e.startDate,
    a = e.endDate,
    c = t.differenceInSeconds,
    u = t.endOfDay,
    d = t.startOfDay;
  if (n === 'minutes') {
    if (r === i) return c(u(s), s) + 1;
    if (r === o) return c(a, d(a)) + 1;
  }
  return ao;
}
function Kq(t, e) {
  var n = e.event,
    r = e.offset,
    i = e.startOfWeekDate,
    o = e.excluded,
    s = e.precision,
    a = e.totalDaysInView,
    c = t.max,
    u = t.differenceInSeconds,
    d = t.addDays,
    p = t.endOfDay,
    v = t.differenceInDays,
    m = ao,
    D = c([n.start, i]);
  if (n.end)
    switch (s) {
      case 'minutes':
        m = u(n.end, D);
        break;
      default:
        m = v(d(p(n.end), 1), D) * ao;
        break;
    }
  var M = r * ao,
    A = M + m,
    N = a * ao;
  return (
    A > N && (m = N - M),
    (m -= aN(t, { startDate: D, seconds: m, excluded: o, precision: s })),
    m / ao
  );
}
function Yq(t, e) {
  var n = e.event,
    r = e.startOfWeek,
    i = e.excluded,
    o = e.precision,
    s = t.differenceInDays,
    a = t.startOfDay,
    c = t.differenceInSeconds;
  if (n.start < r) return 0;
  var u = 0;
  switch (o) {
    case 'days':
      u = s(a(n.start), r) * ao;
      break;
    case 'minutes':
      u = c(n.start, r);
      break;
  }
  return ((u -= aN(t, { startDate: r, seconds: u, excluded: i, precision: o })), Math.abs(u / ao));
}
function Qq(t, e) {
  var n = e.event,
    r = e.periodStart,
    i = e.periodEnd,
    o = t.isSameSecond,
    s = n.start,
    a = n.end || n.start;
  return !!(
    (s > r && s < i) ||
    (a > r && a < i) ||
    (s < r && a > i) ||
    o(s, r) ||
    o(s, i) ||
    o(a, r) ||
    o(a, i)
  );
}
function Jl(t, e) {
  var n = e.events,
    r = e.periodStart,
    i = e.periodEnd;
  return n.filter(function (o) {
    return Qq(t, { event: o, periodStart: r, periodEnd: i });
  });
}
function cN(t, e) {
  var n = e.date,
    r = e.weekendDays,
    i = r === void 0 ? qq : r,
    o = t.startOfDay,
    s = t.isSameDay,
    a = t.getDay,
    c = o(new Date()),
    u = a(n);
  return {
    date: n,
    day: u,
    isPast: n < c,
    isToday: s(n, c),
    isFuture: n > c,
    isWeekend: i.indexOf(u) > -1,
  };
}
function Ep(t, e) {
  for (
    var n = e.viewDate,
      r = e.weekStartsOn,
      i = e.excluded,
      o = i === void 0 ? [] : i,
      s = e.weekendDays,
      a = e.viewStart,
      c = a === void 0 ? t.startOfWeek(n, { weekStartsOn: r }) : a,
      u = e.viewEnd,
      d = u === void 0 ? t.addDays(c, hE) : u,
      p = t.addDays,
      v = t.getDay,
      m = [],
      D = c;
    D < d;

  )
    (o.some(function (M) {
      return v(D) === M;
    }) || m.push(cN(t, { date: D, weekendDays: s })),
      (D = p(D, 1)));
  return m;
}
function Xq(t, e) {
  for (var n = e.date1, r = e.date2, i = e.excluded, o = n, s = 0; o < r; )
    (i.indexOf(t.getDay(o)) === -1 && s++, (o = t.addDays(o, 1)));
  return s;
}
function Zq(t, e) {
  var n = e.events,
    r = n === void 0 ? [] : n,
    i = e.excluded,
    o = i === void 0 ? [] : i,
    s = e.precision,
    a = s === void 0 ? 'days' : s,
    c = e.absolutePositionedEvents,
    u = c === void 0 ? !1 : c,
    d = e.viewStart,
    p = e.viewEnd;
  ((d = t.startOfDay(d)), (p = t.endOfDay(p)));
  var v = t.differenceInSeconds,
    m = t.differenceInDays,
    D = Xq(t, { date1: d, date2: p, excluded: o }),
    M = m(p, d) + 1,
    A = r
      .filter(function (F) {
        return F.allDay;
      })
      .map(function (F) {
        var z = Yq(t, { event: F, startOfWeek: d, excluded: o, precision: a }),
          Z = Kq(t, {
            event: F,
            offset: z,
            startOfWeekDate: d,
            excluded: o,
            precision: a,
            totalDaysInView: M,
          });
        return { event: F, offset: z, span: Z };
      })
      .filter(function (F) {
        return F.offset < D;
      })
      .filter(function (F) {
        return F.span > 0;
      })
      .map(function (F) {
        return {
          event: F.event,
          offset: F.offset,
          span: F.span,
          startsBeforeWeek: F.event.start < d,
          endsAfterWeek: (F.event.end || F.event.start) > p,
        };
      })
      .sort(function (F, z) {
        var Z = v(F.event.start, z.event.start);
        return Z === 0 ? v(z.event.end || z.event.start, F.event.end || F.event.start) : Z;
      }),
    N = [],
    O = [];
  return (
    A.forEach(function (F, z) {
      if (O.indexOf(F) === -1) {
        O.push(F);
        var Z = F.span + F.offset,
          q = A.slice(z + 1).filter(function (_) {
            if (_.offset >= Z && Z + _.span <= M && O.indexOf(_) === -1) {
              var b = _.offset - Z;
              return (u || (_.offset = b), (Z += _.span + b), O.push(_), !0);
            }
          }),
          T = dE([F], q, !0),
          y = T.filter(function (_) {
            return _.event.id;
          })
            .map(function (_) {
              return _.event.id;
            })
            .join('-');
        N.push(mr({ row: T }, y ? { id: y } : {}));
      }
    }),
    N
  );
}
function Jq(t, e) {
  var n = e.events,
    r = e.viewDate,
    i = e.hourSegments,
    o = e.hourDuration,
    s = e.dayStart,
    a = e.dayEnd,
    c = e.weekStartsOn,
    u = e.excluded,
    d = e.weekendDays,
    p = e.segmentHeight,
    v = e.viewStart,
    m = e.viewEnd,
    D = e.minimumEventHeight,
    M = tG(t, {
      viewDate: r,
      hourSegments: i,
      hourDuration: o,
      dayStart: s,
      dayEnd: a,
    }),
    A = Ep(t, {
      viewDate: r,
      weekStartsOn: c,
      excluded: u,
      weekendDays: d,
      viewStart: v,
      viewEnd: m,
    }),
    N = t.setHours,
    O = t.setMinutes,
    F = t.getHours,
    z = t.getMinutes;
  return A.map(function (Z) {
    var q = eG(t, {
        events: n,
        viewDate: Z.date,
        hourSegments: i,
        dayStart: s,
        dayEnd: a,
        segmentHeight: p,
        eventWidth: 1,
        hourDuration: o,
        minimumEventHeight: D,
      }),
      T = M.map(function (b) {
        var w = b.segments.map(function (I) {
          var E = O(N(Z.date, F(I.date)), z(I.date));
          return mr(mr({}, I), { date: E });
        });
        return mr(mr({}, b), { segments: w });
      });
    function y(b, w) {
      var I = Math.max.apply(
          Math,
          w.map(function (Ae) {
            return Ae.left + 1;
          })
        ),
        E = b
          .filter(function (Ae) {
            return Ae.left >= I;
          })
          .filter(function (Ae) {
            return vp(w, Ae.top, Ae.top + Ae.height).length > 0;
          });
      return E.length > 0 ? y(b, E) : I;
    }
    var _ = q.events.map(function (b) {
      var w = y(q.events, vp(q.events, b.top, b.top + b.height)),
        I = 100 / w;
      return mr(mr({}, b), { left: b.left * I, width: I });
    });
    return {
      hours: T,
      date: Z.date,
      events: _.map(function (b) {
        var w = vp(
          _.filter(function (I) {
            return I.left > b.left;
          }),
          b.top,
          b.top + b.height
        );
        return w.length > 0
          ? mr(mr({}, b), {
              width:
                Math.min.apply(
                  Math,
                  w.map(function (I) {
                    return I.left;
                  })
                ) - b.left,
            })
          : b;
      }),
    };
  });
}
function lN(t, e) {
  var n = e.events,
    r = n === void 0 ? [] : n,
    i = e.viewDate,
    o = e.weekStartsOn,
    s = e.excluded,
    a = s === void 0 ? [] : s,
    c = e.precision,
    u = c === void 0 ? 'days' : c,
    d = e.absolutePositionedEvents,
    p = d === void 0 ? !1 : d,
    v = e.hourSegments,
    m = e.hourDuration,
    D = e.dayStart,
    M = e.dayEnd,
    A = e.weekendDays,
    N = e.segmentHeight,
    O = e.minimumEventHeight,
    F = e.viewStart,
    z = F === void 0 ? t.startOfWeek(i, { weekStartsOn: o }) : F,
    Z = e.viewEnd,
    q = Z === void 0 ? t.endOfWeek(i, { weekStartsOn: o }) : Z;
  r || (r = []);
  var T = t.startOfDay,
    y = t.endOfDay;
  ((z = T(z)), (q = y(q)));
  var _ = Jl(t, { events: r, periodStart: z, periodEnd: q }),
    b = Ep(t, {
      viewDate: i,
      weekStartsOn: o,
      excluded: a,
      weekendDays: A,
      viewStart: z,
      viewEnd: q,
    });
  return {
    allDayEventRows: Zq(t, {
      events: _,
      excluded: a,
      precision: u,
      absolutePositionedEvents: p,
      viewStart: z,
      viewEnd: q,
    }),
    period: { events: _, start: b[0].date, end: y(b[b.length - 1].date) },
    hourColumns: Jq(t, {
      events: r,
      viewDate: i,
      hourSegments: v,
      hourDuration: m,
      dayStart: D,
      dayEnd: M,
      weekStartsOn: o,
      excluded: a,
      weekendDays: A,
      segmentHeight: N,
      viewStart: z,
      viewEnd: q,
      minimumEventHeight: O,
    }),
  };
}
function uN(t, e) {
  var n = e.events,
    r = n === void 0 ? [] : n,
    i = e.viewDate,
    o = e.weekStartsOn,
    s = e.excluded,
    a = s === void 0 ? [] : s,
    c = e.viewStart,
    u = c === void 0 ? t.startOfMonth(i) : c,
    d = e.viewEnd,
    p = d === void 0 ? t.endOfMonth(i) : d,
    v = e.weekendDays;
  r || (r = []);
  for (
    var m = t.startOfWeek,
      D = t.endOfWeek,
      M = t.differenceInDays,
      A = t.startOfDay,
      N = t.addHours,
      O = t.endOfDay,
      F = t.isSameMonth,
      z = t.getDay,
      Z = m(u, { weekStartsOn: o }),
      q = D(p, { weekStartsOn: o }),
      T = Jl(t, { events: r, periodStart: Z, periodEnd: q }),
      y = [],
      _,
      b = function (zr) {
        var ht;
        if (
          (_
            ? ((ht = A(N(_, fE))), _.getTime() === ht.getTime() && (ht = A(N(_, fE + 1))), (_ = ht))
            : (ht = _ = Z),
          !a.some(function (xn) {
            return z(ht) === xn;
          }))
        ) {
          var Wr = cN(t, { date: ht, weekendDays: v }),
            mn = Jl(t, { events: T, periodStart: A(ht), periodEnd: O(ht) });
          ((Wr.inMonth = F(ht, i)), (Wr.events = mn), (Wr.badgeTotal = mn.length), y.push(Wr));
        }
      },
      w = 0;
    w < M(q, Z) + 1;
    w++
  )
    b(w);
  var I = [],
    E = hE - a.length;
  if (E < hE)
    for (var w = 0; w < y.length; w += E) {
      var Ae = y.slice(w, w + E),
        $r = Ae.some(function (ht) {
          return u <= ht.date && ht.date < p;
        });
      $r && (I = dE(dE([], I, !0), Ae, !0));
    }
  else I = y;
  for (var uc = Math.floor(I.length / E), yr = [], w = 0; w < uc; w++) yr.push(w * E);
  return {
    rowOffsets: yr,
    totalDaysVisibleInWeek: E,
    days: I,
    period: { start: I[0].date, end: O(I[I.length - 1].date), events: T },
  };
}
function vp(t, e, n) {
  return t.filter(function (r) {
    var i = r.top,
      o = r.top + r.height;
    return (e < o && o < n) || (e < i && i < n) ? !0 : i <= e && n <= o;
  });
}
function eG(t, e) {
  var n = e.events,
    r = e.viewDate,
    i = e.hourSegments,
    o = e.dayStart,
    s = e.dayEnd,
    a = e.eventWidth,
    c = e.segmentHeight,
    u = e.hourDuration,
    d = e.minimumEventHeight,
    p = t.setMinutes,
    v = t.setHours,
    m = t.startOfDay,
    D = t.startOfMinute,
    M = t.endOfDay,
    A = t.differenceInMinutes,
    N = p(v(m(r), _p(o.hour)), wp(o.minute)),
    O = p(v(D(M(r)), _p(s.hour)), wp(s.minute));
  O.setSeconds(59, 999);
  var F = [],
    z = Jl(t, {
      events: n.filter(function (y) {
        return !y.allDay;
      }),
      periodStart: N,
      periodEnd: O,
    }),
    Z = z
      .sort(function (y, _) {
        return y.start.valueOf() - _.start.valueOf();
      })
      .map(function (y) {
        var _ = y.start,
          b = y.end || _,
          w = _ < N,
          I = b > O,
          E = (i * c) / (u || gp),
          Ae = 0;
        if (_ > N) {
          var $r = t.getTimezoneOffset(_),
            uc = t.getTimezoneOffset(N),
            yr = uc - $r;
          Ae += A(_, N) + yr;
        }
        ((Ae *= E), (Ae = Math.floor(Ae)));
        var zr = w ? N : _,
          ht = I ? O : b,
          Wr = t.getTimezoneOffset(zr) - t.getTimezoneOffset(ht),
          mn = A(ht, zr) + Wr;
        (y.end ? (mn *= E) : (mn = c), d && mn < d && (mn = d), (mn = Math.floor(mn)));
        for (
          var xn = Ae + mn, St = vp(F, Ae, xn), dc = 0;
          St.some(function (Mm) {
            return Mm.left === dc;
          });

        )
          dc += a;
        var Ci = {
          event: y,
          height: mn,
          width: a,
          top: Ae,
          left: dc,
          startsBeforeDay: w,
          endsAfterDay: I,
        };
        return (F.push(Ci), Ci);
      }),
    q = Math.max.apply(
      Math,
      Z.map(function (y) {
        return y.left + y.width;
      })
    ),
    T = Jl(t, {
      events: n.filter(function (y) {
        return y.allDay;
      }),
      periodStart: m(N),
      periodEnd: M(O),
    });
  return {
    events: Z,
    width: q,
    allDayEvents: T,
    period: { events: z, start: N, end: O },
  };
}
function _p(t) {
  return Math.max(Math.min(23, t), 0);
}
function wp(t) {
  return Math.max(Math.min(59, t), 0);
}
function tG(t, e) {
  var n = e.viewDate,
    r = e.hourSegments,
    i = e.hourDuration,
    o = e.dayStart,
    s = e.dayEnd,
    a = t.setMinutes,
    c = t.setHours,
    u = t.startOfDay,
    d = t.startOfMinute,
    p = t.endOfDay,
    v = t.addMinutes,
    m = t.addDays,
    D = [],
    M = a(c(u(n), _p(o.hour)), wp(o.minute)),
    A = a(c(d(p(n)), _p(s.hour)), wp(s.minute)),
    N = (i || gp) / r,
    O = u(n),
    F = p(n),
    z = function (b) {
      return b;
    };
  t.getTimezoneOffset(O) !== t.getTimezoneOffset(F) &&
    ((O = m(O, 1)),
    (M = m(M, 1)),
    (A = m(A, 1)),
    (z = function (b) {
      return m(b, -1);
    }));
  for (var Z = i ? (fE * 60) / i : gp, q = 0; q < Z; q++) {
    for (var T = [], y = 0; y < r; y++) {
      var _ = v(v(M, q * (i || gp)), y * N);
      _ >= M && _ < A && T.push({ date: z(_), displayDate: _, isStart: y === 0 });
    }
    T.length > 0 && D.push({ segments: T });
  }
  return D;
}
var Na = (function (t) {
  return (
    (t.NotArray = 'Events must be an array'),
    (t.StartPropertyMissing = 'Event is missing the `start` property'),
    (t.StartPropertyNotDate =
      'Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.'),
    (t.EndPropertyNotDate =
      'Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.'),
    (t.EndsBeforeStart = 'Event `start` property occurs after the `end`'),
    t
  );
})(Na || {});
function dN(t, e) {
  var n = !0;
  function r(i, o) {
    (e(i, o), (n = !1));
  }
  return Array.isArray(t)
    ? (t.forEach(function (i) {
        (i.start
          ? i.start instanceof Date || r(Na.StartPropertyNotDate, i)
          : r(Na.StartPropertyMissing, i),
          i.end &&
            (i.end instanceof Date || r(Na.EndPropertyNotDate, i),
            i.start > i.end && r(Na.EndsBeforeStart, i)));
      }),
      n)
    : (e(Na.NotArray, t), !1);
}
function nG(t, e) {
  return typeof t > 'u' ? (typeof e > 'u' ? t : e) : t;
}
function vE(t, e) {
  return (
    (t = nG(t, e)),
    typeof t == 'function'
      ? function () {
          for (var r = arguments, i = arguments.length, o = Array(i), s = 0; s < i; s++)
            o[s] = r[s];
          return !!t.apply(this, o);
        }
      : t
        ? function () {
            return !0;
          }
        : function () {
            return !1;
          }
  );
}
var pE =
    typeof Symbol == 'function' && typeof Symbol.iterator == 'symbol'
      ? function (t) {
          return typeof t;
        }
      : function (t) {
          return t && typeof Symbol == 'function' && t.constructor === Symbol ? 'symbol' : typeof t;
        },
  fN = function (t) {
    return (
      t != null &&
      (typeof t > 'u' ? 'undefined' : pE(t)) === 'object' &&
      t.nodeType === 1 &&
      pE(t.style) === 'object' &&
      pE(t.ownerDocument) === 'object'
    );
  };
function pN(t, e) {
  if (((e = wE(e, !0)), !fN(e))) return -1;
  for (var n = 0; n < t.length; n++) if (t[n] === e) return n;
  return -1;
}
function yE(t, e) {
  return pN(t, e) !== -1;
}
function rG(t, e) {
  for (var n = 0; n < e.length; n++) yE(t, e[n]) || t.push(e[n]);
  return e;
}
function iG(t) {
  for (var e = arguments, n = [], r = arguments.length - 1; r-- > 0; ) n[r] = e[r + 1];
  return ((n = n.map(wE)), rG(t, n));
}
function oG(t) {
  for (var e = arguments, n = [], r = arguments.length - 1; r-- > 0; ) n[r] = e[r + 1];
  return n.map(wE).reduce(function (i, o) {
    var s = pN(t, o);
    return s !== -1 ? i.concat(t.splice(s, 1)) : i;
  }, []);
}
function wE(t, e) {
  if (typeof t == 'string')
    try {
      return document.querySelector(t);
    } catch (n) {
      throw n;
    }
  if (!fN(t) && !e) throw new TypeError(t + ' is not a DOM element.');
  return t;
}
function sG(t, e) {
  e = e || {};
  var n = vE(e.allowUpdate, !0);
  return function (i) {
    if (
      ((i = i || window.event),
      (t.target = i.target || i.srcElement || i.originalTarget),
      (t.element = this),
      (t.type = i.type),
      !!n(i))
    ) {
      if (i.targetTouches)
        ((t.x = i.targetTouches[0].clientX),
          (t.y = i.targetTouches[0].clientY),
          (t.pageX = i.targetTouches[0].pageX),
          (t.pageY = i.targetTouches[0].pageY),
          (t.screenX = i.targetTouches[0].screenX),
          (t.screenY = i.targetTouches[0].screenY));
      else {
        if (i.pageX === null && i.clientX !== null) {
          var o = (i.target && i.target.ownerDocument) || document,
            s = o.documentElement,
            a = o.body;
          ((t.pageX =
            i.clientX +
            ((s && s.scrollLeft) || (a && a.scrollLeft) || 0) -
            ((s && s.clientLeft) || (a && a.clientLeft) || 0)),
            (t.pageY =
              i.clientY +
              ((s && s.scrollTop) || (a && a.scrollTop) || 0) -
              ((s && s.clientTop) || (a && a.clientTop) || 0)));
        } else ((t.pageX = i.pageX), (t.pageY = i.pageY));
        ((t.x = i.clientX), (t.y = i.clientY), (t.screenX = i.screenX), (t.screenY = i.screenY));
      }
      ((t.clientX = t.x), (t.clientY = t.y));
    }
  };
}
function aG() {
  var t = {
    top: { value: 0, enumerable: !0 },
    left: { value: 0, enumerable: !0 },
    right: { value: window.innerWidth, enumerable: !0 },
    bottom: { value: window.innerHeight, enumerable: !0 },
    width: { value: window.innerWidth, enumerable: !0 },
    height: { value: window.innerHeight, enumerable: !0 },
    x: { value: 0, enumerable: !0 },
    y: { value: 0, enumerable: !0 },
  };
  if (Object.create) return Object.create({}, t);
  var e = {};
  return (Object.defineProperties(e, t), e);
}
function mN(t) {
  if (t === window) return aG();
  try {
    var e = t.getBoundingClientRect();
    return (e.x === void 0 && ((e.x = e.left), (e.y = e.top)), e);
  } catch {
    throw new TypeError("Can't call getBoundingClientRect on " + t);
  }
}
function cG(t, e) {
  var n = mN(e);
  return t.y > n.top && t.y < n.bottom && t.x > n.left && t.x < n.right;
}
var _E = void 0;
typeof Object.create != 'function'
  ? (_E = (function (t) {
      var e = function () {};
      return function (n, r) {
        if (n !== Object(n) && n !== null) throw TypeError('Argument must be an object, or null');
        e.prototype = n || {};
        var i = new e();
        return (
          (e.prototype = null),
          r !== t && Object.defineProperties(i, r),
          n === null && (i.__proto__ = null),
          i
        );
      };
    })())
  : (_E = Object.create);
var lG = _E,
  ss = [
    'altKey',
    'button',
    'buttons',
    'clientX',
    'clientY',
    'ctrlKey',
    'metaKey',
    'movementX',
    'movementY',
    'offsetX',
    'offsetY',
    'pageX',
    'pageY',
    'region',
    'relatedTarget',
    'screenX',
    'screenY',
    'shiftKey',
    'which',
    'x',
    'y',
  ];
function uG(t) {
  var e = {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    ctrlKey: !1,
    shiftKey: !1,
    altKey: !1,
    metaKey: !1,
    button: 0,
    buttons: 1,
    relatedTarget: null,
    region: null,
  };
  t !== void 0 && t.addEventListener('mousemove', n);
  function n(o) {
    for (var s = 0; s < ss.length; s++) e[ss[s]] = o[ss[s]];
  }
  var r = (function () {
    if (MouseEvent)
      return function (s, a, c) {
        var u = new MouseEvent('mousemove', mE(e, a));
        return (gE(u, c), s.dispatchEvent(u));
      };
    if (typeof document.createEvent == 'function')
      return function (s, a, c) {
        var u = mE(e, a),
          d = document.createEvent('MouseEvents');
        return (
          d.initMouseEvent(
            'mousemove',
            !0,
            !0,
            window,
            0,
            u.screenX,
            u.screenY,
            u.clientX,
            u.clientY,
            u.ctrlKey,
            u.altKey,
            u.shiftKey,
            u.metaKey,
            u.button,
            u.relatedTarget
          ),
          gE(d, c),
          s.dispatchEvent(d)
        );
      };
    if (typeof document.createEventObject == 'function')
      return function (s, a, c) {
        var u = document.createEventObject(),
          d = mE(e, a);
        for (var p in d) u[p] = d[p];
        return (gE(u, c), s.dispatchEvent(u));
      };
  })();
  function i() {
    (t && t.removeEventListener('mousemove', n, !1), (e = null));
  }
  return { destroy: i, dispatch: r };
}
function mE(t, e) {
  e = e || {};
  for (var n = lG(t), r = 0; r < ss.length; r++) e[ss[r]] !== void 0 && (n[ss[r]] = e[ss[r]]);
  return n;
}
function gE(t, e) {
  (console.log('data ', e), (t.data = e || {}), (t.dispatched = 'mousemove'));
}
var tu = ['webkit', 'moz', 'ms', 'o'],
  eu = (function () {
    if (typeof window > 'u') return function () {};
    for (var t = 0, e = tu.length; t < e && !window.requestAnimationFrame; ++t)
      window.requestAnimationFrame = window[tu[t] + 'RequestAnimationFrame'];
    if (!window.requestAnimationFrame) {
      var n = 0;
      window.requestAnimationFrame = function (r) {
        var i = new Date().getTime(),
          o = Math.max(0, 16 - i - n),
          s = window.setTimeout(function () {
            return r(i + o);
          }, o);
        return ((n = i + o), s);
      };
    }
    return window.requestAnimationFrame.bind(window);
  })(),
  ka = (function () {
    if (typeof window > 'u') return function () {};
    for (var t = 0, e = tu.length; t < e && !window.cancelAnimationFrame; ++t)
      window.cancelAnimationFrame =
        window[tu[t] + 'CancelAnimationFrame'] || window[tu[t] + 'CancelRequestAnimationFrame'];
    return (
      window.cancelAnimationFrame ||
        (window.cancelAnimationFrame = function (n) {
          window.clearTimeout(n);
        }),
      window.cancelAnimationFrame.bind(window)
    );
  })();
function dG(t, e) {
  e === void 0 && (e = {});
  var n = this,
    r = 4,
    i = !1;
  if (typeof e.margin != 'object') {
    var o = e.margin || -1;
    this.margin = { left: o, right: o, top: o, bottom: o };
  } else this.margin = e.margin;
  this.scrollWhenOutside = e.scrollWhenOutside || !1;
  var s = {},
    a = sG(s),
    c = uG(),
    u = !1;
  (window.addEventListener('mousemove', a, !1),
    window.addEventListener('touchmove', a, !1),
    isNaN(e.maxSpeed) || (r = e.maxSpeed),
    typeof r != 'object' && (r = { left: r, right: r, top: r, bottom: r }),
    (this.autoScroll = vE(e.autoScroll)),
    (this.syncMove = vE(e.syncMove, !1)),
    (this.destroy = function (w) {
      (window.removeEventListener('mousemove', a, !1),
        window.removeEventListener('touchmove', a, !1),
        window.removeEventListener('mousedown', M, !1),
        window.removeEventListener('touchstart', M, !1),
        window.removeEventListener('mouseup', A, !1),
        window.removeEventListener('touchend', A, !1),
        window.removeEventListener('pointerup', A, !1),
        window.removeEventListener('mouseleave', O, !1),
        window.removeEventListener('mousemove', Z, !1),
        window.removeEventListener('touchmove', Z, !1),
        window.removeEventListener('scroll', D, !0),
        (t = []),
        w && N());
    }),
    (this.add = function () {
      for (var w = [], I = arguments.length; I--; ) w[I] = arguments[I];
      return (iG.apply(void 0, [t].concat(w)), this);
    }),
    (this.remove = function () {
      for (var w = [], I = arguments.length; I--; ) w[I] = arguments[I];
      return oG.apply(void 0, [t].concat(w));
    }));
  var d = null,
    p;
  (Object.prototype.toString.call(t) !== '[object Array]' && (t = [t]),
    (function (w) {
      ((t = []),
        w.forEach(function (I) {
          I === window ? (d = window) : n.add(I);
        }));
    })(t),
    Object.defineProperties(this, {
      down: {
        get: function () {
          return u;
        },
      },
      maxSpeed: {
        get: function () {
          return r;
        },
      },
      point: {
        get: function () {
          return s;
        },
      },
      scrolling: {
        get: function () {
          return i;
        },
      },
    }));
  var v = null,
    m;
  (window.addEventListener('mousedown', M, !1),
    window.addEventListener('touchstart', M, !1),
    window.addEventListener('mouseup', A, !1),
    window.addEventListener('touchend', A, !1),
    window.addEventListener('pointerup', A, !1),
    window.addEventListener('mousemove', Z, !1),
    window.addEventListener('touchmove', Z, !1),
    window.addEventListener('mouseleave', O, !1),
    window.addEventListener('scroll', D, !0));
  function D(w) {
    for (var I = 0; I < t.length; I++)
      if (t[I] === w.target) {
        i = !0;
        break;
      }
    i &&
      eu(function () {
        return (i = !1);
      });
  }
  function M() {
    u = !0;
  }
  function A() {
    ((u = !1), N());
  }
  function N() {
    (ka(m), ka(p));
  }
  function O() {
    u = !1;
  }
  function F(w) {
    if (!w) return null;
    if (v === w || yE(t, w)) return w;
    for (; (w = w.parentNode); ) if (yE(t, w)) return w;
    return null;
  }
  function z() {
    for (var w = null, I = 0; I < t.length; I++) hN(s, t[I]) && (w = t[I]);
    return w;
  }
  function Z(w) {
    if (n.autoScroll() && !w.dispatched) {
      var I = w.target,
        E = document.body;
      (v && !hN(s, v) && (n.scrollWhenOutside || (v = null)),
        I && I.parentNode === E ? (I = z()) : ((I = F(I)), I || (I = z())),
        I && I !== v && (v = I),
        d && (ka(p), (p = eu(q))),
        v && (ka(m), (m = eu(T))));
    }
  }
  function q() {
    (y(d), ka(p), (p = eu(q)));
  }
  function T() {
    v && (y(v), ka(m), (m = eu(T)));
  }
  function y(w) {
    var I = mN(w),
      E,
      Ae;
    (s.x < I.left + n.margin.left
      ? (E = Math.floor(Math.max(-1, (s.x - I.left) / n.margin.left - 1) * n.maxSpeed.left))
      : s.x > I.right - n.margin.right
        ? (E = Math.ceil(Math.min(1, (s.x - I.right) / n.margin.right + 1) * n.maxSpeed.right))
        : (E = 0),
      s.y < I.top + n.margin.top
        ? (Ae = Math.floor(Math.max(-1, (s.y - I.top) / n.margin.top - 1) * n.maxSpeed.top))
        : s.y > I.bottom - n.margin.bottom
          ? (Ae = Math.ceil(
              Math.min(1, (s.y - I.bottom) / n.margin.bottom + 1) * n.maxSpeed.bottom
            ))
          : (Ae = 0),
      n.syncMove() &&
        c.dispatch(w, {
          pageX: s.pageX + E,
          pageY: s.pageY + Ae,
          clientX: s.x + E,
          clientY: s.y + Ae,
        }),
      setTimeout(function () {
        (Ae && _(w, Ae), E && b(w, E));
      }));
  }
  function _(w, I) {
    w === window ? window.scrollTo(w.pageXOffset, w.pageYOffset + I) : (w.scrollTop += I);
  }
  function b(w, I) {
    w === window ? window.scrollTo(w.pageXOffset + I, w.pageYOffset) : (w.scrollLeft += I);
  }
}
function hG(t, e) {
  return new dG(t, e);
}
function hN(t, e, n) {
  return n ? t.y > n.top && t.y < n.bottom && t.x > n.left && t.x < n.right : cG(t, e);
}
var gN = hG;
function EE(t, e, n) {
  n && n.split(' ').forEach((r) => t.addClass(e.nativeElement, r));
}
function Ip(t, e, n) {
  n && n.split(' ').forEach((r) => t.removeClass(e.nativeElement, r));
}
var yN = (() => {
    class t {
      constructor() {
        this.currentDrag = new Te();
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' })),
      t
    );
  })(),
  _N = (() => {
    class t {
      constructor(n) {
        this.elementRef = n;
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(Je));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlDraggableScrollContainer', '']],
      })),
      t
    );
  })(),
  Dp = (() => {
    class t {
      constructor(n, r, i, o, s, a, c) {
        ((this.element = n),
          (this.renderer = r),
          (this.draggableHelper = i),
          (this.zone = o),
          (this.vcr = s),
          (this.scrollContainer = a),
          (this.document = c),
          (this.dragAxis = { x: !0, y: !0 }),
          (this.dragSnapGrid = {}),
          (this.ghostDragEnabled = !0),
          (this.showOriginalElementWhileDragging = !1),
          (this.dragCursor = ''),
          (this.autoScroll = { margin: 20 }),
          (this.dragPointerDown = new K()),
          (this.dragStart = new K()),
          (this.ghostElementCreated = new K()),
          (this.dragging = new K()),
          (this.dragEnd = new K()),
          (this.pointerDown$ = new Te()),
          (this.pointerMove$ = new Te()),
          (this.pointerUp$ = new Te()),
          (this.eventListenerSubscriptions = {}),
          (this.destroy$ = new Te()),
          (this.timeLongPress = { timerBegin: 0, timerEnd: 0 }));
      }
      ngOnInit() {
        this.checkEventListeners();
        let n = this.pointerDown$.pipe(
          Ke(() => this.canDrag()),
          We((r) => {
            r.event.stopPropagation && !this.scrollContainer && r.event.stopPropagation();
            let i = this.renderer.createElement('style');
            (this.renderer.setAttribute(i, 'type', 'text/css'),
              this.renderer.appendChild(
                i,
                this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)
              ),
              requestAnimationFrame(() => {
                this.document.head.appendChild(i);
              }));
            let o = this.getScrollPosition(),
              s = new he((m) => {
                let D = this.scrollContainer
                  ? this.scrollContainer.elementRef.nativeElement
                  : 'window';
                return this.renderer.listen(D, 'scroll', (M) => m.next(M));
              }).pipe(
                So(o),
                ie(() => this.getScrollPosition())
              ),
              a = new Te(),
              c = new Rc();
            this.dragPointerDown.observers.length > 0 &&
              this.zone.run(() => {
                this.dragPointerDown.next({ x: 0, y: 0 });
              });
            let u = Rn(this.pointerUp$, this.pointerDown$, c, this.destroy$).pipe(Nn()),
              d = Ls([this.pointerMove$, s]).pipe(
                ie(([m, D]) => ({
                  currentDrag$: a,
                  transformX: m.clientX - r.clientX,
                  transformY: m.clientY - r.clientY,
                  clientX: m.clientX,
                  clientY: m.clientY,
                  scrollLeft: D.left,
                  scrollTop: D.top,
                  target: m.event.target,
                })),
                ie(
                  (m) => (
                    this.dragSnapGrid.x &&
                      (m.transformX =
                        Math.round(m.transformX / this.dragSnapGrid.x) * this.dragSnapGrid.x),
                    this.dragSnapGrid.y &&
                      (m.transformY =
                        Math.round(m.transformY / this.dragSnapGrid.y) * this.dragSnapGrid.y),
                    m
                  )
                ),
                ie(
                  (m) => (
                    this.dragAxis.x || (m.transformX = 0),
                    this.dragAxis.y || (m.transformY = 0),
                    m
                  )
                ),
                ie((m) => {
                  let D = m.scrollLeft - o.left,
                    M = m.scrollTop - o.top;
                  return ve(U({}, m), {
                    x: m.transformX + D,
                    y: m.transformY + M,
                  });
                }),
                Ke(
                  ({ x: m, y: D, transformX: M, transformY: A }) =>
                    !this.validateDrag ||
                    this.validateDrag({
                      x: m,
                      y: D,
                      transform: { x: M, y: A },
                    })
                ),
                un(u),
                Nn()
              ),
              p = d.pipe(Bt(1), Nn()),
              v = d.pipe(Pi(1), Nn());
            return (
              p.subscribe(({ clientX: m, clientY: D, x: M, y: A }) => {
                if (
                  (this.dragStart.observers.length > 0 &&
                    this.zone.run(() => {
                      this.dragStart.next({ cancelDrag$: c });
                    }),
                  (this.scroller = gN(
                    [
                      this.scrollContainer
                        ? this.scrollContainer.elementRef.nativeElement
                        : this.document.defaultView,
                    ],
                    ve(U({}, this.autoScroll), {
                      autoScroll() {
                        return !0;
                      },
                    })
                  )),
                  EE(this.renderer, this.element, this.dragActiveClass),
                  this.ghostDragEnabled)
                ) {
                  let N = this.element.nativeElement.getBoundingClientRect(),
                    O = this.element.nativeElement.cloneNode(!0);
                  if (
                    (this.showOriginalElementWhileDragging ||
                      this.renderer.setStyle(this.element.nativeElement, 'visibility', 'hidden'),
                    this.ghostElementAppendTo
                      ? this.ghostElementAppendTo.appendChild(O)
                      : this.element.nativeElement.parentNode.insertBefore(
                          O,
                          this.element.nativeElement.nextSibling
                        ),
                    (this.ghostElement = O),
                    (this.document.body.style.cursor = this.dragCursor),
                    this.setElementStyles(O, {
                      position: 'fixed',
                      top: `${N.top}px`,
                      left: `${N.left}px`,
                      width: `${N.width}px`,
                      height: `${N.height}px`,
                      cursor: this.dragCursor,
                      margin: '0',
                      willChange: 'transform',
                      pointerEvents: 'none',
                    }),
                    this.ghostElementTemplate)
                  ) {
                    let F = this.vcr.createEmbeddedView(this.ghostElementTemplate);
                    ((O.innerHTML = ''),
                      F.rootNodes
                        .filter((z) => z instanceof Node)
                        .forEach((z) => {
                          O.appendChild(z);
                        }),
                      v.subscribe(() => {
                        this.vcr.remove(this.vcr.indexOf(F));
                      }));
                  }
                  (this.ghostElementCreated.observers.length > 0 &&
                    this.zone.run(() => {
                      this.ghostElementCreated.emit({
                        clientX: m - M,
                        clientY: D - A,
                        element: O,
                      });
                    }),
                    v.subscribe(() => {
                      (O.parentElement.removeChild(O),
                        (this.ghostElement = null),
                        this.renderer.setStyle(this.element.nativeElement, 'visibility', ''));
                    }));
                }
                this.draggableHelper.currentDrag.next(a);
              }),
              v
                .pipe(
                  We((m) => {
                    let D = c.pipe(
                      Ig(),
                      Bt(1),
                      ie((M) => ve(U({}, m), { dragCancelled: M > 0 }))
                    );
                    return (c.complete(), D);
                  })
                )
                .subscribe(({ x: m, y: D, dragCancelled: M }) => {
                  (this.scroller.destroy(),
                    this.dragEnd.observers.length > 0 &&
                      this.zone.run(() => {
                        this.dragEnd.next({ x: m, y: D, dragCancelled: M });
                      }),
                    Ip(this.renderer, this.element, this.dragActiveClass),
                    a.complete());
                }),
              Rn(u, v)
                .pipe(Bt(1))
                .subscribe(() => {
                  requestAnimationFrame(() => {
                    this.document.head.removeChild(i);
                  });
                }),
              d
            );
          }),
          Nn()
        );
        Rn(
          n.pipe(
            Bt(1),
            ie((r) => [, r])
          ),
          n.pipe(Bs())
        )
          .pipe(
            Ke(([r, i]) => (r ? r.x !== i.x || r.y !== i.y : !0)),
            ie(([r, i]) => i)
          )
          .subscribe(
            ({
              x: r,
              y: i,
              currentDrag$: o,
              clientX: s,
              clientY: a,
              transformX: c,
              transformY: u,
              target: d,
            }) => {
              (this.dragging.observers.length > 0 &&
                this.zone.run(() => {
                  this.dragging.next({ x: r, y: i });
                }),
                requestAnimationFrame(() => {
                  if (this.ghostElement) {
                    let p = `translate3d(${c}px, ${u}px, 0px)`;
                    this.setElementStyles(this.ghostElement, {
                      transform: p,
                      '-webkit-transform': p,
                      '-ms-transform': p,
                      '-moz-transform': p,
                      '-o-transform': p,
                    });
                  }
                }),
                o.next({
                  clientX: s,
                  clientY: a,
                  dropData: this.dropData,
                  target: d,
                }));
            }
          );
      }
      ngOnChanges(n) {
        n.dragAxis && this.checkEventListeners();
      }
      ngOnDestroy() {
        (this.unsubscribeEventListeners(),
          this.pointerDown$.complete(),
          this.pointerMove$.complete(),
          this.pointerUp$.complete(),
          this.destroy$.next());
      }
      checkEventListeners() {
        let n = this.canDrag(),
          r = Object.keys(this.eventListenerSubscriptions).length > 0;
        n && !r
          ? this.zone.runOutsideAngular(() => {
              ((this.eventListenerSubscriptions.mousedown = this.renderer.listen(
                this.element.nativeElement,
                'mousedown',
                (i) => {
                  this.onMouseDown(i);
                }
              )),
                (this.eventListenerSubscriptions.mouseup = this.renderer.listen(
                  'document',
                  'mouseup',
                  (i) => {
                    this.onMouseUp(i);
                  }
                )),
                (this.eventListenerSubscriptions.touchstart = this.renderer.listen(
                  this.element.nativeElement,
                  'touchstart',
                  (i) => {
                    this.onTouchStart(i);
                  }
                )),
                (this.eventListenerSubscriptions.touchend = this.renderer.listen(
                  'document',
                  'touchend',
                  (i) => {
                    this.onTouchEnd(i);
                  }
                )),
                (this.eventListenerSubscriptions.touchcancel = this.renderer.listen(
                  'document',
                  'touchcancel',
                  (i) => {
                    this.onTouchEnd(i);
                  }
                )),
                (this.eventListenerSubscriptions.mouseenter = this.renderer.listen(
                  this.element.nativeElement,
                  'mouseenter',
                  () => {
                    this.onMouseEnter();
                  }
                )),
                (this.eventListenerSubscriptions.mouseleave = this.renderer.listen(
                  this.element.nativeElement,
                  'mouseleave',
                  () => {
                    this.onMouseLeave();
                  }
                )));
            })
          : !n && r && this.unsubscribeEventListeners();
      }
      onMouseDown(n) {
        n.button === 0 &&
          (this.eventListenerSubscriptions.mousemove ||
            (this.eventListenerSubscriptions.mousemove = this.renderer.listen(
              'document',
              'mousemove',
              (r) => {
                this.pointerMove$.next({
                  event: r,
                  clientX: r.clientX,
                  clientY: r.clientY,
                });
              }
            )),
          this.pointerDown$.next({
            event: n,
            clientX: n.clientX,
            clientY: n.clientY,
          }));
      }
      onMouseUp(n) {
        n.button === 0 &&
          (this.eventListenerSubscriptions.mousemove &&
            (this.eventListenerSubscriptions.mousemove(),
            delete this.eventListenerSubscriptions.mousemove),
          this.pointerUp$.next({
            event: n,
            clientX: n.clientX,
            clientY: n.clientY,
          }));
      }
      onTouchStart(n) {
        let r, i, o;
        if (
          (this.touchStartLongPress &&
            ((this.timeLongPress.timerBegin = Date.now()),
            (i = !1),
            (o = this.hasScrollbar()),
            (r = this.getScrollPosition())),
          !this.eventListenerSubscriptions.touchmove)
        ) {
          let s = Ri(this.document, 'contextmenu').subscribe((c) => {
              c.preventDefault();
            }),
            a = Ri(this.document, 'touchmove', { passive: !1 }).subscribe((c) => {
              (this.touchStartLongPress && !i && o && (i = this.shouldBeginDrag(n, c, r)),
                (!this.touchStartLongPress || !o || i) &&
                  (c.preventDefault(),
                  this.pointerMove$.next({
                    event: c,
                    clientX: c.targetTouches[0].clientX,
                    clientY: c.targetTouches[0].clientY,
                  })));
            });
          this.eventListenerSubscriptions.touchmove = () => {
            (s.unsubscribe(), a.unsubscribe());
          };
        }
        this.pointerDown$.next({
          event: n,
          clientX: n.touches[0].clientX,
          clientY: n.touches[0].clientY,
        });
      }
      onTouchEnd(n) {
        (this.eventListenerSubscriptions.touchmove &&
          (this.eventListenerSubscriptions.touchmove(),
          delete this.eventListenerSubscriptions.touchmove,
          this.touchStartLongPress && this.enableScroll()),
          this.pointerUp$.next({
            event: n,
            clientX: n.changedTouches[0].clientX,
            clientY: n.changedTouches[0].clientY,
          }));
      }
      onMouseEnter() {
        this.setCursor(this.dragCursor);
      }
      onMouseLeave() {
        this.setCursor('');
      }
      canDrag() {
        return this.dragAxis.x || this.dragAxis.y;
      }
      setCursor(n) {
        this.eventListenerSubscriptions.mousemove ||
          this.renderer.setStyle(this.element.nativeElement, 'cursor', n);
      }
      unsubscribeEventListeners() {
        Object.keys(this.eventListenerSubscriptions).forEach((n) => {
          (this.eventListenerSubscriptions[n](), delete this.eventListenerSubscriptions[n]);
        });
      }
      setElementStyles(n, r) {
        Object.keys(r).forEach((i) => {
          this.renderer.setStyle(n, i, r[i]);
        });
      }
      getScrollElement() {
        return this.scrollContainer
          ? this.scrollContainer.elementRef.nativeElement
          : this.document.body;
      }
      getScrollPosition() {
        return this.scrollContainer
          ? {
              top: this.scrollContainer.elementRef.nativeElement.scrollTop,
              left: this.scrollContainer.elementRef.nativeElement.scrollLeft,
            }
          : {
              top: window.pageYOffset || this.document.documentElement.scrollTop,
              left: window.pageXOffset || this.document.documentElement.scrollLeft,
            };
      }
      shouldBeginDrag(n, r, i) {
        let o = this.getScrollPosition(),
          s = { top: Math.abs(o.top - i.top), left: Math.abs(o.left - i.left) },
          a = Math.abs(r.targetTouches[0].clientX - n.touches[0].clientX) - s.left,
          c = Math.abs(r.targetTouches[0].clientY - n.touches[0].clientY) - s.top,
          u = a + c,
          d = this.touchStartLongPress;
        return (
          (u > d.delta || s.top > 0 || s.left > 0) && (this.timeLongPress.timerBegin = Date.now()),
          (this.timeLongPress.timerEnd = Date.now()),
          this.timeLongPress.timerEnd - this.timeLongPress.timerBegin >= d.delay
            ? (this.disableScroll(), !0)
            : !1
        );
      }
      enableScroll() {
        (this.scrollContainer &&
          this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement, 'overflow', ''),
          this.renderer.setStyle(this.document.body, 'overflow', ''));
      }
      disableScroll() {
        (this.scrollContainer &&
          this.renderer.setStyle(
            this.scrollContainer.elementRef.nativeElement,
            'overflow',
            'hidden'
          ),
          this.renderer.setStyle(this.document.body, 'overflow', 'hidden'));
      }
      hasScrollbar() {
        let n = this.getScrollElement(),
          r = n.scrollWidth > n.clientWidth,
          i = n.scrollHeight > n.clientHeight;
        return r || i;
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(Je), k(ut), k(yN), k(Se), k(or), k(_N, 8), k(xt));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlDraggable', '']],
        inputs: {
          dropData: 'dropData',
          dragAxis: 'dragAxis',
          dragSnapGrid: 'dragSnapGrid',
          ghostDragEnabled: 'ghostDragEnabled',
          showOriginalElementWhileDragging: 'showOriginalElementWhileDragging',
          validateDrag: 'validateDrag',
          dragCursor: 'dragCursor',
          dragActiveClass: 'dragActiveClass',
          ghostElementAppendTo: 'ghostElementAppendTo',
          ghostElementTemplate: 'ghostElementTemplate',
          touchStartLongPress: 'touchStartLongPress',
          autoScroll: 'autoScroll',
        },
        outputs: {
          dragPointerDown: 'dragPointerDown',
          dragStart: 'dragStart',
          ghostElementCreated: 'ghostElementCreated',
          dragging: 'dragging',
          dragEnd: 'dragEnd',
        },
        features: [zt],
      })),
      t
    );
  })();
function vN(t, e, n) {
  return t >= n.left && t <= n.right && e >= n.top && e <= n.bottom;
}
var Cp = (() => {
    class t {
      constructor(n, r, i, o, s) {
        ((this.element = n),
          (this.draggableHelper = r),
          (this.zone = i),
          (this.renderer = o),
          (this.scrollContainer = s),
          (this.dragEnter = new K()),
          (this.dragLeave = new K()),
          (this.dragOver = new K()),
          (this.drop = new K()));
      }
      ngOnInit() {
        this.currentDragSubscription = this.draggableHelper.currentDrag.subscribe((n) => {
          EE(this.renderer, this.element, this.dragActiveClass);
          let r = { updateCache: !0 },
            i = this.renderer.listen(
              this.scrollContainer ? this.scrollContainer.elementRef.nativeElement : 'window',
              'scroll',
              () => {
                r.updateCache = !0;
              }
            ),
            o,
            s = n.pipe(
              ie(({ clientX: u, clientY: d, dropData: p, target: v }) => {
                ((o = { clientX: u, clientY: d, dropData: p, target: v }),
                  r.updateCache &&
                    ((r.rect = this.element.nativeElement.getBoundingClientRect()),
                    this.scrollContainer &&
                      (r.scrollContainerRect =
                        this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),
                    (r.updateCache = !1)));
                let m = vN(u, d, r.rect),
                  D =
                    !this.validateDrop ||
                    this.validateDrop({
                      clientX: u,
                      clientY: d,
                      target: v,
                      dropData: p,
                    });
                return r.scrollContainerRect ? m && D && vN(u, d, r.scrollContainerRect) : m && D;
              })
            ),
            a = s.pipe(Cg()),
            c;
          (a.pipe(Ke((u) => u)).subscribe(() => {
            ((c = !0),
              EE(this.renderer, this.element, this.dragOverClass),
              this.dragEnter.observers.length > 0 &&
                this.zone.run(() => {
                  this.dragEnter.next(o);
                }));
          }),
            s.pipe(Ke((u) => u)).subscribe(() => {
              this.dragOver.observers.length > 0 &&
                this.zone.run(() => {
                  this.dragOver.next(o);
                });
            }),
            a
              .pipe(
                Bs(),
                Ke(([u, d]) => u && !d)
              )
              .subscribe(() => {
                ((c = !1),
                  Ip(this.renderer, this.element, this.dragOverClass),
                  this.dragLeave.observers.length > 0 &&
                    this.zone.run(() => {
                      this.dragLeave.next(o);
                    }));
              }),
            n.subscribe({
              complete: () => {
                (i(),
                  Ip(this.renderer, this.element, this.dragActiveClass),
                  c &&
                    (Ip(this.renderer, this.element, this.dragOverClass),
                    this.drop.observers.length > 0 &&
                      this.zone.run(() => {
                        this.drop.next(o);
                      })));
              },
            }));
        });
      }
      ngOnDestroy() {
        this.currentDragSubscription && this.currentDragSubscription.unsubscribe();
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(Je), k(yN), k(Se), k(ut), k(_N, 8));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlDroppable', '']],
        inputs: {
          dragOverClass: 'dragOverClass',
          dragActiveClass: 'dragActiveClass',
          validateDrop: 'validateDrop',
        },
        outputs: {
          dragEnter: 'dragEnter',
          dragLeave: 'dragLeave',
          dragOver: 'dragOver',
          drop: 'drop',
        },
      })),
      t
    );
  })(),
  nu = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵmod = Dt({ type: t })),
      (t.ɵinj = It({})),
      t
    );
  })();
var Pa = (function (t) {
  return (
    (t[(t.State = 0)] = 'State'),
    (t[(t.Transition = 1)] = 'Transition'),
    (t[(t.Sequence = 2)] = 'Sequence'),
    (t[(t.Group = 3)] = 'Group'),
    (t[(t.Animate = 4)] = 'Animate'),
    (t[(t.Keyframes = 5)] = 'Keyframes'),
    (t[(t.Style = 6)] = 'Style'),
    (t[(t.Trigger = 7)] = 'Trigger'),
    (t[(t.Reference = 8)] = 'Reference'),
    (t[(t.AnimateChild = 9)] = 'AnimateChild'),
    (t[(t.AnimateRef = 10)] = 'AnimateRef'),
    (t[(t.Query = 11)] = 'Query'),
    (t[(t.Stagger = 12)] = 'Stagger'),
    t
  );
})(Pa || {});
function wN(t, e) {
  return { type: Pa.Trigger, name: t, definitions: e, options: {} };
}
function IE(t, e = null) {
  return { type: Pa.Animate, styles: e, timings: t };
}
function DE(t) {
  return { type: Pa.Style, styles: t, offset: null };
}
function CE(t, e, n) {
  return { type: Pa.State, name: t, styles: e, options: n };
}
function bE(t, e, n = null) {
  return { type: Pa.Transition, expr: t, animation: e, options: n };
}
var as =
  typeof window > 'u'
    ? !1
    : 'ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;
function pG(t) {
  let e = t.cloneNode(!0),
    n = e.querySelectorAll('[id]'),
    r = t.nodeName.toLowerCase();
  return (
    e.removeAttribute('id'),
    n.forEach((i) => {
      i.removeAttribute('id');
    }),
    r === 'canvas' ? DN(t, e) : (r === 'input' || r === 'select' || r === 'textarea') && IN(t, e),
    EN('canvas', t, e, DN),
    EN('input, textarea, select', t, e, IN),
    e
  );
}
function EN(t, e, n, r) {
  let i = e.querySelectorAll(t);
  if (i.length) {
    let o = n.querySelectorAll(t);
    for (let s = 0; s < i.length; s++) r(i[s], o[s]);
  }
}
var mG = 0;
function IN(t, e) {
  (e.type !== 'file' && (e.value = t.value),
    e.type === 'radio' && e.name && (e.name = `mat-clone-${e.name}-${mG++}`));
}
function DN(t, e) {
  let n = e.getContext('2d');
  if (n)
    try {
      n.drawImage(t, 0, 0);
    } catch {}
}
function CN(t, e, n, r) {
  let i = { top: t.top, bottom: t.bottom, left: t.left, right: t.right };
  return (
    e.top && (i.top += r),
    e.bottom && (i.bottom += r),
    e.left && (i.left += n),
    e.right && (i.right += n),
    (i.height = i.bottom - i.top),
    (i.width = i.right - i.left),
    i
  );
}
function gG(t, e) {
  let n = 0,
    r = 0,
    i = t.nativeElement.style,
    s = ['transform', '-ms-transform', '-moz-transform', '-o-transform']
      .map((a) => i[a])
      .find((a) => !!a);
  if (
    (s &&
      s.includes('translate') &&
      ((n = s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/, '$1')),
      (r = s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/, '$2'))),
    e === 'absolute')
  )
    return {
      height: t.nativeElement.offsetHeight,
      width: t.nativeElement.offsetWidth,
      top: t.nativeElement.offsetTop - r,
      bottom: t.nativeElement.offsetHeight + t.nativeElement.offsetTop - r,
      left: t.nativeElement.offsetLeft - n,
      right: t.nativeElement.offsetWidth + t.nativeElement.offsetLeft - n,
    };
  {
    let a = t.nativeElement.getBoundingClientRect();
    return {
      height: a.height,
      width: a.width,
      top: a.top - r,
      bottom: a.bottom - r,
      left: a.left - n,
      right: a.right - n,
      scrollTop: t.nativeElement.scrollTop,
      scrollLeft: t.nativeElement.scrollLeft,
    };
  }
}
var bN = Object.freeze({
  topLeft: 'nw-resize',
  topRight: 'ne-resize',
  bottomLeft: 'sw-resize',
  bottomRight: 'se-resize',
  leftOrRight: 'col-resize',
  topOrBottom: 'row-resize',
});
function TN(t, e) {
  return t.left && t.top
    ? e.topLeft
    : t.right && t.top
      ? e.topRight
      : t.left && t.bottom
        ? e.bottomLeft
        : t.right && t.bottom
          ? e.bottomRight
          : t.left || t.right
            ? e.leftOrRight
            : t.top || t.bottom
              ? e.topOrBottom
              : '';
}
function bp({ edges: t, initialRectangle: e, newRectangle: n }) {
  let r = {};
  return (
    Object.keys(t).forEach((i) => {
      r[i] = (n[i] || 0) - (e[i] || 0);
    }),
    r
  );
}
var SN = 'resize-active',
  vG = 'resize-ghost-element',
  yG = 50,
  SE = (() => {
    class t {
      constructor(n, r, i, o) {
        ((this.platformId = n),
          (this.renderer = r),
          (this.elm = i),
          (this.zone = o),
          (this.enableGhostResize = !1),
          (this.resizeSnapGrid = {}),
          (this.resizeCursors = bN),
          (this.ghostElementPositioning = 'fixed'),
          (this.allowNegativeResizes = !1),
          (this.mouseMoveThrottleMS = yG),
          (this.resizeStart = new K()),
          (this.resizing = new K()),
          (this.resizeEnd = new K()),
          (this.mouseup = new Te()),
          (this.mousedown = new Te()),
          (this.mousemove = new Te()),
          (this.destroy$ = new Te()),
          (this.pointerEventListeners = TE.getInstance(r, o)));
      }
      ngOnInit() {
        let n = Rn(this.pointerEventListeners.pointerDown, this.mousedown),
          r = Rn(this.pointerEventListeners.pointerMove, this.mousemove).pipe(
            tt(({ event: u }) => {
              o && u.cancelable && u.preventDefault();
            }),
            Nn()
          ),
          i = Rn(this.pointerEventListeners.pointerUp, this.mouseup),
          o,
          s = () => {
            o &&
              o.clonedNode &&
              (this.elm.nativeElement.parentElement.removeChild(o.clonedNode),
              this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'inherit'));
          },
          a = () => U(U({}, bN), this.resizeCursors);
        (n
          .pipe(
            We((u) => {
              function d(m) {
                return {
                  clientX: m.clientX - u.clientX,
                  clientY: m.clientY - u.clientY,
                };
              }
              let p = () => {
                let m = { x: 1, y: 1 };
                return (
                  o &&
                    (this.resizeSnapGrid.left && o.edges.left
                      ? (m.x = +this.resizeSnapGrid.left)
                      : this.resizeSnapGrid.right &&
                        o.edges.right &&
                        (m.x = +this.resizeSnapGrid.right),
                    this.resizeSnapGrid.top && o.edges.top
                      ? (m.y = +this.resizeSnapGrid.top)
                      : this.resizeSnapGrid.bottom &&
                        o.edges.bottom &&
                        (m.y = +this.resizeSnapGrid.bottom)),
                  m
                );
              };
              function v(m, D) {
                return {
                  x: Math.ceil(m.clientX / D.x),
                  y: Math.ceil(m.clientY / D.y),
                };
              }
              return Rn(r.pipe(Bt(1)).pipe(ie((m) => [, m])), r.pipe(Bs()))
                .pipe(ie(([m, D]) => [m && d(m), d(D)]))
                .pipe(
                  Ke(([m, D]) => {
                    if (!m) return !0;
                    let M = p(),
                      A = v(m, M),
                      N = v(D, M);
                    return A.x !== N.x || A.y !== N.y;
                  })
                )
                .pipe(
                  ie(([, m]) => {
                    let D = p();
                    return {
                      clientX: Math.round(m.clientX / D.x) * D.x,
                      clientY: Math.round(m.clientY / D.y) * D.y,
                    };
                  })
                )
                .pipe(un(Rn(i, n)));
            })
          )
          .pipe(Ke(() => !!o))
          .pipe(ie(({ clientX: u, clientY: d }) => CN(o.startingRect, o.edges, u, d)))
          .pipe(
            Ke(
              (u) =>
                this.allowNegativeResizes || !!(u.height && u.width && u.height > 0 && u.width > 0)
            )
          )
          .pipe(
            Ke((u) =>
              this.validateResize
                ? this.validateResize({
                    rectangle: u,
                    edges: bp({
                      edges: o.edges,
                      initialRectangle: o.startingRect,
                      newRectangle: u,
                    }),
                  })
                : !0
            ),
            un(this.destroy$)
          )
          .subscribe((u) => {
            (o &&
              o.clonedNode &&
              (this.renderer.setStyle(o.clonedNode, 'height', `${u.height}px`),
              this.renderer.setStyle(o.clonedNode, 'width', `${u.width}px`),
              this.renderer.setStyle(o.clonedNode, 'top', `${u.top}px`),
              this.renderer.setStyle(o.clonedNode, 'left', `${u.left}px`)),
              this.resizing.observers.length > 0 &&
                this.zone.run(() => {
                  this.resizing.emit({
                    edges: bp({
                      edges: o.edges,
                      initialRectangle: o.startingRect,
                      newRectangle: u,
                    }),
                    rectangle: u,
                  });
                }),
              (o.currentRect = u));
          }),
          n
            .pipe(
              ie(({ edges: u }) => u || {}),
              Ke((u) => Object.keys(u).length > 0),
              un(this.destroy$)
            )
            .subscribe((u) => {
              o && s();
              let d = gG(this.elm, this.ghostElementPositioning);
              o = { edges: u, startingRect: d, currentRect: d };
              let p = a(),
                v = TN(o.edges, p);
              (this.renderer.setStyle(document.body, 'cursor', v),
                this.setElementClass(this.elm, SN, !0),
                this.enableGhostResize &&
                  ((o.clonedNode = pG(this.elm.nativeElement)),
                  this.elm.nativeElement.parentElement.appendChild(o.clonedNode),
                  this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'hidden'),
                  this.renderer.setStyle(o.clonedNode, 'position', this.ghostElementPositioning),
                  this.renderer.setStyle(o.clonedNode, 'left', `${o.startingRect.left}px`),
                  this.renderer.setStyle(o.clonedNode, 'top', `${o.startingRect.top}px`),
                  this.renderer.setStyle(o.clonedNode, 'height', `${o.startingRect.height}px`),
                  this.renderer.setStyle(o.clonedNode, 'width', `${o.startingRect.width}px`),
                  this.renderer.setStyle(o.clonedNode, 'cursor', TN(o.edges, p)),
                  this.renderer.addClass(o.clonedNode, vG),
                  (o.clonedNode.scrollTop = o.startingRect.scrollTop),
                  (o.clonedNode.scrollLeft = o.startingRect.scrollLeft)),
                this.resizeStart.observers.length > 0 &&
                  this.zone.run(() => {
                    this.resizeStart.emit({
                      edges: bp({
                        edges: u,
                        initialRectangle: d,
                        newRectangle: d,
                      }),
                      rectangle: CN(d, {}, 0, 0),
                    });
                  }));
            }),
          i.pipe(un(this.destroy$)).subscribe(() => {
            o &&
              (this.renderer.removeClass(this.elm.nativeElement, SN),
              this.renderer.setStyle(document.body, 'cursor', ''),
              this.renderer.setStyle(this.elm.nativeElement, 'cursor', ''),
              this.resizeEnd.observers.length > 0 &&
                this.zone.run(() => {
                  this.resizeEnd.emit({
                    edges: bp({
                      edges: o.edges,
                      initialRectangle: o.startingRect,
                      newRectangle: o.currentRect,
                    }),
                    rectangle: o.currentRect,
                  });
                }),
              s(),
              (o = null));
          }));
      }
      ngOnDestroy() {
        (JA(this.platformId) && this.renderer.setStyle(document.body, 'cursor', ''),
          this.mousedown.complete(),
          this.mouseup.complete(),
          this.mousemove.complete(),
          this.destroy$.next());
      }
      setElementClass(n, r, i) {
        i
          ? this.renderer.addClass(n.nativeElement, r)
          : this.renderer.removeClass(n.nativeElement, r);
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(hn), k(ut), k(Je), k(Se));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlResizable', '']],
        inputs: {
          validateResize: 'validateResize',
          enableGhostResize: 'enableGhostResize',
          resizeSnapGrid: 'resizeSnapGrid',
          resizeCursors: 'resizeCursors',
          ghostElementPositioning: 'ghostElementPositioning',
          allowNegativeResizes: 'allowNegativeResizes',
          mouseMoveThrottleMS: 'mouseMoveThrottleMS',
        },
        outputs: {
          resizeStart: 'resizeStart',
          resizing: 'resizing',
          resizeEnd: 'resizeEnd',
        },
        exportAs: ['mwlResizable'],
      })),
      t
    );
  })(),
  TE = class t {
    constructor(e, n) {
      ((this.pointerDown = new he((r) => {
        let i, o;
        return (
          n.runOutsideAngular(() => {
            ((i = e.listen('document', 'mousedown', (s) => {
              r.next({ clientX: s.clientX, clientY: s.clientY, event: s });
            })),
              as &&
                (o = e.listen('document', 'touchstart', (s) => {
                  r.next({
                    clientX: s.touches[0].clientX,
                    clientY: s.touches[0].clientY,
                    event: s,
                  });
                })));
          }),
          () => {
            (i(), as && o());
          }
        );
      }).pipe(Nn())),
        (this.pointerMove = new he((r) => {
          let i, o;
          return (
            n.runOutsideAngular(() => {
              ((i = e.listen('document', 'mousemove', (s) => {
                r.next({ clientX: s.clientX, clientY: s.clientY, event: s });
              })),
                as &&
                  (o = e.listen('document', 'touchmove', (s) => {
                    r.next({
                      clientX: s.targetTouches[0].clientX,
                      clientY: s.targetTouches[0].clientY,
                      event: s,
                    });
                  })));
            }),
            () => {
              (i(), as && o());
            }
          );
        }).pipe(Nn())),
        (this.pointerUp = new he((r) => {
          let i, o, s;
          return (
            n.runOutsideAngular(() => {
              ((i = e.listen('document', 'mouseup', (a) => {
                r.next({ clientX: a.clientX, clientY: a.clientY, event: a });
              })),
                as &&
                  ((o = e.listen('document', 'touchend', (a) => {
                    r.next({
                      clientX: a.changedTouches[0].clientX,
                      clientY: a.changedTouches[0].clientY,
                      event: a,
                    });
                  })),
                  (s = e.listen('document', 'touchcancel', (a) => {
                    r.next({
                      clientX: a.changedTouches[0].clientX,
                      clientY: a.changedTouches[0].clientY,
                      event: a,
                    });
                  }))));
            }),
            () => {
              (i(), as && (o(), s()));
            }
          );
        }).pipe(Nn())));
    }
    static getInstance(e, n) {
      return (t.instance || (t.instance = new t(e, n)), t.instance);
    }
  },
  AN = (() => {
    class t {
      constructor(n, r, i, o) {
        ((this.renderer = n),
          (this.element = r),
          (this.zone = i),
          (this.resizableDirective = o),
          (this.resizeEdges = {}),
          (this.eventListeners = {}),
          (this.destroy$ = new Te()));
      }
      ngOnInit() {
        this.zone.runOutsideAngular(() => {
          (this.listenOnTheHost('mousedown').subscribe((n) => {
            this.onMousedown(n, n.clientX, n.clientY);
          }),
            this.listenOnTheHost('mouseup').subscribe((n) => {
              this.onMouseup(n.clientX, n.clientY);
            }),
            as &&
              (this.listenOnTheHost('touchstart').subscribe((n) => {
                this.onMousedown(n, n.touches[0].clientX, n.touches[0].clientY);
              }),
              Rn(this.listenOnTheHost('touchend'), this.listenOnTheHost('touchcancel')).subscribe(
                (n) => {
                  this.onMouseup(n.changedTouches[0].clientX, n.changedTouches[0].clientY);
                }
              )));
        });
      }
      ngOnDestroy() {
        (this.destroy$.next(), this.unsubscribeEventListeners());
      }
      onMousedown(n, r, i) {
        (n.cancelable && n.preventDefault(),
          this.eventListeners.touchmove ||
            (this.eventListeners.touchmove = this.renderer.listen(
              this.element.nativeElement,
              'touchmove',
              (o) => {
                this.onMousemove(o, o.targetTouches[0].clientX, o.targetTouches[0].clientY);
              }
            )),
          this.eventListeners.mousemove ||
            (this.eventListeners.mousemove = this.renderer.listen(
              this.element.nativeElement,
              'mousemove',
              (o) => {
                this.onMousemove(o, o.clientX, o.clientY);
              }
            )),
          this.resizable.mousedown.next({
            clientX: r,
            clientY: i,
            edges: this.resizeEdges,
          }));
      }
      onMouseup(n, r) {
        (this.unsubscribeEventListeners(),
          this.resizable.mouseup.next({
            clientX: n,
            clientY: r,
            edges: this.resizeEdges,
          }));
      }
      get resizable() {
        return this.resizableDirective || this.resizableContainer;
      }
      onMousemove(n, r, i) {
        this.resizable.mousemove.next({
          clientX: r,
          clientY: i,
          edges: this.resizeEdges,
          event: n,
        });
      }
      unsubscribeEventListeners() {
        Object.keys(this.eventListeners).forEach((n) => {
          (this.eventListeners[n](), delete this.eventListeners[n]);
        });
      }
      listenOnTheHost(n) {
        return Ri(this.element.nativeElement, n).pipe(un(this.destroy$));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(ut), k(Je), k(Se), k(SE, 8));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlResizeHandle', '']],
        inputs: {
          resizeEdges: 'resizeEdges',
          resizableContainer: 'resizableContainer',
        },
      })),
      t
    );
  })(),
  AE = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵmod = Dt({ type: t })),
      (t.ɵinj = It({})),
      t
    );
  })();
var wG = (t, e) => ({ event: t, trackByActionId: e }),
  EG = (t) => ({ action: t });
function IG(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'a', 5),
      Qe(1, 'calendarA11y'),
      ae('mwlClick', function (i) {
        let o = J(n).$implicit,
          s = B(2).event;
        return ee(o.onClick({ event: s, sourceEvent: i }));
      })('mwlKeydownEnter', function (i) {
        let o = J(n).$implicit,
          s = B(2).event;
        return ee(o.onClick({ event: s, sourceEvent: i }));
      }),
      P());
  }
  if (t & 2) {
    let n = e.$implicit;
    (L('ngClass', n.cssClass)('innerHtml', n.label, Rh),
      qt('aria-label', fn(1, 3, $o(6, EG, n), 'actionButtonLabel')));
  }
}
function DG(t, e) {
  if ((t & 1 && (R(0, 'span', 3), ne(1, IG, 2, 8, 'a', 4), P()), t & 2)) {
    let n = B(),
      r = n.event,
      i = n.trackByActionId;
    (V(), L('ngForOf', r.actions)('ngForTrackBy', i));
  }
}
function CG(t, e) {
  if ((t & 1 && ne(0, DG, 2, 2, 'span', 2), t & 2)) {
    let n = e.event;
    L('ngIf', n.actions);
  }
}
function bG(t, e) {}
var TG = (t, e) => ({ event: t, view: e }),
  Oa = () => ({});
function SG(t, e) {
  if ((t & 1 && (ue(0, 'span', 2), Qe(1, 'calendarEventTitle'), Qe(2, 'calendarA11y')), t & 2)) {
    let n = e.event,
      r = e.view;
    (L('innerHTML', xr(1, 2, n.title, r, n), Rh),
      qt('aria-hidden', fn(2, 6, sn(9, Oa), 'hideEventTitle')));
  }
}
function AG(t, e) {}
var MG = (t, e, n) => ({ contents: t, placement: e, event: n });
function xG(t, e) {
  if ((t & 1 && (R(0, 'div', 2), ue(1, 'div', 3)(2, 'div', 4), P()), t & 2)) {
    let n = e.contents,
      r = e.placement;
    (L('ngClass', 'cal-tooltip-' + r), V(2), L('innerHtml', n, Rh));
  }
}
function RG(t, e) {}
var NG = (t, e, n, r, i, o, s, a, c, u, d, p) => ({
    day: t,
    openDay: e,
    locale: n,
    tooltipPlacement: r,
    highlightDay: i,
    unhighlightDay: o,
    eventClicked: s,
    tooltipTemplate: a,
    tooltipAppendToBody: c,
    tooltipDelay: u,
    trackByEventId: d,
    validateDrag: p,
  }),
  kG = (t, e) => ({ day: t, locale: e }),
  PE = (t) => ({ backgroundColor: t }),
  PG = (t, e) => ({ event: t, draggedFrom: e }),
  ru = (t, e) => ({ x: t, y: e }),
  Ap = () => ({ delay: 300, delta: 30 });
function OG(t, e) {
  if ((t & 1 && (R(0, 'span', 7), re(1), P()), t & 2)) {
    let n = B().day;
    (V(), In(n.badgeTotal));
  }
}
function FG(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 10),
      Qe(1, 'calendarEventTitle'),
      Qe(2, 'calendarA11y'),
      ae('mouseenter', function () {
        let i = J(n).$implicit,
          o = B(2).highlightDay;
        return ee(o.emit({ event: i }));
      })('mouseleave', function () {
        let i = J(n).$implicit,
          o = B(2).unhighlightDay;
        return ee(o.emit({ event: i }));
      })('mwlClick', function (i) {
        let o = J(n).$implicit,
          s = B(2).eventClicked;
        return ee(s.emit({ event: o, sourceEvent: i }));
      }),
      P());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B(2),
      i = r.day,
      o = r.tooltipPlacement,
      s = r.tooltipTemplate,
      a = r.tooltipAppendToBody,
      c = r.tooltipDelay,
      u = r.validateDrag;
    (pt('cal-draggable', n.draggable),
      L('ngStyle', $o(22, PE, n.color == null ? null : n.color.primary))(
        'ngClass',
        n == null ? null : n.cssClass
      )('mwlCalendarTooltip', xr(1, 15, n.title, 'monthTooltip', n))('tooltipPlacement', o)(
        'tooltipEvent',
        n
      )('tooltipTemplate', s)('tooltipAppendToBody', a)('tooltipDelay', c)(
        'dropData',
        Ct(24, PG, n, i)
      )('dragAxis', Ct(27, ru, n.draggable, n.draggable))('validateDrag', u)(
        'touchStartLongPress',
        sn(30, Ap)
      ),
      qt('aria-hidden', fn(2, 19, sn(31, Oa), 'hideMonthCellEvents')));
  }
}
function VG(t, e) {
  if ((t & 1 && (R(0, 'div', 8), ne(1, FG, 3, 32, 'div', 9), P()), t & 2)) {
    let n = B(),
      r = n.day,
      i = n.trackByEventId;
    (V(), L('ngForOf', r.events)('ngForTrackBy', i));
  }
}
function LG(t, e) {
  if (
    (t & 1 &&
      (R(0, 'div', 2),
      Qe(1, 'calendarA11y'),
      R(2, 'span', 3),
      ne(3, OG, 2, 1, 'span', 4),
      R(4, 'span', 5),
      re(5),
      Qe(6, 'calendarDate'),
      P()()(),
      ne(7, VG, 2, 2, 'div', 6)),
    t & 2)
  ) {
    let n = e.day,
      r = e.locale;
    (qt('aria-label', fn(1, 4, Ct(11, kG, n, r), 'monthCell')),
      V(3),
      L('ngIf', n.badgeTotal > 0),
      V(2),
      In(xr(6, 7, n.date, 'monthViewDayNumber', r)),
      V(2),
      L('ngIf', n.events.length > 0));
  }
}
function jG(t, e) {}
var UG = (t, e, n, r, i) => ({
    events: t,
    eventClicked: e,
    isOpen: n,
    trackByEventId: r,
    validateDrag: i,
  }),
  MN = (t, e) => ({ date: t, locale: e }),
  BG = (t) => ({ event: t }),
  kN = (t, e) => ({ event: t, locale: e });
function HG(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 7),
      ue(1, 'span', 8),
      re(2, ' '),
      R(3, 'mwl-calendar-event-title', 9),
      Qe(4, 'calendarA11y'),
      ae('mwlClick', function (i) {
        let o = J(n).$implicit,
          s = B(2).eventClicked;
        return ee(s.emit({ event: o, sourceEvent: i }));
      })('mwlKeydownEnter', function (i) {
        let o = J(n).$implicit,
          s = B(2).eventClicked;
        return ee(s.emit({ event: o, sourceEvent: i }));
      }),
      P(),
      re(5, ' '),
      ue(6, 'mwl-calendar-event-actions', 10),
      P());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B(2).validateDrag,
      i = B();
    (pt('cal-draggable', n.draggable),
      L('ngClass', n == null ? null : n.cssClass)('dropData', $o(16, BG, n))(
        'dragAxis',
        Ct(18, ru, n.draggable, n.draggable)
      )('validateDrag', r)('touchStartLongPress', sn(21, Ap)),
      V(),
      L('ngStyle', $o(22, PE, n.color == null ? null : n.color.primary)),
      V(2),
      L('event', n)('customTemplate', i.eventTitleTemplate),
      qt('aria-label', fn(4, 13, Ct(24, kN, n, i.locale), 'eventDescription')),
      V(3),
      L('event', n)('customTemplate', i.eventActionsTemplate));
  }
}
function $G(t, e) {
  if (
    (t & 1 &&
      (R(0, 'div', 3),
      ue(1, 'span', 4),
      Qe(2, 'calendarA11y'),
      ue(3, 'span', 5),
      Qe(4, 'calendarA11y'),
      ne(5, HG, 7, 27, 'div', 6),
      P()),
    t & 2)
  ) {
    let n = B(),
      r = n.events,
      i = n.trackByEventId,
      o = B();
    (L('@collapse', void 0),
      V(),
      qt('aria-label', fn(2, 5, Ct(11, MN, o.date, o.locale), 'openDayEventsAlert')),
      V(2),
      qt('aria-label', fn(4, 8, Ct(14, MN, o.date, o.locale), 'openDayEventsLandmark')),
      V(2),
      L('ngForOf', r)('ngForTrackBy', i));
  }
}
function zG(t, e) {
  if ((t & 1 && ne(0, $G, 6, 17, 'div', 2), t & 2)) {
    let n = e.isOpen;
    L('ngIf', n);
  }
}
function WG(t, e) {}
var qG = (t, e, n) => ({ days: t, locale: e, trackByWeekDayHeaderDate: n });
function GG(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 4),
      ae('click', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.columnHeaderClicked.emit({ isoDayNumber: o.day, sourceEvent: i }));
      }),
      re(1),
      Qe(2, 'calendarDate'),
      P());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B().locale;
    (pt('cal-past', n.isPast)('cal-today', n.isToday)('cal-future', n.isFuture)(
      'cal-weekend',
      n.isWeekend
    ),
      L('ngClass', n.cssClass),
      V(),
      Dn(' ', xr(2, 10, n.date, 'monthViewColumnHeader', r), ' '));
  }
}
function KG(t, e) {
  if ((t & 1 && (R(0, 'div', 2), ne(1, GG, 3, 14, 'div', 3), P()), t & 2)) {
    let n = e.days,
      r = e.trackByWeekDayHeaderDate;
    (V(), L('ngForOf', n)('ngForTrackBy', r));
  }
}
function YG(t, e) {}
function QG(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'mwl-calendar-month-cell', 7),
      Qe(1, 'calendarA11y'),
      ae('mwlClick', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.dayClicked.emit({ day: o, sourceEvent: i }));
      })('mwlKeydownEnter', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.dayClicked.emit({ day: o, sourceEvent: i }));
      })('highlightDay', function (i) {
        J(n);
        let o = B(2);
        return ee(o.toggleDayHighlight(i.event, !0));
      })('unhighlightDay', function (i) {
        J(n);
        let o = B(2);
        return ee(o.toggleDayHighlight(i.event, !1));
      })('drop', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.eventDropped(o, i.dropData.event, i.dropData.draggedFrom));
      })('eventClicked', function (i) {
        J(n);
        let o = B(2);
        return ee(o.eventClicked.emit({ event: i.event, sourceEvent: i.sourceEvent }));
      }),
      P());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B(2);
    (L('ngClass', n == null ? null : n.cssClass)('day', n)('openDay', r.openDay)(
      'locale',
      r.locale
    )('tooltipPlacement', r.tooltipPlacement)('tooltipAppendToBody', r.tooltipAppendToBody)(
      'tooltipTemplate',
      r.tooltipTemplate
    )('tooltipDelay', r.tooltipDelay)('customTemplate', r.cellTemplate)(
      'ngStyle',
      $o(15, PE, n.backgroundColor)
    )('clickListenerDisabled', r.dayClicked.observers.length === 0),
      qt('tabindex', fn(1, 12, sn(17, Oa), 'monthCellTabIndex')));
  }
}
function XG(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div')(1, 'div', 4),
      ne(2, QG, 2, 18, 'mwl-calendar-month-cell', 5),
      Qe(3, 'slice'),
      P(),
      R(4, 'mwl-calendar-open-day-events', 6),
      ae('eventClicked', function (i) {
        J(n);
        let o = B();
        return ee(o.eventClicked.emit({ event: i.event, sourceEvent: i.sourceEvent }));
      })('drop', function (i) {
        J(n);
        let o = B();
        return ee(o.eventDropped(o.openDay, i.dropData.event, i.dropData.draggedFrom));
      }),
      P()());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B();
    (V(2),
      L('ngForOf', xr(3, 9, r.view.days, n, n + r.view.totalDaysVisibleInWeek))(
        'ngForTrackBy',
        r.trackByDate
      ),
      V(2),
      L('locale', r.locale)('isOpen', r.openRowIndex === n)(
        'events',
        r.openDay == null ? null : r.openDay.events
      )('date', r.openDay == null ? null : r.openDay.date)(
        'customTemplate',
        r.openDayEventsTemplate
      )('eventTitleTemplate', r.eventTitleTemplate)(
        'eventActionsTemplate',
        r.eventActionsTemplate
      ));
  }
}
var ZG = (t, e, n, r, i, o) => ({
  days: t,
  locale: e,
  dayHeaderClicked: n,
  eventDropped: r,
  dragEnter: i,
  trackByWeekDayHeaderDate: o,
});
function JG(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 4),
      ae('mwlClick', function (i) {
        let o = J(n).$implicit,
          s = B().dayHeaderClicked;
        return ee(s.emit({ day: o, sourceEvent: i }));
      })('drop', function (i) {
        let o = J(n).$implicit,
          s = B().eventDropped;
        return ee(s.emit({ event: i.dropData.event, newStart: o.date }));
      })('dragEnter', function () {
        let i = J(n).$implicit,
          o = B().dragEnter;
        return ee(o.emit({ date: i.date }));
      }),
      R(1, 'b'),
      re(2),
      Qe(3, 'calendarDate'),
      P(),
      ue(4, 'br'),
      R(5, 'span'),
      re(6),
      Qe(7, 'calendarDate'),
      P()());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B().locale;
    (pt('cal-past', n.isPast)('cal-today', n.isToday)('cal-future', n.isFuture)(
      'cal-weekend',
      n.isWeekend
    ),
      L('ngClass', n.cssClass),
      V(2),
      In(xr(3, 11, n.date, 'weekViewColumnHeader', r)),
      V(4),
      In(xr(7, 15, n.date, 'weekViewColumnSubHeader', r)));
  }
}
function e6(t, e) {
  if ((t & 1 && (R(0, 'div', 2), ne(1, JG, 8, 19, 'div', 3), P()), t & 2)) {
    let n = e.days,
      r = e.trackByWeekDayHeaderDate;
    (V(), L('ngForOf', n)('ngForTrackBy', r));
  }
}
function t6(t, e) {}
var n6 = (t, e, n, r, i, o, s, a, c) => ({
    weekEvent: t,
    tooltipPlacement: e,
    eventClicked: n,
    tooltipTemplate: r,
    tooltipAppendToBody: i,
    tooltipDisabled: o,
    tooltipDelay: s,
    column: a,
    daysInWeek: c,
  }),
  r6 = (t, e, n) => ({ color: t, backgroundColor: e, borderColor: n });
function i6(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 2),
      Qe(1, 'calendarEventTitle'),
      Qe(2, 'calendarA11y'),
      ae('mwlClick', function (i) {
        let o = J(n).eventClicked;
        return ee(o.emit({ sourceEvent: i }));
      })('mwlKeydownEnter', function (i) {
        let o = J(n).eventClicked;
        return ee(o.emit({ sourceEvent: i }));
      }),
      ue(3, 'mwl-calendar-event-actions', 3),
      re(4, ' '),
      ue(5, 'mwl-calendar-event-title', 4),
      P());
  }
  if (t & 2) {
    let n = e.weekEvent,
      r = e.tooltipPlacement,
      i = e.tooltipTemplate,
      o = e.tooltipAppendToBody,
      s = e.tooltipDisabled,
      a = e.tooltipDelay,
      c = e.daysInWeek,
      u = B();
    (L(
      'ngStyle',
      Hh(
        20,
        r6,
        n.event.color == null ? null : n.event.color.secondaryText,
        n.event.color == null ? null : n.event.color.secondary,
        n.event.color == null ? null : n.event.color.primary
      )
    )(
      'mwlCalendarTooltip',
      s
        ? ''
        : xr(1, 13, n.event.title, c === 1 ? 'dayTooltip' : 'weekTooltip', n.tempEvent || n.event)
    )('tooltipPlacement', r)('tooltipEvent', n.tempEvent || n.event)('tooltipTemplate', i)(
      'tooltipAppendToBody',
      o
    )('tooltipDelay', a),
      qt('aria-label', fn(2, 17, Ct(24, kN, n.tempEvent || n.event, u.locale), 'eventDescription')),
      V(3),
      L('event', n.tempEvent || n.event)('customTemplate', u.eventActionsTemplate),
      V(2),
      L('event', n.tempEvent || n.event)('customTemplate', u.eventTitleTemplate)(
        'view',
        c === 1 ? 'day' : 'week'
      ));
  }
}
function o6(t, e) {}
var s6 = (t, e, n, r, i) => ({
  segment: t,
  locale: e,
  segmentHeight: n,
  isTimeLabel: r,
  daysInWeek: i,
});
function a6(t, e) {
  if ((t & 1 && (R(0, 'div', 4), re(1), Qe(2, 'calendarDate'), P()), t & 2)) {
    let n = B(),
      r = n.segment,
      i = n.locale,
      o = n.daysInWeek;
    (V(), Dn(' ', xr(2, 1, r.displayDate, o === 1 ? 'dayViewHour' : 'weekViewHour', i), ' '));
  }
}
function c6(t, e) {
  if ((t & 1 && (R(0, 'div', 2), Qe(1, 'calendarA11y'), ne(2, a6, 3, 5, 'div', 3), P()), t & 2)) {
    let n = e.segment,
      r = e.segmentHeight,
      i = e.isTimeLabel,
      o = e.daysInWeek;
    (oi('height', r, 'px'),
      pt('cal-hour-start', n.isStart)('cal-after-hour-start', !n.isStart),
      L('ngClass', n.cssClass),
      qt(
        'aria-hidden',
        fn(1, 9, sn(12, Oa), o === 1 ? 'hideDayHourSegment' : 'hideWeekHourSegment')
      ),
      V(2),
      L('ngIf', i));
  }
}
function l6(t, e) {}
var u6 = (t, e, n, r, i, o, s) => ({
  columnDate: t,
  dayStartHour: e,
  dayStartMinute: n,
  dayEndHour: r,
  dayEndMinute: i,
  isVisible: o,
  topPx: s,
});
function d6(t, e) {
  if ((t & 1 && ue(0, 'div', 3), t & 2)) {
    let n = B().topPx;
    oi('top', n, 'px');
  }
}
function h6(t, e) {
  if ((t & 1 && ne(0, d6, 1, 2, 'div', 2), t & 2)) {
    let n = e.isVisible;
    L('ngIf', n);
  }
}
function f6(t, e) {}
var p6 = (t, e) => ({ left: t, right: e }),
  PN = (t, e) => ({ event: t, calendarId: e }),
  m6 = (t) => ({ x: t }),
  g6 = () => ({ left: !0 }),
  v6 = () => ({ right: !0 }),
  y6 = (t, e, n, r) => ({ left: t, right: e, top: n, bottom: r }),
  _6 = () => ({ left: !0, top: !0 }),
  w6 = () => ({ right: !0, bottom: !0 });
function E6(t, e) {
  t & 1 && My(0);
}
function I6(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 17),
      ae('drop', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.eventDropped(i, o.date, !0));
      })('dragEnter', function () {
        let i = J(n).$implicit,
          o = B(2);
        return ee(o.dateDragEnter(i.date));
      }),
      P());
  }
}
function D6(t, e) {
  (t & 1 && ue(0, 'div', 24), t & 2 && L('resizeEdges', sn(1, g6)));
}
function C6(t, e) {
  (t & 1 && ue(0, 'div', 25), t & 2 && L('resizeEdges', sn(1, v6)));
}
function b6(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 20, 3),
      ae('resizeStart', function (i) {
        let o = J(n).$implicit;
        B();
        let s = mt(1),
          a = B(2);
        return ee(a.allDayEventResizeStarted(s, o, i));
      })('resizing', function (i) {
        let o = J(n).$implicit,
          s = B(3);
        return ee(s.allDayEventResizing(o, i, s.dayColumnWidth));
      })('resizeEnd', function () {
        let i = J(n).$implicit,
          o = B(3);
        return ee(o.allDayEventResizeEnded(i));
      })('dragStart', function () {
        let i = J(n).$implicit,
          o = mt(1);
        B();
        let s = mt(1),
          a = B(2);
        return ee(a.dragStarted(s, o, i, !1));
      })('dragging', function () {
        J(n);
        let i = B(3);
        return ee(i.allDayEventDragMove());
      })('dragEnd', function (i) {
        let o = J(n).$implicit,
          s = B(3);
        return ee(s.dragEnded(o, i, s.dayColumnWidth));
      }),
      ne(2, D6, 1, 2, 'div', 21),
      R(3, 'mwl-calendar-week-view-event', 22),
      ae('eventClicked', function (i) {
        let o = J(n).$implicit,
          s = B(3);
        return ee(s.eventClicked.emit({ event: o.event, sourceEvent: i.sourceEvent }));
      }),
      P(),
      ne(4, C6, 1, 2, 'div', 23),
      P());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B(3);
    (oi('width', (100 / r.days.length) * n.span, '%')(
      'margin-left',
      r.rtl ? null : (100 / r.days.length) * n.offset,
      '%'
    )('margin-right', r.rtl ? (100 / r.days.length) * n.offset : null, '%'),
      pt('cal-draggable', n.event.draggable && r.allDayEventResizes.size === 0)(
        'cal-starts-within-week',
        !n.startsBeforeWeek
      )('cal-ends-within-week', !n.endsAfterWeek),
      L('ngClass', n.event == null ? null : n.event.cssClass)('resizeCursors', r.resizeCursors)(
        'resizeSnapGrid',
        Ct(33, p6, r.dayColumnWidth, r.dayColumnWidth)
      )('validateResize', r.validateResize)('dropData', Ct(36, PN, n.event, r.calendarId))(
        'dragAxis',
        Ct(
          39,
          ru,
          n.event.draggable && r.allDayEventResizes.size === 0,
          !r.snapDraggedEvents && n.event.draggable && r.allDayEventResizes.size === 0
        )
      )('dragSnapGrid', r.snapDraggedEvents ? $o(42, m6, r.dayColumnWidth) : sn(44, Oa))(
        'validateDrag',
        r.validateDrag
      )('touchStartLongPress', sn(45, Ap)),
      V(2),
      L(
        'ngIf',
        (n.event == null || n.event.resizable == null ? null : n.event.resizable.beforeStart) &&
          !n.startsBeforeWeek
      ),
      V(),
      L('locale', r.locale)('weekEvent', n)('tooltipPlacement', r.tooltipPlacement)(
        'tooltipTemplate',
        r.tooltipTemplate
      )('tooltipAppendToBody', r.tooltipAppendToBody)('tooltipDelay', r.tooltipDelay)(
        'customTemplate',
        r.eventTemplate
      )('eventTitleTemplate', r.eventTitleTemplate)('eventActionsTemplate', r.eventActionsTemplate)(
        'daysInWeek',
        r.daysInWeek
      ),
      V(),
      L(
        'ngIf',
        (n.event == null || n.event.resizable == null ? null : n.event.resizable.afterEnd) &&
          !n.endsAfterWeek
      ));
  }
}
function T6(t, e) {
  if ((t & 1 && (R(0, 'div', 18, 2), ne(2, b6, 5, 46, 'div', 19), P()), t & 2)) {
    let n = e.$implicit,
      r = B(2);
    (V(2), L('ngForOf', n.row)('ngForTrackBy', r.trackByWeekAllDayEvent));
  }
}
function S6(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 12, 1),
      ae('dragEnter', function () {
        J(n);
        let i = B();
        return ee(i.dragEnter('allDay'));
      })('dragLeave', function () {
        J(n);
        let i = B();
        return ee(i.dragLeave('allDay'));
      }),
      R(2, 'div', 10)(3, 'div', 13),
      ne(4, E6, 1, 0, 'ng-container', 14),
      P(),
      ne(5, I6, 1, 0, 'div', 15),
      P(),
      ne(6, T6, 3, 2, 'div', 16),
      P());
  }
  if (t & 2) {
    let n = B();
    (V(4),
      L('ngTemplateOutlet', n.allDayEventsLabelTemplate),
      V(),
      L('ngForOf', n.days)('ngForTrackBy', n.trackByWeekDayHeaderDate),
      V(),
      L('ngForOf', n.view.allDayEventRows)('ngForTrackBy', n.trackById));
  }
}
function A6(t, e) {
  if ((t & 1 && ue(0, 'mwl-calendar-week-view-hour-segment', 29), t & 2)) {
    let n = e.$implicit,
      r = B(3);
    (oi('height', r.hourSegmentHeight, 'px'),
      L('segment', n)('segmentHeight', r.hourSegmentHeight)('locale', r.locale)(
        'customTemplate',
        r.hourSegmentTemplate
      )('isTimeLabel', !0)('daysInWeek', r.daysInWeek));
  }
}
function M6(t, e) {
  if (
    (t & 1 && (R(0, 'div', 27), ne(1, A6, 1, 8, 'mwl-calendar-week-view-hour-segment', 28), P()),
    t & 2)
  ) {
    let n = e.$implicit,
      r = e.odd,
      i = B(2);
    (pt('cal-hour-odd', r), V(), L('ngForOf', n.segments)('ngForTrackBy', i.trackByHourSegment));
  }
}
function x6(t, e) {
  if ((t & 1 && (R(0, 'div', 13), ne(1, M6, 2, 4, 'div', 26), P()), t & 2)) {
    let n = B();
    (V(), L('ngForOf', n.view.hourColumns[0].hours)('ngForTrackBy', n.trackByHour));
  }
}
function R6(t, e) {
  (t & 1 && ue(0, 'div', 24), t & 2 && L('resizeEdges', sn(1, _6)));
}
function N6(t, e) {}
function k6(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'mwl-calendar-week-view-event', 36),
      ae('eventClicked', function (i) {
        J(n);
        let o = B().$implicit,
          s = B(2);
        return ee(s.eventClicked.emit({ event: o.event, sourceEvent: i.sourceEvent }));
      }),
      P());
  }
  if (t & 2) {
    let n = B().$implicit,
      r = B().$implicit,
      i = B();
    L('locale', i.locale)('weekEvent', n)('tooltipPlacement', i.tooltipPlacement)(
      'tooltipTemplate',
      i.tooltipTemplate
    )('tooltipAppendToBody', i.tooltipAppendToBody)(
      'tooltipDisabled',
      i.dragActive || i.timeEventResizes.size > 0
    )('tooltipDelay', i.tooltipDelay)('customTemplate', i.eventTemplate)(
      'eventTitleTemplate',
      i.eventTitleTemplate
    )('eventActionsTemplate', i.eventActionsTemplate)('column', r)('daysInWeek', i.daysInWeek);
  }
}
function P6(t, e) {
  (t & 1 && ue(0, 'div', 25), t & 2 && L('resizeEdges', sn(1, w6)));
}
function O6(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 34, 3),
      ae('resizeStart', function (i) {
        let o = J(n).$implicit,
          s = B(2),
          a = mt(6);
        return ee(s.timeEventResizeStarted(a, o, i));
      })('resizing', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.timeEventResizing(o, i));
      })('resizeEnd', function () {
        let i = J(n).$implicit,
          o = B(2);
        return ee(o.timeEventResizeEnded(i));
      })('dragStart', function () {
        let i = J(n).$implicit,
          o = mt(1),
          s = B(2),
          a = mt(6);
        return ee(s.dragStarted(a, o, i, !0));
      })('dragging', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.dragMove(o, i));
      })('dragEnd', function (i) {
        let o = J(n).$implicit,
          s = B(2);
        return ee(s.dragEnded(o, i, s.dayColumnWidth, !0));
      }),
      ne(2, R6, 1, 2, 'div', 21)(3, N6, 0, 0, 'ng-template', 35)(
        4,
        k6,
        1,
        12,
        'ng-template',
        null,
        4,
        pn
      )(6, P6, 1, 2, 'div', 23),
      P());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = mt(5),
      i = B(2);
    (oi('top', n.top, 'px')('height', n.height, 'px')('left', n.left, '%')('width', n.width, '%'),
      pt('cal-draggable', n.event.draggable && i.timeEventResizes.size === 0)(
        'cal-starts-within-day',
        !n.startsBeforeDay
      )('cal-ends-within-day', !n.endsAfterDay),
      L('ngClass', n.event.cssClass)('hidden', n.height === 0 && n.width === 0)(
        'resizeCursors',
        i.resizeCursors
      )(
        'resizeSnapGrid',
        wA(
          30,
          y6,
          i.dayColumnWidth,
          i.dayColumnWidth,
          i.eventSnapSize || i.hourSegmentHeight,
          i.eventSnapSize || i.hourSegmentHeight
        )
      )('validateResize', i.validateResize)('allowNegativeResizes', !0)(
        'dropData',
        Ct(35, PN, n.event, i.calendarId)
      )(
        'dragAxis',
        Ct(
          38,
          ru,
          n.event.draggable && i.timeEventResizes.size === 0,
          n.event.draggable && i.timeEventResizes.size === 0
        )
      )(
        'dragSnapGrid',
        i.snapDraggedEvents
          ? Ct(41, ru, i.dayColumnWidth, i.eventSnapSize || i.hourSegmentHeight)
          : sn(44, Oa)
      )('touchStartLongPress', sn(45, Ap))('ghostDragEnabled', !i.snapDraggedEvents)(
        'ghostElementTemplate',
        r
      )('validateDrag', i.validateDrag),
      V(2),
      L(
        'ngIf',
        (n.event == null || n.event.resizable == null ? null : n.event.resizable.beforeStart) &&
          !n.startsBeforeDay
      ),
      V(),
      L('ngTemplateOutlet', r),
      V(3),
      L(
        'ngIf',
        (n.event == null || n.event.resizable == null ? null : n.event.resizable.afterEnd) &&
          !n.endsAfterDay
      ));
  }
}
function F6(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'mwl-calendar-week-view-hour-segment', 38),
      ae('mwlClick', function (i) {
        let o = J(n).$implicit,
          s = B(3);
        return ee(s.hourSegmentClicked.emit({ date: o.date, sourceEvent: i }));
      })('drop', function (i) {
        let o = J(n).$implicit,
          s = B(3);
        return ee(s.eventDropped(i, o.date, !1));
      })('dragEnter', function () {
        let i = J(n).$implicit,
          o = B(3);
        return ee(o.dateDragEnter(i.date));
      }),
      P());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B(3);
    (oi('height', r.hourSegmentHeight, 'px'),
      L('segment', n)('segmentHeight', r.hourSegmentHeight)('locale', r.locale)(
        'customTemplate',
        r.hourSegmentTemplate
      )('daysInWeek', r.daysInWeek)(
        'clickListenerDisabled',
        r.hourSegmentClicked.observers.length === 0
      )('dragOverClass', !r.dragActive || !r.snapDraggedEvents ? 'cal-drag-over' : null)(
        'isTimeLabel',
        r.daysInWeek === 1
      ));
  }
}
function V6(t, e) {
  if (
    (t & 1 && (R(0, 'div', 27), ne(1, F6, 1, 10, 'mwl-calendar-week-view-hour-segment', 37), P()),
    t & 2)
  ) {
    let n = e.$implicit,
      r = e.odd,
      i = B(2);
    (pt('cal-hour-odd', r), V(), L('ngForOf', n.segments)('ngForTrackBy', i.trackByHourSegment));
  }
}
function L6(t, e) {
  if (
    (t & 1 &&
      (R(0, 'div', 30),
      ue(1, 'mwl-calendar-week-view-current-time-marker', 31),
      R(2, 'div', 32),
      ne(3, O6, 7, 46, 'div', 33),
      P(),
      ne(4, V6, 2, 4, 'div', 26),
      P()),
    t & 2)
  ) {
    let n = e.$implicit,
      r = B();
    (V(),
      L('columnDate', n.date)('dayStartHour', r.dayStartHour)('dayStartMinute', r.dayStartMinute)(
        'dayEndHour',
        r.dayEndHour
      )('dayEndMinute', r.dayEndMinute)('hourSegments', r.hourSegments)(
        'hourDuration',
        r.hourDuration
      )('hourSegmentHeight', r.hourSegmentHeight)('customTemplate', r.currentTimeMarkerTemplate),
      V(2),
      L('ngForOf', n.events)('ngForTrackBy', r.trackByWeekTimeEvent),
      V(),
      L('ngForOf', n.hours)('ngForTrackBy', r.trackByHour));
  }
}
var ls = (() => {
    class t {
      constructor(n, r, i) {
        ((this.renderer = n),
          (this.elm = r),
          (this.document = i),
          (this.clickListenerDisabled = !1),
          (this.click = new K()),
          (this.destroy$ = new Te()));
      }
      ngOnInit() {
        this.clickListenerDisabled ||
          this.listen()
            .pipe(un(this.destroy$))
            .subscribe((n) => {
              (n.stopPropagation(), this.click.emit(n));
            });
      }
      ngOnDestroy() {
        this.destroy$.next();
      }
      listen() {
        return new he((n) =>
          this.renderer.listen(this.elm.nativeElement, 'click', (r) => {
            n.next(r);
          })
        );
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(ut), k(Je), k(xt));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlClick', '']],
        inputs: { clickListenerDisabled: 'clickListenerDisabled' },
        outputs: { click: 'mwlClick' },
      })),
      t
    );
  })(),
  Mp = (() => {
    class t {
      constructor(n, r, i) {
        ((this.host = n),
          (this.ngZone = r),
          (this.renderer = i),
          (this.keydown = new K()),
          (this.keydownListener = null));
      }
      ngOnInit() {
        this.ngZone.runOutsideAngular(() => {
          this.keydownListener = this.renderer.listen(this.host.nativeElement, 'keydown', (n) => {
            (n.keyCode === 13 || n.which === 13 || n.key === 'Enter') &&
              (n.preventDefault(),
              n.stopPropagation(),
              this.ngZone.run(() => {
                this.keydown.emit(n);
              }));
          });
        });
      }
      ngOnDestroy() {
        this.keydownListener !== null && (this.keydownListener(), (this.keydownListener = null));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(Je), k(Se), k(ut));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlKeydownEnter', '']],
        outputs: { keydown: 'mwlKeydownEnter' },
      })),
      t
    );
  })(),
  Tp = (() => {
    class t {
      constructor(n) {
        this.i18nPlural = n;
      }
      monthCell({ day: n, locale: r }) {
        return n.badgeTotal > 0
          ? `
        ${vt(n.date, 'EEEE MMMM d', r)},
        ${this.i18nPlural.transform(n.badgeTotal, { '=0': 'No events', '=1': 'One event', other: '# events' })},
         click to expand
      `
          : `${vt(n.date, 'EEEE MMMM d', r)}`;
      }
      openDayEventsLandmark({ date: n, locale: r }) {
        return `
      Beginning of expanded view for ${vt(n, 'EEEE MMMM dd', r)}
    `;
      }
      openDayEventsAlert({ date: n, locale: r }) {
        return `${vt(n, 'EEEE MMMM dd', r)} expanded`;
      }
      eventDescription({ event: n, locale: r }) {
        if (n.allDay === !0) return this.allDayEventDescription({ event: n, locale: r });
        let i = `
      ${vt(n.start, 'EEEE MMMM dd', r)},
      ${n.title}, from ${vt(n.start, 'hh:mm a', r)}
    `;
        return n.end ? i + ` to ${vt(n.end, 'hh:mm a', r)}` : i;
      }
      allDayEventDescription({ event: n, locale: r }) {
        let i = `
      ${n.title}, event spans multiple days:
      start time ${vt(n.start, 'MMMM dd hh:mm a', r)}
    `;
        return n.end ? i + `, stop time ${vt(n.end, 'MMMM d hh:mm a', r)}` : i + ', no stop time';
      }
      actionButtonLabel({ action: n }) {
        return n.a11yLabel;
      }
      monthCellTabIndex() {
        return 0;
      }
      hideMonthCellEvents() {
        return !0;
      }
      hideEventTitle() {
        return !0;
      }
      hideWeekHourSegment() {
        return !0;
      }
      hideDayHourSegment() {
        return !0;
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(le(of));
      }),
      (t.ɵprov = G({ token: t, factory: t.ɵfac })),
      t
    );
  })(),
  us = (() => {
    class t {
      constructor(n, r) {
        ((this.calendarA11y = n), (this.locale = r));
      }
      transform(n, r) {
        if (((n.locale = n.locale || this.locale), typeof this.calendarA11y[r] > 'u')) {
          let i = Object.getOwnPropertyNames(Object.getPrototypeOf(Tp.prototype)).filter(
            (o) => o !== 'constructor'
          );
          throw new Error(`${r} is not a valid a11y method. Can only be one of ${i.join(', ')}`);
        }
        return this.calendarA11y[r](n);
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(Tp, 16), k(lr, 16));
      }),
      (t.ɵpipe = ni({ name: 'calendarA11y', type: t, pure: !0 })),
      t
    );
  })(),
  ON = (() => {
    class t {
      constructor() {
        this.trackByActionId = (n, r) => (r.id ? r.id : r);
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-event-actions']],
        inputs: { event: 'event', customTemplate: 'customTemplate' },
        decls: 3,
        vars: 5,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          ['class', 'cal-event-actions', 4, 'ngIf'],
          [1, 'cal-event-actions'],
          [
            'class',
            'cal-event-action',
            'href',
            'javascript:;',
            'tabindex',
            '0',
            'role',
            'button',
            3,
            'ngClass',
            'innerHtml',
            'mwlClick',
            'mwlKeydownEnter',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'href',
            'javascript:;',
            'tabindex',
            '0',
            'role',
            'button',
            1,
            'cal-event-action',
            3,
            'mwlClick',
            'mwlKeydownEnter',
            'ngClass',
            'innerHtml',
          ],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, CG, 1, 1, 'ng-template', null, 0, pn)(2, bG, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                Ct(2, wG, r.event, r.trackByActionId)
              ));
          }
        },
        dependencies: [Bn, Hn, bt, $n, ls, Mp, us],
        encapsulation: 2,
      })),
      t
    );
  })(),
  iu = class {
    month(e, n) {
      return e.title;
    }
    monthTooltip(e, n) {
      return e.title;
    }
    week(e, n) {
      return e.title;
    }
    weekTooltip(e, n) {
      return e.title;
    }
    day(e, n) {
      return e.title;
    }
    dayTooltip(e, n) {
      return e.title;
    }
  },
  OE = (() => {
    class t {
      constructor(n) {
        this.calendarEventTitle = n;
      }
      transform(n, r, i) {
        return this.calendarEventTitle[r](i, n);
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(iu, 16));
      }),
      (t.ɵpipe = ni({ name: 'calendarEventTitle', type: t, pure: !0 })),
      t
    );
  })(),
  FN = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-event-title']],
        inputs: {
          event: 'event',
          customTemplate: 'customTemplate',
          view: 'view',
        },
        decls: 3,
        vars: 5,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          [1, 'cal-event-title', 3, 'innerHTML'],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, SG, 3, 10, 'ng-template', null, 0, pn)(2, AG, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                Ct(2, TG, r.event, r.view)
              ));
          }
        },
        dependencies: [$n, OE, us],
        encapsulation: 2,
      })),
      t
    );
  })(),
  j6 = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-tooltip-window']],
        inputs: {
          contents: 'contents',
          placement: 'placement',
          event: 'event',
          customTemplate: 'customTemplate',
        },
        decls: 3,
        vars: 6,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          [1, 'cal-tooltip', 3, 'ngClass'],
          [1, 'cal-tooltip-arrow'],
          [1, 'cal-tooltip-inner', 3, 'innerHtml'],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, xG, 3, 2, 'ng-template', null, 0, pn)(2, RG, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                Hh(2, MG, r.contents, r.placement, r.event)
              ));
          }
        },
        dependencies: [Bn, $n],
        encapsulation: 2,
      })),
      t
    );
  })(),
  VN = (() => {
    class t {
      constructor(n, r, i, o, s, a) {
        ((this.elementRef = n),
          (this.injector = r),
          (this.renderer = i),
          (this.viewContainerRef = s),
          (this.document = a),
          (this.placement = 'auto'),
          (this.delay = null),
          (this.cancelTooltipDelay$ = new Te()),
          (this.tooltipFactory = o.resolveComponentFactory(j6)));
      }
      ngOnChanges(n) {
        this.tooltipRef &&
          (n.contents || n.customTemplate || n.event) &&
          ((this.tooltipRef.instance.contents = this.contents),
          (this.tooltipRef.instance.customTemplate = this.customTemplate),
          (this.tooltipRef.instance.event = this.event),
          this.tooltipRef.changeDetectorRef.markForCheck(),
          this.contents || this.hide());
      }
      ngOnDestroy() {
        this.hide();
      }
      onMouseOver() {
        (this.delay === null ? pe('now') : Oc(this.delay))
          .pipe(un(this.cancelTooltipDelay$))
          .subscribe(() => {
            this.show();
          });
      }
      onMouseOut() {
        this.hide();
      }
      show() {
        !this.tooltipRef &&
          this.contents &&
          ((this.tooltipRef = this.viewContainerRef.createComponent(
            this.tooltipFactory,
            0,
            this.injector,
            []
          )),
          (this.tooltipRef.instance.contents = this.contents),
          (this.tooltipRef.instance.customTemplate = this.customTemplate),
          (this.tooltipRef.instance.event = this.event),
          this.appendToBody &&
            this.document.body.appendChild(this.tooltipRef.location.nativeElement),
          requestAnimationFrame(() => {
            this.positionTooltip();
          }));
      }
      hide() {
        (this.tooltipRef &&
          (this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),
          (this.tooltipRef = null)),
          this.cancelTooltipDelay$.next());
      }
      positionTooltip(n = []) {
        this.tooltipRef &&
          (this.tooltipRef.changeDetectorRef.detectChanges(),
          (this.tooltipRef.instance.placement = uE(
            this.elementRef.nativeElement,
            this.tooltipRef.location.nativeElement.children[0],
            this.placement,
            this.appendToBody
          )),
          n.indexOf(this.tooltipRef.instance.placement) === -1 &&
            this.positionTooltip([...n, this.tooltipRef.instance.placement]));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(Je), k(At), k(ut), k(Ui), k(or), k(xt));
      }),
      (t.ɵdir = Re({
        type: t,
        selectors: [['', 'mwlCalendarTooltip', '']],
        hostBindings: function (n, r) {
          n & 1 &&
            ae('mouseenter', function () {
              return r.onMouseOver();
            })('mouseleave', function () {
              return r.onMouseOut();
            });
        },
        inputs: {
          contents: [0, 'mwlCalendarTooltip', 'contents'],
          placement: [0, 'tooltipPlacement', 'placement'],
          customTemplate: [0, 'tooltipTemplate', 'customTemplate'],
          event: [0, 'tooltipEvent', 'event'],
          appendToBody: [0, 'tooltipAppendToBody', 'appendToBody'],
          delay: [0, 'tooltipDelay', 'delay'],
        },
        features: [zt],
      })),
      t
    );
  })();
var LN = (t) => dN(t, (...n) => console.warn('angular-calendar', ...n));
function jN(t, e) {
  return (
    Math.floor(t.left) <= Math.ceil(e.left) &&
    Math.floor(e.left) <= Math.ceil(t.right) &&
    Math.floor(t.left) <= Math.ceil(e.right) &&
    Math.floor(e.right) <= Math.ceil(t.right)
  );
}
function U6(t, e) {
  return (
    Math.floor(t.top) <= Math.ceil(e.top) &&
    Math.floor(e.top) <= Math.ceil(t.bottom) &&
    Math.floor(t.top) <= Math.ceil(e.bottom) &&
    Math.floor(e.bottom) <= Math.ceil(t.bottom)
  );
}
function B6(t, e) {
  return jN(t, e) && U6(t, e);
}
function UN(t, e) {
  return Math.round(t / e) * e;
}
var BN = (t, e) => (e.id ? e.id : e),
  FE = (t, e) => e.date.toISOString(),
  H6 = (t, e) => e.date.toISOString(),
  $6 = (t, e) => e.segments[0].date.toISOString(),
  z6 = (t, e) => (e.event.id ? e.event.id : e.event),
  W6 = (t, e) => (e.event.id ? e.event.id : e.event),
  q6 = 60;
function G6(t, e, n) {
  return (n || q6) / (t * e);
}
function ME(t, e, n, r, i) {
  let o = UN(t, r || n),
    s = G6(e, n, i);
  return o * s;
}
function xN(t, e, n) {
  return e.end ? e.end : t.addMinutes(e.start, n);
}
function cs(t, e, n, r) {
  let i = 0,
    o = 0,
    s = n < 0 ? t.subDays : t.addDays,
    a = e;
  for (; o <= Math.abs(n); ) {
    a = s(e, i);
    let c = t.getDay(a);
    (r.indexOf(c) === -1 && o++, i++);
  }
  return a;
}
function K6(t, e, n) {
  let r = e || t;
  return (n.start <= t && t <= n.end) || (n.start <= r && r <= n.end);
}
function Y6(t, e, n, r) {
  return (
    t.dropData &&
    t.dropData.event &&
    (t.dropData.calendarId !== r ||
      (t.dropData.event.allDay && !n) ||
      (!t.dropData.event.allDay && n))
  );
}
function xE(t, e, n, r = [], i) {
  let o = i ? t.startOfDay(e) : t.startOfWeek(e, { weekStartsOn: n }),
    s = t.endOfWeek(e, { weekStartsOn: n });
  for (; r.indexOf(t.getDay(o)) > -1 && o < s; ) o = t.addDays(o, 1);
  if (i) {
    let a = t.endOfDay(cs(t, o, i - 1, r));
    return { viewStart: o, viewEnd: a };
  } else {
    let a = s;
    for (; r.indexOf(t.getDay(a)) > -1 && a > o; ) a = t.subDays(a, 1);
    return { viewStart: o, viewEnd: a };
  }
}
function VE({ x: t, y: e }) {
  return Math.abs(t) > 1 || Math.abs(e) > 1;
}
var yi = class {};
var Q6 = (() => {
    class t {
      constructor(n) {
        this.dateAdapter = n;
      }
      monthViewColumnHeader({ date: n, locale: r }) {
        return vt(n, 'EEEE', r);
      }
      monthViewDayNumber({ date: n, locale: r }) {
        return vt(n, 'd', r);
      }
      monthViewTitle({ date: n, locale: r }) {
        return vt(n, 'LLLL y', r);
      }
      weekViewColumnHeader({ date: n, locale: r }) {
        return vt(n, 'EEEE', r);
      }
      weekViewColumnSubHeader({ date: n, locale: r }) {
        return vt(n, 'MMM d', r);
      }
      weekViewTitle({ date: n, locale: r, weekStartsOn: i, excludeDays: o, daysInWeek: s }) {
        let { viewStart: a, viewEnd: c } = xE(this.dateAdapter, n, i, o, s),
          u = (d, p) => vt(d, 'MMM d' + (p ? ', yyyy' : ''), r);
        return `${u(a, a.getUTCFullYear() !== c.getUTCFullYear())} - ${u(c, !0)}`;
      }
      weekViewHour({ date: n, locale: r }) {
        return vt(n, 'h a', r);
      }
      dayViewHour({ date: n, locale: r }) {
        return vt(n, 'h a', r);
      }
      dayViewTitle({ date: n, locale: r }) {
        return vt(n, 'EEEE, MMMM d, y', r);
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(le(yi));
      }),
      (t.ɵprov = G({ token: t, factory: t.ɵfac })),
      t
    );
  })(),
  Sp = (() => {
    class t extends Q6 {}
    return (
      (t.ɵfac = (() => {
        let e;
        return function (r) {
          return (e || (e = Ar(t)))(r || t);
        };
      })()),
      (t.ɵprov = G({ token: t, factory: t.ɵfac })),
      t
    );
  })(),
  xp = (() => {
    class t {
      constructor(n, r) {
        ((this.dateFormatter = n), (this.locale = r));
      }
      transform(n, r, i = this.locale, o = 0, s = [], a) {
        if (typeof this.dateFormatter[r] > 'u') {
          let c = Object.getOwnPropertyNames(Object.getPrototypeOf(Sp.prototype)).filter(
            (u) => u !== 'constructor'
          );
          throw new Error(`${r} is not a valid date formatter. Can only be one of ${c.join(', ')}`);
        }
        return this.dateFormatter[r]({
          date: n,
          locale: i,
          weekStartsOn: o,
          excludeDays: s,
          daysInWeek: a,
        });
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(Sp, 16), k(lr, 16));
      }),
      (t.ɵpipe = ni({ name: 'calendarDate', type: t, pure: !0 })),
      t
    );
  })(),
  Rp = (() => {
    class t {
      constructor(n) {
        this.dateAdapter = n;
      }
      getMonthView(n) {
        return uN(this.dateAdapter, n);
      }
      getWeekViewHeader(n) {
        return Ep(this.dateAdapter, n);
      }
      getWeekView(n) {
        return lN(this.dateAdapter, n);
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(le(yi));
      }),
      (t.ɵprov = G({ token: t, factory: t.ɵfac })),
      t
    );
  })(),
  Rie = new X('Moment');
var co = (function (t) {
    return ((t.Drag = 'drag'), (t.Drop = 'drop'), (t.Resize = 'resize'), t);
  })(co || {}),
  ou = (() => {
    class t {
      static forRoot(n, r = {}) {
        return {
          ngModule: t,
          providers: [
            n,
            r.eventTitleFormatter || iu,
            r.dateFormatter || Sp,
            r.utils || Rp,
            r.a11y || Tp,
          ],
        };
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵmod = Dt({ type: t })),
      (t.ɵinj = It({ providers: [of], imports: [at] })),
      t
    );
  })(),
  X6 = (() => {
    class t {
      constructor() {
        ((this.highlightDay = new K()),
          (this.unhighlightDay = new K()),
          (this.eventClicked = new K()),
          (this.trackByEventId = BN),
          (this.validateDrag = VE));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-month-cell']],
        hostAttrs: [1, 'cal-cell', 'cal-day-cell'],
        hostVars: 18,
        hostBindings: function (n, r) {
          n & 2 &&
            pt('cal-past', r.day.isPast)('cal-today', r.day.isToday)('cal-future', r.day.isFuture)(
              'cal-weekend',
              r.day.isWeekend
            )('cal-in-month', r.day.inMonth)('cal-out-month', !r.day.inMonth)(
              'cal-has-events',
              r.day.events.length > 0
            )('cal-open', r.day === r.openDay)('cal-event-highlight', !!r.day.backgroundColor);
        },
        inputs: {
          day: 'day',
          openDay: 'openDay',
          locale: 'locale',
          tooltipPlacement: 'tooltipPlacement',
          tooltipAppendToBody: 'tooltipAppendToBody',
          customTemplate: 'customTemplate',
          tooltipTemplate: 'tooltipTemplate',
          tooltipDelay: 'tooltipDelay',
        },
        outputs: {
          highlightDay: 'highlightDay',
          unhighlightDay: 'unhighlightDay',
          eventClicked: 'eventClicked',
        },
        decls: 3,
        vars: 15,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          [1, 'cal-cell-top'],
          ['aria-hidden', 'true'],
          ['class', 'cal-day-badge', 4, 'ngIf'],
          [1, 'cal-day-number'],
          ['class', 'cal-events', 4, 'ngIf'],
          [1, 'cal-day-badge'],
          [1, 'cal-events'],
          [
            'class',
            'cal-event',
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            3,
            'ngStyle',
            'ngClass',
            'mwlCalendarTooltip',
            'tooltipPlacement',
            'tooltipEvent',
            'tooltipTemplate',
            'tooltipAppendToBody',
            'tooltipDelay',
            'cal-draggable',
            'dropData',
            'dragAxis',
            'validateDrag',
            'touchStartLongPress',
            'mouseenter',
            'mouseleave',
            'mwlClick',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            1,
            'cal-event',
            3,
            'mouseenter',
            'mouseleave',
            'mwlClick',
            'ngStyle',
            'ngClass',
            'mwlCalendarTooltip',
            'tooltipPlacement',
            'tooltipEvent',
            'tooltipTemplate',
            'tooltipAppendToBody',
            'tooltipDelay',
            'dropData',
            'dragAxis',
            'validateDrag',
            'touchStartLongPress',
          ],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, LG, 8, 14, 'ng-template', null, 0, pn)(2, jG, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                Ry(2, NG, [
                  r.day,
                  r.openDay,
                  r.locale,
                  r.tooltipPlacement,
                  r.highlightDay,
                  r.unhighlightDay,
                  r.eventClicked,
                  r.tooltipTemplate,
                  r.tooltipAppendToBody,
                  r.tooltipDelay,
                  r.trackByEventId,
                  r.validateDrag,
                ])
              ));
          }
        },
        dependencies: [Bn, Hn, bt, $n, cl, Dp, VN, ls, xp, OE, us],
        encapsulation: 2,
      })),
      t
    );
  })(),
  Z6 = wN('collapse', [
    CE(
      'void',
      DE({
        height: 0,
        overflow: 'hidden',
        'padding-top': 0,
        'padding-bottom': 0,
      })
    ),
    CE(
      '*',
      DE({
        height: '*',
        overflow: 'hidden',
        'padding-top': '*',
        'padding-bottom': '*',
      })
    ),
    bE('* => void', IE('150ms ease-out')),
    bE('void => *', IE('150ms ease-in')),
  ]),
  J6 = (() => {
    class t {
      constructor() {
        ((this.isOpen = !1),
          (this.eventClicked = new K()),
          (this.trackByEventId = BN),
          (this.validateDrag = VE));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-open-day-events']],
        inputs: {
          locale: 'locale',
          isOpen: 'isOpen',
          events: 'events',
          customTemplate: 'customTemplate',
          eventTitleTemplate: 'eventTitleTemplate',
          eventActionsTemplate: 'eventActionsTemplate',
          date: 'date',
        },
        outputs: { eventClicked: 'eventClicked' },
        decls: 3,
        vars: 8,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          ['class', 'cal-open-day-events', 'role', 'application', 4, 'ngIf'],
          ['role', 'application', 1, 'cal-open-day-events'],
          ['tabindex', '-1', 'role', 'alert'],
          ['tabindex', '0', 'role', 'landmark'],
          [
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            3,
            'ngClass',
            'cal-draggable',
            'dropData',
            'dragAxis',
            'validateDrag',
            'touchStartLongPress',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            3,
            'ngClass',
            'dropData',
            'dragAxis',
            'validateDrag',
            'touchStartLongPress',
          ],
          [1, 'cal-event', 3, 'ngStyle'],
          [
            'view',
            'month',
            'tabindex',
            '0',
            3,
            'mwlClick',
            'mwlKeydownEnter',
            'event',
            'customTemplate',
          ],
          [3, 'event', 'customTemplate'],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, zG, 1, 1, 'ng-template', null, 0, pn)(2, WG, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                xy(2, UG, r.events, r.eventClicked, r.isOpen, r.trackByEventId, r.validateDrag)
              ));
          }
        },
        dependencies: [Bn, Hn, bt, $n, cl, Dp, ON, FN, ls, Mp, us],
        encapsulation: 2,
        data: { animation: [Z6] },
      })),
      t
    );
  })(),
  e9 = (() => {
    class t {
      constructor() {
        ((this.columnHeaderClicked = new K()), (this.trackByWeekDayHeaderDate = FE));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-month-view-header']],
        inputs: {
          days: 'days',
          locale: 'locale',
          customTemplate: 'customTemplate',
        },
        outputs: { columnHeaderClicked: 'columnHeaderClicked' },
        decls: 3,
        vars: 6,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          ['role', 'row', 1, 'cal-cell-row', 'cal-header'],
          [
            'class',
            'cal-cell',
            'tabindex',
            '0',
            'role',
            'columnheader',
            3,
            'cal-past',
            'cal-today',
            'cal-future',
            'cal-weekend',
            'ngClass',
            'click',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          ['tabindex', '0', 'role', 'columnheader', 1, 'cal-cell', 3, 'click', 'ngClass'],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, KG, 2, 2, 'ng-template', null, 0, pn)(2, YG, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                Hh(2, qG, r.days, r.locale, r.trackByWeekDayHeaderDate)
              ));
          }
        },
        dependencies: [Bn, Hn, $n, xp],
        encapsulation: 2,
      })),
      t
    );
  })(),
  HN = (() => {
    class t {
      constructor(n, r, i, o) {
        ((this.cdr = n),
          (this.utils = r),
          (this.dateAdapter = o),
          (this.events = []),
          (this.excludeDays = []),
          (this.activeDayIsOpen = !1),
          (this.tooltipPlacement = 'auto'),
          (this.tooltipAppendToBody = !0),
          (this.tooltipDelay = null),
          (this.beforeViewRender = new K()),
          (this.dayClicked = new K()),
          (this.eventClicked = new K()),
          (this.columnHeaderClicked = new K()),
          (this.eventTimesChanged = new K()),
          (this.trackByRowOffset = (s, a) =>
            this.view.days
              .slice(a, this.view.totalDaysVisibleInWeek)
              .map((c) => c.date.toISOString())
              .join('-')),
          (this.trackByDate = (s, a) => a.date.toISOString()),
          (this.locale = i));
      }
      ngOnInit() {
        this.refresh &&
          (this.refreshSubscription = this.refresh.subscribe(() => {
            (this.refreshAll(), this.cdr.markForCheck());
          }));
      }
      ngOnChanges(n) {
        let r = n.viewDate || n.excludeDays || n.weekendDays,
          i = n.viewDate || n.events || n.excludeDays || n.weekendDays;
        (r && this.refreshHeader(),
          n.events && LN(this.events),
          i && this.refreshBody(),
          (r || i) && this.emitBeforeViewRender(),
          (n.activeDayIsOpen || n.viewDate || n.events || n.excludeDays || n.activeDay) &&
            this.checkActiveDayIsOpen());
      }
      ngOnDestroy() {
        this.refreshSubscription && this.refreshSubscription.unsubscribe();
      }
      toggleDayHighlight(n, r) {
        this.view.days.forEach((i) => {
          r && i.events.indexOf(n) > -1
            ? (i.backgroundColor = (n.color && n.color.secondary) || '#D1E8FF')
            : delete i.backgroundColor;
        });
      }
      eventDropped(n, r, i) {
        if (n !== i) {
          let o = this.dateAdapter.getYear(n.date),
            s = this.dateAdapter.getMonth(n.date),
            a = this.dateAdapter.getDate(n.date),
            c = this.dateAdapter.setDate(
              this.dateAdapter.setMonth(this.dateAdapter.setYear(r.start, o), s),
              a
            ),
            u;
          if (r.end) {
            let d = this.dateAdapter.differenceInSeconds(c, r.start);
            u = this.dateAdapter.addSeconds(r.end, d);
          }
          this.eventTimesChanged.emit({
            event: r,
            newStart: c,
            newEnd: u,
            day: n,
            type: co.Drop,
          });
        }
      }
      refreshHeader() {
        this.columnHeaders = this.utils.getWeekViewHeader({
          viewDate: this.viewDate,
          weekStartsOn: this.weekStartsOn,
          excluded: this.excludeDays,
          weekendDays: this.weekendDays,
        });
      }
      refreshBody() {
        this.view = this.utils.getMonthView({
          events: this.events,
          viewDate: this.viewDate,
          weekStartsOn: this.weekStartsOn,
          excluded: this.excludeDays,
          weekendDays: this.weekendDays,
        });
      }
      checkActiveDayIsOpen() {
        if (this.activeDayIsOpen === !0) {
          let n = this.activeDay || this.viewDate;
          this.openDay = this.view.days.find((i) => this.dateAdapter.isSameDay(i.date, n));
          let r = this.view.days.indexOf(this.openDay);
          this.openRowIndex =
            Math.floor(r / this.view.totalDaysVisibleInWeek) * this.view.totalDaysVisibleInWeek;
        } else ((this.openRowIndex = null), (this.openDay = null));
      }
      refreshAll() {
        (this.refreshHeader(),
          this.refreshBody(),
          this.emitBeforeViewRender(),
          this.checkActiveDayIsOpen());
      }
      emitBeforeViewRender() {
        this.columnHeaders &&
          this.view &&
          this.beforeViewRender.emit({
            header: this.columnHeaders,
            body: this.view.days,
            period: this.view.period,
          });
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(ur), k(Rp), k(lr), k(yi));
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-month-view']],
        inputs: {
          viewDate: 'viewDate',
          events: 'events',
          excludeDays: 'excludeDays',
          activeDayIsOpen: 'activeDayIsOpen',
          activeDay: 'activeDay',
          refresh: 'refresh',
          locale: 'locale',
          tooltipPlacement: 'tooltipPlacement',
          tooltipTemplate: 'tooltipTemplate',
          tooltipAppendToBody: 'tooltipAppendToBody',
          tooltipDelay: 'tooltipDelay',
          weekStartsOn: 'weekStartsOn',
          headerTemplate: 'headerTemplate',
          cellTemplate: 'cellTemplate',
          openDayEventsTemplate: 'openDayEventsTemplate',
          eventTitleTemplate: 'eventTitleTemplate',
          eventActionsTemplate: 'eventActionsTemplate',
          weekendDays: 'weekendDays',
        },
        outputs: {
          beforeViewRender: 'beforeViewRender',
          dayClicked: 'dayClicked',
          eventClicked: 'eventClicked',
          columnHeaderClicked: 'columnHeaderClicked',
          eventTimesChanged: 'eventTimesChanged',
        },
        features: [zt],
        decls: 4,
        vars: 5,
        consts: [
          ['role', 'grid', 1, 'cal-month-view'],
          [3, 'columnHeaderClicked', 'days', 'locale', 'customTemplate'],
          [1, 'cal-days'],
          [4, 'ngFor', 'ngForOf', 'ngForTrackBy'],
          ['role', 'row', 1, 'cal-cell-row'],
          [
            'role',
            'gridcell',
            'mwlDroppable',
            '',
            'dragOverClass',
            'cal-drag-over',
            3,
            'ngClass',
            'day',
            'openDay',
            'locale',
            'tooltipPlacement',
            'tooltipAppendToBody',
            'tooltipTemplate',
            'tooltipDelay',
            'customTemplate',
            'ngStyle',
            'clickListenerDisabled',
            'mwlClick',
            'mwlKeydownEnter',
            'highlightDay',
            'unhighlightDay',
            'drop',
            'eventClicked',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'mwlDroppable',
            '',
            'dragOverClass',
            'cal-drag-over',
            3,
            'eventClicked',
            'drop',
            'locale',
            'isOpen',
            'events',
            'date',
            'customTemplate',
            'eventTitleTemplate',
            'eventActionsTemplate',
          ],
          [
            'role',
            'gridcell',
            'mwlDroppable',
            '',
            'dragOverClass',
            'cal-drag-over',
            3,
            'mwlClick',
            'mwlKeydownEnter',
            'highlightDay',
            'unhighlightDay',
            'drop',
            'eventClicked',
            'ngClass',
            'day',
            'openDay',
            'locale',
            'tooltipPlacement',
            'tooltipAppendToBody',
            'tooltipTemplate',
            'tooltipDelay',
            'customTemplate',
            'ngStyle',
            'clickListenerDisabled',
          ],
        ],
        template: function (n, r) {
          (n & 1 &&
            (R(0, 'div', 0)(1, 'mwl-calendar-month-view-header', 1),
            ae('columnHeaderClicked', function (o) {
              return r.columnHeaderClicked.emit(o);
            }),
            P(),
            R(2, 'div', 2),
            ne(3, XG, 5, 13, 'div', 3),
            P()()),
            n & 2 &&
              (V(),
              L('days', r.columnHeaders)('locale', r.locale)('customTemplate', r.headerTemplate),
              V(2),
              L('ngForOf', r.view.rowOffsets)('ngForTrackBy', r.trackByRowOffset)));
        },
        dependencies: [Bn, Hn, cl, Cp, ls, Mp, X6, J6, e9, ZA, us],
        encapsulation: 2,
      })),
      t
    );
  })(),
  RN = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵmod = Dt({ type: t })),
      (t.ɵinj = It({ imports: [at, nu, ou, nu] })),
      t
    );
  })(),
  RE = class {
    constructor(e, n) {
      ((this.dragContainerElement = e), (this.startPosition = n.getBoundingClientRect()));
    }
    validateDrag({ x: e, y: n, snapDraggedEvents: r, dragAlreadyMoved: i, transform: o }) {
      let s = VE({ x: e, y: n }) || i;
      if (r) {
        let a = Object.assign({}, this.startPosition, {
          left: this.startPosition.left + o.x,
          right: this.startPosition.right + o.x,
          top: this.startPosition.top + o.y,
          bottom: this.startPosition.bottom + o.y,
        });
        if (s) {
          let c = this.dragContainerElement.getBoundingClientRect(),
            u = c.top < a.top && a.top < c.bottom,
            d = c.top < a.bottom && a.bottom < c.bottom;
          return jN(c, a) && (u || d);
        }
        return !1;
      } else return s;
    }
  },
  NE = class {
    constructor(e, n, r) {
      ((this.resizeContainerElement = e), (this.minWidth = n), (this.rtl = r));
    }
    validateResize({ rectangle: e, edges: n }) {
      return (
        this.rtl &&
          (typeof n.left < 'u'
            ? ((e.left -= n.left), (e.right += n.left))
            : typeof n.right < 'u' && ((e.left += n.right), (e.right -= n.right)),
          (e.width = e.right - e.left)),
        this.minWidth && Math.ceil(e.width) < Math.ceil(this.minWidth)
          ? !1
          : B6(this.resizeContainerElement.getBoundingClientRect(), e)
      );
    }
  },
  t9 = (() => {
    class t {
      constructor() {
        ((this.dayHeaderClicked = new K()),
          (this.eventDropped = new K()),
          (this.dragEnter = new K()),
          (this.trackByWeekDayHeaderDate = FE));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-week-view-header']],
        inputs: {
          days: 'days',
          locale: 'locale',
          customTemplate: 'customTemplate',
        },
        outputs: {
          dayHeaderClicked: 'dayHeaderClicked',
          eventDropped: 'eventDropped',
          dragEnter: 'dragEnter',
        },
        decls: 3,
        vars: 9,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          ['role', 'row', 1, 'cal-day-headers'],
          [
            'class',
            'cal-header',
            'mwlDroppable',
            '',
            'dragOverClass',
            'cal-drag-over',
            'tabindex',
            '0',
            'role',
            'columnheader',
            3,
            'cal-past',
            'cal-today',
            'cal-future',
            'cal-weekend',
            'ngClass',
            'mwlClick',
            'drop',
            'dragEnter',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'mwlDroppable',
            '',
            'dragOverClass',
            'cal-drag-over',
            'tabindex',
            '0',
            'role',
            'columnheader',
            1,
            'cal-header',
            3,
            'mwlClick',
            'drop',
            'dragEnter',
            'ngClass',
          ],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, e6, 2, 2, 'ng-template', null, 0, pn)(2, t6, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                EA(
                  2,
                  ZG,
                  r.days,
                  r.locale,
                  r.dayHeaderClicked,
                  r.eventDropped,
                  r.dragEnter,
                  r.trackByWeekDayHeaderDate
                )
              ));
          }
        },
        dependencies: [Bn, Hn, $n, Cp, ls, xp],
        encapsulation: 2,
      })),
      t
    );
  })(),
  n9 = (() => {
    class t {
      constructor() {
        this.eventClicked = new K();
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-week-view-event']],
        inputs: {
          locale: 'locale',
          weekEvent: 'weekEvent',
          tooltipPlacement: 'tooltipPlacement',
          tooltipAppendToBody: 'tooltipAppendToBody',
          tooltipDisabled: 'tooltipDisabled',
          tooltipDelay: 'tooltipDelay',
          customTemplate: 'customTemplate',
          eventTitleTemplate: 'eventTitleTemplate',
          eventActionsTemplate: 'eventActionsTemplate',
          tooltipTemplate: 'tooltipTemplate',
          column: 'column',
          daysInWeek: 'daysInWeek',
        },
        outputs: { eventClicked: 'eventClicked' },
        decls: 3,
        vars: 12,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          [
            'tabindex',
            '0',
            'role',
            'application',
            1,
            'cal-event',
            3,
            'mwlClick',
            'mwlKeydownEnter',
            'ngStyle',
            'mwlCalendarTooltip',
            'tooltipPlacement',
            'tooltipEvent',
            'tooltipTemplate',
            'tooltipAppendToBody',
            'tooltipDelay',
          ],
          [3, 'event', 'customTemplate'],
          [3, 'event', 'customTemplate', 'view'],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, i6, 6, 27, 'ng-template', null, 0, pn)(2, o6, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                Ry(2, n6, [
                  r.weekEvent,
                  r.tooltipPlacement,
                  r.eventClicked,
                  r.tooltipTemplate,
                  r.tooltipAppendToBody,
                  r.tooltipDisabled,
                  r.tooltipDelay,
                  r.column,
                  r.daysInWeek,
                ])
              ));
          }
        },
        dependencies: [$n, cl, ON, FN, VN, ls, Mp, OE, us],
        encapsulation: 2,
      })),
      t
    );
  })(),
  r9 = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-week-view-hour-segment']],
        inputs: {
          segment: 'segment',
          segmentHeight: 'segmentHeight',
          locale: 'locale',
          isTimeLabel: 'isTimeLabel',
          daysInWeek: 'daysInWeek',
          customTemplate: 'customTemplate',
        },
        decls: 3,
        vars: 8,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          [1, 'cal-hour-segment', 3, 'ngClass'],
          ['class', 'cal-time', 4, 'ngIf'],
          [1, 'cal-time'],
        ],
        template: function (n, r) {
          if (
            (n & 1 && ne(0, c6, 3, 13, 'ng-template', null, 0, pn)(2, l6, 0, 0, 'ng-template', 1),
            n & 2)
          ) {
            let i = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || i)(
                'ngTemplateOutletContext',
                xy(2, s6, r.segment, r.locale, r.segmentHeight, r.isTimeLabel, r.daysInWeek)
              ));
          }
        },
        dependencies: [Bn, bt, $n, xp, us],
        encapsulation: 2,
      })),
      t
    );
  })(),
  i9 = (() => {
    class t {
      constructor(n, r) {
        ((this.dateAdapter = n),
          (this.zone = r),
          (this.columnDate$ = new ot(void 0)),
          (this.marker$ = this.zone.onStable.pipe(
            Pt(() => Eg(60 * 1e3)),
            So(0),
            Ag(this.columnDate$),
            ie((i) => {
              let o = this.dateAdapter.setMinutes(
                  this.dateAdapter.setHours(i, this.dayStartHour),
                  this.dayStartMinute
                ),
                s = this.dateAdapter.setMinutes(
                  this.dateAdapter.setHours(i, this.dayEndHour),
                  this.dayEndMinute
                ),
                a = (this.hourSegments * this.hourSegmentHeight) / (this.hourDuration || 60),
                c = new Date();
              return {
                isVisible: this.dateAdapter.isSameDay(i, c) && c >= o && c <= s,
                top: this.dateAdapter.differenceInMinutes(c, o) * a,
              };
            })
          )));
      }
      ngOnChanges(n) {
        n.columnDate && this.columnDate$.next(n.columnDate.currentValue);
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(yi), k(Se));
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-week-view-current-time-marker']],
        inputs: {
          columnDate: 'columnDate',
          dayStartHour: 'dayStartHour',
          dayStartMinute: 'dayStartMinute',
          dayEndHour: 'dayEndHour',
          dayEndMinute: 'dayEndMinute',
          hourSegments: 'hourSegments',
          hourDuration: 'hourDuration',
          hourSegmentHeight: 'hourSegmentHeight',
          customTemplate: 'customTemplate',
        },
        features: [zt],
        decls: 5,
        vars: 14,
        consts: [
          ['defaultTemplate', ''],
          [3, 'ngTemplateOutlet', 'ngTemplateOutletContext'],
          ['class', 'cal-current-time-marker', 3, 'top', 4, 'ngIf'],
          [1, 'cal-current-time-marker'],
        ],
        template: function (n, r) {
          if (
            (n & 1 &&
              (ne(0, h6, 1, 1, 'ng-template', null, 0, pn)(2, f6, 0, 0, 'ng-template', 1),
              Qe(3, 'async'),
              Qe(4, 'async')),
            n & 2)
          ) {
            let i,
              o = mt(1);
            (V(2),
              L('ngTemplateOutlet', r.customTemplate || o)(
                'ngTemplateOutletContext',
                IA(
                  6,
                  u6,
                  r.columnDate,
                  r.dayStartHour,
                  r.dayStartMinute,
                  r.dayEndHour,
                  r.dayEndMinute,
                  (i = Ny(3, 2, r.marker$)) == null ? null : i.isVisible,
                  (i = Ny(4, 4, r.marker$)) == null ? null : i.top
                )
              ));
          }
        },
        dependencies: [bt, $n, QA],
        encapsulation: 2,
      })),
      t
    );
  })(),
  LE = (() => {
    class t {
      constructor(n, r, i, o, s) {
        ((this.cdr = n),
          (this.utils = r),
          (this.dateAdapter = o),
          (this.element = s),
          (this.events = []),
          (this.excludeDays = []),
          (this.tooltipPlacement = 'auto'),
          (this.tooltipAppendToBody = !0),
          (this.tooltipDelay = null),
          (this.precision = 'days'),
          (this.snapDraggedEvents = !0),
          (this.hourSegments = 2),
          (this.hourSegmentHeight = 30),
          (this.minimumEventHeight = 30),
          (this.dayStartHour = 0),
          (this.dayStartMinute = 0),
          (this.dayEndHour = 23),
          (this.dayEndMinute = 59),
          (this.dayHeaderClicked = new K()),
          (this.eventClicked = new K()),
          (this.eventTimesChanged = new K()),
          (this.beforeViewRender = new K()),
          (this.hourSegmentClicked = new K()),
          (this.allDayEventResizes = new Map()),
          (this.timeEventResizes = new Map()),
          (this.eventDragEnterByType = { allDay: 0, time: 0 }),
          (this.dragActive = !1),
          (this.dragAlreadyMoved = !1),
          (this.calendarId = Symbol('angular calendar week view id')),
          (this.rtl = !1),
          (this.trackByWeekDayHeaderDate = FE),
          (this.trackByHourSegment = H6),
          (this.trackByHour = $6),
          (this.trackByWeekAllDayEvent = z6),
          (this.trackByWeekTimeEvent = W6),
          (this.trackByHourColumn = (a, c) =>
            c.hours[0] ? c.hours[0].segments[0].date.toISOString() : c),
          (this.trackById = (a, c) => c.id),
          (this.locale = i));
      }
      ngOnInit() {
        this.refresh &&
          (this.refreshSubscription = this.refresh.subscribe(() => {
            (this.refreshAll(), this.cdr.markForCheck());
          }));
      }
      ngOnChanges(n) {
        let r = n.viewDate || n.excludeDays || n.weekendDays || n.daysInWeek || n.weekStartsOn,
          i =
            n.viewDate ||
            n.dayStartHour ||
            n.dayStartMinute ||
            n.dayEndHour ||
            n.dayEndMinute ||
            n.hourSegments ||
            n.hourDuration ||
            n.weekStartsOn ||
            n.weekendDays ||
            n.excludeDays ||
            n.hourSegmentHeight ||
            n.events ||
            n.daysInWeek ||
            n.minimumEventHeight;
        (r && this.refreshHeader(),
          n.events && LN(this.events),
          i && this.refreshBody(),
          (r || i) && this.emitBeforeViewRender());
      }
      ngOnDestroy() {
        this.refreshSubscription && this.refreshSubscription.unsubscribe();
      }
      ngAfterViewInit() {
        ((this.rtl =
          typeof window < 'u' && getComputedStyle(this.element.nativeElement).direction === 'rtl'),
          this.cdr.detectChanges());
      }
      timeEventResizeStarted(n, r, i) {
        (this.timeEventResizes.set(r.event, i), this.resizeStarted(n, r));
      }
      timeEventResizing(n, r) {
        this.timeEventResizes.set(n.event, r);
        let i = new Map(),
          o = [...this.events];
        (this.timeEventResizes.forEach((s, a) => {
          let c = this.getTimeEventResizedDates(a, s),
            u = U(U({}, a), c);
          i.set(u, a);
          let d = o.indexOf(a);
          o[d] = u;
        }),
          this.restoreOriginalEvents(o, i, !0));
      }
      timeEventResizeEnded(n) {
        this.view = this.getWeekView(this.events);
        let r = this.timeEventResizes.get(n.event);
        if (r) {
          this.timeEventResizes.delete(n.event);
          let i = this.getTimeEventResizedDates(n.event, r);
          this.eventTimesChanged.emit({
            newStart: i.start,
            newEnd: i.end,
            event: n.event,
            type: co.Resize,
          });
        }
      }
      allDayEventResizeStarted(n, r, i) {
        (this.allDayEventResizes.set(r, {
          originalOffset: r.offset,
          originalSpan: r.span,
          edge: typeof i.edges.left < 'u' ? 'left' : 'right',
        }),
          this.resizeStarted(n, r, this.getDayColumnWidth(n)));
      }
      allDayEventResizing(n, r, i) {
        let o = this.allDayEventResizes.get(n),
          s = this.rtl ? -1 : 1;
        if (typeof r.edges.left < 'u') {
          let a = Math.round(+r.edges.left / i) * s;
          ((n.offset = o.originalOffset + a), (n.span = o.originalSpan - a));
        } else if (typeof r.edges.right < 'u') {
          let a = Math.round(+r.edges.right / i) * s;
          n.span = o.originalSpan + a;
        }
      }
      allDayEventResizeEnded(n) {
        let r = this.allDayEventResizes.get(n);
        if (r) {
          let i = r.edge === 'left',
            o;
          (i ? (o = n.offset - r.originalOffset) : (o = n.span - r.originalSpan),
            (n.offset = r.originalOffset),
            (n.span = r.originalSpan));
          let s = this.getAllDayEventResizedDates(n.event, o, i);
          (this.eventTimesChanged.emit({
            newStart: s.start,
            newEnd: s.end,
            event: n.event,
            type: co.Resize,
          }),
            this.allDayEventResizes.delete(n));
        }
      }
      getDayColumnWidth(n) {
        return Math.floor(n.offsetWidth / this.days.length);
      }
      dateDragEnter(n) {
        this.lastDragEnterDate = n;
      }
      eventDropped(n, r, i) {
        (Y6(n, r, i, this.calendarId) &&
          this.lastDragEnterDate.getTime() === r.getTime() &&
          (!this.snapDraggedEvents || n.dropData.event !== this.lastDraggedEvent) &&
          this.eventTimesChanged.emit({
            type: co.Drop,
            event: n.dropData.event,
            newStart: r,
            allDay: i,
          }),
          (this.lastDraggedEvent = null));
      }
      dragEnter(n) {
        this.eventDragEnterByType[n]++;
      }
      dragLeave(n) {
        this.eventDragEnterByType[n]--;
      }
      dragStarted(n, r, i, o) {
        this.dayColumnWidth = this.getDayColumnWidth(n);
        let s = new RE(n, r);
        ((this.validateDrag = ({ x: a, y: c, transform: u }) => {
          let d =
            this.allDayEventResizes.size === 0 &&
            this.timeEventResizes.size === 0 &&
            s.validateDrag({
              x: a,
              y: c,
              snapDraggedEvents: this.snapDraggedEvents,
              dragAlreadyMoved: this.dragAlreadyMoved,
              transform: u,
            });
          if (d && this.validateEventTimesChanged) {
            let p = this.getDragMovedEventTimes(i, { x: a, y: c }, this.dayColumnWidth, o);
            return this.validateEventTimesChanged({
              type: co.Drag,
              event: i.event,
              newStart: p.start,
              newEnd: p.end,
            });
          }
          return d;
        }),
          (this.dragActive = !0),
          (this.dragAlreadyMoved = !1),
          (this.lastDraggedEvent = null),
          (this.eventDragEnterByType = { allDay: 0, time: 0 }),
          !this.snapDraggedEvents &&
            o &&
            this.view.hourColumns.forEach((a) => {
              let c = a.events.find((u) => u.event === i.event && u !== i);
              c && ((c.width = 0), (c.height = 0));
            }),
          this.cdr.markForCheck());
      }
      dragMove(n, r) {
        let i = this.getDragMovedEventTimes(n, r, this.dayColumnWidth, !0),
          o = n.event,
          s = U(U({}, o), i),
          a = this.events.map((c) => (c === o ? s : c));
        (this.restoreOriginalEvents(a, new Map([[s, o]]), this.snapDraggedEvents),
          (this.dragAlreadyMoved = !0));
      }
      allDayEventDragMove() {
        this.dragAlreadyMoved = !0;
      }
      dragEnded(n, r, i, o = !1) {
        ((this.view = this.getWeekView(this.events)),
          (this.dragActive = !1),
          (this.validateDrag = null));
        let { start: s, end: a } = this.getDragMovedEventTimes(n, r, i, o);
        (this.snapDraggedEvents || this.eventDragEnterByType[o ? 'time' : 'allDay'] > 0) &&
          K6(s, a, this.view.period) &&
          ((this.lastDraggedEvent = n.event),
          this.eventTimesChanged.emit({
            newStart: s,
            newEnd: a,
            event: n.event,
            type: co.Drag,
            allDay: !o,
          }));
      }
      refreshHeader() {
        this.days = this.utils.getWeekViewHeader(
          U(
            {
              viewDate: this.viewDate,
              weekStartsOn: this.weekStartsOn,
              excluded: this.excludeDays,
              weekendDays: this.weekendDays,
            },
            xE(
              this.dateAdapter,
              this.viewDate,
              this.weekStartsOn,
              this.excludeDays,
              this.daysInWeek
            )
          )
        );
      }
      refreshBody() {
        this.view = this.getWeekView(this.events);
      }
      refreshAll() {
        (this.refreshHeader(), this.refreshBody(), this.emitBeforeViewRender());
      }
      emitBeforeViewRender() {
        this.days && this.view && this.beforeViewRender.emit(U({ header: this.days }, this.view));
      }
      getWeekView(n) {
        return this.utils.getWeekView(
          U(
            {
              events: n,
              viewDate: this.viewDate,
              weekStartsOn: this.weekStartsOn,
              excluded: this.excludeDays,
              precision: this.precision,
              absolutePositionedEvents: !0,
              hourSegments: this.hourSegments,
              hourDuration: this.hourDuration,
              dayStart: {
                hour: this.dayStartHour,
                minute: this.dayStartMinute,
              },
              dayEnd: { hour: this.dayEndHour, minute: this.dayEndMinute },
              segmentHeight: this.hourSegmentHeight,
              weekendDays: this.weekendDays,
              minimumEventHeight: this.minimumEventHeight,
            },
            xE(
              this.dateAdapter,
              this.viewDate,
              this.weekStartsOn,
              this.excludeDays,
              this.daysInWeek
            )
          )
        );
      }
      getDragMovedEventTimes(n, r, i, o) {
        let s = (UN(r.x, i) / i) * (this.rtl ? -1 : 1),
          a = o
            ? ME(
                r.y,
                this.hourSegments,
                this.hourSegmentHeight,
                this.eventSnapSize,
                this.hourDuration
              )
            : 0,
          c = this.dateAdapter.addMinutes(
            cs(this.dateAdapter, n.event.start, s, this.excludeDays),
            a
          ),
          u;
        return (
          n.event.end &&
            (u = this.dateAdapter.addMinutes(
              cs(this.dateAdapter, n.event.end, s, this.excludeDays),
              a
            )),
          { start: c, end: u }
        );
      }
      restoreOriginalEvents(n, r, i = !0) {
        let o = this.view;
        i && (this.view = this.getWeekView(n));
        let s = n.filter((a) => r.has(a));
        (this.view.hourColumns.forEach((a, c) => {
          (o.hourColumns[c].hours.forEach((u, d) => {
            u.segments.forEach((p, v) => {
              a.hours[d].segments[v].cssClass = p.cssClass;
            });
          }),
            s.forEach((u) => {
              let d = r.get(u),
                p = a.events.find((v) => v.event === (i ? u : d));
              if (p) ((p.event = d), (p.tempEvent = u), i || ((p.height = 0), (p.width = 0)));
              else {
                let v = {
                  event: d,
                  left: 0,
                  top: 0,
                  height: 0,
                  width: 0,
                  startsBeforeDay: !1,
                  endsAfterDay: !1,
                  tempEvent: u,
                };
                a.events.push(v);
              }
            }));
        }),
          r.clear());
      }
      getTimeEventResizedDates(n, r) {
        let i = {
            start: n.start,
            end: xN(this.dateAdapter, n, this.minimumEventHeight),
          },
          u = n,
          { end: o } = u,
          s = Gu(u, ['end']),
          a = {
            start: this.dateAdapter.addMinutes(i.end, this.minimumEventHeight * -1),
            end: xN(this.dateAdapter, s, this.minimumEventHeight),
          },
          c = this.rtl ? -1 : 1;
        if (typeof r.edges.left < 'u') {
          let d = Math.round(+r.edges.left / this.dayColumnWidth) * c,
            p = cs(this.dateAdapter, i.start, d, this.excludeDays);
          p < a.start ? (i.start = p) : (i.start = a.start);
        } else if (typeof r.edges.right < 'u') {
          let d = Math.round(+r.edges.right / this.dayColumnWidth) * c,
            p = cs(this.dateAdapter, i.end, d, this.excludeDays);
          p > a.end ? (i.end = p) : (i.end = a.end);
        }
        if (typeof r.edges.top < 'u') {
          let d = ME(
              r.edges.top,
              this.hourSegments,
              this.hourSegmentHeight,
              this.eventSnapSize,
              this.hourDuration
            ),
            p = this.dateAdapter.addMinutes(i.start, d);
          p < a.start ? (i.start = p) : (i.start = a.start);
        } else if (typeof r.edges.bottom < 'u') {
          let d = ME(
              r.edges.bottom,
              this.hourSegments,
              this.hourSegmentHeight,
              this.eventSnapSize,
              this.hourDuration
            ),
            p = this.dateAdapter.addMinutes(i.end, d);
          p > a.end ? (i.end = p) : (i.end = a.end);
        }
        return i;
      }
      resizeStarted(n, r, i) {
        this.dayColumnWidth = this.getDayColumnWidth(n);
        let o = new NE(n, i, this.rtl);
        ((this.validateResize = ({ rectangle: s, edges: a }) => {
          let c = o.validateResize({ rectangle: U({}, s), edges: a });
          if (c && this.validateEventTimesChanged) {
            let u;
            if (!i)
              u = this.getTimeEventResizedDates(r.event, {
                rectangle: s,
                edges: a,
              });
            else {
              let d = this.rtl ? -1 : 1;
              if (typeof a.left < 'u') {
                let p = Math.round(+a.left / i) * d;
                u = this.getAllDayEventResizedDates(r.event, p, !this.rtl);
              } else {
                let p = Math.round(+a.right / i) * d;
                u = this.getAllDayEventResizedDates(r.event, p, this.rtl);
              }
            }
            return this.validateEventTimesChanged({
              type: co.Resize,
              event: r.event,
              newStart: u.start,
              newEnd: u.end,
            });
          }
          return c;
        }),
          this.cdr.markForCheck());
      }
      getAllDayEventResizedDates(n, r, i) {
        let o = n.start,
          s = n.end || n.start;
        return (
          i
            ? (o = cs(this.dateAdapter, o, r, this.excludeDays))
            : (s = cs(this.dateAdapter, s, r, this.excludeDays)),
          { start: o, end: s }
        );
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)(k(ur), k(Rp), k(lr), k(yi), k(Je));
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-week-view']],
        inputs: {
          viewDate: 'viewDate',
          events: 'events',
          excludeDays: 'excludeDays',
          refresh: 'refresh',
          locale: 'locale',
          tooltipPlacement: 'tooltipPlacement',
          tooltipTemplate: 'tooltipTemplate',
          tooltipAppendToBody: 'tooltipAppendToBody',
          tooltipDelay: 'tooltipDelay',
          weekStartsOn: 'weekStartsOn',
          headerTemplate: 'headerTemplate',
          eventTemplate: 'eventTemplate',
          eventTitleTemplate: 'eventTitleTemplate',
          eventActionsTemplate: 'eventActionsTemplate',
          precision: 'precision',
          weekendDays: 'weekendDays',
          snapDraggedEvents: 'snapDraggedEvents',
          hourSegments: 'hourSegments',
          hourDuration: 'hourDuration',
          hourSegmentHeight: 'hourSegmentHeight',
          minimumEventHeight: 'minimumEventHeight',
          dayStartHour: 'dayStartHour',
          dayStartMinute: 'dayStartMinute',
          dayEndHour: 'dayEndHour',
          dayEndMinute: 'dayEndMinute',
          hourSegmentTemplate: 'hourSegmentTemplate',
          eventSnapSize: 'eventSnapSize',
          allDayEventsLabelTemplate: 'allDayEventsLabelTemplate',
          daysInWeek: 'daysInWeek',
          currentTimeMarkerTemplate: 'currentTimeMarkerTemplate',
          validateEventTimesChanged: 'validateEventTimesChanged',
          resizeCursors: 'resizeCursors',
        },
        outputs: {
          dayHeaderClicked: 'dayHeaderClicked',
          eventClicked: 'eventClicked',
          eventTimesChanged: 'eventTimesChanged',
          beforeViewRender: 'beforeViewRender',
          hourSegmentClicked: 'hourSegmentClicked',
        },
        features: [zt],
        decls: 8,
        vars: 9,
        consts: [
          ['dayColumns', ''],
          ['allDayEventsContainer', ''],
          ['eventRowContainer', ''],
          ['event', ''],
          ['weekEventTemplate', ''],
          ['role', 'grid', 1, 'cal-week-view'],
          [3, 'dayHeaderClicked', 'eventDropped', 'dragEnter', 'days', 'locale', 'customTemplate'],
          [
            'class',
            'cal-all-day-events',
            'mwlDroppable',
            '',
            3,
            'dragEnter',
            'dragLeave',
            4,
            'ngIf',
          ],
          ['mwlDroppable', '', 1, 'cal-time-events', 3, 'dragEnter', 'dragLeave'],
          ['class', 'cal-time-label-column', 4, 'ngIf'],
          [1, 'cal-day-columns'],
          ['class', 'cal-day-column', 4, 'ngFor', 'ngForOf', 'ngForTrackBy'],
          ['mwlDroppable', '', 1, 'cal-all-day-events', 3, 'dragEnter', 'dragLeave'],
          [1, 'cal-time-label-column'],
          [4, 'ngTemplateOutlet'],
          [
            'class',
            'cal-day-column',
            'mwlDroppable',
            '',
            'dragOverClass',
            'cal-drag-over',
            3,
            'drop',
            'dragEnter',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          ['class', 'cal-events-row', 4, 'ngFor', 'ngForOf', 'ngForTrackBy'],
          [
            'mwlDroppable',
            '',
            'dragOverClass',
            'cal-drag-over',
            1,
            'cal-day-column',
            3,
            'drop',
            'dragEnter',
          ],
          [1, 'cal-events-row'],
          [
            'class',
            'cal-event-container',
            'mwlResizable',
            '',
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            3,
            'cal-draggable',
            'cal-starts-within-week',
            'cal-ends-within-week',
            'ngClass',
            'width',
            'marginLeft',
            'marginRight',
            'resizeCursors',
            'resizeSnapGrid',
            'validateResize',
            'dropData',
            'dragAxis',
            'dragSnapGrid',
            'validateDrag',
            'touchStartLongPress',
            'resizeStart',
            'resizing',
            'resizeEnd',
            'dragStart',
            'dragging',
            'dragEnd',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'mwlResizable',
            '',
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            1,
            'cal-event-container',
            3,
            'resizeStart',
            'resizing',
            'resizeEnd',
            'dragStart',
            'dragging',
            'dragEnd',
            'ngClass',
            'resizeCursors',
            'resizeSnapGrid',
            'validateResize',
            'dropData',
            'dragAxis',
            'dragSnapGrid',
            'validateDrag',
            'touchStartLongPress',
          ],
          [
            'class',
            'cal-resize-handle cal-resize-handle-before-start',
            'mwlResizeHandle',
            '',
            3,
            'resizeEdges',
            4,
            'ngIf',
          ],
          [
            3,
            'eventClicked',
            'locale',
            'weekEvent',
            'tooltipPlacement',
            'tooltipTemplate',
            'tooltipAppendToBody',
            'tooltipDelay',
            'customTemplate',
            'eventTitleTemplate',
            'eventActionsTemplate',
            'daysInWeek',
          ],
          [
            'class',
            'cal-resize-handle cal-resize-handle-after-end',
            'mwlResizeHandle',
            '',
            3,
            'resizeEdges',
            4,
            'ngIf',
          ],
          [
            'mwlResizeHandle',
            '',
            1,
            'cal-resize-handle',
            'cal-resize-handle-before-start',
            3,
            'resizeEdges',
          ],
          [
            'mwlResizeHandle',
            '',
            1,
            'cal-resize-handle',
            'cal-resize-handle-after-end',
            3,
            'resizeEdges',
          ],
          ['class', 'cal-hour', 3, 'cal-hour-odd', 4, 'ngFor', 'ngForOf', 'ngForTrackBy'],
          [1, 'cal-hour'],
          [
            3,
            'height',
            'segment',
            'segmentHeight',
            'locale',
            'customTemplate',
            'isTimeLabel',
            'daysInWeek',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [3, 'segment', 'segmentHeight', 'locale', 'customTemplate', 'isTimeLabel', 'daysInWeek'],
          [1, 'cal-day-column'],
          [
            3,
            'columnDate',
            'dayStartHour',
            'dayStartMinute',
            'dayEndHour',
            'dayEndMinute',
            'hourSegments',
            'hourDuration',
            'hourSegmentHeight',
            'customTemplate',
          ],
          [1, 'cal-events-container'],
          [
            'class',
            'cal-event-container',
            'mwlResizable',
            '',
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            3,
            'cal-draggable',
            'cal-starts-within-day',
            'cal-ends-within-day',
            'ngClass',
            'hidden',
            'top',
            'height',
            'left',
            'width',
            'resizeCursors',
            'resizeSnapGrid',
            'validateResize',
            'allowNegativeResizes',
            'dropData',
            'dragAxis',
            'dragSnapGrid',
            'touchStartLongPress',
            'ghostDragEnabled',
            'ghostElementTemplate',
            'validateDrag',
            'resizeStart',
            'resizing',
            'resizeEnd',
            'dragStart',
            'dragging',
            'dragEnd',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'mwlResizable',
            '',
            'mwlDraggable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            1,
            'cal-event-container',
            3,
            'resizeStart',
            'resizing',
            'resizeEnd',
            'dragStart',
            'dragging',
            'dragEnd',
            'ngClass',
            'hidden',
            'resizeCursors',
            'resizeSnapGrid',
            'validateResize',
            'allowNegativeResizes',
            'dropData',
            'dragAxis',
            'dragSnapGrid',
            'touchStartLongPress',
            'ghostDragEnabled',
            'ghostElementTemplate',
            'validateDrag',
          ],
          [3, 'ngTemplateOutlet'],
          [
            3,
            'eventClicked',
            'locale',
            'weekEvent',
            'tooltipPlacement',
            'tooltipTemplate',
            'tooltipAppendToBody',
            'tooltipDisabled',
            'tooltipDelay',
            'customTemplate',
            'eventTitleTemplate',
            'eventActionsTemplate',
            'column',
            'daysInWeek',
          ],
          [
            'mwlDroppable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            3,
            'height',
            'segment',
            'segmentHeight',
            'locale',
            'customTemplate',
            'daysInWeek',
            'clickListenerDisabled',
            'dragOverClass',
            'isTimeLabel',
            'mwlClick',
            'drop',
            'dragEnter',
            4,
            'ngFor',
            'ngForOf',
            'ngForTrackBy',
          ],
          [
            'mwlDroppable',
            '',
            'dragActiveClass',
            'cal-drag-active',
            3,
            'mwlClick',
            'drop',
            'dragEnter',
            'segment',
            'segmentHeight',
            'locale',
            'customTemplate',
            'daysInWeek',
            'clickListenerDisabled',
            'dragOverClass',
            'isTimeLabel',
          ],
        ],
        template: function (n, r) {
          if (n & 1) {
            let i = nt();
            (R(0, 'div', 5)(1, 'mwl-calendar-week-view-header', 6),
              ae('dayHeaderClicked', function (s) {
                return (J(i), ee(r.dayHeaderClicked.emit(s)));
              })('eventDropped', function (s) {
                return (J(i), ee(r.eventDropped({ dropData: s }, s.newStart, !0)));
              })('dragEnter', function (s) {
                return (J(i), ee(r.dateDragEnter(s.date)));
              }),
              P(),
              ne(2, S6, 7, 5, 'div', 7),
              R(3, 'div', 8),
              ae('dragEnter', function () {
                return (J(i), ee(r.dragEnter('time')));
              })('dragLeave', function () {
                return (J(i), ee(r.dragLeave('time')));
              }),
              ne(4, x6, 2, 2, 'div', 9),
              R(5, 'div', 10, 0),
              ne(7, L6, 5, 13, 'div', 11),
              P()()());
          }
          n & 2 &&
            (V(),
            L('days', r.days)('locale', r.locale)('customTemplate', r.headerTemplate),
            V(),
            L('ngIf', r.view.allDayEventRows.length > 0),
            V(2),
            L('ngIf', r.view.hourColumns.length > 0 && r.daysInWeek !== 1),
            V(),
            pt('cal-resize-active', r.timeEventResizes.size > 0),
            V(2),
            L('ngForOf', r.view.hourColumns)('ngForTrackBy', r.trackByHourColumn));
        },
        dependencies: [Bn, Hn, bt, $n, SE, AN, Dp, Cp, ls, t9, n9, r9, i9],
        encapsulation: 2,
      })),
      t
    );
  })(),
  kE = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵmod = Dt({ type: t })),
      (t.ɵinj = It({ imports: [at, AE, nu, ou, AE, nu] })),
      t
    );
  })(),
  $N = (() => {
    class t {
      constructor() {
        ((this.events = []),
          (this.hourSegments = 2),
          (this.hourSegmentHeight = 30),
          (this.minimumEventHeight = 30),
          (this.dayStartHour = 0),
          (this.dayStartMinute = 0),
          (this.dayEndHour = 23),
          (this.dayEndMinute = 59),
          (this.tooltipPlacement = 'auto'),
          (this.tooltipAppendToBody = !0),
          (this.tooltipDelay = null),
          (this.snapDraggedEvents = !0),
          (this.eventClicked = new K()),
          (this.hourSegmentClicked = new K()),
          (this.eventTimesChanged = new K()),
          (this.beforeViewRender = new K()));
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵcmp = Oe({
        type: t,
        selectors: [['mwl-calendar-day-view']],
        inputs: {
          viewDate: 'viewDate',
          events: 'events',
          hourSegments: 'hourSegments',
          hourSegmentHeight: 'hourSegmentHeight',
          hourDuration: 'hourDuration',
          minimumEventHeight: 'minimumEventHeight',
          dayStartHour: 'dayStartHour',
          dayStartMinute: 'dayStartMinute',
          dayEndHour: 'dayEndHour',
          dayEndMinute: 'dayEndMinute',
          refresh: 'refresh',
          locale: 'locale',
          eventSnapSize: 'eventSnapSize',
          tooltipPlacement: 'tooltipPlacement',
          tooltipTemplate: 'tooltipTemplate',
          tooltipAppendToBody: 'tooltipAppendToBody',
          tooltipDelay: 'tooltipDelay',
          hourSegmentTemplate: 'hourSegmentTemplate',
          eventTemplate: 'eventTemplate',
          eventTitleTemplate: 'eventTitleTemplate',
          eventActionsTemplate: 'eventActionsTemplate',
          snapDraggedEvents: 'snapDraggedEvents',
          allDayEventsLabelTemplate: 'allDayEventsLabelTemplate',
          currentTimeMarkerTemplate: 'currentTimeMarkerTemplate',
          validateEventTimesChanged: 'validateEventTimesChanged',
          resizeCursors: 'resizeCursors',
        },
        outputs: {
          eventClicked: 'eventClicked',
          hourSegmentClicked: 'hourSegmentClicked',
          eventTimesChanged: 'eventTimesChanged',
          beforeViewRender: 'beforeViewRender',
        },
        decls: 1,
        vars: 27,
        consts: [
          [
            1,
            'cal-day-view',
            3,
            'eventClicked',
            'hourSegmentClicked',
            'eventTimesChanged',
            'beforeViewRender',
            'daysInWeek',
            'viewDate',
            'events',
            'hourSegments',
            'hourDuration',
            'hourSegmentHeight',
            'minimumEventHeight',
            'dayStartHour',
            'dayStartMinute',
            'dayEndHour',
            'dayEndMinute',
            'refresh',
            'locale',
            'eventSnapSize',
            'tooltipPlacement',
            'tooltipTemplate',
            'tooltipAppendToBody',
            'tooltipDelay',
            'resizeCursors',
            'hourSegmentTemplate',
            'eventTemplate',
            'eventTitleTemplate',
            'eventActionsTemplate',
            'snapDraggedEvents',
            'allDayEventsLabelTemplate',
            'currentTimeMarkerTemplate',
            'validateEventTimesChanged',
          ],
        ],
        template: function (n, r) {
          (n & 1 &&
            (R(0, 'mwl-calendar-week-view', 0),
            ae('eventClicked', function (o) {
              return r.eventClicked.emit(o);
            })('hourSegmentClicked', function (o) {
              return r.hourSegmentClicked.emit(o);
            })('eventTimesChanged', function (o) {
              return r.eventTimesChanged.emit(o);
            })('beforeViewRender', function (o) {
              return r.beforeViewRender.emit(o);
            }),
            P()),
            n & 2 &&
              L('daysInWeek', 1)('viewDate', r.viewDate)('events', r.events)(
                'hourSegments',
                r.hourSegments
              )('hourDuration', r.hourDuration)('hourSegmentHeight', r.hourSegmentHeight)(
                'minimumEventHeight',
                r.minimumEventHeight
              )('dayStartHour', r.dayStartHour)('dayStartMinute', r.dayStartMinute)(
                'dayEndHour',
                r.dayEndHour
              )('dayEndMinute', r.dayEndMinute)('refresh', r.refresh)('locale', r.locale)(
                'eventSnapSize',
                r.eventSnapSize
              )('tooltipPlacement', r.tooltipPlacement)('tooltipTemplate', r.tooltipTemplate)(
                'tooltipAppendToBody',
                r.tooltipAppendToBody
              )('tooltipDelay', r.tooltipDelay)('resizeCursors', r.resizeCursors)(
                'hourSegmentTemplate',
                r.hourSegmentTemplate
              )('eventTemplate', r.eventTemplate)('eventTitleTemplate', r.eventTitleTemplate)(
                'eventActionsTemplate',
                r.eventActionsTemplate
              )('snapDraggedEvents', r.snapDraggedEvents)(
                'allDayEventsLabelTemplate',
                r.allDayEventsLabelTemplate
              )('currentTimeMarkerTemplate', r.currentTimeMarkerTemplate)(
                'validateEventTimesChanged',
                r.validateEventTimesChanged
              ));
        },
        dependencies: [LE],
        encapsulation: 2,
      })),
      t
    );
  })(),
  NN = (() => {
    class t {}
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵmod = Dt({ type: t })),
      (t.ɵinj = It({ imports: [at, ou, kE] })),
      t
    );
  })(),
  jE = (() => {
    class t {
      static forRoot(n, r = {}) {
        return {
          ngModule: t,
          providers: [
            n,
            r.eventTitleFormatter || iu,
            r.dateFormatter || Sp,
            r.utils || Rp,
            r.a11y || Tp,
          ],
        };
      }
    }
    return (
      (t.ɵfac = function (n) {
        return new (n || t)();
      }),
      (t.ɵmod = Dt({ type: t })),
      (t.ɵinj = It({ imports: [ou, RN, kE, NN, ou, RN, kE, NN] })),
      t
    );
  })();
var s9 = Math.pow(10, 8) * 24 * 60 * 60 * 1e3,
  Pie = -s9,
  zN = 6048e5,
  WN = 864e5,
  Np = 6e4,
  qN = 36e5;
var a9 = 3600;
var GN = a9 * 24,
  Oie = GN * 7,
  c9 = GN * 365.2425,
  l9 = c9 / 12,
  Fie = l9 * 3,
  UE = Symbol.for('constructDateFrom');
function Xe(t, e) {
  return typeof t == 'function'
    ? t(e)
    : t && typeof t == 'object' && UE in t
      ? t[UE](e)
      : t instanceof Date
        ? new t.constructor(e)
        : new Date(e);
}
function te(t, e) {
  return Xe(e || t, t);
}
function Fa(t, e, n) {
  let r = te(t, n?.in);
  return isNaN(e) ? Xe(n?.in || t, NaN) : (e && r.setDate(r.getDate() + e), r);
}
function Va(t, e, n) {
  let r = te(t, n?.in);
  if (isNaN(e)) return Xe(n?.in || t, NaN);
  if (!e) return r;
  let i = r.getDate(),
    o = Xe(n?.in || t, r.getTime());
  o.setMonth(r.getMonth() + e + 1, 0);
  let s = o.getDate();
  return i >= s ? o : (r.setFullYear(o.getFullYear(), o.getMonth(), i), r);
}
function kp(t, e, n) {
  return Xe(n?.in || t, +te(t) + e);
}
function KN(t, e, n) {
  return kp(t, e * qN, n);
}
var u9 = {};
function Pp() {
  return u9;
}
function Op(t, e) {
  let n = Pp(),
    r =
      e?.weekStartsOn ??
      e?.locale?.options?.weekStartsOn ??
      n.weekStartsOn ??
      n.locale?.options?.weekStartsOn ??
      0,
    i = te(t, e?.in),
    o = i.getDay(),
    s = (o < r ? 7 : 0) + o - r;
  return (i.setDate(i.getDate() - s), i.setHours(0, 0, 0, 0), i);
}
function ds(t, e) {
  return Op(t, ve(U({}, e), { weekStartsOn: 1 }));
}
function YN(t, e) {
  let n = te(t, e?.in),
    r = n.getFullYear(),
    i = Xe(n, 0);
  (i.setFullYear(r + 1, 0, 4), i.setHours(0, 0, 0, 0));
  let o = ds(i),
    s = Xe(n, 0);
  (s.setFullYear(r, 0, 4), s.setHours(0, 0, 0, 0));
  let a = ds(s);
  return n.getTime() >= o.getTime() ? r + 1 : n.getTime() >= a.getTime() ? r : r - 1;
}
function BE(t) {
  let e = te(t),
    n = new Date(
      Date.UTC(
        e.getFullYear(),
        e.getMonth(),
        e.getDate(),
        e.getHours(),
        e.getMinutes(),
        e.getSeconds(),
        e.getMilliseconds()
      )
    );
  return (n.setUTCFullYear(e.getFullYear()), +t - +n);
}
function lo(t, ...e) {
  let n = Xe.bind(null, t || e.find((r) => typeof r == 'object'));
  return e.map(n);
}
function uo(t, e) {
  let n = te(t, e?.in);
  return (n.setHours(0, 0, 0, 0), n);
}
function QN(t, e, n) {
  let [r, i] = lo(n?.in, t, e),
    o = uo(r),
    s = uo(i),
    a = +o - BE(o),
    c = +s - BE(s);
  return Math.round((a - c) / WN);
}
function XN(t, e) {
  let n = YN(t, e),
    r = Xe(e?.in || t, 0);
  return (r.setFullYear(n, 0, 4), r.setHours(0, 0, 0, 0), ds(r));
}
function ZN(t, e, n) {
  let r = te(t, n?.in);
  return (r.setTime(r.getTime() + e * Np), r);
}
function JN(t, e, n) {
  return kp(t, e * 1e3, n);
}
function Fp(t, e, n) {
  return Fa(t, e * 7, n);
}
function ek(t, e) {
  let n,
    r = e?.in;
  return (
    t.forEach((i) => {
      !r && typeof i == 'object' && (r = Xe.bind(null, i));
      let o = te(i, r);
      (!n || n < o || isNaN(+o)) && (n = o);
    }),
    Xe(r, n || NaN)
  );
}
function tk(t, e, n) {
  let [r, i] = lo(n?.in, t, e);
  return +uo(r) == +uo(i);
}
function rk(t, e, n) {
  let [r, i] = lo(n?.in, t, e),
    o = nk(r, i),
    s = Math.abs(QN(r, i));
  r.setDate(r.getDate() - o * s);
  let a = +(nk(r, i) === -o),
    c = o * (s - a);
  return c === 0 ? 0 : c;
}
function nk(t, e) {
  let n =
    t.getFullYear() - e.getFullYear() ||
    t.getMonth() - e.getMonth() ||
    t.getDate() - e.getDate() ||
    t.getHours() - e.getHours() ||
    t.getMinutes() - e.getMinutes() ||
    t.getSeconds() - e.getSeconds() ||
    t.getMilliseconds() - e.getMilliseconds();
  return n < 0 ? -1 : n > 0 ? 1 : n;
}
function Vp(t) {
  return (e) => {
    let r = (t ? Math[t] : Math.trunc)(e);
    return r === 0 ? 0 : r;
  };
}
function Lp(t, e) {
  return +te(t) - +te(e);
}
function ik(t, e, n) {
  let r = Lp(t, e) / Np;
  return Vp(n?.roundingMethod)(r);
}
function ok(t, e) {
  let n = te(t, e?.in);
  return (n.setHours(23, 59, 59, 999), n);
}
function sk(t, e) {
  let n = te(t, e?.in),
    r = n.getMonth();
  return (n.setFullYear(n.getFullYear(), r + 1, 0), n.setHours(23, 59, 59, 999), n);
}
function ak(t, e, n) {
  let r = Lp(t, e) / 1e3;
  return Vp(n?.roundingMethod)(r);
}
function ck(t, e) {
  let n = te(t, e?.in);
  return (n.setDate(1), n.setHours(0, 0, 0, 0), n);
}
function lk(t, e) {
  let n = Pp(),
    r =
      e?.weekStartsOn ??
      e?.locale?.options?.weekStartsOn ??
      n.weekStartsOn ??
      n.locale?.options?.weekStartsOn ??
      0,
    i = te(t, e?.in),
    o = i.getDay(),
    s = (o < r ? -7 : 0) + 6 - (o - r);
  return (i.setDate(i.getDate() + s), i.setHours(23, 59, 59, 999), i);
}
function uk(t, e) {
  let n = te(t, e?.in),
    r = +ds(n) - +XN(n);
  return Math.round(r / zN) + 1;
}
function dk(t, e) {
  return te(t, e?.in).getDate();
}
function hk(t, e) {
  return te(t, e?.in).getDay();
}
function fk(t, e) {
  let n = te(t, e?.in),
    r = n.getFullYear(),
    i = n.getMonth(),
    o = Xe(n, 0);
  return (o.setFullYear(r, i + 1, 0), o.setHours(0, 0, 0, 0), o.getDate());
}
function pk(t, e) {
  return te(t, e?.in).getHours();
}
function mk(t, e) {
  return te(t, e?.in).getMinutes();
}
function gk(t, e) {
  return te(t, e?.in).getMonth();
}
function vk(t, e) {
  return te(t, e?.in).getFullYear();
}
function yk(t, e) {
  let n = te(t, e?.in);
  return (n.setSeconds(0, 0), n);
}
function _k(t, e, n) {
  let [r, i] = lo(n?.in, t, e);
  return r.getFullYear() === i.getFullYear() && r.getMonth() === i.getMonth();
}
function HE(t, e) {
  let n = te(t, e?.in);
  return (n.setMilliseconds(0), n);
}
function wk(t, e) {
  return +HE(t) == +HE(e);
}
function Ek(t, e, n) {
  return Fa(t, -e, n);
}
function Ik(t, e, n) {
  let r = te(t, n?.in),
    i = r.getFullYear(),
    o = r.getDate(),
    s = Xe(n?.in || t, 0);
  (s.setFullYear(i, e, 15), s.setHours(0, 0, 0, 0));
  let a = fk(s);
  return (r.setMonth(e, Math.min(o, a)), r);
}
function Dk(t, e, n) {
  let r = te(t, n?.in);
  return (r.setDate(e), r);
}
function Ck(t, e, n) {
  let r = te(t, n?.in);
  return (r.setHours(e), r);
}
function bk(t, e, n) {
  let r = te(t, n?.in);
  return (r.setMinutes(e), r);
}
function Tk(t, e, n) {
  let r = te(t, n?.in);
  return isNaN(+r) ? Xe(n?.in || t, NaN) : (r.setFullYear(e), r);
}
function jp(t, e, n) {
  return Va(t, -e, n);
}
function Sk(t, e, n) {
  return Fp(t, -e, n);
}
function d9(t) {
  return new Date(t).getTimezoneOffset();
}
function Ak() {
  return {
    addDays: Fa,
    addHours: KN,
    addMinutes: ZN,
    addSeconds: JN,
    differenceInDays: rk,
    differenceInMinutes: ik,
    differenceInSeconds: ak,
    endOfDay: ok,
    endOfMonth: sk,
    endOfWeek: lk,
    getDay: hk,
    getMonth: gk,
    isSameDay: tk,
    isSameMonth: _k,
    isSameSecond: wk,
    max: ek,
    setHours: Ck,
    setMinutes: bk,
    startOfDay: uo,
    startOfMinute: yk,
    startOfMonth: ck,
    startOfWeek: Op,
    getHours: pk,
    getMinutes: mk,
    getTimezoneOffset: d9,
  };
}
function Mk() {
  return kc(kc({}, Ak()), {
    addWeeks: Fp,
    addMonths: Va,
    subDays: Ek,
    subWeeks: Sk,
    subMonths: jp,
    getISOWeek: uk,
    setDate: Dk,
    setMonth: Ik,
    setYear: Tk,
    getDate: dk,
    getYear: vk,
  });
}
var xk = (() => {
  class t {
    static ɵfac = function (r) {
      return new (r || t)();
    };
    static ɵmod = Dt({ type: t });
    static ɵinj = It({
      imports: [at, jE.forRoot({ provide: yi, useFactory: Mk }), jE],
    });
  }
  return t;
})();
var Rk =
    typeof globalThis < 'u'
      ? globalThis
      : typeof window < 'u'
        ? window
        : typeof global < 'u'
          ? global
          : typeof self < 'u'
            ? self
            : {},
  Nk = {};
var ho, $E;
(function () {
  var t;
  function e(T, y) {
    function _() {}
    ((_.prototype = y.prototype),
      (T.D = y.prototype),
      (T.prototype = new _()),
      (T.prototype.constructor = T),
      (T.C = function (b, w, I) {
        for (var E = Array(arguments.length - 2), Ae = 2; Ae < arguments.length; Ae++)
          E[Ae - 2] = arguments[Ae];
        return y.prototype[w].apply(b, E);
      }));
  }
  function n() {
    this.blockSize = -1;
  }
  function r() {
    ((this.blockSize = -1),
      (this.blockSize = 64),
      (this.g = Array(4)),
      (this.B = Array(this.blockSize)),
      (this.o = this.h = 0),
      this.s());
  }
  (e(r, n),
    (r.prototype.s = function () {
      ((this.g[0] = 1732584193),
        (this.g[1] = 4023233417),
        (this.g[2] = 2562383102),
        (this.g[3] = 271733878),
        (this.o = this.h = 0));
    }));
  function i(T, y, _) {
    _ || (_ = 0);
    var b = Array(16);
    if (typeof y == 'string')
      for (var w = 0; 16 > w; ++w)
        b[w] =
          y.charCodeAt(_++) |
          (y.charCodeAt(_++) << 8) |
          (y.charCodeAt(_++) << 16) |
          (y.charCodeAt(_++) << 24);
    else for (w = 0; 16 > w; ++w) b[w] = y[_++] | (y[_++] << 8) | (y[_++] << 16) | (y[_++] << 24);
    ((y = T.g[0]), (_ = T.g[1]), (w = T.g[2]));
    var I = T.g[3],
      E = (y + (I ^ (_ & (w ^ I))) + b[0] + 3614090360) & 4294967295;
    ((y = _ + (((E << 7) & 4294967295) | (E >>> 25))),
      (E = (I + (w ^ (y & (_ ^ w))) + b[1] + 3905402710) & 4294967295),
      (I = y + (((E << 12) & 4294967295) | (E >>> 20))),
      (E = (w + (_ ^ (I & (y ^ _))) + b[2] + 606105819) & 4294967295),
      (w = I + (((E << 17) & 4294967295) | (E >>> 15))),
      (E = (_ + (y ^ (w & (I ^ y))) + b[3] + 3250441966) & 4294967295),
      (_ = w + (((E << 22) & 4294967295) | (E >>> 10))),
      (E = (y + (I ^ (_ & (w ^ I))) + b[4] + 4118548399) & 4294967295),
      (y = _ + (((E << 7) & 4294967295) | (E >>> 25))),
      (E = (I + (w ^ (y & (_ ^ w))) + b[5] + 1200080426) & 4294967295),
      (I = y + (((E << 12) & 4294967295) | (E >>> 20))),
      (E = (w + (_ ^ (I & (y ^ _))) + b[6] + 2821735955) & 4294967295),
      (w = I + (((E << 17) & 4294967295) | (E >>> 15))),
      (E = (_ + (y ^ (w & (I ^ y))) + b[7] + 4249261313) & 4294967295),
      (_ = w + (((E << 22) & 4294967295) | (E >>> 10))),
      (E = (y + (I ^ (_ & (w ^ I))) + b[8] + 1770035416) & 4294967295),
      (y = _ + (((E << 7) & 4294967295) | (E >>> 25))),
      (E = (I + (w ^ (y & (_ ^ w))) + b[9] + 2336552879) & 4294967295),
      (I = y + (((E << 12) & 4294967295) | (E >>> 20))),
      (E = (w + (_ ^ (I & (y ^ _))) + b[10] + 4294925233) & 4294967295),
      (w = I + (((E << 17) & 4294967295) | (E >>> 15))),
      (E = (_ + (y ^ (w & (I ^ y))) + b[11] + 2304563134) & 4294967295),
      (_ = w + (((E << 22) & 4294967295) | (E >>> 10))),
      (E = (y + (I ^ (_ & (w ^ I))) + b[12] + 1804603682) & 4294967295),
      (y = _ + (((E << 7) & 4294967295) | (E >>> 25))),
      (E = (I + (w ^ (y & (_ ^ w))) + b[13] + 4254626195) & 4294967295),
      (I = y + (((E << 12) & 4294967295) | (E >>> 20))),
      (E = (w + (_ ^ (I & (y ^ _))) + b[14] + 2792965006) & 4294967295),
      (w = I + (((E << 17) & 4294967295) | (E >>> 15))),
      (E = (_ + (y ^ (w & (I ^ y))) + b[15] + 1236535329) & 4294967295),
      (_ = w + (((E << 22) & 4294967295) | (E >>> 10))),
      (E = (y + (w ^ (I & (_ ^ w))) + b[1] + 4129170786) & 4294967295),
      (y = _ + (((E << 5) & 4294967295) | (E >>> 27))),
      (E = (I + (_ ^ (w & (y ^ _))) + b[6] + 3225465664) & 4294967295),
      (I = y + (((E << 9) & 4294967295) | (E >>> 23))),
      (E = (w + (y ^ (_ & (I ^ y))) + b[11] + 643717713) & 4294967295),
      (w = I + (((E << 14) & 4294967295) | (E >>> 18))),
      (E = (_ + (I ^ (y & (w ^ I))) + b[0] + 3921069994) & 4294967295),
      (_ = w + (((E << 20) & 4294967295) | (E >>> 12))),
      (E = (y + (w ^ (I & (_ ^ w))) + b[5] + 3593408605) & 4294967295),
      (y = _ + (((E << 5) & 4294967295) | (E >>> 27))),
      (E = (I + (_ ^ (w & (y ^ _))) + b[10] + 38016083) & 4294967295),
      (I = y + (((E << 9) & 4294967295) | (E >>> 23))),
      (E = (w + (y ^ (_ & (I ^ y))) + b[15] + 3634488961) & 4294967295),
      (w = I + (((E << 14) & 4294967295) | (E >>> 18))),
      (E = (_ + (I ^ (y & (w ^ I))) + b[4] + 3889429448) & 4294967295),
      (_ = w + (((E << 20) & 4294967295) | (E >>> 12))),
      (E = (y + (w ^ (I & (_ ^ w))) + b[9] + 568446438) & 4294967295),
      (y = _ + (((E << 5) & 4294967295) | (E >>> 27))),
      (E = (I + (_ ^ (w & (y ^ _))) + b[14] + 3275163606) & 4294967295),
      (I = y + (((E << 9) & 4294967295) | (E >>> 23))),
      (E = (w + (y ^ (_ & (I ^ y))) + b[3] + 4107603335) & 4294967295),
      (w = I + (((E << 14) & 4294967295) | (E >>> 18))),
      (E = (_ + (I ^ (y & (w ^ I))) + b[8] + 1163531501) & 4294967295),
      (_ = w + (((E << 20) & 4294967295) | (E >>> 12))),
      (E = (y + (w ^ (I & (_ ^ w))) + b[13] + 2850285829) & 4294967295),
      (y = _ + (((E << 5) & 4294967295) | (E >>> 27))),
      (E = (I + (_ ^ (w & (y ^ _))) + b[2] + 4243563512) & 4294967295),
      (I = y + (((E << 9) & 4294967295) | (E >>> 23))),
      (E = (w + (y ^ (_ & (I ^ y))) + b[7] + 1735328473) & 4294967295),
      (w = I + (((E << 14) & 4294967295) | (E >>> 18))),
      (E = (_ + (I ^ (y & (w ^ I))) + b[12] + 2368359562) & 4294967295),
      (_ = w + (((E << 20) & 4294967295) | (E >>> 12))),
      (E = (y + (_ ^ w ^ I) + b[5] + 4294588738) & 4294967295),
      (y = _ + (((E << 4) & 4294967295) | (E >>> 28))),
      (E = (I + (y ^ _ ^ w) + b[8] + 2272392833) & 4294967295),
      (I = y + (((E << 11) & 4294967295) | (E >>> 21))),
      (E = (w + (I ^ y ^ _) + b[11] + 1839030562) & 4294967295),
      (w = I + (((E << 16) & 4294967295) | (E >>> 16))),
      (E = (_ + (w ^ I ^ y) + b[14] + 4259657740) & 4294967295),
      (_ = w + (((E << 23) & 4294967295) | (E >>> 9))),
      (E = (y + (_ ^ w ^ I) + b[1] + 2763975236) & 4294967295),
      (y = _ + (((E << 4) & 4294967295) | (E >>> 28))),
      (E = (I + (y ^ _ ^ w) + b[4] + 1272893353) & 4294967295),
      (I = y + (((E << 11) & 4294967295) | (E >>> 21))),
      (E = (w + (I ^ y ^ _) + b[7] + 4139469664) & 4294967295),
      (w = I + (((E << 16) & 4294967295) | (E >>> 16))),
      (E = (_ + (w ^ I ^ y) + b[10] + 3200236656) & 4294967295),
      (_ = w + (((E << 23) & 4294967295) | (E >>> 9))),
      (E = (y + (_ ^ w ^ I) + b[13] + 681279174) & 4294967295),
      (y = _ + (((E << 4) & 4294967295) | (E >>> 28))),
      (E = (I + (y ^ _ ^ w) + b[0] + 3936430074) & 4294967295),
      (I = y + (((E << 11) & 4294967295) | (E >>> 21))),
      (E = (w + (I ^ y ^ _) + b[3] + 3572445317) & 4294967295),
      (w = I + (((E << 16) & 4294967295) | (E >>> 16))),
      (E = (_ + (w ^ I ^ y) + b[6] + 76029189) & 4294967295),
      (_ = w + (((E << 23) & 4294967295) | (E >>> 9))),
      (E = (y + (_ ^ w ^ I) + b[9] + 3654602809) & 4294967295),
      (y = _ + (((E << 4) & 4294967295) | (E >>> 28))),
      (E = (I + (y ^ _ ^ w) + b[12] + 3873151461) & 4294967295),
      (I = y + (((E << 11) & 4294967295) | (E >>> 21))),
      (E = (w + (I ^ y ^ _) + b[15] + 530742520) & 4294967295),
      (w = I + (((E << 16) & 4294967295) | (E >>> 16))),
      (E = (_ + (w ^ I ^ y) + b[2] + 3299628645) & 4294967295),
      (_ = w + (((E << 23) & 4294967295) | (E >>> 9))),
      (E = (y + (w ^ (_ | ~I)) + b[0] + 4096336452) & 4294967295),
      (y = _ + (((E << 6) & 4294967295) | (E >>> 26))),
      (E = (I + (_ ^ (y | ~w)) + b[7] + 1126891415) & 4294967295),
      (I = y + (((E << 10) & 4294967295) | (E >>> 22))),
      (E = (w + (y ^ (I | ~_)) + b[14] + 2878612391) & 4294967295),
      (w = I + (((E << 15) & 4294967295) | (E >>> 17))),
      (E = (_ + (I ^ (w | ~y)) + b[5] + 4237533241) & 4294967295),
      (_ = w + (((E << 21) & 4294967295) | (E >>> 11))),
      (E = (y + (w ^ (_ | ~I)) + b[12] + 1700485571) & 4294967295),
      (y = _ + (((E << 6) & 4294967295) | (E >>> 26))),
      (E = (I + (_ ^ (y | ~w)) + b[3] + 2399980690) & 4294967295),
      (I = y + (((E << 10) & 4294967295) | (E >>> 22))),
      (E = (w + (y ^ (I | ~_)) + b[10] + 4293915773) & 4294967295),
      (w = I + (((E << 15) & 4294967295) | (E >>> 17))),
      (E = (_ + (I ^ (w | ~y)) + b[1] + 2240044497) & 4294967295),
      (_ = w + (((E << 21) & 4294967295) | (E >>> 11))),
      (E = (y + (w ^ (_ | ~I)) + b[8] + 1873313359) & 4294967295),
      (y = _ + (((E << 6) & 4294967295) | (E >>> 26))),
      (E = (I + (_ ^ (y | ~w)) + b[15] + 4264355552) & 4294967295),
      (I = y + (((E << 10) & 4294967295) | (E >>> 22))),
      (E = (w + (y ^ (I | ~_)) + b[6] + 2734768916) & 4294967295),
      (w = I + (((E << 15) & 4294967295) | (E >>> 17))),
      (E = (_ + (I ^ (w | ~y)) + b[13] + 1309151649) & 4294967295),
      (_ = w + (((E << 21) & 4294967295) | (E >>> 11))),
      (E = (y + (w ^ (_ | ~I)) + b[4] + 4149444226) & 4294967295),
      (y = _ + (((E << 6) & 4294967295) | (E >>> 26))),
      (E = (I + (_ ^ (y | ~w)) + b[11] + 3174756917) & 4294967295),
      (I = y + (((E << 10) & 4294967295) | (E >>> 22))),
      (E = (w + (y ^ (I | ~_)) + b[2] + 718787259) & 4294967295),
      (w = I + (((E << 15) & 4294967295) | (E >>> 17))),
      (E = (_ + (I ^ (w | ~y)) + b[9] + 3951481745) & 4294967295),
      (T.g[0] = (T.g[0] + y) & 4294967295),
      (T.g[1] = (T.g[1] + (w + (((E << 21) & 4294967295) | (E >>> 11)))) & 4294967295),
      (T.g[2] = (T.g[2] + w) & 4294967295),
      (T.g[3] = (T.g[3] + I) & 4294967295));
  }
  ((r.prototype.u = function (T, y) {
    y === void 0 && (y = T.length);
    for (var _ = y - this.blockSize, b = this.B, w = this.h, I = 0; I < y; ) {
      if (w == 0) for (; I <= _; ) (i(this, T, I), (I += this.blockSize));
      if (typeof T == 'string') {
        for (; I < y; )
          if (((b[w++] = T.charCodeAt(I++)), w == this.blockSize)) {
            (i(this, b), (w = 0));
            break;
          }
      } else
        for (; I < y; )
          if (((b[w++] = T[I++]), w == this.blockSize)) {
            (i(this, b), (w = 0));
            break;
          }
    }
    ((this.h = w), (this.o += y));
  }),
    (r.prototype.v = function () {
      var T = Array((56 > this.h ? this.blockSize : 2 * this.blockSize) - this.h);
      T[0] = 128;
      for (var y = 1; y < T.length - 8; ++y) T[y] = 0;
      var _ = 8 * this.o;
      for (y = T.length - 8; y < T.length; ++y) ((T[y] = _ & 255), (_ /= 256));
      for (this.u(T), T = Array(16), y = _ = 0; 4 > y; ++y)
        for (var b = 0; 32 > b; b += 8) T[_++] = (this.g[y] >>> b) & 255;
      return T;
    }));
  function o(T, y) {
    var _ = a;
    return Object.prototype.hasOwnProperty.call(_, T) ? _[T] : (_[T] = y(T));
  }
  function s(T, y) {
    this.h = y;
    for (var _ = [], b = !0, w = T.length - 1; 0 <= w; w--) {
      var I = T[w] | 0;
      (b && I == y) || ((_[w] = I), (b = !1));
    }
    this.g = _;
  }
  var a = {};
  function c(T) {
    return -128 <= T && 128 > T
      ? o(T, function (y) {
          return new s([y | 0], 0 > y ? -1 : 0);
        })
      : new s([T | 0], 0 > T ? -1 : 0);
  }
  function u(T) {
    if (isNaN(T) || !isFinite(T)) return p;
    if (0 > T) return A(u(-T));
    for (var y = [], _ = 1, b = 0; T >= _; b++) ((y[b] = (T / _) | 0), (_ *= 4294967296));
    return new s(y, 0);
  }
  function d(T, y) {
    if (T.length == 0) throw Error('number format error: empty string');
    if (((y = y || 10), 2 > y || 36 < y)) throw Error('radix out of range: ' + y);
    if (T.charAt(0) == '-') return A(d(T.substring(1), y));
    if (0 <= T.indexOf('-')) throw Error('number format error: interior "-" character');
    for (var _ = u(Math.pow(y, 8)), b = p, w = 0; w < T.length; w += 8) {
      var I = Math.min(8, T.length - w),
        E = parseInt(T.substring(w, w + I), y);
      8 > I ? ((I = u(Math.pow(y, I))), (b = b.j(I).add(u(E)))) : ((b = b.j(_)), (b = b.add(u(E))));
    }
    return b;
  }
  var p = c(0),
    v = c(1),
    m = c(16777216);
  ((t = s.prototype),
    (t.m = function () {
      if (M(this)) return -A(this).m();
      for (var T = 0, y = 1, _ = 0; _ < this.g.length; _++) {
        var b = this.i(_);
        ((T += (0 <= b ? b : 4294967296 + b) * y), (y *= 4294967296));
      }
      return T;
    }),
    (t.toString = function (T) {
      if (((T = T || 10), 2 > T || 36 < T)) throw Error('radix out of range: ' + T);
      if (D(this)) return '0';
      if (M(this)) return '-' + A(this).toString(T);
      for (var y = u(Math.pow(T, 6)), _ = this, b = ''; ; ) {
        var w = z(_, y).g;
        _ = N(_, w.j(y));
        var I = ((0 < _.g.length ? _.g[0] : _.h) >>> 0).toString(T);
        if (((_ = w), D(_))) return I + b;
        for (; 6 > I.length; ) I = '0' + I;
        b = I + b;
      }
    }),
    (t.i = function (T) {
      return 0 > T ? 0 : T < this.g.length ? this.g[T] : this.h;
    }));
  function D(T) {
    if (T.h != 0) return !1;
    for (var y = 0; y < T.g.length; y++) if (T.g[y] != 0) return !1;
    return !0;
  }
  function M(T) {
    return T.h == -1;
  }
  t.l = function (T) {
    return ((T = N(this, T)), M(T) ? -1 : D(T) ? 0 : 1);
  };
  function A(T) {
    for (var y = T.g.length, _ = [], b = 0; b < y; b++) _[b] = ~T.g[b];
    return new s(_, ~T.h).add(v);
  }
  ((t.abs = function () {
    return M(this) ? A(this) : this;
  }),
    (t.add = function (T) {
      for (var y = Math.max(this.g.length, T.g.length), _ = [], b = 0, w = 0; w <= y; w++) {
        var I = b + (this.i(w) & 65535) + (T.i(w) & 65535),
          E = (I >>> 16) + (this.i(w) >>> 16) + (T.i(w) >>> 16);
        ((b = E >>> 16), (I &= 65535), (E &= 65535), (_[w] = (E << 16) | I));
      }
      return new s(_, _[_.length - 1] & -2147483648 ? -1 : 0);
    }));
  function N(T, y) {
    return T.add(A(y));
  }
  t.j = function (T) {
    if (D(this) || D(T)) return p;
    if (M(this)) return M(T) ? A(this).j(A(T)) : A(A(this).j(T));
    if (M(T)) return A(this.j(A(T)));
    if (0 > this.l(m) && 0 > T.l(m)) return u(this.m() * T.m());
    for (var y = this.g.length + T.g.length, _ = [], b = 0; b < 2 * y; b++) _[b] = 0;
    for (b = 0; b < this.g.length; b++)
      for (var w = 0; w < T.g.length; w++) {
        var I = this.i(b) >>> 16,
          E = this.i(b) & 65535,
          Ae = T.i(w) >>> 16,
          $r = T.i(w) & 65535;
        ((_[2 * b + 2 * w] += E * $r),
          O(_, 2 * b + 2 * w),
          (_[2 * b + 2 * w + 1] += I * $r),
          O(_, 2 * b + 2 * w + 1),
          (_[2 * b + 2 * w + 1] += E * Ae),
          O(_, 2 * b + 2 * w + 1),
          (_[2 * b + 2 * w + 2] += I * Ae),
          O(_, 2 * b + 2 * w + 2));
      }
    for (b = 0; b < y; b++) _[b] = (_[2 * b + 1] << 16) | _[2 * b];
    for (b = y; b < 2 * y; b++) _[b] = 0;
    return new s(_, 0);
  };
  function O(T, y) {
    for (; (T[y] & 65535) != T[y]; ) ((T[y + 1] += T[y] >>> 16), (T[y] &= 65535), y++);
  }
  function F(T, y) {
    ((this.g = T), (this.h = y));
  }
  function z(T, y) {
    if (D(y)) throw Error('division by zero');
    if (D(T)) return new F(p, p);
    if (M(T)) return ((y = z(A(T), y)), new F(A(y.g), A(y.h)));
    if (M(y)) return ((y = z(T, A(y))), new F(A(y.g), y.h));
    if (30 < T.g.length) {
      if (M(T) || M(y)) throw Error('slowDivide_ only works with positive integers.');
      for (var _ = v, b = y; 0 >= b.l(T); ) ((_ = Z(_)), (b = Z(b)));
      var w = q(_, 1),
        I = q(b, 1);
      for (b = q(b, 2), _ = q(_, 2); !D(b); ) {
        var E = I.add(b);
        (0 >= E.l(T) && ((w = w.add(_)), (I = E)), (b = q(b, 1)), (_ = q(_, 1)));
      }
      return ((y = N(T, w.j(y))), new F(w, y));
    }
    for (w = p; 0 <= T.l(y); ) {
      for (
        _ = Math.max(1, Math.floor(T.m() / y.m())),
          b = Math.ceil(Math.log(_) / Math.LN2),
          b = 48 >= b ? 1 : Math.pow(2, b - 48),
          I = u(_),
          E = I.j(y);
        M(E) || 0 < E.l(T);

      )
        ((_ -= b), (I = u(_)), (E = I.j(y)));
      (D(I) && (I = v), (w = w.add(I)), (T = N(T, E)));
    }
    return new F(w, T);
  }
  ((t.A = function (T) {
    return z(this, T).h;
  }),
    (t.and = function (T) {
      for (var y = Math.max(this.g.length, T.g.length), _ = [], b = 0; b < y; b++)
        _[b] = this.i(b) & T.i(b);
      return new s(_, this.h & T.h);
    }),
    (t.or = function (T) {
      for (var y = Math.max(this.g.length, T.g.length), _ = [], b = 0; b < y; b++)
        _[b] = this.i(b) | T.i(b);
      return new s(_, this.h | T.h);
    }),
    (t.xor = function (T) {
      for (var y = Math.max(this.g.length, T.g.length), _ = [], b = 0; b < y; b++)
        _[b] = this.i(b) ^ T.i(b);
      return new s(_, this.h ^ T.h);
    }));
  function Z(T) {
    for (var y = T.g.length + 1, _ = [], b = 0; b < y; b++)
      _[b] = (T.i(b) << 1) | (T.i(b - 1) >>> 31);
    return new s(_, T.h);
  }
  function q(T, y) {
    var _ = y >> 5;
    y %= 32;
    for (var b = T.g.length - _, w = [], I = 0; I < b; I++)
      w[I] = 0 < y ? (T.i(I + _) >>> y) | (T.i(I + _ + 1) << (32 - y)) : T.i(I + _);
    return new s(w, T.h);
  }
  ((r.prototype.digest = r.prototype.v),
    (r.prototype.reset = r.prototype.s),
    (r.prototype.update = r.prototype.u),
    ($E = Nk.Md5 = r),
    (s.prototype.add = s.prototype.add),
    (s.prototype.multiply = s.prototype.j),
    (s.prototype.modulo = s.prototype.A),
    (s.prototype.compare = s.prototype.l),
    (s.prototype.toNumber = s.prototype.m),
    (s.prototype.toString = s.prototype.toString),
    (s.prototype.getBits = s.prototype.i),
    (s.fromNumber = u),
    (s.fromString = d),
    (ho = Nk.Integer = s));
}).apply(typeof Rk < 'u' ? Rk : typeof self < 'u' ? self : typeof window < 'u' ? window : {});
var Up =
    typeof globalThis < 'u'
      ? globalThis
      : typeof window < 'u'
        ? window
        : typeof global < 'u'
          ? global
          : typeof self < 'u'
            ? self
            : {},
  _i = {};
var zE, h9, La, WE, su, Bp, qE, GE, KE;
(function () {
  var t,
    e =
      typeof Object.defineProperties == 'function'
        ? Object.defineProperty
        : function (l, h, f) {
            return (l == Array.prototype || l == Object.prototype || (l[h] = f.value), l);
          };
  function n(l) {
    l = [
      typeof globalThis == 'object' && globalThis,
      l,
      typeof window == 'object' && window,
      typeof self == 'object' && self,
      typeof Up == 'object' && Up,
    ];
    for (var h = 0; h < l.length; ++h) {
      var f = l[h];
      if (f && f.Math == Math) return f;
    }
    throw Error('Cannot find global object');
  }
  var r = n(this);
  function i(l, h) {
    if (h)
      e: {
        var f = r;
        l = l.split('.');
        for (var g = 0; g < l.length - 1; g++) {
          var S = l[g];
          if (!(S in f)) break e;
          f = f[S];
        }
        ((l = l[l.length - 1]),
          (g = f[l]),
          (h = h(g)),
          h != g && h != null && e(f, l, { configurable: !0, writable: !0, value: h }));
      }
  }
  function o(l, h) {
    l instanceof String && (l += '');
    var f = 0,
      g = !1,
      S = {
        next: function () {
          if (!g && f < l.length) {
            var x = f++;
            return { value: h(x, l[x]), done: !1 };
          }
          return ((g = !0), { done: !0, value: void 0 });
        },
      };
    return (
      (S[Symbol.iterator] = function () {
        return S;
      }),
      S
    );
  }
  i('Array.prototype.values', function (l) {
    return (
      l ||
      function () {
        return o(this, function (h, f) {
          return f;
        });
      }
    );
  });
  var s = s || {},
    a = this || self;
  function c(l) {
    var h = typeof l;
    return (
      (h = h != 'object' ? h : l ? (Array.isArray(l) ? 'array' : h) : 'null'),
      h == 'array' || (h == 'object' && typeof l.length == 'number')
    );
  }
  function u(l) {
    var h = typeof l;
    return (h == 'object' && l != null) || h == 'function';
  }
  function d(l, h, f) {
    return l.call.apply(l.bind, arguments);
  }
  function p(l, h, f) {
    if (!l) throw Error();
    if (2 < arguments.length) {
      var g = Array.prototype.slice.call(arguments, 2);
      return function () {
        var S = Array.prototype.slice.call(arguments);
        return (Array.prototype.unshift.apply(S, g), l.apply(h, S));
      };
    }
    return function () {
      return l.apply(h, arguments);
    };
  }
  function v(l, h, f) {
    return (
      (v =
        Function.prototype.bind && Function.prototype.bind.toString().indexOf('native code') != -1
          ? d
          : p),
      v.apply(null, arguments)
    );
  }
  function m(l, h) {
    var f = Array.prototype.slice.call(arguments, 1);
    return function () {
      var g = f.slice();
      return (g.push.apply(g, arguments), l.apply(this, g));
    };
  }
  function D(l, h) {
    function f() {}
    ((f.prototype = h.prototype),
      (l.aa = h.prototype),
      (l.prototype = new f()),
      (l.prototype.constructor = l),
      (l.Qb = function (g, S, x) {
        for (var W = Array(arguments.length - 2), Be = 2; Be < arguments.length; Be++)
          W[Be - 2] = arguments[Be];
        return h.prototype[S].apply(g, W);
      }));
  }
  function M(l) {
    let h = l.length;
    if (0 < h) {
      let f = Array(h);
      for (let g = 0; g < h; g++) f[g] = l[g];
      return f;
    }
    return [];
  }
  function A(l, h) {
    for (let f = 1; f < arguments.length; f++) {
      let g = arguments[f];
      if (c(g)) {
        let S = l.length || 0,
          x = g.length || 0;
        l.length = S + x;
        for (let W = 0; W < x; W++) l[S + W] = g[W];
      } else l.push(g);
    }
  }
  class N {
    constructor(h, f) {
      ((this.i = h), (this.j = f), (this.h = 0), (this.g = null));
    }
    get() {
      let h;
      return (
        0 < this.h ? (this.h--, (h = this.g), (this.g = h.next), (h.next = null)) : (h = this.i()),
        h
      );
    }
  }
  function O(l) {
    return /^[\s\xa0]*$/.test(l);
  }
  function F() {
    var l = a.navigator;
    return l && (l = l.userAgent) ? l : '';
  }
  function z(l) {
    return (z[' '](l), l);
  }
  z[' '] = function () {};
  var Z =
    F().indexOf('Gecko') != -1 &&
    !(F().toLowerCase().indexOf('webkit') != -1 && F().indexOf('Edge') == -1) &&
    !(F().indexOf('Trident') != -1 || F().indexOf('MSIE') != -1) &&
    F().indexOf('Edge') == -1;
  function q(l, h, f) {
    for (let g in l) h.call(f, l[g], g, l);
  }
  function T(l, h) {
    for (let f in l) h.call(void 0, l[f], f, l);
  }
  function y(l) {
    let h = {};
    for (let f in l) h[f] = l[f];
    return h;
  }
  let _ =
    'constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf'.split(
      ' '
    );
  function b(l, h) {
    let f, g;
    for (let S = 1; S < arguments.length; S++) {
      g = arguments[S];
      for (f in g) l[f] = g[f];
      for (let x = 0; x < _.length; x++)
        ((f = _[x]), Object.prototype.hasOwnProperty.call(g, f) && (l[f] = g[f]));
    }
  }
  function w(l) {
    var h = 1;
    l = l.split(':');
    let f = [];
    for (; 0 < h && l.length; ) (f.push(l.shift()), h--);
    return (l.length && f.push(l.join(':')), f);
  }
  function I(l) {
    a.setTimeout(() => {
      throw l;
    }, 0);
  }
  function E() {
    var l = ht;
    let h = null;
    return (l.g && ((h = l.g), (l.g = l.g.next), l.g || (l.h = null), (h.next = null)), h);
  }
  class Ae {
    constructor() {
      this.h = this.g = null;
    }
    add(h, f) {
      let g = $r.get();
      (g.set(h, f), this.h ? (this.h.next = g) : (this.g = g), (this.h = g));
    }
  }
  var $r = new N(
    () => new uc(),
    (l) => l.reset()
  );
  class uc {
    constructor() {
      this.next = this.g = this.h = null;
    }
    set(h, f) {
      ((this.h = h), (this.g = f), (this.next = null));
    }
    reset() {
      this.next = this.g = this.h = null;
    }
  }
  let yr,
    zr = !1,
    ht = new Ae(),
    Wr = () => {
      let l = a.Promise.resolve(void 0);
      yr = () => {
        l.then(mn);
      };
    };
  var mn = () => {
    for (var l; (l = E()); ) {
      try {
        l.h.call(l.g);
      } catch (f) {
        I(f);
      }
      var h = $r;
      (h.j(l), 100 > h.h && (h.h++, (l.next = h.g), (h.g = l)));
    }
    zr = !1;
  };
  function xn() {
    ((this.s = this.s), (this.C = this.C));
  }
  ((xn.prototype.s = !1),
    (xn.prototype.ma = function () {
      this.s || ((this.s = !0), this.N());
    }),
    (xn.prototype.N = function () {
      if (this.C) for (; this.C.length; ) this.C.shift()();
    }));
  function St(l, h) {
    ((this.type = l), (this.g = this.target = h), (this.defaultPrevented = !1));
  }
  St.prototype.h = function () {
    this.defaultPrevented = !0;
  };
  var dc = (function () {
    if (!a.addEventListener || !Object.defineProperty) return !1;
    var l = !1,
      h = Object.defineProperty({}, 'passive', {
        get: function () {
          l = !0;
        },
      });
    try {
      let f = () => {};
      (a.addEventListener('test', f, h), a.removeEventListener('test', f, h));
    } catch {}
    return l;
  })();
  function Ci(l, h) {
    if (
      (St.call(this, l ? l.type : ''),
      (this.relatedTarget = this.g = this.target = null),
      (this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0),
      (this.key = ''),
      (this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1),
      (this.state = null),
      (this.pointerId = 0),
      (this.pointerType = ''),
      (this.i = null),
      l)
    ) {
      var f = (this.type = l.type),
        g = l.changedTouches && l.changedTouches.length ? l.changedTouches[0] : null;
      if (((this.target = l.target || l.srcElement), (this.g = h), (h = l.relatedTarget))) {
        if (Z) {
          e: {
            try {
              z(h.nodeName);
              var S = !0;
              break e;
            } catch {}
            S = !1;
          }
          S || (h = null);
        }
      } else f == 'mouseover' ? (h = l.fromElement) : f == 'mouseout' && (h = l.toElement);
      ((this.relatedTarget = h),
        g
          ? ((this.clientX = g.clientX !== void 0 ? g.clientX : g.pageX),
            (this.clientY = g.clientY !== void 0 ? g.clientY : g.pageY),
            (this.screenX = g.screenX || 0),
            (this.screenY = g.screenY || 0))
          : ((this.clientX = l.clientX !== void 0 ? l.clientX : l.pageX),
            (this.clientY = l.clientY !== void 0 ? l.clientY : l.pageY),
            (this.screenX = l.screenX || 0),
            (this.screenY = l.screenY || 0)),
        (this.button = l.button),
        (this.key = l.key || ''),
        (this.ctrlKey = l.ctrlKey),
        (this.altKey = l.altKey),
        (this.shiftKey = l.shiftKey),
        (this.metaKey = l.metaKey),
        (this.pointerId = l.pointerId || 0),
        (this.pointerType =
          typeof l.pointerType == 'string' ? l.pointerType : Mm[l.pointerType] || ''),
        (this.state = l.state),
        (this.i = l),
        l.defaultPrevented && Ci.aa.h.call(this));
    }
  }
  D(Ci, St);
  var Mm = { 2: 'touch', 3: 'pen', 4: 'mouse' };
  Ci.prototype.h = function () {
    Ci.aa.h.call(this);
    var l = this.i;
    l.preventDefault ? l.preventDefault() : (l.returnValue = !1);
  };
  var hc = 'closure_listenable_' + ((1e6 * Math.random()) | 0),
    LO = 0;
  function jO(l, h, f, g, S) {
    ((this.listener = l),
      (this.proxy = null),
      (this.src = h),
      (this.type = f),
      (this.capture = !!g),
      (this.ha = S),
      (this.key = ++LO),
      (this.da = this.fa = !1));
  }
  function Mu(l) {
    ((l.da = !0), (l.listener = null), (l.proxy = null), (l.src = null), (l.ha = null));
  }
  function xu(l) {
    ((this.src = l), (this.g = {}), (this.h = 0));
  }
  xu.prototype.add = function (l, h, f, g, S) {
    var x = l.toString();
    ((l = this.g[x]), l || ((l = this.g[x] = []), this.h++));
    var W = Rm(l, h, g, S);
    return (
      -1 < W
        ? ((h = l[W]), f || (h.fa = !1))
        : ((h = new jO(h, this.src, x, !!g, S)), (h.fa = f), l.push(h)),
      h
    );
  };
  function xm(l, h) {
    var f = h.type;
    if (f in l.g) {
      var g = l.g[f],
        S = Array.prototype.indexOf.call(g, h, void 0),
        x;
      ((x = 0 <= S) && Array.prototype.splice.call(g, S, 1),
        x && (Mu(h), l.g[f].length == 0 && (delete l.g[f], l.h--)));
    }
  }
  function Rm(l, h, f, g) {
    for (var S = 0; S < l.length; ++S) {
      var x = l[S];
      if (!x.da && x.listener == h && x.capture == !!f && x.ha == g) return S;
    }
    return -1;
  }
  var Nm = 'closure_lm_' + ((1e6 * Math.random()) | 0),
    km = {};
  function XI(l, h, f, g, S) {
    if (g && g.once) return JI(l, h, f, g, S);
    if (Array.isArray(h)) {
      for (var x = 0; x < h.length; x++) XI(l, h[x], f, g, S);
      return null;
    }
    return (
      (f = Vm(f)),
      l && l[hc] ? l.K(h, f, u(g) ? !!g.capture : !!g, S) : ZI(l, h, f, !1, g, S)
    );
  }
  function ZI(l, h, f, g, S, x) {
    if (!h) throw Error('Invalid event type');
    var W = u(S) ? !!S.capture : !!S,
      Be = Om(l);
    if ((Be || (l[Nm] = Be = new xu(l)), (f = Be.add(h, f, g, W, x)), f.proxy)) return f;
    if (((g = UO()), (f.proxy = g), (g.src = l), (g.listener = f), l.addEventListener))
      (dc || (S = W), S === void 0 && (S = !1), l.addEventListener(h.toString(), g, S));
    else if (l.attachEvent) l.attachEvent(tD(h.toString()), g);
    else if (l.addListener && l.removeListener) l.addListener(g);
    else throw Error('addEventListener and attachEvent are unavailable.');
    return f;
  }
  function UO() {
    function l(f) {
      return h.call(l.src, l.listener, f);
    }
    let h = BO;
    return l;
  }
  function JI(l, h, f, g, S) {
    if (Array.isArray(h)) {
      for (var x = 0; x < h.length; x++) JI(l, h[x], f, g, S);
      return null;
    }
    return (
      (f = Vm(f)),
      l && l[hc] ? l.L(h, f, u(g) ? !!g.capture : !!g, S) : ZI(l, h, f, !0, g, S)
    );
  }
  function eD(l, h, f, g, S) {
    if (Array.isArray(h)) for (var x = 0; x < h.length; x++) eD(l, h[x], f, g, S);
    else
      ((g = u(g) ? !!g.capture : !!g),
        (f = Vm(f)),
        l && l[hc]
          ? ((l = l.i),
            (h = String(h).toString()),
            h in l.g &&
              ((x = l.g[h]),
              (f = Rm(x, f, g, S)),
              -1 < f &&
                (Mu(x[f]),
                Array.prototype.splice.call(x, f, 1),
                x.length == 0 && (delete l.g[h], l.h--))))
          : l &&
            (l = Om(l)) &&
            ((h = l.g[h.toString()]),
            (l = -1),
            h && (l = Rm(h, f, g, S)),
            (f = -1 < l ? h[l] : null) && Pm(f)));
  }
  function Pm(l) {
    if (typeof l != 'number' && l && !l.da) {
      var h = l.src;
      if (h && h[hc]) xm(h.i, l);
      else {
        var f = l.type,
          g = l.proxy;
        (h.removeEventListener
          ? h.removeEventListener(f, g, l.capture)
          : h.detachEvent
            ? h.detachEvent(tD(f), g)
            : h.addListener && h.removeListener && h.removeListener(g),
          (f = Om(h)) ? (xm(f, l), f.h == 0 && ((f.src = null), (h[Nm] = null))) : Mu(l));
      }
    }
  }
  function tD(l) {
    return l in km ? km[l] : (km[l] = 'on' + l);
  }
  function BO(l, h) {
    if (l.da) l = !0;
    else {
      h = new Ci(h, this);
      var f = l.listener,
        g = l.ha || l.src;
      (l.fa && Pm(l), (l = f.call(g, h)));
    }
    return l;
  }
  function Om(l) {
    return ((l = l[Nm]), l instanceof xu ? l : null);
  }
  var Fm = '__closure_events_fn_' + ((1e9 * Math.random()) >>> 0);
  function Vm(l) {
    return typeof l == 'function'
      ? l
      : (l[Fm] ||
          (l[Fm] = function (h) {
            return l.handleEvent(h);
          }),
        l[Fm]);
  }
  function Lt() {
    (xn.call(this), (this.i = new xu(this)), (this.M = this), (this.F = null));
  }
  (D(Lt, xn),
    (Lt.prototype[hc] = !0),
    (Lt.prototype.removeEventListener = function (l, h, f, g) {
      eD(this, l, h, f, g);
    }));
  function Zt(l, h) {
    var f,
      g = l.F;
    if (g) for (f = []; g; g = g.F) f.push(g);
    if (((l = l.M), (g = h.type || h), typeof h == 'string')) h = new St(h, l);
    else if (h instanceof St) h.target = h.target || l;
    else {
      var S = h;
      ((h = new St(g, l)), b(h, S));
    }
    if (((S = !0), f))
      for (var x = f.length - 1; 0 <= x; x--) {
        var W = (h.g = f[x]);
        S = Ru(W, g, !0, h) && S;
      }
    if (((W = h.g = l), (S = Ru(W, g, !0, h) && S), (S = Ru(W, g, !1, h) && S), f))
      for (x = 0; x < f.length; x++) ((W = h.g = f[x]), (S = Ru(W, g, !1, h) && S));
  }
  ((Lt.prototype.N = function () {
    if ((Lt.aa.N.call(this), this.i)) {
      var l = this.i,
        h;
      for (h in l.g) {
        for (var f = l.g[h], g = 0; g < f.length; g++) Mu(f[g]);
        (delete l.g[h], l.h--);
      }
    }
    this.F = null;
  }),
    (Lt.prototype.K = function (l, h, f, g) {
      return this.i.add(String(l), h, !1, f, g);
    }),
    (Lt.prototype.L = function (l, h, f, g) {
      return this.i.add(String(l), h, !0, f, g);
    }));
  function Ru(l, h, f, g) {
    if (((h = l.i.g[String(h)]), !h)) return !0;
    h = h.concat();
    for (var S = !0, x = 0; x < h.length; ++x) {
      var W = h[x];
      if (W && !W.da && W.capture == f) {
        var Be = W.listener,
          kt = W.ha || W.src;
        (W.fa && xm(l.i, W), (S = Be.call(kt, g) !== !1 && S));
      }
    }
    return S && !g.defaultPrevented;
  }
  function nD(l, h, f) {
    if (typeof l == 'function') f && (l = v(l, f));
    else if (l && typeof l.handleEvent == 'function') l = v(l.handleEvent, l);
    else throw Error('Invalid listener argument');
    return 2147483647 < Number(h) ? -1 : a.setTimeout(l, h || 0);
  }
  function rD(l) {
    l.g = nD(() => {
      ((l.g = null), l.i && ((l.i = !1), rD(l)));
    }, l.l);
    let h = l.h;
    ((l.h = null), l.m.apply(null, h));
  }
  class HO extends xn {
    constructor(h, f) {
      (super(), (this.m = h), (this.l = f), (this.h = null), (this.i = !1), (this.g = null));
    }
    j(h) {
      ((this.h = arguments), this.g ? (this.i = !0) : rD(this));
    }
    N() {
      (super.N(),
        this.g && (a.clearTimeout(this.g), (this.g = null), (this.i = !1), (this.h = null)));
    }
  }
  function fc(l) {
    (xn.call(this), (this.h = l), (this.g = {}));
  }
  D(fc, xn);
  var iD = [];
  function oD(l) {
    (q(
      l.g,
      function (h, f) {
        this.g.hasOwnProperty(f) && Pm(h);
      },
      l
    ),
      (l.g = {}));
  }
  ((fc.prototype.N = function () {
    (fc.aa.N.call(this), oD(this));
  }),
    (fc.prototype.handleEvent = function () {
      throw Error('EventHandler.handleEvent not implemented');
    }));
  var Lm = a.JSON.stringify,
    $O = a.JSON.parse,
    zO = class {
      stringify(l) {
        return a.JSON.stringify(l, void 0);
      }
      parse(l) {
        return a.JSON.parse(l, void 0);
      }
    };
  function jm() {}
  jm.prototype.h = null;
  function sD(l) {
    return l.h || (l.h = l.i());
  }
  function aD() {}
  var pc = { OPEN: 'a', kb: 'b', Ja: 'c', wb: 'd' };
  function Um() {
    St.call(this, 'd');
  }
  D(Um, St);
  function Bm() {
    St.call(this, 'c');
  }
  D(Bm, St);
  var yo = {},
    cD = null;
  function Nu() {
    return (cD = cD || new Lt());
  }
  yo.La = 'serverreachability';
  function lD(l) {
    St.call(this, yo.La, l);
  }
  D(lD, St);
  function mc(l) {
    let h = Nu();
    Zt(h, new lD(h));
  }
  yo.STAT_EVENT = 'statevent';
  function uD(l, h) {
    (St.call(this, yo.STAT_EVENT, l), (this.stat = h));
  }
  D(uD, St);
  function Jt(l) {
    let h = Nu();
    Zt(h, new uD(h, l));
  }
  yo.Ma = 'timingevent';
  function dD(l, h) {
    (St.call(this, yo.Ma, l), (this.size = h));
  }
  D(dD, St);
  function gc(l, h) {
    if (typeof l != 'function') throw Error('Fn must not be null and must be a function');
    return a.setTimeout(function () {
      l();
    }, h);
  }
  function vc() {
    this.g = !0;
  }
  vc.prototype.xa = function () {
    this.g = !1;
  };
  function WO(l, h, f, g, S, x) {
    l.info(function () {
      if (l.g)
        if (x)
          for (var W = '', Be = x.split('&'), kt = 0; kt < Be.length; kt++) {
            var Pe = Be[kt].split('=');
            if (1 < Pe.length) {
              var jt = Pe[0];
              Pe = Pe[1];
              var Ut = jt.split('_');
              W =
                2 <= Ut.length && Ut[1] == 'type'
                  ? W + (jt + '=' + Pe + '&')
                  : W + (jt + '=redacted&');
            }
          }
        else W = null;
      else W = x;
      return (
        'XMLHTTP REQ (' +
        g +
        ') [attempt ' +
        S +
        ']: ' +
        h +
        `
` +
        f +
        `
` +
        W
      );
    });
  }
  function qO(l, h, f, g, S, x, W) {
    l.info(function () {
      return (
        'XMLHTTP RESP (' +
        g +
        ') [ attempt ' +
        S +
        ']: ' +
        h +
        `
` +
        f +
        `
` +
        x +
        ' ' +
        W
      );
    });
  }
  function Es(l, h, f, g) {
    l.info(function () {
      return 'XMLHTTP TEXT (' + h + '): ' + KO(l, f) + (g ? ' ' + g : '');
    });
  }
  function GO(l, h) {
    l.info(function () {
      return 'TIMEOUT: ' + h;
    });
  }
  vc.prototype.info = function () {};
  function KO(l, h) {
    if (!l.g) return h;
    if (!h) return null;
    try {
      var f = JSON.parse(h);
      if (f) {
        for (l = 0; l < f.length; l++)
          if (Array.isArray(f[l])) {
            var g = f[l];
            if (!(2 > g.length)) {
              var S = g[1];
              if (Array.isArray(S) && !(1 > S.length)) {
                var x = S[0];
                if (x != 'noop' && x != 'stop' && x != 'close')
                  for (var W = 1; W < S.length; W++) S[W] = '';
              }
            }
          }
      }
      return Lm(f);
    } catch {
      return h;
    }
  }
  var ku = {
      NO_ERROR: 0,
      gb: 1,
      tb: 2,
      sb: 3,
      nb: 4,
      rb: 5,
      ub: 6,
      Ia: 7,
      TIMEOUT: 8,
      xb: 9,
    },
    hD = {
      lb: 'complete',
      Hb: 'success',
      Ja: 'error',
      Ia: 'abort',
      zb: 'ready',
      Ab: 'readystatechange',
      TIMEOUT: 'timeout',
      vb: 'incrementaldata',
      yb: 'progress',
      ob: 'downloadprogress',
      Pb: 'uploadprogress',
    },
    Hm;
  function Pu() {}
  (D(Pu, jm),
    (Pu.prototype.g = function () {
      return new XMLHttpRequest();
    }),
    (Pu.prototype.i = function () {
      return {};
    }),
    (Hm = new Pu()));
  function bi(l, h, f, g) {
    ((this.j = l),
      (this.i = h),
      (this.l = f),
      (this.R = g || 1),
      (this.U = new fc(this)),
      (this.I = 45e3),
      (this.H = null),
      (this.o = !1),
      (this.m = this.A = this.v = this.L = this.F = this.S = this.B = null),
      (this.D = []),
      (this.g = null),
      (this.C = 0),
      (this.s = this.u = null),
      (this.X = -1),
      (this.J = !1),
      (this.O = 0),
      (this.M = null),
      (this.W = this.K = this.T = this.P = !1),
      (this.h = new fD()));
  }
  function fD() {
    ((this.i = null), (this.g = ''), (this.h = !1));
  }
  var pD = {},
    $m = {};
  function zm(l, h, f) {
    ((l.L = 1), (l.v = Lu(qr(h))), (l.m = f), (l.P = !0), mD(l, null));
  }
  function mD(l, h) {
    ((l.F = Date.now()), Ou(l), (l.A = qr(l.v)));
    var f = l.A,
      g = l.R;
    (Array.isArray(g) || (g = [String(g)]),
      MD(f.i, 't', g),
      (l.C = 0),
      (f = l.j.J),
      (l.h = new fD()),
      (l.g = GD(l.j, f ? h : null, !l.m)),
      0 < l.O && (l.M = new HO(v(l.Y, l, l.g), l.O)),
      (h = l.U),
      (f = l.g),
      (g = l.ca));
    var S = 'readystatechange';
    Array.isArray(S) || (S && (iD[0] = S.toString()), (S = iD));
    for (var x = 0; x < S.length; x++) {
      var W = XI(f, S[x], g || h.handleEvent, !1, h.h || h);
      if (!W) break;
      h.g[W.key] = W;
    }
    ((h = l.H ? y(l.H) : {}),
      l.m
        ? (l.u || (l.u = 'POST'),
          (h['Content-Type'] = 'application/x-www-form-urlencoded'),
          l.g.ea(l.A, l.u, l.m, h))
        : ((l.u = 'GET'), l.g.ea(l.A, l.u, null, h)),
      mc(),
      WO(l.i, l.u, l.A, l.l, l.R, l.m));
  }
  ((bi.prototype.ca = function (l) {
    l = l.target;
    let h = this.M;
    h && Gr(l) == 3 ? h.j() : this.Y(l);
  }),
    (bi.prototype.Y = function (l) {
      try {
        if (l == this.g)
          e: {
            let Ut = Gr(this.g);
            var h = this.g.Ba();
            let Cs = this.g.Z();
            if (!(3 > Ut) && (Ut != 3 || (this.g && (this.h.h || this.g.oa() || FD(this.g))))) {
              (this.J || Ut != 4 || h == 7 || (h == 8 || 0 >= Cs ? mc(3) : mc(2)), Wm(this));
              var f = this.g.Z();
              this.X = f;
              t: if (gD(this)) {
                var g = FD(this.g);
                l = '';
                var S = g.length,
                  x = Gr(this.g) == 4;
                if (!this.h.i) {
                  if (typeof TextDecoder > 'u') {
                    (_o(this), yc(this));
                    var W = '';
                    break t;
                  }
                  this.h.i = new a.TextDecoder();
                }
                for (h = 0; h < S; h++)
                  ((this.h.h = !0),
                    (l += this.h.i.decode(g[h], {
                      stream: !(x && h == S - 1),
                    })));
                ((g.length = 0), (this.h.g += l), (this.C = 0), (W = this.h.g));
              } else W = this.g.oa();
              if (
                ((this.o = f == 200), qO(this.i, this.u, this.A, this.l, this.R, Ut, f), this.o)
              ) {
                if (this.T && !this.K) {
                  t: {
                    if (this.g) {
                      var Be,
                        kt = this.g;
                      if (
                        (Be = kt.g ? kt.g.getResponseHeader('X-HTTP-Initial-Response') : null) &&
                        !O(Be)
                      ) {
                        var Pe = Be;
                        break t;
                      }
                    }
                    Pe = null;
                  }
                  if ((f = Pe))
                    (Es(
                      this.i,
                      this.l,
                      f,
                      'Initial handshake response via X-HTTP-Initial-Response'
                    ),
                      (this.K = !0),
                      qm(this, f));
                  else {
                    ((this.o = !1), (this.s = 3), Jt(12), _o(this), yc(this));
                    break e;
                  }
                }
                if (this.P) {
                  f = !0;
                  let Yn;
                  for (; !this.J && this.C < W.length; )
                    if (((Yn = YO(this, W)), Yn == $m)) {
                      (Ut == 4 && ((this.s = 4), Jt(14), (f = !1)),
                        Es(this.i, this.l, null, '[Incomplete Response]'));
                      break;
                    } else if (Yn == pD) {
                      ((this.s = 4), Jt(15), Es(this.i, this.l, W, '[Invalid Chunk]'), (f = !1));
                      break;
                    } else (Es(this.i, this.l, Yn, null), qm(this, Yn));
                  if (
                    (gD(this) && this.C != 0 && ((this.h.g = this.h.g.slice(this.C)), (this.C = 0)),
                    Ut != 4 || W.length != 0 || this.h.h || ((this.s = 1), Jt(16), (f = !1)),
                    (this.o = this.o && f),
                    !f)
                  )
                    (Es(this.i, this.l, W, '[Invalid Chunked Response]'), _o(this), yc(this));
                  else if (0 < W.length && !this.W) {
                    this.W = !0;
                    var jt = this.j;
                    jt.g == this &&
                      jt.ba &&
                      !jt.M &&
                      (jt.j.info('Great, no buffering proxy detected. Bytes received: ' + W.length),
                      Zm(jt),
                      (jt.M = !0),
                      Jt(11));
                  }
                } else (Es(this.i, this.l, W, null), qm(this, W));
                (Ut == 4 && _o(this),
                  this.o && !this.J && (Ut == 4 ? $D(this.j, this) : ((this.o = !1), Ou(this))));
              } else
                (h1(this.g),
                  f == 400 && 0 < W.indexOf('Unknown SID')
                    ? ((this.s = 3), Jt(12))
                    : ((this.s = 0), Jt(13)),
                  _o(this),
                  yc(this));
            }
          }
      } catch {
      } finally {
      }
    }));
  function gD(l) {
    return l.g ? l.u == 'GET' && l.L != 2 && l.j.Ca : !1;
  }
  function YO(l, h) {
    var f = l.C,
      g = h.indexOf(
        `
`,
        f
      );
    return g == -1
      ? $m
      : ((f = Number(h.substring(f, g))),
        isNaN(f)
          ? pD
          : ((g += 1), g + f > h.length ? $m : ((h = h.slice(g, g + f)), (l.C = g + f), h)));
  }
  bi.prototype.cancel = function () {
    ((this.J = !0), _o(this));
  };
  function Ou(l) {
    ((l.S = Date.now() + l.I), vD(l, l.I));
  }
  function vD(l, h) {
    if (l.B != null) throw Error('WatchDog timer not null');
    l.B = gc(v(l.ba, l), h);
  }
  function Wm(l) {
    l.B && (a.clearTimeout(l.B), (l.B = null));
  }
  bi.prototype.ba = function () {
    this.B = null;
    let l = Date.now();
    0 <= l - this.S
      ? (GO(this.i, this.A), this.L != 2 && (mc(), Jt(17)), _o(this), (this.s = 2), yc(this))
      : vD(this, this.S - l);
  };
  function yc(l) {
    l.j.G == 0 || l.J || $D(l.j, l);
  }
  function _o(l) {
    Wm(l);
    var h = l.M;
    (h && typeof h.ma == 'function' && h.ma(),
      (l.M = null),
      oD(l.U),
      l.g && ((h = l.g), (l.g = null), h.abort(), h.ma()));
  }
  function qm(l, h) {
    try {
      var f = l.j;
      if (f.G != 0 && (f.g == l || Gm(f.h, l))) {
        if (!l.K && Gm(f.h, l) && f.G == 3) {
          try {
            var g = f.Da.g.parse(h);
          } catch {
            g = null;
          }
          if (Array.isArray(g) && g.length == 3) {
            var S = g;
            if (S[0] == 0) {
              e: if (!f.u) {
                if (f.g)
                  if (f.g.F + 3e3 < l.F) ($u(f), Bu(f));
                  else break e;
                (Xm(f), Jt(18));
              }
            } else
              ((f.za = S[1]),
                0 < f.za - f.T &&
                  37500 > S[2] &&
                  f.F &&
                  f.v == 0 &&
                  !f.C &&
                  (f.C = gc(v(f.Za, f), 6e3)));
            if (1 >= wD(f.h) && f.ca) {
              try {
                f.ca();
              } catch {}
              f.ca = void 0;
            }
          } else Eo(f, 11);
        } else if (((l.K || f.g == l) && $u(f), !O(h)))
          for (S = f.Da.g.parse(h), h = 0; h < S.length; h++) {
            let Pe = S[h];
            if (((f.T = Pe[0]), (Pe = Pe[1]), f.G == 2))
              if (Pe[0] == 'c') {
                ((f.K = Pe[1]), (f.ia = Pe[2]));
                let jt = Pe[3];
                jt != null && ((f.la = jt), f.j.info('VER=' + f.la));
                let Ut = Pe[4];
                Ut != null && ((f.Aa = Ut), f.j.info('SVER=' + f.Aa));
                let Cs = Pe[5];
                (Cs != null &&
                  typeof Cs == 'number' &&
                  0 < Cs &&
                  ((g = 1.5 * Cs), (f.L = g), f.j.info('backChannelRequestTimeoutMs_=' + g)),
                  (g = f));
                let Yn = l.g;
                if (Yn) {
                  let Wu = Yn.g ? Yn.g.getResponseHeader('X-Client-Wire-Protocol') : null;
                  if (Wu) {
                    var x = g.h;
                    x.g ||
                      (Wu.indexOf('spdy') == -1 &&
                        Wu.indexOf('quic') == -1 &&
                        Wu.indexOf('h2') == -1) ||
                      ((x.j = x.l), (x.g = new Set()), x.h && (Km(x, x.h), (x.h = null)));
                  }
                  if (g.D) {
                    let Jm = Yn.g ? Yn.g.getResponseHeader('X-HTTP-Session-Id') : null;
                    Jm && ((g.ya = Jm), Ge(g.I, g.D, Jm));
                  }
                }
                ((f.G = 3),
                  f.l && f.l.ua(),
                  f.ba && ((f.R = Date.now() - l.F), f.j.info('Handshake RTT: ' + f.R + 'ms')),
                  (g = f));
                var W = l;
                if (((g.qa = qD(g, g.J ? g.ia : null, g.W)), W.K)) {
                  ED(g.h, W);
                  var Be = W,
                    kt = g.L;
                  (kt && (Be.I = kt), Be.B && (Wm(Be), Ou(Be)), (g.g = W));
                } else BD(g);
                0 < f.i.length && Hu(f);
              } else (Pe[0] != 'stop' && Pe[0] != 'close') || Eo(f, 7);
            else
              f.G == 3 &&
                (Pe[0] == 'stop' || Pe[0] == 'close'
                  ? Pe[0] == 'stop'
                    ? Eo(f, 7)
                    : Qm(f)
                  : Pe[0] != 'noop' && f.l && f.l.ta(Pe),
                (f.v = 0));
          }
      }
      mc(4);
    } catch {}
  }
  var QO = class {
    constructor(l, h) {
      ((this.g = l), (this.map = h));
    }
  };
  function yD(l) {
    ((this.l = l || 10),
      a.PerformanceNavigationTiming
        ? ((l = a.performance.getEntriesByType('navigation')),
          (l = 0 < l.length && (l[0].nextHopProtocol == 'hq' || l[0].nextHopProtocol == 'h2')))
        : (l = !!(
            a.chrome &&
            a.chrome.loadTimes &&
            a.chrome.loadTimes() &&
            a.chrome.loadTimes().wasFetchedViaSpdy
          )),
      (this.j = l ? this.l : 1),
      (this.g = null),
      1 < this.j && (this.g = new Set()),
      (this.h = null),
      (this.i = []));
  }
  function _D(l) {
    return l.h ? !0 : l.g ? l.g.size >= l.j : !1;
  }
  function wD(l) {
    return l.h ? 1 : l.g ? l.g.size : 0;
  }
  function Gm(l, h) {
    return l.h ? l.h == h : l.g ? l.g.has(h) : !1;
  }
  function Km(l, h) {
    l.g ? l.g.add(h) : (l.h = h);
  }
  function ED(l, h) {
    l.h && l.h == h ? (l.h = null) : l.g && l.g.has(h) && l.g.delete(h);
  }
  yD.prototype.cancel = function () {
    if (((this.i = ID(this)), this.h)) (this.h.cancel(), (this.h = null));
    else if (this.g && this.g.size !== 0) {
      for (let l of this.g.values()) l.cancel();
      this.g.clear();
    }
  };
  function ID(l) {
    if (l.h != null) return l.i.concat(l.h.D);
    if (l.g != null && l.g.size !== 0) {
      let h = l.i;
      for (let f of l.g.values()) h = h.concat(f.D);
      return h;
    }
    return M(l.i);
  }
  function XO(l) {
    if (l.V && typeof l.V == 'function') return l.V();
    if ((typeof Map < 'u' && l instanceof Map) || (typeof Set < 'u' && l instanceof Set))
      return Array.from(l.values());
    if (typeof l == 'string') return l.split('');
    if (c(l)) {
      for (var h = [], f = l.length, g = 0; g < f; g++) h.push(l[g]);
      return h;
    }
    ((h = []), (f = 0));
    for (g in l) h[f++] = l[g];
    return h;
  }
  function ZO(l) {
    if (l.na && typeof l.na == 'function') return l.na();
    if (!l.V || typeof l.V != 'function') {
      if (typeof Map < 'u' && l instanceof Map) return Array.from(l.keys());
      if (!(typeof Set < 'u' && l instanceof Set)) {
        if (c(l) || typeof l == 'string') {
          var h = [];
          l = l.length;
          for (var f = 0; f < l; f++) h.push(f);
          return h;
        }
        ((h = []), (f = 0));
        for (let g in l) h[f++] = g;
        return h;
      }
    }
  }
  function DD(l, h) {
    if (l.forEach && typeof l.forEach == 'function') l.forEach(h, void 0);
    else if (c(l) || typeof l == 'string') Array.prototype.forEach.call(l, h, void 0);
    else
      for (var f = ZO(l), g = XO(l), S = g.length, x = 0; x < S; x++)
        h.call(void 0, g[x], f && f[x], l);
  }
  var CD = RegExp(
    '^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$'
  );
  function JO(l, h) {
    if (l) {
      l = l.split('&');
      for (var f = 0; f < l.length; f++) {
        var g = l[f].indexOf('='),
          S = null;
        if (0 <= g) {
          var x = l[f].substring(0, g);
          S = l[f].substring(g + 1);
        } else x = l[f];
        h(x, S ? decodeURIComponent(S.replace(/\+/g, ' ')) : '');
      }
    }
  }
  function wo(l) {
    if (
      ((this.g = this.o = this.j = ''),
      (this.s = null),
      (this.m = this.l = ''),
      (this.h = !1),
      l instanceof wo)
    ) {
      ((this.h = l.h),
        Fu(this, l.j),
        (this.o = l.o),
        (this.g = l.g),
        Vu(this, l.s),
        (this.l = l.l));
      var h = l.i,
        f = new Ec();
      ((f.i = h.i), h.g && ((f.g = new Map(h.g)), (f.h = h.h)), bD(this, f), (this.m = l.m));
    } else
      l && (h = String(l).match(CD))
        ? ((this.h = !1),
          Fu(this, h[1] || '', !0),
          (this.o = _c(h[2] || '')),
          (this.g = _c(h[3] || '', !0)),
          Vu(this, h[4]),
          (this.l = _c(h[5] || '', !0)),
          bD(this, h[6] || '', !0),
          (this.m = _c(h[7] || '')))
        : ((this.h = !1), (this.i = new Ec(null, this.h)));
  }
  wo.prototype.toString = function () {
    var l = [],
      h = this.j;
    h && l.push(wc(h, TD, !0), ':');
    var f = this.g;
    return (
      (f || h == 'file') &&
        (l.push('//'),
        (h = this.o) && l.push(wc(h, TD, !0), '@'),
        l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g, '%$1')),
        (f = this.s),
        f != null && l.push(':', String(f))),
      (f = this.l) &&
        (this.g && f.charAt(0) != '/' && l.push('/'),
        l.push(wc(f, f.charAt(0) == '/' ? n1 : t1, !0))),
      (f = this.i.toString()) && l.push('?', f),
      (f = this.m) && l.push('#', wc(f, i1)),
      l.join('')
    );
  };
  function qr(l) {
    return new wo(l);
  }
  function Fu(l, h, f) {
    ((l.j = f ? _c(h, !0) : h), l.j && (l.j = l.j.replace(/:$/, '')));
  }
  function Vu(l, h) {
    if (h) {
      if (((h = Number(h)), isNaN(h) || 0 > h)) throw Error('Bad port number ' + h);
      l.s = h;
    } else l.s = null;
  }
  function bD(l, h, f) {
    h instanceof Ec ? ((l.i = h), o1(l.i, l.h)) : (f || (h = wc(h, r1)), (l.i = new Ec(h, l.h)));
  }
  function Ge(l, h, f) {
    l.i.set(h, f);
  }
  function Lu(l) {
    return (
      Ge(
        l,
        'zx',
        Math.floor(2147483648 * Math.random()).toString(36) +
          Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36)
      ),
      l
    );
  }
  function _c(l, h) {
    return l ? (h ? decodeURI(l.replace(/%25/g, '%2525')) : decodeURIComponent(l)) : '';
  }
  function wc(l, h, f) {
    return typeof l == 'string'
      ? ((l = encodeURI(l).replace(h, e1)), f && (l = l.replace(/%25([0-9a-fA-F]{2})/g, '%$1')), l)
      : null;
  }
  function e1(l) {
    return ((l = l.charCodeAt(0)), '%' + ((l >> 4) & 15).toString(16) + (l & 15).toString(16));
  }
  var TD = /[#\/\?@]/g,
    t1 = /[#\?:]/g,
    n1 = /[#\?]/g,
    r1 = /[#\?@]/g,
    i1 = /#/g;
  function Ec(l, h) {
    ((this.h = this.g = null), (this.i = l || null), (this.j = !!h));
  }
  function Ti(l) {
    l.g ||
      ((l.g = new Map()),
      (l.h = 0),
      l.i &&
        JO(l.i, function (h, f) {
          l.add(decodeURIComponent(h.replace(/\+/g, ' ')), f);
        }));
  }
  ((t = Ec.prototype),
    (t.add = function (l, h) {
      (Ti(this), (this.i = null), (l = Is(this, l)));
      var f = this.g.get(l);
      return (f || this.g.set(l, (f = [])), f.push(h), (this.h += 1), this);
    }));
  function SD(l, h) {
    (Ti(l),
      (h = Is(l, h)),
      l.g.has(h) && ((l.i = null), (l.h -= l.g.get(h).length), l.g.delete(h)));
  }
  function AD(l, h) {
    return (Ti(l), (h = Is(l, h)), l.g.has(h));
  }
  ((t.forEach = function (l, h) {
    (Ti(this),
      this.g.forEach(function (f, g) {
        f.forEach(function (S) {
          l.call(h, S, g, this);
        }, this);
      }, this));
  }),
    (t.na = function () {
      Ti(this);
      let l = Array.from(this.g.values()),
        h = Array.from(this.g.keys()),
        f = [];
      for (let g = 0; g < h.length; g++) {
        let S = l[g];
        for (let x = 0; x < S.length; x++) f.push(h[g]);
      }
      return f;
    }),
    (t.V = function (l) {
      Ti(this);
      let h = [];
      if (typeof l == 'string') AD(this, l) && (h = h.concat(this.g.get(Is(this, l))));
      else {
        l = Array.from(this.g.values());
        for (let f = 0; f < l.length; f++) h = h.concat(l[f]);
      }
      return h;
    }),
    (t.set = function (l, h) {
      return (
        Ti(this),
        (this.i = null),
        (l = Is(this, l)),
        AD(this, l) && (this.h -= this.g.get(l).length),
        this.g.set(l, [h]),
        (this.h += 1),
        this
      );
    }),
    (t.get = function (l, h) {
      return l ? ((l = this.V(l)), 0 < l.length ? String(l[0]) : h) : h;
    }));
  function MD(l, h, f) {
    (SD(l, h), 0 < f.length && ((l.i = null), l.g.set(Is(l, h), M(f)), (l.h += f.length)));
  }
  t.toString = function () {
    if (this.i) return this.i;
    if (!this.g) return '';
    let l = [],
      h = Array.from(this.g.keys());
    for (var f = 0; f < h.length; f++) {
      var g = h[f];
      let x = encodeURIComponent(String(g)),
        W = this.V(g);
      for (g = 0; g < W.length; g++) {
        var S = x;
        (W[g] !== '' && (S += '=' + encodeURIComponent(String(W[g]))), l.push(S));
      }
    }
    return (this.i = l.join('&'));
  };
  function Is(l, h) {
    return ((h = String(h)), l.j && (h = h.toLowerCase()), h);
  }
  function o1(l, h) {
    (h &&
      !l.j &&
      (Ti(l),
      (l.i = null),
      l.g.forEach(function (f, g) {
        var S = g.toLowerCase();
        g != S && (SD(this, g), MD(this, S, f));
      }, l)),
      (l.j = h));
  }
  function s1(l, h) {
    let f = new vc();
    if (a.Image) {
      let g = new Image();
      ((g.onload = m(Si, f, 'TestLoadImage: loaded', !0, h, g)),
        (g.onerror = m(Si, f, 'TestLoadImage: error', !1, h, g)),
        (g.onabort = m(Si, f, 'TestLoadImage: abort', !1, h, g)),
        (g.ontimeout = m(Si, f, 'TestLoadImage: timeout', !1, h, g)),
        a.setTimeout(function () {
          g.ontimeout && g.ontimeout();
        }, 1e4),
        (g.src = l));
    } else h(!1);
  }
  function a1(l, h) {
    let f = new vc(),
      g = new AbortController(),
      S = setTimeout(() => {
        (g.abort(), Si(f, 'TestPingServer: timeout', !1, h));
      }, 1e4);
    fetch(l, { signal: g.signal })
      .then((x) => {
        (clearTimeout(S),
          x.ok ? Si(f, 'TestPingServer: ok', !0, h) : Si(f, 'TestPingServer: server error', !1, h));
      })
      .catch(() => {
        (clearTimeout(S), Si(f, 'TestPingServer: error', !1, h));
      });
  }
  function Si(l, h, f, g, S) {
    try {
      (S && ((S.onload = null), (S.onerror = null), (S.onabort = null), (S.ontimeout = null)),
        g(f));
    } catch {}
  }
  function c1() {
    this.g = new zO();
  }
  function l1(l, h, f) {
    let g = f || '';
    try {
      DD(l, function (S, x) {
        let W = S;
        (u(S) && (W = Lm(S)), h.push(g + x + '=' + encodeURIComponent(W)));
      });
    } catch (S) {
      throw (h.push(g + 'type=' + encodeURIComponent('_badmap')), S);
    }
  }
  function Ic(l) {
    ((this.l = l.Ub || null), (this.j = l.eb || !1));
  }
  (D(Ic, jm),
    (Ic.prototype.g = function () {
      return new ju(this.l, this.j);
    }),
    (Ic.prototype.i = (function (l) {
      return function () {
        return l;
      };
    })({})));
  function ju(l, h) {
    (Lt.call(this),
      (this.D = l),
      (this.o = h),
      (this.m = void 0),
      (this.status = this.readyState = 0),
      (this.responseType = this.responseText = this.response = this.statusText = ''),
      (this.onreadystatechange = null),
      (this.u = new Headers()),
      (this.h = null),
      (this.B = 'GET'),
      (this.A = ''),
      (this.g = !1),
      (this.v = this.j = this.l = null));
  }
  (D(ju, Lt),
    (t = ju.prototype),
    (t.open = function (l, h) {
      if (this.readyState != 0) throw (this.abort(), Error('Error reopening a connection'));
      ((this.B = l), (this.A = h), (this.readyState = 1), Cc(this));
    }),
    (t.send = function (l) {
      if (this.readyState != 1) throw (this.abort(), Error('need to call open() first. '));
      this.g = !0;
      let h = {
        headers: this.u,
        method: this.B,
        credentials: this.m,
        cache: void 0,
      };
      (l && (h.body = l),
        (this.D || a).fetch(new Request(this.A, h)).then(this.Sa.bind(this), this.ga.bind(this)));
    }),
    (t.abort = function () {
      ((this.response = this.responseText = ''),
        (this.u = new Headers()),
        (this.status = 0),
        this.j && this.j.cancel('Request was aborted.').catch(() => {}),
        1 <= this.readyState && this.g && this.readyState != 4 && ((this.g = !1), Dc(this)),
        (this.readyState = 0));
    }),
    (t.Sa = function (l) {
      if (
        this.g &&
        ((this.l = l),
        this.h ||
          ((this.status = this.l.status),
          (this.statusText = this.l.statusText),
          (this.h = l.headers),
          (this.readyState = 2),
          Cc(this)),
        this.g && ((this.readyState = 3), Cc(this), this.g))
      )
        if (this.responseType === 'arraybuffer')
          l.arrayBuffer().then(this.Qa.bind(this), this.ga.bind(this));
        else if (typeof a.ReadableStream < 'u' && 'body' in l) {
          if (((this.j = l.body.getReader()), this.o)) {
            if (this.responseType)
              throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');
            this.response = [];
          } else ((this.response = this.responseText = ''), (this.v = new TextDecoder()));
          xD(this);
        } else l.text().then(this.Ra.bind(this), this.ga.bind(this));
    }));
  function xD(l) {
    l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l));
  }
  ((t.Pa = function (l) {
    if (this.g) {
      if (this.o && l.value) this.response.push(l.value);
      else if (!this.o) {
        var h = l.value ? l.value : new Uint8Array(0);
        (h = this.v.decode(h, { stream: !l.done })) && (this.response = this.responseText += h);
      }
      (l.done ? Dc(this) : Cc(this), this.readyState == 3 && xD(this));
    }
  }),
    (t.Ra = function (l) {
      this.g && ((this.response = this.responseText = l), Dc(this));
    }),
    (t.Qa = function (l) {
      this.g && ((this.response = l), Dc(this));
    }),
    (t.ga = function () {
      this.g && Dc(this);
    }));
  function Dc(l) {
    ((l.readyState = 4), (l.l = null), (l.j = null), (l.v = null), Cc(l));
  }
  ((t.setRequestHeader = function (l, h) {
    this.u.append(l, h);
  }),
    (t.getResponseHeader = function (l) {
      return (this.h && this.h.get(l.toLowerCase())) || '';
    }),
    (t.getAllResponseHeaders = function () {
      if (!this.h) return '';
      let l = [],
        h = this.h.entries();
      for (var f = h.next(); !f.done; ) ((f = f.value), l.push(f[0] + ': ' + f[1]), (f = h.next()));
      return l.join(`\r
`);
    }));
  function Cc(l) {
    l.onreadystatechange && l.onreadystatechange.call(l);
  }
  Object.defineProperty(ju.prototype, 'withCredentials', {
    get: function () {
      return this.m === 'include';
    },
    set: function (l) {
      this.m = l ? 'include' : 'same-origin';
    },
  });
  function RD(l) {
    let h = '';
    return (
      q(l, function (f, g) {
        ((h += g),
          (h += ':'),
          (h += f),
          (h += `\r
`));
      }),
      h
    );
  }
  function Ym(l, h, f) {
    e: {
      for (g in f) {
        var g = !1;
        break e;
      }
      g = !0;
    }
    g ||
      ((f = RD(f)),
      typeof l == 'string' ? f != null && encodeURIComponent(String(f)) : Ge(l, h, f));
  }
  function rt(l) {
    (Lt.call(this),
      (this.headers = new Map()),
      (this.o = l || null),
      (this.h = !1),
      (this.v = this.g = null),
      (this.D = ''),
      (this.m = 0),
      (this.l = ''),
      (this.j = this.B = this.u = this.A = !1),
      (this.I = null),
      (this.H = ''),
      (this.J = !1));
  }
  D(rt, Lt);
  var u1 = /^https?$/i,
    d1 = ['POST', 'PUT'];
  ((t = rt.prototype),
    (t.Ha = function (l) {
      this.J = l;
    }),
    (t.ea = function (l, h, f, g) {
      if (this.g)
        throw Error(
          '[goog.net.XhrIo] Object is active with another request=' + this.D + '; newUri=' + l
        );
      ((h = h ? h.toUpperCase() : 'GET'),
        (this.D = l),
        (this.l = ''),
        (this.m = 0),
        (this.A = !1),
        (this.h = !0),
        (this.g = this.o ? this.o.g() : Hm.g()),
        (this.v = this.o ? sD(this.o) : sD(Hm)),
        (this.g.onreadystatechange = v(this.Ea, this)));
      try {
        ((this.B = !0), this.g.open(h, String(l), !0), (this.B = !1));
      } catch (x) {
        ND(this, x);
        return;
      }
      if (((l = f || ''), (f = new Map(this.headers)), g))
        if (Object.getPrototypeOf(g) === Object.prototype) for (var S in g) f.set(S, g[S]);
        else if (typeof g.keys == 'function' && typeof g.get == 'function')
          for (let x of g.keys()) f.set(x, g.get(x));
        else throw Error('Unknown input type for opt_headers: ' + String(g));
      ((g = Array.from(f.keys()).find((x) => x.toLowerCase() == 'content-type')),
        (S = a.FormData && l instanceof a.FormData),
        !(0 <= Array.prototype.indexOf.call(d1, h, void 0)) ||
          g ||
          S ||
          f.set('Content-Type', 'application/x-www-form-urlencoded;charset=utf-8'));
      for (let [x, W] of f) this.g.setRequestHeader(x, W);
      (this.H && (this.g.responseType = this.H),
        'withCredentials' in this.g &&
          this.g.withCredentials !== this.J &&
          (this.g.withCredentials = this.J));
      try {
        (OD(this), (this.u = !0), this.g.send(l), (this.u = !1));
      } catch (x) {
        ND(this, x);
      }
    }));
  function ND(l, h) {
    ((l.h = !1), l.g && ((l.j = !0), l.g.abort(), (l.j = !1)), (l.l = h), (l.m = 5), kD(l), Uu(l));
  }
  function kD(l) {
    l.A || ((l.A = !0), Zt(l, 'complete'), Zt(l, 'error'));
  }
  ((t.abort = function (l) {
    this.g &&
      this.h &&
      ((this.h = !1),
      (this.j = !0),
      this.g.abort(),
      (this.j = !1),
      (this.m = l || 7),
      Zt(this, 'complete'),
      Zt(this, 'abort'),
      Uu(this));
  }),
    (t.N = function () {
      (this.g &&
        (this.h && ((this.h = !1), (this.j = !0), this.g.abort(), (this.j = !1)), Uu(this, !0)),
        rt.aa.N.call(this));
    }),
    (t.Ea = function () {
      this.s || (this.B || this.u || this.j ? PD(this) : this.bb());
    }),
    (t.bb = function () {
      PD(this);
    }));
  function PD(l) {
    if (l.h && typeof s < 'u' && (!l.v[1] || Gr(l) != 4 || l.Z() != 2)) {
      if (l.u && Gr(l) == 4) nD(l.Ea, 0, l);
      else if ((Zt(l, 'readystatechange'), Gr(l) == 4)) {
        l.h = !1;
        try {
          let W = l.Z();
          e: switch (W) {
            case 200:
            case 201:
            case 202:
            case 204:
            case 206:
            case 304:
            case 1223:
              var h = !0;
              break e;
            default:
              h = !1;
          }
          var f;
          if (!(f = h)) {
            var g;
            if ((g = W === 0)) {
              var S = String(l.D).match(CD)[1] || null;
              (!S && a.self && a.self.location && (S = a.self.location.protocol.slice(0, -1)),
                (g = !u1.test(S ? S.toLowerCase() : '')));
            }
            f = g;
          }
          if (f) (Zt(l, 'complete'), Zt(l, 'success'));
          else {
            l.m = 6;
            try {
              var x = 2 < Gr(l) ? l.g.statusText : '';
            } catch {
              x = '';
            }
            ((l.l = x + ' [' + l.Z() + ']'), kD(l));
          }
        } finally {
          Uu(l);
        }
      }
    }
  }
  function Uu(l, h) {
    if (l.g) {
      OD(l);
      let f = l.g,
        g = l.v[0] ? () => {} : null;
      ((l.g = null), (l.v = null), h || Zt(l, 'ready'));
      try {
        f.onreadystatechange = g;
      } catch {}
    }
  }
  function OD(l) {
    l.I && (a.clearTimeout(l.I), (l.I = null));
  }
  t.isActive = function () {
    return !!this.g;
  };
  function Gr(l) {
    return l.g ? l.g.readyState : 0;
  }
  ((t.Z = function () {
    try {
      return 2 < Gr(this) ? this.g.status : -1;
    } catch {
      return -1;
    }
  }),
    (t.oa = function () {
      try {
        return this.g ? this.g.responseText : '';
      } catch {
        return '';
      }
    }),
    (t.Oa = function (l) {
      if (this.g) {
        var h = this.g.responseText;
        return (l && h.indexOf(l) == 0 && (h = h.substring(l.length)), $O(h));
      }
    }));
  function FD(l) {
    try {
      if (!l.g) return null;
      if ('response' in l.g) return l.g.response;
      switch (l.H) {
        case '':
        case 'text':
          return l.g.responseText;
        case 'arraybuffer':
          if ('mozResponseArrayBuffer' in l.g) return l.g.mozResponseArrayBuffer;
      }
      return null;
    } catch {
      return null;
    }
  }
  function h1(l) {
    let h = {};
    l = ((l.g && 2 <= Gr(l) && l.g.getAllResponseHeaders()) || '').split(`\r
`);
    for (let g = 0; g < l.length; g++) {
      if (O(l[g])) continue;
      var f = w(l[g]);
      let S = f[0];
      if (((f = f[1]), typeof f != 'string')) continue;
      f = f.trim();
      let x = h[S] || [];
      ((h[S] = x), x.push(f));
    }
    T(h, function (g) {
      return g.join(', ');
    });
  }
  ((t.Ba = function () {
    return this.m;
  }),
    (t.Ka = function () {
      return typeof this.l == 'string' ? this.l : String(this.l);
    }));
  function bc(l, h, f) {
    return (f && f.internalChannelParams && f.internalChannelParams[l]) || h;
  }
  function VD(l) {
    ((this.Aa = 0),
      (this.i = []),
      (this.j = new vc()),
      (this.ia =
        this.qa =
        this.I =
        this.W =
        this.g =
        this.ya =
        this.D =
        this.H =
        this.m =
        this.S =
        this.o =
          null),
      (this.Ya = this.U = 0),
      (this.Va = bc('failFast', !1, l)),
      (this.F = this.C = this.u = this.s = this.l = null),
      (this.X = !0),
      (this.za = this.T = -1),
      (this.Y = this.v = this.B = 0),
      (this.Ta = bc('baseRetryDelayMs', 5e3, l)),
      (this.cb = bc('retryDelaySeedMs', 1e4, l)),
      (this.Wa = bc('forwardChannelMaxRetries', 2, l)),
      (this.wa = bc('forwardChannelRequestTimeoutMs', 2e4, l)),
      (this.pa = (l && l.xmlHttpFactory) || void 0),
      (this.Xa = (l && l.Tb) || void 0),
      (this.Ca = (l && l.useFetchStreams) || !1),
      (this.L = void 0),
      (this.J = (l && l.supportsCrossDomainXhr) || !1),
      (this.K = ''),
      (this.h = new yD(l && l.concurrentRequestLimit)),
      (this.Da = new c1()),
      (this.P = (l && l.fastHandshake) || !1),
      (this.O = (l && l.encodeInitMessageHeaders) || !1),
      this.P && this.O && (this.O = !1),
      (this.Ua = (l && l.Rb) || !1),
      l && l.xa && this.j.xa(),
      l && l.forceLongPolling && (this.X = !1),
      (this.ba = (!this.P && this.X && l && l.detectBufferingProxy) || !1),
      (this.ja = void 0),
      l && l.longPollingTimeout && 0 < l.longPollingTimeout && (this.ja = l.longPollingTimeout),
      (this.ca = void 0),
      (this.R = 0),
      (this.M = !1),
      (this.ka = this.A = null));
  }
  ((t = VD.prototype),
    (t.la = 8),
    (t.G = 1),
    (t.connect = function (l, h, f, g) {
      (Jt(0),
        (this.W = l),
        (this.H = h || {}),
        f && g !== void 0 && ((this.H.OSID = f), (this.H.OAID = g)),
        (this.F = this.X),
        (this.I = qD(this, null, this.W)),
        Hu(this));
    }));
  function Qm(l) {
    if ((LD(l), l.G == 3)) {
      var h = l.U++,
        f = qr(l.I);
      if (
        (Ge(f, 'SID', l.K),
        Ge(f, 'RID', h),
        Ge(f, 'TYPE', 'terminate'),
        Tc(l, f),
        (h = new bi(l, l.j, h)),
        (h.L = 2),
        (h.v = Lu(qr(f))),
        (f = !1),
        a.navigator && a.navigator.sendBeacon)
      )
        try {
          f = a.navigator.sendBeacon(h.v.toString(), '');
        } catch {}
      (!f && a.Image && ((new Image().src = h.v), (f = !0)),
        f || ((h.g = GD(h.j, null)), h.g.ea(h.v)),
        (h.F = Date.now()),
        Ou(h));
    }
    WD(l);
  }
  function Bu(l) {
    l.g && (Zm(l), l.g.cancel(), (l.g = null));
  }
  function LD(l) {
    (Bu(l),
      l.u && (a.clearTimeout(l.u), (l.u = null)),
      $u(l),
      l.h.cancel(),
      l.s && (typeof l.s == 'number' && a.clearTimeout(l.s), (l.s = null)));
  }
  function Hu(l) {
    if (!_D(l.h) && !l.s) {
      l.s = !0;
      var h = l.Ga;
      (yr || Wr(), zr || (yr(), (zr = !0)), ht.add(h, l), (l.B = 0));
    }
  }
  function f1(l, h) {
    return wD(l.h) >= l.h.j - (l.s ? 1 : 0)
      ? !1
      : l.s
        ? ((l.i = h.D.concat(l.i)), !0)
        : l.G == 1 || l.G == 2 || l.B >= (l.Va ? 0 : l.Wa)
          ? !1
          : ((l.s = gc(v(l.Ga, l, h), zD(l, l.B))), l.B++, !0);
  }
  t.Ga = function (l) {
    if (this.s)
      if (((this.s = null), this.G == 1)) {
        if (!l) {
          ((this.U = Math.floor(1e5 * Math.random())), (l = this.U++));
          let S = new bi(this, this.j, l),
            x = this.o;
          if (
            (this.S && (x ? ((x = y(x)), b(x, this.S)) : (x = this.S)),
            this.m !== null || this.O || ((S.H = x), (x = null)),
            this.P)
          )
            e: {
              for (var h = 0, f = 0; f < this.i.length; f++) {
                t: {
                  var g = this.i[f];
                  if ('__data__' in g.map && ((g = g.map.__data__), typeof g == 'string')) {
                    g = g.length;
                    break t;
                  }
                  g = void 0;
                }
                if (g === void 0) break;
                if (((h += g), 4096 < h)) {
                  h = f;
                  break e;
                }
                if (h === 4096 || f === this.i.length - 1) {
                  h = f + 1;
                  break e;
                }
              }
              h = 1e3;
            }
          else h = 1e3;
          ((h = UD(this, S, h)),
            (f = qr(this.I)),
            Ge(f, 'RID', l),
            Ge(f, 'CVER', 22),
            this.D && Ge(f, 'X-HTTP-Session-Id', this.D),
            Tc(this, f),
            x &&
              (this.O
                ? (h = 'headers=' + encodeURIComponent(String(RD(x))) + '&' + h)
                : this.m && Ym(f, this.m, x)),
            Km(this.h, S),
            this.Ua && Ge(f, 'TYPE', 'init'),
            this.P
              ? (Ge(f, '$req', h), Ge(f, 'SID', 'null'), (S.T = !0), zm(S, f, null))
              : zm(S, f, h),
            (this.G = 2));
        }
      } else this.G == 3 && (l ? jD(this, l) : this.i.length == 0 || _D(this.h) || jD(this));
  };
  function jD(l, h) {
    var f;
    h ? (f = h.l) : (f = l.U++);
    let g = qr(l.I);
    (Ge(g, 'SID', l.K),
      Ge(g, 'RID', f),
      Ge(g, 'AID', l.T),
      Tc(l, g),
      l.m && l.o && Ym(g, l.m, l.o),
      (f = new bi(l, l.j, f, l.B + 1)),
      l.m === null && (f.H = l.o),
      h && (l.i = h.D.concat(l.i)),
      (h = UD(l, f, 1e3)),
      (f.I = Math.round(0.5 * l.wa) + Math.round(0.5 * l.wa * Math.random())),
      Km(l.h, f),
      zm(f, g, h));
  }
  function Tc(l, h) {
    (l.H &&
      q(l.H, function (f, g) {
        Ge(h, g, f);
      }),
      l.l &&
        DD({}, function (f, g) {
          Ge(h, g, f);
        }));
  }
  function UD(l, h, f) {
    f = Math.min(l.i.length, f);
    var g = l.l ? v(l.l.Na, l.l, l) : null;
    e: {
      var S = l.i;
      let x = -1;
      for (;;) {
        let W = ['count=' + f];
        x == -1 ? (0 < f ? ((x = S[0].g), W.push('ofs=' + x)) : (x = 0)) : W.push('ofs=' + x);
        let Be = !0;
        for (let kt = 0; kt < f; kt++) {
          let Pe = S[kt].g,
            jt = S[kt].map;
          if (((Pe -= x), 0 > Pe)) ((x = Math.max(0, S[kt].g - 100)), (Be = !1));
          else
            try {
              l1(jt, W, 'req' + Pe + '_');
            } catch {
              g && g(jt);
            }
        }
        if (Be) {
          g = W.join('&');
          break e;
        }
      }
    }
    return ((l = l.i.splice(0, f)), (h.D = l), g);
  }
  function BD(l) {
    if (!l.g && !l.u) {
      l.Y = 1;
      var h = l.Fa;
      (yr || Wr(), zr || (yr(), (zr = !0)), ht.add(h, l), (l.v = 0));
    }
  }
  function Xm(l) {
    return l.g || l.u || 3 <= l.v ? !1 : (l.Y++, (l.u = gc(v(l.Fa, l), zD(l, l.v))), l.v++, !0);
  }
  ((t.Fa = function () {
    if (((this.u = null), HD(this), this.ba && !(this.M || this.g == null || 0 >= this.R))) {
      var l = 2 * this.R;
      (this.j.info('BP detection timer enabled: ' + l), (this.A = gc(v(this.ab, this), l)));
    }
  }),
    (t.ab = function () {
      this.A &&
        ((this.A = null),
        this.j.info('BP detection timeout reached.'),
        this.j.info('Buffering proxy detected and switch to long-polling!'),
        (this.F = !1),
        (this.M = !0),
        Jt(10),
        Bu(this),
        HD(this));
    }));
  function Zm(l) {
    l.A != null && (a.clearTimeout(l.A), (l.A = null));
  }
  function HD(l) {
    ((l.g = new bi(l, l.j, 'rpc', l.Y)), l.m === null && (l.g.H = l.o), (l.g.O = 0));
    var h = qr(l.qa);
    (Ge(h, 'RID', 'rpc'),
      Ge(h, 'SID', l.K),
      Ge(h, 'AID', l.T),
      Ge(h, 'CI', l.F ? '0' : '1'),
      !l.F && l.ja && Ge(h, 'TO', l.ja),
      Ge(h, 'TYPE', 'xmlhttp'),
      Tc(l, h),
      l.m && l.o && Ym(h, l.m, l.o),
      l.L && (l.g.I = l.L));
    var f = l.g;
    ((l = l.ia), (f.L = 1), (f.v = Lu(qr(h))), (f.m = null), (f.P = !0), mD(f, l));
  }
  t.Za = function () {
    this.C != null && ((this.C = null), Bu(this), Xm(this), Jt(19));
  };
  function $u(l) {
    l.C != null && (a.clearTimeout(l.C), (l.C = null));
  }
  function $D(l, h) {
    var f = null;
    if (l.g == h) {
      ($u(l), Zm(l), (l.g = null));
      var g = 2;
    } else if (Gm(l.h, h)) ((f = h.D), ED(l.h, h), (g = 1));
    else return;
    if (l.G != 0) {
      if (h.o)
        if (g == 1) {
          ((f = h.m ? h.m.length : 0), (h = Date.now() - h.F));
          var S = l.B;
          ((g = Nu()), Zt(g, new dD(g, f)), Hu(l));
        } else BD(l);
      else if (
        ((S = h.s), S == 3 || (S == 0 && 0 < h.X) || !((g == 1 && f1(l, h)) || (g == 2 && Xm(l))))
      )
        switch ((f && 0 < f.length && ((h = l.h), (h.i = h.i.concat(f))), S)) {
          case 1:
            Eo(l, 5);
            break;
          case 4:
            Eo(l, 10);
            break;
          case 3:
            Eo(l, 6);
            break;
          default:
            Eo(l, 2);
        }
    }
  }
  function zD(l, h) {
    let f = l.Ta + Math.floor(Math.random() * l.cb);
    return (l.isActive() || (f *= 2), f * h);
  }
  function Eo(l, h) {
    if ((l.j.info('Error code ' + h), h == 2)) {
      var f = v(l.fb, l),
        g = l.Xa;
      let S = !g;
      ((g = new wo(g || '//www.google.com/images/cleardot.gif')),
        (a.location && a.location.protocol == 'http') || Fu(g, 'https'),
        Lu(g),
        S ? s1(g.toString(), f) : a1(g.toString(), f));
    } else Jt(2);
    ((l.G = 0), l.l && l.l.sa(h), WD(l), LD(l));
  }
  t.fb = function (l) {
    l
      ? (this.j.info('Successfully pinged google.com'), Jt(2))
      : (this.j.info('Failed to ping google.com'), Jt(1));
  };
  function WD(l) {
    if (((l.G = 0), (l.ka = []), l.l)) {
      let h = ID(l.h);
      ((h.length != 0 || l.i.length != 0) &&
        (A(l.ka, h), A(l.ka, l.i), (l.h.i.length = 0), M(l.i), (l.i.length = 0)),
        l.l.ra());
    }
  }
  function qD(l, h, f) {
    var g = f instanceof wo ? qr(f) : new wo(f);
    if (g.g != '') (h && (g.g = h + '.' + g.g), Vu(g, g.s));
    else {
      var S = a.location;
      ((g = S.protocol), (h = h ? h + '.' + S.hostname : S.hostname), (S = +S.port));
      var x = new wo(null);
      (g && Fu(x, g), h && (x.g = h), S && Vu(x, S), f && (x.l = f), (g = x));
    }
    return ((f = l.D), (h = l.ya), f && h && Ge(g, f, h), Ge(g, 'VER', l.la), Tc(l, g), g);
  }
  function GD(l, h, f) {
    if (h && !l.J) throw Error("Can't create secondary domain capable XhrIo object.");
    return ((h = l.Ca && !l.pa ? new rt(new Ic({ eb: f })) : new rt(l.pa)), h.Ha(l.J), h);
  }
  t.isActive = function () {
    return !!this.l && this.l.isActive(this);
  };
  function KD() {}
  ((t = KD.prototype),
    (t.ua = function () {}),
    (t.ta = function () {}),
    (t.sa = function () {}),
    (t.ra = function () {}),
    (t.isActive = function () {
      return !0;
    }),
    (t.Na = function () {}));
  function zu() {}
  zu.prototype.g = function (l, h) {
    return new gn(l, h);
  };
  function gn(l, h) {
    (Lt.call(this),
      (this.g = new VD(h)),
      (this.l = l),
      (this.h = (h && h.messageUrlParams) || null),
      (l = (h && h.messageHeaders) || null),
      h &&
        h.clientProtocolHeaderRequired &&
        (l ? (l['X-Client-Protocol'] = 'webchannel') : (l = { 'X-Client-Protocol': 'webchannel' })),
      (this.g.o = l),
      (l = (h && h.initMessageHeaders) || null),
      h &&
        h.messageContentType &&
        (l
          ? (l['X-WebChannel-Content-Type'] = h.messageContentType)
          : (l = { 'X-WebChannel-Content-Type': h.messageContentType })),
      h &&
        h.va &&
        (l
          ? (l['X-WebChannel-Client-Profile'] = h.va)
          : (l = { 'X-WebChannel-Client-Profile': h.va })),
      (this.g.S = l),
      (l = h && h.Sb) && !O(l) && (this.g.m = l),
      (this.v = (h && h.supportsCrossDomainXhr) || !1),
      (this.u = (h && h.sendRawJson) || !1),
      (h = h && h.httpSessionIdParam) &&
        !O(h) &&
        ((this.g.D = h),
        (l = this.h),
        l !== null && h in l && ((l = this.h), h in l && delete l[h])),
      (this.j = new Ds(this)));
  }
  (D(gn, Lt),
    (gn.prototype.m = function () {
      ((this.g.l = this.j), this.v && (this.g.J = !0), this.g.connect(this.l, this.h || void 0));
    }),
    (gn.prototype.close = function () {
      Qm(this.g);
    }),
    (gn.prototype.o = function (l) {
      var h = this.g;
      if (typeof l == 'string') {
        var f = {};
        ((f.__data__ = l), (l = f));
      } else this.u && ((f = {}), (f.__data__ = Lm(l)), (l = f));
      (h.i.push(new QO(h.Ya++, l)), h.G == 3 && Hu(h));
    }),
    (gn.prototype.N = function () {
      ((this.g.l = null), delete this.j, Qm(this.g), delete this.g, gn.aa.N.call(this));
    }));
  function YD(l) {
    (Um.call(this),
      l.__headers__ &&
        ((this.headers = l.__headers__),
        (this.statusCode = l.__status__),
        delete l.__headers__,
        delete l.__status__));
    var h = l.__sm__;
    if (h) {
      e: {
        for (let f in h) {
          l = f;
          break e;
        }
        l = void 0;
      }
      ((this.i = l) && ((l = this.i), (h = h !== null && l in h ? h[l] : void 0)), (this.data = h));
    } else this.data = l;
  }
  D(YD, Um);
  function QD() {
    (Bm.call(this), (this.status = 1));
  }
  D(QD, Bm);
  function Ds(l) {
    this.g = l;
  }
  (D(Ds, KD),
    (Ds.prototype.ua = function () {
      Zt(this.g, 'a');
    }),
    (Ds.prototype.ta = function (l) {
      Zt(this.g, new YD(l));
    }),
    (Ds.prototype.sa = function (l) {
      Zt(this.g, new QD());
    }),
    (Ds.prototype.ra = function () {
      Zt(this.g, 'b');
    }),
    (zu.prototype.createWebChannel = zu.prototype.g),
    (gn.prototype.send = gn.prototype.o),
    (gn.prototype.open = gn.prototype.m),
    (gn.prototype.close = gn.prototype.close),
    (KE = _i.createWebChannelTransport =
      function () {
        return new zu();
      }),
    (GE = _i.getStatEventTarget =
      function () {
        return Nu();
      }),
    (qE = _i.Event = yo),
    (Bp = _i.Stat =
      {
        mb: 0,
        pb: 1,
        qb: 2,
        Jb: 3,
        Ob: 4,
        Lb: 5,
        Mb: 6,
        Kb: 7,
        Ib: 8,
        Nb: 9,
        PROXY: 10,
        NOPROXY: 11,
        Gb: 12,
        Cb: 13,
        Db: 14,
        Bb: 15,
        Eb: 16,
        Fb: 17,
        ib: 18,
        hb: 19,
        jb: 20,
      }),
    (ku.NO_ERROR = 0),
    (ku.TIMEOUT = 8),
    (ku.HTTP_ERROR = 6),
    (su = _i.ErrorCode = ku),
    (hD.COMPLETE = 'complete'),
    (WE = _i.EventType = hD),
    (aD.EventType = pc),
    (pc.OPEN = 'a'),
    (pc.CLOSE = 'b'),
    (pc.ERROR = 'c'),
    (pc.MESSAGE = 'd'),
    (Lt.prototype.listen = Lt.prototype.K),
    (La = _i.WebChannel = aD),
    (h9 = _i.FetchXmlHttpFactory = Ic),
    (rt.prototype.listenOnce = rt.prototype.L),
    (rt.prototype.getLastError = rt.prototype.Ka),
    (rt.prototype.getLastErrorCode = rt.prototype.Ba),
    (rt.prototype.getStatus = rt.prototype.Z),
    (rt.prototype.getResponseJson = rt.prototype.Oa),
    (rt.prototype.getResponseText = rt.prototype.oa),
    (rt.prototype.send = rt.prototype.ea),
    (rt.prototype.setWithCredentials = rt.prototype.Ha),
    (zE = _i.XhrIo = rt));
}).apply(typeof Up < 'u' ? Up : typeof self < 'u' ? self : typeof window < 'u' ? window : {});
var kk = '@firebase/firestore';
var Nt = class {
  constructor(e) {
    this.uid = e;
  }
  isAuthenticated() {
    return this.uid != null;
  }
  toKey() {
    return this.isAuthenticated() ? 'uid:' + this.uid : 'anonymous-user';
  }
  isEqual(e) {
    return e.uid === this.uid;
  }
};
((Nt.UNAUTHENTICATED = new Nt(null)),
  (Nt.GOOGLE_CREDENTIALS = new Nt('google-credentials-uid')),
  (Nt.FIRST_PARTY = new Nt('first-party-uid')),
  (Nt.MOCK_USER = new Nt('mock-user')));
var ac = '10.14.0';
var ps = new Xi('@firebase/firestore');
function au() {
  return ps.logLevel;
}
function Y(t, ...e) {
  if (ps.logLevel <= Me.DEBUG) {
    let n = e.map(RI);
    ps.debug(`Firestore (${ac}): ${t}`, ...n);
  }
}
function wi(t, ...e) {
  if (ps.logLevel <= Me.ERROR) {
    let n = e.map(RI);
    ps.error(`Firestore (${ac}): ${t}`, ...n);
  }
}
function qa(t, ...e) {
  if (ps.logLevel <= Me.WARN) {
    let n = e.map(RI);
    ps.warn(`Firestore (${ac}): ${t}`, ...n);
  }
}
function RI(t) {
  if (typeof t == 'string') return t;
  try {
    return (function (n) {
      return JSON.stringify(n);
    })(t);
  } catch {
    return t;
  }
}
function fe(t = 'Unexpected state') {
  let e = `FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ` + t;
  throw (wi(e), new Error(e));
}
function Ue(t, e) {
  t || fe();
}
function ge(t, e) {
  return t;
}
var j = {
    OK: 'ok',
    CANCELLED: 'cancelled',
    UNKNOWN: 'unknown',
    INVALID_ARGUMENT: 'invalid-argument',
    DEADLINE_EXCEEDED: 'deadline-exceeded',
    NOT_FOUND: 'not-found',
    ALREADY_EXISTS: 'already-exists',
    PERMISSION_DENIED: 'permission-denied',
    UNAUTHENTICATED: 'unauthenticated',
    RESOURCE_EXHAUSTED: 'resource-exhausted',
    FAILED_PRECONDITION: 'failed-precondition',
    ABORTED: 'aborted',
    OUT_OF_RANGE: 'out-of-range',
    UNIMPLEMENTED: 'unimplemented',
    INTERNAL: 'internal',
    UNAVAILABLE: 'unavailable',
    DATA_LOSS: 'data-loss',
  },
  oe = class extends Sn {
    constructor(e, n) {
      (super(e, n),
        (this.code = e),
        (this.message = n),
        (this.toString = () => `${this.name}: [code=${this.code}]: ${this.message}`));
    }
  };
var Vr = class {
  constructor() {
    this.promise = new Promise((e, n) => {
      ((this.resolve = e), (this.reject = n));
    });
  }
};
var qp = class {
    constructor(e, n) {
      ((this.user = n),
        (this.type = 'OAuth'),
        (this.headers = new Map()),
        this.headers.set('Authorization', `Bearer ${e}`));
    }
  },
  JE = class {
    getToken() {
      return Promise.resolve(null);
    }
    invalidateToken() {}
    start(e, n) {
      e.enqueueRetryable(() => n(Nt.UNAUTHENTICATED));
    }
    shutdown() {}
  },
  e0 = class {
    constructor(e) {
      ((this.token = e), (this.changeListener = null));
    }
    getToken() {
      return Promise.resolve(this.token);
    }
    invalidateToken() {}
    start(e, n) {
      ((this.changeListener = n), e.enqueueRetryable(() => n(this.token.user)));
    }
    shutdown() {
      this.changeListener = null;
    }
  },
  t0 = class {
    constructor(e) {
      ((this.t = e),
        (this.currentUser = Nt.UNAUTHENTICATED),
        (this.i = 0),
        (this.forceRefresh = !1),
        (this.auth = null));
    }
    start(e, n) {
      Ue(this.o === void 0);
      let r = this.i,
        i = (c) => (this.i !== r ? ((r = this.i), n(c)) : Promise.resolve()),
        o = new Vr();
      this.o = () => {
        (this.i++,
          (this.currentUser = this.u()),
          o.resolve(),
          (o = new Vr()),
          e.enqueueRetryable(() => i(this.currentUser)));
      };
      let s = () => {
          let c = o;
          e.enqueueRetryable(() =>
            C(this, null, function* () {
              (yield c.promise, yield i(this.currentUser));
            })
          );
        },
        a = (c) => {
          (Y('FirebaseAuthCredentialsProvider', 'Auth detected'),
            (this.auth = c),
            this.o && (this.auth.addAuthTokenListener(this.o), s()));
        };
      (this.t.onInit((c) => a(c)),
        setTimeout(() => {
          if (!this.auth) {
            let c = this.t.getImmediate({ optional: !0 });
            c
              ? a(c)
              : (Y('FirebaseAuthCredentialsProvider', 'Auth not yet detected'),
                o.resolve(),
                (o = new Vr()));
          }
        }, 0),
        s());
    }
    getToken() {
      let e = this.i,
        n = this.forceRefresh;
      return (
        (this.forceRefresh = !1),
        this.auth
          ? this.auth
              .getToken(n)
              .then((r) =>
                this.i !== e
                  ? (Y('FirebaseAuthCredentialsProvider', 'getToken aborted due to token change.'),
                    this.getToken())
                  : r
                    ? (Ue(typeof r.accessToken == 'string'),
                      new qp(r.accessToken, this.currentUser))
                    : null
              )
          : Promise.resolve(null)
      );
    }
    invalidateToken() {
      this.forceRefresh = !0;
    }
    shutdown() {
      (this.auth && this.o && this.auth.removeAuthTokenListener(this.o), (this.o = void 0));
    }
    u() {
      let e = this.auth && this.auth.getUid();
      return (Ue(e === null || typeof e == 'string'), new Nt(e));
    }
  },
  n0 = class {
    constructor(e, n, r) {
      ((this.l = e),
        (this.h = n),
        (this.P = r),
        (this.type = 'FirstParty'),
        (this.user = Nt.FIRST_PARTY),
        (this.I = new Map()));
    }
    T() {
      return this.P ? this.P() : null;
    }
    get headers() {
      this.I.set('X-Goog-AuthUser', this.l);
      let e = this.T();
      return (
        e && this.I.set('Authorization', e),
        this.h && this.I.set('X-Goog-Iam-Authorization-Token', this.h),
        this.I
      );
    }
  },
  r0 = class {
    constructor(e, n, r) {
      ((this.l = e), (this.h = n), (this.P = r));
    }
    getToken() {
      return Promise.resolve(new n0(this.l, this.h, this.P));
    }
    start(e, n) {
      e.enqueueRetryable(() => n(Nt.FIRST_PARTY));
    }
    shutdown() {}
    invalidateToken() {}
  },
  i0 = class {
    constructor(e) {
      ((this.value = e),
        (this.type = 'AppCheck'),
        (this.headers = new Map()),
        e && e.length > 0 && this.headers.set('x-firebase-appcheck', this.value));
    }
  },
  o0 = class {
    constructor(e) {
      ((this.A = e), (this.forceRefresh = !1), (this.appCheck = null), (this.R = null));
    }
    start(e, n) {
      Ue(this.o === void 0);
      let r = (o) => {
        o.error != null &&
          Y(
            'FirebaseAppCheckTokenProvider',
            `Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`
          );
        let s = o.token !== this.R;
        return (
          (this.R = o.token),
          Y('FirebaseAppCheckTokenProvider', `Received ${s ? 'new' : 'existing'} token.`),
          s ? n(o.token) : Promise.resolve()
        );
      };
      this.o = (o) => {
        e.enqueueRetryable(() => r(o));
      };
      let i = (o) => {
        (Y('FirebaseAppCheckTokenProvider', 'AppCheck detected'),
          (this.appCheck = o),
          this.o && this.appCheck.addTokenListener(this.o));
      };
      (this.A.onInit((o) => i(o)),
        setTimeout(() => {
          if (!this.appCheck) {
            let o = this.A.getImmediate({ optional: !0 });
            o ? i(o) : Y('FirebaseAppCheckTokenProvider', 'AppCheck not yet detected');
          }
        }, 0));
    }
    getToken() {
      let e = this.forceRefresh;
      return (
        (this.forceRefresh = !1),
        this.appCheck
          ? this.appCheck
              .getToken(e)
              .then((n) =>
                n ? (Ue(typeof n.token == 'string'), (this.R = n.token), new i0(n.token)) : null
              )
          : Promise.resolve(null)
      );
    }
    invalidateToken() {
      this.forceRefresh = !0;
    }
    shutdown() {
      (this.appCheck && this.o && this.appCheck.removeTokenListener(this.o), (this.o = void 0));
    }
  };
function f9(t) {
  let e = typeof self < 'u' && (self.crypto || self.msCrypto),
    n = new Uint8Array(t);
  if (e && typeof e.getRandomValues == 'function') e.getRandomValues(n);
  else for (let r = 0; r < t; r++) n[r] = Math.floor(256 * Math.random());
  return n;
}
var Gp = class {
  static newId() {
    let e = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',
      n = Math.floor(256 / e.length) * e.length,
      r = '';
    for (; r.length < 20; ) {
      let i = f9(40);
      for (let o = 0; o < i.length; ++o)
        r.length < 20 && i[o] < n && (r += e.charAt(i[o] % e.length));
    }
    return r;
  }
};
function Fe(t, e) {
  return t < e ? -1 : t > e ? 1 : 0;
}
function Ga(t, e, n) {
  return t.length === e.length && t.every((r, i) => n(r, e[i]));
}
var Vt = class t {
  constructor(e, n) {
    if (((this.seconds = e), (this.nanoseconds = n), n < 0))
      throw new oe(j.INVALID_ARGUMENT, 'Timestamp nanoseconds out of range: ' + n);
    if (n >= 1e9) throw new oe(j.INVALID_ARGUMENT, 'Timestamp nanoseconds out of range: ' + n);
    if (e < -62135596800) throw new oe(j.INVALID_ARGUMENT, 'Timestamp seconds out of range: ' + e);
    if (e >= 253402300800) throw new oe(j.INVALID_ARGUMENT, 'Timestamp seconds out of range: ' + e);
  }
  static now() {
    return t.fromMillis(Date.now());
  }
  static fromDate(e) {
    return t.fromMillis(e.getTime());
  }
  static fromMillis(e) {
    let n = Math.floor(e / 1e3),
      r = Math.floor(1e6 * (e - 1e3 * n));
    return new t(n, r);
  }
  toDate() {
    return new Date(this.toMillis());
  }
  toMillis() {
    return 1e3 * this.seconds + this.nanoseconds / 1e6;
  }
  _compareTo(e) {
    return this.seconds === e.seconds
      ? Fe(this.nanoseconds, e.nanoseconds)
      : Fe(this.seconds, e.seconds);
  }
  isEqual(e) {
    return e.seconds === this.seconds && e.nanoseconds === this.nanoseconds;
  }
  toString() {
    return 'Timestamp(seconds=' + this.seconds + ', nanoseconds=' + this.nanoseconds + ')';
  }
  toJSON() {
    return { seconds: this.seconds, nanoseconds: this.nanoseconds };
  }
  valueOf() {
    let e = this.seconds - -62135596800;
    return String(e).padStart(12, '0') + '.' + String(this.nanoseconds).padStart(9, '0');
  }
};
var _e = class t {
  constructor(e) {
    this.timestamp = e;
  }
  static fromTimestamp(e) {
    return new t(e);
  }
  static min() {
    return new t(new Vt(0, 0));
  }
  static max() {
    return new t(new Vt(253402300799, 999999999));
  }
  compareTo(e) {
    return this.timestamp._compareTo(e.timestamp);
  }
  isEqual(e) {
    return this.timestamp.isEqual(e.timestamp);
  }
  toMicroseconds() {
    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
  }
  toString() {
    return 'SnapshotVersion(' + this.timestamp.toString() + ')';
  }
  toTimestamp() {
    return this.timestamp;
  }
};
var Kp = class t {
    constructor(e, n, r) {
      (n === void 0 ? (n = 0) : n > e.length && fe(),
        r === void 0 ? (r = e.length - n) : r > e.length - n && fe(),
        (this.segments = e),
        (this.offset = n),
        (this.len = r));
    }
    get length() {
      return this.len;
    }
    isEqual(e) {
      return t.comparator(this, e) === 0;
    }
    child(e) {
      let n = this.segments.slice(this.offset, this.limit());
      return (
        e instanceof t
          ? e.forEach((r) => {
              n.push(r);
            })
          : n.push(e),
        this.construct(n)
      );
    }
    limit() {
      return this.offset + this.length;
    }
    popFirst(e) {
      return (
        (e = e === void 0 ? 1 : e),
        this.construct(this.segments, this.offset + e, this.length - e)
      );
    }
    popLast() {
      return this.construct(this.segments, this.offset, this.length - 1);
    }
    firstSegment() {
      return this.segments[this.offset];
    }
    lastSegment() {
      return this.get(this.length - 1);
    }
    get(e) {
      return this.segments[this.offset + e];
    }
    isEmpty() {
      return this.length === 0;
    }
    isPrefixOf(e) {
      if (e.length < this.length) return !1;
      for (let n = 0; n < this.length; n++) if (this.get(n) !== e.get(n)) return !1;
      return !0;
    }
    isImmediateParentOf(e) {
      if (this.length + 1 !== e.length) return !1;
      for (let n = 0; n < this.length; n++) if (this.get(n) !== e.get(n)) return !1;
      return !0;
    }
    forEach(e) {
      for (let n = this.offset, r = this.limit(); n < r; n++) e(this.segments[n]);
    }
    toArray() {
      return this.segments.slice(this.offset, this.limit());
    }
    static comparator(e, n) {
      let r = Math.min(e.length, n.length);
      for (let i = 0; i < r; i++) {
        let o = e.get(i),
          s = n.get(i);
        if (o < s) return -1;
        if (o > s) return 1;
      }
      return e.length < n.length ? -1 : e.length > n.length ? 1 : 0;
    }
  },
  ct = class t extends Kp {
    construct(e, n, r) {
      return new t(e, n, r);
    }
    canonicalString() {
      return this.toArray().join('/');
    }
    toString() {
      return this.canonicalString();
    }
    toUriEncodedString() {
      return this.toArray().map(encodeURIComponent).join('/');
    }
    static fromString(...e) {
      let n = [];
      for (let r of e) {
        if (r.indexOf('//') >= 0)
          throw new oe(
            j.INVALID_ARGUMENT,
            `Invalid segment (${r}). Paths must not contain // in them.`
          );
        n.push(...r.split('/').filter((i) => i.length > 0));
      }
      return new t(n);
    }
    static emptyPath() {
      return new t([]);
    }
  },
  p9 = /^[_a-zA-Z][_a-zA-Z0-9]*$/,
  Mn = class t extends Kp {
    construct(e, n, r) {
      return new t(e, n, r);
    }
    static isValidIdentifier(e) {
      return p9.test(e);
    }
    canonicalString() {
      return this.toArray()
        .map(
          (e) => (
            (e = e.replace(/\\/g, '\\\\').replace(/`/g, '\\`')),
            t.isValidIdentifier(e) || (e = '`' + e + '`'),
            e
          )
        )
        .join('.');
    }
    toString() {
      return this.canonicalString();
    }
    isKeyField() {
      return this.length === 1 && this.get(0) === '__name__';
    }
    static keyField() {
      return new t(['__name__']);
    }
    static fromServerFormat(e) {
      let n = [],
        r = '',
        i = 0,
        o = () => {
          if (r.length === 0)
            throw new oe(
              j.INVALID_ARGUMENT,
              `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`
            );
          (n.push(r), (r = ''));
        },
        s = !1;
      for (; i < e.length; ) {
        let a = e[i];
        if (a === '\\') {
          if (i + 1 === e.length)
            throw new oe(j.INVALID_ARGUMENT, 'Path has trailing escape character: ' + e);
          let c = e[i + 1];
          if (c !== '\\' && c !== '.' && c !== '`')
            throw new oe(j.INVALID_ARGUMENT, 'Path has invalid escape sequence: ' + e);
          ((r += c), (i += 2));
        } else a === '`' ? ((s = !s), i++) : a !== '.' || s ? ((r += a), i++) : (o(), i++);
      }
      if ((o(), s)) throw new oe(j.INVALID_ARGUMENT, 'Unterminated ` in path: ' + e);
      return new t(n);
    }
    static emptyPath() {
      return new t([]);
    }
  };
var ce = class t {
  constructor(e) {
    this.path = e;
  }
  static fromPath(e) {
    return new t(ct.fromString(e));
  }
  static fromName(e) {
    return new t(ct.fromString(e).popFirst(5));
  }
  static empty() {
    return new t(ct.emptyPath());
  }
  get collectionGroup() {
    return this.path.popLast().lastSegment();
  }
  hasCollectionId(e) {
    return this.path.length >= 2 && this.path.get(this.path.length - 2) === e;
  }
  getCollectionGroup() {
    return this.path.get(this.path.length - 2);
  }
  getCollectionPath() {
    return this.path.popLast();
  }
  isEqual(e) {
    return e !== null && ct.comparator(this.path, e.path) === 0;
  }
  toString() {
    return this.path.toString();
  }
  static comparator(e, n) {
    return ct.comparator(e.path, n.path);
  }
  static isDocumentKey(e) {
    return e.length % 2 == 0;
  }
  static fromSegments(e) {
    return new t(new ct(e.slice()));
  }
};
var s0 = class {
  constructor(e, n, r, i) {
    ((this.indexId = e), (this.collectionGroup = n), (this.fields = r), (this.indexState = i));
  }
};
s0.UNKNOWN_ID = -1;
function m9(t, e) {
  let n = t.toTimestamp().seconds,
    r = t.toTimestamp().nanoseconds + 1,
    i = _e.fromTimestamp(r === 1e9 ? new Vt(n + 1, 0) : new Vt(n, r));
  return new ms(i, ce.empty(), e);
}
function g9(t) {
  return new ms(t.readTime, t.key, -1);
}
var ms = class t {
  constructor(e, n, r) {
    ((this.readTime = e), (this.documentKey = n), (this.largestBatchId = r));
  }
  static min() {
    return new t(_e.min(), ce.empty(), -1);
  }
  static max() {
    return new t(_e.max(), ce.empty(), -1);
  }
};
function v9(t, e) {
  let n = t.readTime.compareTo(e.readTime);
  return n !== 0
    ? n
    : ((n = ce.comparator(t.documentKey, e.documentKey)),
      n !== 0 ? n : Fe(t.largestBatchId, e.largestBatchId));
}
var y9 =
    'The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.',
  a0 = class {
    constructor() {
      this.onCommittedListeners = [];
    }
    addOnCommittedListener(e) {
      this.onCommittedListeners.push(e);
    }
    raiseOnCommittedEvent() {
      this.onCommittedListeners.forEach((e) => e());
    }
  };
function Cu(t) {
  return C(this, null, function* () {
    if (t.code !== j.FAILED_PRECONDITION || t.message !== y9) throw t;
    Y('LocalStore', 'Unexpectedly lost primary lease');
  });
}
var $ = class t {
  constructor(e) {
    ((this.nextCallback = null),
      (this.catchCallback = null),
      (this.result = void 0),
      (this.error = void 0),
      (this.isDone = !1),
      (this.callbackAttached = !1),
      e(
        (n) => {
          ((this.isDone = !0), (this.result = n), this.nextCallback && this.nextCallback(n));
        },
        (n) => {
          ((this.isDone = !0), (this.error = n), this.catchCallback && this.catchCallback(n));
        }
      ));
  }
  catch(e) {
    return this.next(void 0, e);
  }
  next(e, n) {
    return (
      this.callbackAttached && fe(),
      (this.callbackAttached = !0),
      this.isDone
        ? this.error
          ? this.wrapFailure(n, this.error)
          : this.wrapSuccess(e, this.result)
        : new t((r, i) => {
            ((this.nextCallback = (o) => {
              this.wrapSuccess(e, o).next(r, i);
            }),
              (this.catchCallback = (o) => {
                this.wrapFailure(n, o).next(r, i);
              }));
          })
    );
  }
  toPromise() {
    return new Promise((e, n) => {
      this.next(e, n);
    });
  }
  wrapUserFunction(e) {
    try {
      let n = e();
      return n instanceof t ? n : t.resolve(n);
    } catch (n) {
      return t.reject(n);
    }
  }
  wrapSuccess(e, n) {
    return e ? this.wrapUserFunction(() => e(n)) : t.resolve(n);
  }
  wrapFailure(e, n) {
    return e ? this.wrapUserFunction(() => e(n)) : t.reject(n);
  }
  static resolve(e) {
    return new t((n, r) => {
      n(e);
    });
  }
  static reject(e) {
    return new t((n, r) => {
      r(e);
    });
  }
  static waitFor(e) {
    return new t((n, r) => {
      let i = 0,
        o = 0,
        s = !1;
      (e.forEach((a) => {
        (++i,
          a.next(
            () => {
              (++o, s && o === i && n());
            },
            (c) => r(c)
          ));
      }),
        (s = !0),
        o === i && n());
    });
  }
  static or(e) {
    let n = t.resolve(!1);
    for (let r of e) n = n.next((i) => (i ? t.resolve(i) : r()));
    return n;
  }
  static forEach(e, n) {
    let r = [];
    return (
      e.forEach((i, o) => {
        r.push(n.call(this, i, o));
      }),
      this.waitFor(r)
    );
  }
  static mapArray(e, n) {
    return new t((r, i) => {
      let o = e.length,
        s = new Array(o),
        a = 0;
      for (let c = 0; c < o; c++) {
        let u = c;
        n(e[u]).next(
          (d) => {
            ((s[u] = d), ++a, a === o && r(s));
          },
          (d) => i(d)
        );
      }
    });
  }
  static doWhile(e, n) {
    return new t((r, i) => {
      let o = () => {
        e() === !0
          ? n().next(() => {
              o();
            }, i)
          : r();
      };
      o();
    });
  }
};
function _9(t) {
  let e = t.match(/Android ([\d.]+)/i),
    n = e ? e[1].split('.').slice(0, 2).join('.') : '-1';
  return Number(n);
}
function bu(t) {
  return t.name === 'IndexedDbTransactionError';
}
var uP = (() => {
  class t {
    constructor(n, r) {
      ((this.previousValue = n),
        r &&
          ((r.sequenceNumberHandler = (i) => this.ie(i)),
          (this.se = (i) => r.writeSequenceNumber(i))));
    }
    ie(n) {
      return ((this.previousValue = Math.max(n, this.previousValue)), this.previousValue);
    }
    next() {
      let n = ++this.previousValue;
      return (this.se && this.se(n), n);
    }
  }
  return ((t.oe = -1), t);
})();
function Em(t) {
  return t == null;
}
function fu(t) {
  return t === 0 && 1 / t == -1 / 0;
}
function w9(t) {
  return (
    typeof t == 'number' &&
    Number.isInteger(t) &&
    !fu(t) &&
    t <= Number.MAX_SAFE_INTEGER &&
    t >= Number.MIN_SAFE_INTEGER
  );
}
var E9 = [
    'mutationQueues',
    'mutations',
    'documentMutations',
    'remoteDocuments',
    'targets',
    'owner',
    'targetGlobal',
    'targetDocuments',
    'clientMetadata',
    'remoteDocumentGlobal',
    'collectionParents',
    'bundles',
    'namedQueries',
  ],
  Eae = [...E9, 'documentOverlays'],
  I9 = [
    'mutationQueues',
    'mutations',
    'documentMutations',
    'remoteDocumentsV14',
    'targets',
    'owner',
    'targetGlobal',
    'targetDocuments',
    'clientMetadata',
    'remoteDocumentGlobal',
    'collectionParents',
    'bundles',
    'namedQueries',
    'documentOverlays',
  ],
  D9 = I9,
  C9 = [...D9, 'indexConfiguration', 'indexState', 'indexEntries'];
var Iae = [...C9, 'globals'];
function Pk(t) {
  let e = 0;
  for (let n in t) Object.prototype.hasOwnProperty.call(t, n) && e++;
  return e;
}
function cc(t, e) {
  for (let n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n]);
}
function dP(t) {
  for (let e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
  return !0;
}
var lt = class t {
    constructor(e, n) {
      ((this.comparator = e), (this.root = n || Lr.EMPTY));
    }
    insert(e, n) {
      return new t(
        this.comparator,
        this.root.insert(e, n, this.comparator).copy(null, null, Lr.BLACK, null, null)
      );
    }
    remove(e) {
      return new t(
        this.comparator,
        this.root.remove(e, this.comparator).copy(null, null, Lr.BLACK, null, null)
      );
    }
    get(e) {
      let n = this.root;
      for (; !n.isEmpty(); ) {
        let r = this.comparator(e, n.key);
        if (r === 0) return n.value;
        r < 0 ? (n = n.left) : r > 0 && (n = n.right);
      }
      return null;
    }
    indexOf(e) {
      let n = 0,
        r = this.root;
      for (; !r.isEmpty(); ) {
        let i = this.comparator(e, r.key);
        if (i === 0) return n + r.left.size;
        i < 0 ? (r = r.left) : ((n += r.left.size + 1), (r = r.right));
      }
      return -1;
    }
    isEmpty() {
      return this.root.isEmpty();
    }
    get size() {
      return this.root.size;
    }
    minKey() {
      return this.root.minKey();
    }
    maxKey() {
      return this.root.maxKey();
    }
    inorderTraversal(e) {
      return this.root.inorderTraversal(e);
    }
    forEach(e) {
      this.inorderTraversal((n, r) => (e(n, r), !1));
    }
    toString() {
      let e = [];
      return (this.inorderTraversal((n, r) => (e.push(`${n}:${r}`), !1)), `{${e.join(', ')}}`);
    }
    reverseTraversal(e) {
      return this.root.reverseTraversal(e);
    }
    getIterator() {
      return new Ha(this.root, null, this.comparator, !1);
    }
    getIteratorFrom(e) {
      return new Ha(this.root, e, this.comparator, !1);
    }
    getReverseIterator() {
      return new Ha(this.root, null, this.comparator, !0);
    }
    getReverseIteratorFrom(e) {
      return new Ha(this.root, e, this.comparator, !0);
    }
  },
  Ha = class {
    constructor(e, n, r, i) {
      ((this.isReverse = i), (this.nodeStack = []));
      let o = 1;
      for (; !e.isEmpty(); )
        if (((o = n ? r(e.key, n) : 1), n && i && (o *= -1), o < 0))
          e = this.isReverse ? e.left : e.right;
        else {
          if (o === 0) {
            this.nodeStack.push(e);
            break;
          }
          (this.nodeStack.push(e), (e = this.isReverse ? e.right : e.left));
        }
    }
    getNext() {
      let e = this.nodeStack.pop(),
        n = { key: e.key, value: e.value };
      if (this.isReverse) for (e = e.left; !e.isEmpty(); ) (this.nodeStack.push(e), (e = e.right));
      else for (e = e.right; !e.isEmpty(); ) (this.nodeStack.push(e), (e = e.left));
      return n;
    }
    hasNext() {
      return this.nodeStack.length > 0;
    }
    peek() {
      if (this.nodeStack.length === 0) return null;
      let e = this.nodeStack[this.nodeStack.length - 1];
      return { key: e.key, value: e.value };
    }
  },
  Lr = class t {
    constructor(e, n, r, i, o) {
      ((this.key = e),
        (this.value = n),
        (this.color = r ?? t.RED),
        (this.left = i ?? t.EMPTY),
        (this.right = o ?? t.EMPTY),
        (this.size = this.left.size + 1 + this.right.size));
    }
    copy(e, n, r, i, o) {
      return new t(
        e ?? this.key,
        n ?? this.value,
        r ?? this.color,
        i ?? this.left,
        o ?? this.right
      );
    }
    isEmpty() {
      return !1;
    }
    inorderTraversal(e) {
      return (
        this.left.inorderTraversal(e) || e(this.key, this.value) || this.right.inorderTraversal(e)
      );
    }
    reverseTraversal(e) {
      return (
        this.right.reverseTraversal(e) || e(this.key, this.value) || this.left.reverseTraversal(e)
      );
    }
    min() {
      return this.left.isEmpty() ? this : this.left.min();
    }
    minKey() {
      return this.min().key;
    }
    maxKey() {
      return this.right.isEmpty() ? this.key : this.right.maxKey();
    }
    insert(e, n, r) {
      let i = this,
        o = r(e, i.key);
      return (
        (i =
          o < 0
            ? i.copy(null, null, null, i.left.insert(e, n, r), null)
            : o === 0
              ? i.copy(null, n, null, null, null)
              : i.copy(null, null, null, null, i.right.insert(e, n, r))),
        i.fixUp()
      );
    }
    removeMin() {
      if (this.left.isEmpty()) return t.EMPTY;
      let e = this;
      return (
        e.left.isRed() || e.left.left.isRed() || (e = e.moveRedLeft()),
        (e = e.copy(null, null, null, e.left.removeMin(), null)),
        e.fixUp()
      );
    }
    remove(e, n) {
      let r,
        i = this;
      if (n(e, i.key) < 0)
        (i.left.isEmpty() || i.left.isRed() || i.left.left.isRed() || (i = i.moveRedLeft()),
          (i = i.copy(null, null, null, i.left.remove(e, n), null)));
      else {
        if (
          (i.left.isRed() && (i = i.rotateRight()),
          i.right.isEmpty() || i.right.isRed() || i.right.left.isRed() || (i = i.moveRedRight()),
          n(e, i.key) === 0)
        ) {
          if (i.right.isEmpty()) return t.EMPTY;
          ((r = i.right.min()), (i = i.copy(r.key, r.value, null, null, i.right.removeMin())));
        }
        i = i.copy(null, null, null, null, i.right.remove(e, n));
      }
      return i.fixUp();
    }
    isRed() {
      return this.color;
    }
    fixUp() {
      let e = this;
      return (
        e.right.isRed() && !e.left.isRed() && (e = e.rotateLeft()),
        e.left.isRed() && e.left.left.isRed() && (e = e.rotateRight()),
        e.left.isRed() && e.right.isRed() && (e = e.colorFlip()),
        e
      );
    }
    moveRedLeft() {
      let e = this.colorFlip();
      return (
        e.right.left.isRed() &&
          ((e = e.copy(null, null, null, null, e.right.rotateRight())),
          (e = e.rotateLeft()),
          (e = e.colorFlip())),
        e
      );
    }
    moveRedRight() {
      let e = this.colorFlip();
      return (e.left.left.isRed() && ((e = e.rotateRight()), (e = e.colorFlip())), e);
    }
    rotateLeft() {
      let e = this.copy(null, null, t.RED, null, this.right.left);
      return this.right.copy(null, null, this.color, e, null);
    }
    rotateRight() {
      let e = this.copy(null, null, t.RED, this.left.right, null);
      return this.left.copy(null, null, this.color, null, e);
    }
    colorFlip() {
      let e = this.left.copy(null, null, !this.left.color, null, null),
        n = this.right.copy(null, null, !this.right.color, null, null);
      return this.copy(null, null, !this.color, e, n);
    }
    checkMaxDepth() {
      let e = this.check();
      return Math.pow(2, e) <= this.size + 1;
    }
    check() {
      if ((this.isRed() && this.left.isRed()) || this.right.isRed()) throw fe();
      let e = this.left.check();
      if (e !== this.right.check()) throw fe();
      return e + (this.isRed() ? 0 : 1);
    }
  };
((Lr.EMPTY = null), (Lr.RED = !0), (Lr.BLACK = !1));
Lr.EMPTY = new (class {
  constructor() {
    this.size = 0;
  }
  get key() {
    throw fe();
  }
  get value() {
    throw fe();
  }
  get color() {
    throw fe();
  }
  get left() {
    throw fe();
  }
  get right() {
    throw fe();
  }
  copy(e, n, r, i, o) {
    return this;
  }
  insert(e, n, r) {
    return new Lr(e, n);
  }
  remove(e, n) {
    return this;
  }
  isEmpty() {
    return !0;
  }
  inorderTraversal(e) {
    return !1;
  }
  reverseTraversal(e) {
    return !1;
  }
  minKey() {
    return null;
  }
  maxKey() {
    return null;
  }
  isRed() {
    return !1;
  }
  checkMaxDepth() {
    return !0;
  }
  check() {
    return 0;
  }
})();
var Qt = class t {
    constructor(e) {
      ((this.comparator = e), (this.data = new lt(this.comparator)));
    }
    has(e) {
      return this.data.get(e) !== null;
    }
    first() {
      return this.data.minKey();
    }
    last() {
      return this.data.maxKey();
    }
    get size() {
      return this.data.size;
    }
    indexOf(e) {
      return this.data.indexOf(e);
    }
    forEach(e) {
      this.data.inorderTraversal((n, r) => (e(n), !1));
    }
    forEachInRange(e, n) {
      let r = this.data.getIteratorFrom(e[0]);
      for (; r.hasNext(); ) {
        let i = r.getNext();
        if (this.comparator(i.key, e[1]) >= 0) return;
        n(i.key);
      }
    }
    forEachWhile(e, n) {
      let r;
      for (r = n !== void 0 ? this.data.getIteratorFrom(n) : this.data.getIterator(); r.hasNext(); )
        if (!e(r.getNext().key)) return;
    }
    firstAfterOrEqual(e) {
      let n = this.data.getIteratorFrom(e);
      return n.hasNext() ? n.getNext().key : null;
    }
    getIterator() {
      return new Yp(this.data.getIterator());
    }
    getIteratorFrom(e) {
      return new Yp(this.data.getIteratorFrom(e));
    }
    add(e) {
      return this.copy(this.data.remove(e).insert(e, !0));
    }
    delete(e) {
      return this.has(e) ? this.copy(this.data.remove(e)) : this;
    }
    isEmpty() {
      return this.data.isEmpty();
    }
    unionWith(e) {
      let n = this;
      return (
        n.size < e.size && ((n = e), (e = this)),
        e.forEach((r) => {
          n = n.add(r);
        }),
        n
      );
    }
    isEqual(e) {
      if (!(e instanceof t) || this.size !== e.size) return !1;
      let n = this.data.getIterator(),
        r = e.data.getIterator();
      for (; n.hasNext(); ) {
        let i = n.getNext().key,
          o = r.getNext().key;
        if (this.comparator(i, o) !== 0) return !1;
      }
      return !0;
    }
    toArray() {
      let e = [];
      return (
        this.forEach((n) => {
          e.push(n);
        }),
        e
      );
    }
    toString() {
      let e = [];
      return (this.forEach((n) => e.push(n)), 'SortedSet(' + e.toString() + ')');
    }
    copy(e) {
      let n = new t(this.comparator);
      return ((n.data = e), n);
    }
  },
  Yp = class {
    constructor(e) {
      this.iter = e;
    }
    getNext() {
      return this.iter.getNext().key;
    }
    hasNext() {
      return this.iter.hasNext();
    }
  };
var Fr = class t {
  constructor(e) {
    ((this.fields = e), e.sort(Mn.comparator));
  }
  static empty() {
    return new t([]);
  }
  unionWith(e) {
    let n = new Qt(Mn.comparator);
    for (let r of this.fields) n = n.add(r);
    for (let r of e) n = n.add(r);
    return new t(n.toArray());
  }
  covers(e) {
    for (let n of this.fields) if (n.isPrefixOf(e)) return !0;
    return !1;
  }
  isEqual(e) {
    return Ga(this.fields, e.fields, (n, r) => n.isEqual(r));
  }
};
var Qp = class extends Error {
  constructor() {
    (super(...arguments), (this.name = 'Base64DecodeError'));
  }
};
var Xt = class t {
  constructor(e) {
    this.binaryString = e;
  }
  static fromBase64String(e) {
    let n = (function (i) {
      try {
        return atob(i);
      } catch (o) {
        throw typeof DOMException < 'u' && o instanceof DOMException
          ? new Qp('Invalid base64 string: ' + o)
          : o;
      }
    })(e);
    return new t(n);
  }
  static fromUint8Array(e) {
    let n = (function (i) {
      let o = '';
      for (let s = 0; s < i.length; ++s) o += String.fromCharCode(i[s]);
      return o;
    })(e);
    return new t(n);
  }
  [Symbol.iterator]() {
    let e = 0;
    return {
      next: () =>
        e < this.binaryString.length
          ? { value: this.binaryString.charCodeAt(e++), done: !1 }
          : { value: void 0, done: !0 },
    };
  }
  toBase64() {
    return (function (n) {
      return btoa(n);
    })(this.binaryString);
  }
  toUint8Array() {
    return (function (n) {
      let r = new Uint8Array(n.length);
      for (let i = 0; i < n.length; i++) r[i] = n.charCodeAt(i);
      return r;
    })(this.binaryString);
  }
  approximateByteSize() {
    return 2 * this.binaryString.length;
  }
  compareTo(e) {
    return Fe(this.binaryString, e.binaryString);
  }
  isEqual(e) {
    return this.binaryString === e.binaryString;
  }
};
Xt.EMPTY_BYTE_STRING = new Xt('');
var b9 = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
function Ei(t) {
  if ((Ue(!!t), typeof t == 'string')) {
    let e = 0,
      n = b9.exec(t);
    if ((Ue(!!n), n[1])) {
      let i = n[1];
      ((i = (i + '000000000').substr(0, 9)), (e = Number(i)));
    }
    let r = new Date(t);
    return { seconds: Math.floor(r.getTime() / 1e3), nanos: e };
  }
  return { seconds: et(t.seconds), nanos: et(t.nanos) };
}
function et(t) {
  return typeof t == 'number' ? t : typeof t == 'string' ? Number(t) : 0;
}
function mo(t) {
  return typeof t == 'string' ? Xt.fromBase64String(t) : Xt.fromUint8Array(t);
}
function NI(t) {
  var e, n;
  return (
    ((n = (((e = t?.mapValue) === null || e === void 0 ? void 0 : e.fields) || {}).__type__) ===
      null || n === void 0
      ? void 0
      : n.stringValue) === 'server_timestamp'
  );
}
function kI(t) {
  let e = t.mapValue.fields.__previous_value__;
  return NI(e) ? kI(e) : e;
}
function pu(t) {
  let e = Ei(t.mapValue.fields.__local_write_time__.timestampValue);
  return new Vt(e.seconds, e.nanos);
}
var c0 = class {
    constructor(e, n, r, i, o, s, a, c, u) {
      ((this.databaseId = e),
        (this.appId = n),
        (this.persistenceKey = r),
        (this.host = i),
        (this.ssl = o),
        (this.forceLongPolling = s),
        (this.autoDetectLongPolling = a),
        (this.longPollingOptions = c),
        (this.useFetchStreams = u));
    }
  },
  Xp = class t {
    constructor(e, n) {
      ((this.projectId = e), (this.database = n || '(default)'));
    }
    static empty() {
      return new t('', '');
    }
    get isDefaultDatabase() {
      return this.database === '(default)';
    }
    isEqual(e) {
      return e instanceof t && e.projectId === this.projectId && e.database === this.database;
    }
  };
var Hp = { mapValue: { fields: { __type__: { stringValue: '__max__' } } } };
function gs(t) {
  return 'nullValue' in t
    ? 0
    : 'booleanValue' in t
      ? 1
      : 'integerValue' in t || 'doubleValue' in t
        ? 2
        : 'timestampValue' in t
          ? 3
          : 'stringValue' in t
            ? 5
            : 'bytesValue' in t
              ? 6
              : 'referenceValue' in t
                ? 7
                : 'geoPointValue' in t
                  ? 8
                  : 'arrayValue' in t
                    ? 9
                    : 'mapValue' in t
                      ? NI(t)
                        ? 4
                        : fP(t)
                          ? 9007199254740991
                          : hP(t)
                            ? 10
                            : 11
                      : fe();
}
function Br(t, e) {
  if (t === e) return !0;
  let n = gs(t);
  if (n !== gs(e)) return !1;
  switch (n) {
    case 0:
    case 9007199254740991:
      return !0;
    case 1:
      return t.booleanValue === e.booleanValue;
    case 4:
      return pu(t).isEqual(pu(e));
    case 3:
      return (function (i, o) {
        if (
          typeof i.timestampValue == 'string' &&
          typeof o.timestampValue == 'string' &&
          i.timestampValue.length === o.timestampValue.length
        )
          return i.timestampValue === o.timestampValue;
        let s = Ei(i.timestampValue),
          a = Ei(o.timestampValue);
        return s.seconds === a.seconds && s.nanos === a.nanos;
      })(t, e);
    case 5:
      return t.stringValue === e.stringValue;
    case 6:
      return (function (i, o) {
        return mo(i.bytesValue).isEqual(mo(o.bytesValue));
      })(t, e);
    case 7:
      return t.referenceValue === e.referenceValue;
    case 8:
      return (function (i, o) {
        return (
          et(i.geoPointValue.latitude) === et(o.geoPointValue.latitude) &&
          et(i.geoPointValue.longitude) === et(o.geoPointValue.longitude)
        );
      })(t, e);
    case 2:
      return (function (i, o) {
        if ('integerValue' in i && 'integerValue' in o)
          return et(i.integerValue) === et(o.integerValue);
        if ('doubleValue' in i && 'doubleValue' in o) {
          let s = et(i.doubleValue),
            a = et(o.doubleValue);
          return s === a ? fu(s) === fu(a) : isNaN(s) && isNaN(a);
        }
        return !1;
      })(t, e);
    case 9:
      return Ga(t.arrayValue.values || [], e.arrayValue.values || [], Br);
    case 10:
    case 11:
      return (function (i, o) {
        let s = i.mapValue.fields || {},
          a = o.mapValue.fields || {};
        if (Pk(s) !== Pk(a)) return !1;
        for (let c in s) if (s.hasOwnProperty(c) && (a[c] === void 0 || !Br(s[c], a[c]))) return !1;
        return !0;
      })(t, e);
    default:
      return fe();
  }
}
function mu(t, e) {
  return (t.values || []).find((n) => Br(n, e)) !== void 0;
}
function Ka(t, e) {
  if (t === e) return 0;
  let n = gs(t),
    r = gs(e);
  if (n !== r) return Fe(n, r);
  switch (n) {
    case 0:
    case 9007199254740991:
      return 0;
    case 1:
      return Fe(t.booleanValue, e.booleanValue);
    case 2:
      return (function (o, s) {
        let a = et(o.integerValue || o.doubleValue),
          c = et(s.integerValue || s.doubleValue);
        return a < c ? -1 : a > c ? 1 : a === c ? 0 : isNaN(a) ? (isNaN(c) ? 0 : -1) : 1;
      })(t, e);
    case 3:
      return Ok(t.timestampValue, e.timestampValue);
    case 4:
      return Ok(pu(t), pu(e));
    case 5:
      return Fe(t.stringValue, e.stringValue);
    case 6:
      return (function (o, s) {
        let a = mo(o),
          c = mo(s);
        return a.compareTo(c);
      })(t.bytesValue, e.bytesValue);
    case 7:
      return (function (o, s) {
        let a = o.split('/'),
          c = s.split('/');
        for (let u = 0; u < a.length && u < c.length; u++) {
          let d = Fe(a[u], c[u]);
          if (d !== 0) return d;
        }
        return Fe(a.length, c.length);
      })(t.referenceValue, e.referenceValue);
    case 8:
      return (function (o, s) {
        let a = Fe(et(o.latitude), et(s.latitude));
        return a !== 0 ? a : Fe(et(o.longitude), et(s.longitude));
      })(t.geoPointValue, e.geoPointValue);
    case 9:
      return Fk(t.arrayValue, e.arrayValue);
    case 10:
      return (function (o, s) {
        var a, c, u, d;
        let p = o.fields || {},
          v = s.fields || {},
          m = (a = p.value) === null || a === void 0 ? void 0 : a.arrayValue,
          D = (c = v.value) === null || c === void 0 ? void 0 : c.arrayValue,
          M = Fe(
            ((u = m?.values) === null || u === void 0 ? void 0 : u.length) || 0,
            ((d = D?.values) === null || d === void 0 ? void 0 : d.length) || 0
          );
        return M !== 0 ? M : Fk(m, D);
      })(t.mapValue, e.mapValue);
    case 11:
      return (function (o, s) {
        if (o === Hp.mapValue && s === Hp.mapValue) return 0;
        if (o === Hp.mapValue) return 1;
        if (s === Hp.mapValue) return -1;
        let a = o.fields || {},
          c = Object.keys(a),
          u = s.fields || {},
          d = Object.keys(u);
        (c.sort(), d.sort());
        for (let p = 0; p < c.length && p < d.length; ++p) {
          let v = Fe(c[p], d[p]);
          if (v !== 0) return v;
          let m = Ka(a[c[p]], u[d[p]]);
          if (m !== 0) return m;
        }
        return Fe(c.length, d.length);
      })(t.mapValue, e.mapValue);
    default:
      throw fe();
  }
}
function Ok(t, e) {
  if (typeof t == 'string' && typeof e == 'string' && t.length === e.length) return Fe(t, e);
  let n = Ei(t),
    r = Ei(e),
    i = Fe(n.seconds, r.seconds);
  return i !== 0 ? i : Fe(n.nanos, r.nanos);
}
function Fk(t, e) {
  let n = t.values || [],
    r = e.values || [];
  for (let i = 0; i < n.length && i < r.length; ++i) {
    let o = Ka(n[i], r[i]);
    if (o) return o;
  }
  return Fe(n.length, r.length);
}
function Ya(t) {
  return l0(t);
}
function l0(t) {
  return 'nullValue' in t
    ? 'null'
    : 'booleanValue' in t
      ? '' + t.booleanValue
      : 'integerValue' in t
        ? '' + t.integerValue
        : 'doubleValue' in t
          ? '' + t.doubleValue
          : 'timestampValue' in t
            ? (function (n) {
                let r = Ei(n);
                return `time(${r.seconds},${r.nanos})`;
              })(t.timestampValue)
            : 'stringValue' in t
              ? t.stringValue
              : 'bytesValue' in t
                ? (function (n) {
                    return mo(n).toBase64();
                  })(t.bytesValue)
                : 'referenceValue' in t
                  ? (function (n) {
                      return ce.fromName(n).toString();
                    })(t.referenceValue)
                  : 'geoPointValue' in t
                    ? (function (n) {
                        return `geo(${n.latitude},${n.longitude})`;
                      })(t.geoPointValue)
                    : 'arrayValue' in t
                      ? (function (n) {
                          let r = '[',
                            i = !0;
                          for (let o of n.values || []) (i ? (i = !1) : (r += ','), (r += l0(o)));
                          return r + ']';
                        })(t.arrayValue)
                      : 'mapValue' in t
                        ? (function (n) {
                            let r = Object.keys(n.fields || {}).sort(),
                              i = '{',
                              o = !0;
                            for (let s of r)
                              (o ? (o = !1) : (i += ','), (i += `${s}:${l0(n.fields[s])}`));
                            return i + '}';
                          })(t.mapValue)
                        : fe();
}
function u0(t) {
  return !!t && 'integerValue' in t;
}
function PI(t) {
  return !!t && 'arrayValue' in t;
}
function Vk(t) {
  return !!t && 'nullValue' in t;
}
function Lk(t) {
  return !!t && 'doubleValue' in t && isNaN(Number(t.doubleValue));
}
function zp(t) {
  return !!t && 'mapValue' in t;
}
function hP(t) {
  var e, n;
  return (
    ((n = (((e = t?.mapValue) === null || e === void 0 ? void 0 : e.fields) || {}).__type__) ===
      null || n === void 0
      ? void 0
      : n.stringValue) === '__vector__'
  );
}
function lu(t) {
  if (t.geoPointValue) return { geoPointValue: Object.assign({}, t.geoPointValue) };
  if (t.timestampValue && typeof t.timestampValue == 'object')
    return { timestampValue: Object.assign({}, t.timestampValue) };
  if (t.mapValue) {
    let e = { mapValue: { fields: {} } };
    return (cc(t.mapValue.fields, (n, r) => (e.mapValue.fields[n] = lu(r))), e);
  }
  if (t.arrayValue) {
    let e = { arrayValue: { values: [] } };
    for (let n = 0; n < (t.arrayValue.values || []).length; ++n)
      e.arrayValue.values[n] = lu(t.arrayValue.values[n]);
    return e;
  }
  return Object.assign({}, t);
}
function fP(t) {
  return (((t.mapValue || {}).fields || {}).__type__ || {}).stringValue === '__max__';
}
var gr = class t {
  constructor(e) {
    this.value = e;
  }
  static empty() {
    return new t({ mapValue: {} });
  }
  field(e) {
    if (e.isEmpty()) return this.value;
    {
      let n = this.value;
      for (let r = 0; r < e.length - 1; ++r)
        if (((n = (n.mapValue.fields || {})[e.get(r)]), !zp(n))) return null;
      return ((n = (n.mapValue.fields || {})[e.lastSegment()]), n || null);
    }
  }
  set(e, n) {
    this.getFieldsMap(e.popLast())[e.lastSegment()] = lu(n);
  }
  setAll(e) {
    let n = Mn.emptyPath(),
      r = {},
      i = [];
    e.forEach((s, a) => {
      if (!n.isImmediateParentOf(a)) {
        let c = this.getFieldsMap(n);
        (this.applyChanges(c, r, i), (r = {}), (i = []), (n = a.popLast()));
      }
      s ? (r[a.lastSegment()] = lu(s)) : i.push(a.lastSegment());
    });
    let o = this.getFieldsMap(n);
    this.applyChanges(o, r, i);
  }
  delete(e) {
    let n = this.field(e.popLast());
    zp(n) && n.mapValue.fields && delete n.mapValue.fields[e.lastSegment()];
  }
  isEqual(e) {
    return Br(this.value, e.value);
  }
  getFieldsMap(e) {
    let n = this.value;
    n.mapValue.fields || (n.mapValue = { fields: {} });
    for (let r = 0; r < e.length; ++r) {
      let i = n.mapValue.fields[e.get(r)];
      ((zp(i) && i.mapValue.fields) ||
        ((i = { mapValue: { fields: {} } }), (n.mapValue.fields[e.get(r)] = i)),
        (n = i));
    }
    return n.mapValue.fields;
  }
  applyChanges(e, n, r) {
    cc(n, (i, o) => (e[i] = o));
    for (let i of r) delete e[i];
  }
  clone() {
    return new t(lu(this.value));
  }
};
function pP(t) {
  let e = [];
  return (
    cc(t.fields, (n, r) => {
      let i = new Mn([n]);
      if (zp(r)) {
        let o = pP(r.mapValue).fields;
        if (o.length === 0) e.push(i);
        else for (let s of o) e.push(i.child(s));
      } else e.push(i);
    }),
    new Fr(e)
  );
}
var vr = class t {
  constructor(e, n, r, i, o, s, a) {
    ((this.key = e),
      (this.documentType = n),
      (this.version = r),
      (this.readTime = i),
      (this.createTime = o),
      (this.data = s),
      (this.documentState = a));
  }
  static newInvalidDocument(e) {
    return new t(e, 0, _e.min(), _e.min(), _e.min(), gr.empty(), 0);
  }
  static newFoundDocument(e, n, r, i) {
    return new t(e, 1, n, _e.min(), r, i, 0);
  }
  static newNoDocument(e, n) {
    return new t(e, 2, n, _e.min(), _e.min(), gr.empty(), 0);
  }
  static newUnknownDocument(e, n) {
    return new t(e, 3, n, _e.min(), _e.min(), gr.empty(), 2);
  }
  convertToFoundDocument(e, n) {
    return (
      !this.createTime.isEqual(_e.min()) ||
        (this.documentType !== 2 && this.documentType !== 0) ||
        (this.createTime = e),
      (this.version = e),
      (this.documentType = 1),
      (this.data = n),
      (this.documentState = 0),
      this
    );
  }
  convertToNoDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 2),
      (this.data = gr.empty()),
      (this.documentState = 0),
      this
    );
  }
  convertToUnknownDocument(e) {
    return (
      (this.version = e),
      (this.documentType = 3),
      (this.data = gr.empty()),
      (this.documentState = 2),
      this
    );
  }
  setHasCommittedMutations() {
    return ((this.documentState = 2), this);
  }
  setHasLocalMutations() {
    return ((this.documentState = 1), (this.version = _e.min()), this);
  }
  setReadTime(e) {
    return ((this.readTime = e), this);
  }
  get hasLocalMutations() {
    return this.documentState === 1;
  }
  get hasCommittedMutations() {
    return this.documentState === 2;
  }
  get hasPendingWrites() {
    return this.hasLocalMutations || this.hasCommittedMutations;
  }
  isValidDocument() {
    return this.documentType !== 0;
  }
  isFoundDocument() {
    return this.documentType === 1;
  }
  isNoDocument() {
    return this.documentType === 2;
  }
  isUnknownDocument() {
    return this.documentType === 3;
  }
  isEqual(e) {
    return (
      e instanceof t &&
      this.key.isEqual(e.key) &&
      this.version.isEqual(e.version) &&
      this.documentType === e.documentType &&
      this.documentState === e.documentState &&
      this.data.isEqual(e.data)
    );
  }
  mutableCopy() {
    return new t(
      this.key,
      this.documentType,
      this.version,
      this.readTime,
      this.createTime,
      this.data.clone(),
      this.documentState
    );
  }
  toString() {
    return `Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`;
  }
};
var Qa = class {
  constructor(e, n) {
    ((this.position = e), (this.inclusive = n));
  }
};
function jk(t, e, n) {
  let r = 0;
  for (let i = 0; i < t.position.length; i++) {
    let o = e[i],
      s = t.position[i];
    if (
      (o.field.isKeyField()
        ? (r = ce.comparator(ce.fromName(s.referenceValue), n.key))
        : (r = Ka(s, n.data.field(o.field))),
      o.dir === 'desc' && (r *= -1),
      r !== 0)
    )
      break;
  }
  return r;
}
function Uk(t, e) {
  if (t === null) return e === null;
  if (e === null || t.inclusive !== e.inclusive || t.position.length !== e.position.length)
    return !1;
  for (let n = 0; n < t.position.length; n++) if (!Br(t.position[n], e.position[n])) return !1;
  return !0;
}
var Xa = class {
  constructor(e, n = 'asc') {
    ((this.field = e), (this.dir = n));
  }
};
function T9(t, e) {
  return t.dir === e.dir && t.field.isEqual(e.field);
}
var Zp = class {},
  Tt = class t extends Zp {
    constructor(e, n, r) {
      (super(), (this.field = e), (this.op = n), (this.value = r));
    }
    static create(e, n, r) {
      return e.isKeyField()
        ? n === 'in' || n === 'not-in'
          ? this.createKeyFieldInFilter(e, n, r)
          : new h0(e, n, r)
        : n === 'array-contains'
          ? new m0(e, r)
          : n === 'in'
            ? new g0(e, r)
            : n === 'not-in'
              ? new v0(e, r)
              : n === 'array-contains-any'
                ? new y0(e, r)
                : new t(e, n, r);
    }
    static createKeyFieldInFilter(e, n, r) {
      return n === 'in' ? new f0(e, r) : new p0(e, r);
    }
    matches(e) {
      let n = e.data.field(this.field);
      return this.op === '!='
        ? n !== null && this.matchesComparison(Ka(n, this.value))
        : n !== null && gs(this.value) === gs(n) && this.matchesComparison(Ka(n, this.value));
    }
    matchesComparison(e) {
      switch (this.op) {
        case '<':
          return e < 0;
        case '<=':
          return e <= 0;
        case '==':
          return e === 0;
        case '!=':
          return e !== 0;
        case '>':
          return e > 0;
        case '>=':
          return e >= 0;
        default:
          return fe();
      }
    }
    isInequality() {
      return ['<', '<=', '>', '>=', '!=', 'not-in'].indexOf(this.op) >= 0;
    }
    getFlattenedFilters() {
      return [this];
    }
    getFilters() {
      return [this];
    }
  },
  Hr = class t extends Zp {
    constructor(e, n) {
      (super(), (this.filters = e), (this.op = n), (this.ae = null));
    }
    static create(e, n) {
      return new t(e, n);
    }
    matches(e) {
      return mP(this)
        ? this.filters.find((n) => !n.matches(e)) === void 0
        : this.filters.find((n) => n.matches(e)) !== void 0;
    }
    getFlattenedFilters() {
      return (
        this.ae !== null ||
          (this.ae = this.filters.reduce((e, n) => e.concat(n.getFlattenedFilters()), [])),
        this.ae
      );
    }
    getFilters() {
      return Object.assign([], this.filters);
    }
  };
function mP(t) {
  return t.op === 'and';
}
function gP(t) {
  return S9(t) && mP(t);
}
function S9(t) {
  for (let e of t.filters) if (e instanceof Hr) return !1;
  return !0;
}
function d0(t) {
  if (t instanceof Tt) return t.field.canonicalString() + t.op.toString() + Ya(t.value);
  if (gP(t)) return t.filters.map((e) => d0(e)).join(',');
  {
    let e = t.filters.map((n) => d0(n)).join(',');
    return `${t.op}(${e})`;
  }
}
function vP(t, e) {
  return t instanceof Tt
    ? (function (r, i) {
        return i instanceof Tt && r.op === i.op && r.field.isEqual(i.field) && Br(r.value, i.value);
      })(t, e)
    : t instanceof Hr
      ? (function (r, i) {
          return i instanceof Hr && r.op === i.op && r.filters.length === i.filters.length
            ? r.filters.reduce((o, s, a) => o && vP(s, i.filters[a]), !0)
            : !1;
        })(t, e)
      : void fe();
}
function yP(t) {
  return t instanceof Tt
    ? (function (n) {
        return `${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`;
      })(t)
    : t instanceof Hr
      ? (function (n) {
          return n.op.toString() + ' {' + n.getFilters().map(yP).join(' ,') + '}';
        })(t)
      : 'Filter';
}
var h0 = class extends Tt {
    constructor(e, n, r) {
      (super(e, n, r), (this.key = ce.fromName(r.referenceValue)));
    }
    matches(e) {
      let n = ce.comparator(e.key, this.key);
      return this.matchesComparison(n);
    }
  },
  f0 = class extends Tt {
    constructor(e, n) {
      (super(e, 'in', n), (this.keys = _P('in', n)));
    }
    matches(e) {
      return this.keys.some((n) => n.isEqual(e.key));
    }
  },
  p0 = class extends Tt {
    constructor(e, n) {
      (super(e, 'not-in', n), (this.keys = _P('not-in', n)));
    }
    matches(e) {
      return !this.keys.some((n) => n.isEqual(e.key));
    }
  };
function _P(t, e) {
  var n;
  return (((n = e.arrayValue) === null || n === void 0 ? void 0 : n.values) || []).map((r) =>
    ce.fromName(r.referenceValue)
  );
}
var m0 = class extends Tt {
    constructor(e, n) {
      super(e, 'array-contains', n);
    }
    matches(e) {
      let n = e.data.field(this.field);
      return PI(n) && mu(n.arrayValue, this.value);
    }
  },
  g0 = class extends Tt {
    constructor(e, n) {
      super(e, 'in', n);
    }
    matches(e) {
      let n = e.data.field(this.field);
      return n !== null && mu(this.value.arrayValue, n);
    }
  },
  v0 = class extends Tt {
    constructor(e, n) {
      super(e, 'not-in', n);
    }
    matches(e) {
      if (mu(this.value.arrayValue, { nullValue: 'NULL_VALUE' })) return !1;
      let n = e.data.field(this.field);
      return n !== null && !mu(this.value.arrayValue, n);
    }
  },
  y0 = class extends Tt {
    constructor(e, n) {
      super(e, 'array-contains-any', n);
    }
    matches(e) {
      let n = e.data.field(this.field);
      return (
        !(!PI(n) || !n.arrayValue.values) &&
        n.arrayValue.values.some((r) => mu(this.value.arrayValue, r))
      );
    }
  };
var _0 = class {
  constructor(e, n = null, r = [], i = [], o = null, s = null, a = null) {
    ((this.path = e),
      (this.collectionGroup = n),
      (this.orderBy = r),
      (this.filters = i),
      (this.limit = o),
      (this.startAt = s),
      (this.endAt = a),
      (this.ue = null));
  }
};
function Bk(t, e = null, n = [], r = [], i = null, o = null, s = null) {
  return new _0(t, e, n, r, i, o, s);
}
function OI(t) {
  let e = ge(t);
  if (e.ue === null) {
    let n = e.path.canonicalString();
    (e.collectionGroup !== null && (n += '|cg:' + e.collectionGroup),
      (n += '|f:'),
      (n += e.filters.map((r) => d0(r)).join(',')),
      (n += '|ob:'),
      (n += e.orderBy
        .map((r) =>
          (function (o) {
            return o.field.canonicalString() + o.dir;
          })(r)
        )
        .join(',')),
      Em(e.limit) || ((n += '|l:'), (n += e.limit)),
      e.startAt &&
        ((n += '|lb:'),
        (n += e.startAt.inclusive ? 'b:' : 'a:'),
        (n += e.startAt.position.map((r) => Ya(r)).join(','))),
      e.endAt &&
        ((n += '|ub:'),
        (n += e.endAt.inclusive ? 'a:' : 'b:'),
        (n += e.endAt.position.map((r) => Ya(r)).join(','))),
      (e.ue = n));
  }
  return e.ue;
}
function FI(t, e) {
  if (t.limit !== e.limit || t.orderBy.length !== e.orderBy.length) return !1;
  for (let n = 0; n < t.orderBy.length; n++) if (!T9(t.orderBy[n], e.orderBy[n])) return !1;
  if (t.filters.length !== e.filters.length) return !1;
  for (let n = 0; n < t.filters.length; n++) if (!vP(t.filters[n], e.filters[n])) return !1;
  return (
    t.collectionGroup === e.collectionGroup &&
    !!t.path.isEqual(e.path) &&
    !!Uk(t.startAt, e.startAt) &&
    Uk(t.endAt, e.endAt)
  );
}
function w0(t) {
  return ce.isDocumentKey(t.path) && t.collectionGroup === null && t.filters.length === 0;
}
var Za = class {
  constructor(e, n = null, r = [], i = [], o = null, s = 'F', a = null, c = null) {
    ((this.path = e),
      (this.collectionGroup = n),
      (this.explicitOrderBy = r),
      (this.filters = i),
      (this.limit = o),
      (this.limitType = s),
      (this.startAt = a),
      (this.endAt = c),
      (this.ce = null),
      (this.le = null),
      (this.he = null),
      this.startAt,
      this.endAt);
  }
};
function A9(t, e, n, r, i, o, s, a) {
  return new Za(t, e, n, r, i, o, s, a);
}
function wP(t) {
  return new Za(t);
}
function Hk(t) {
  return (
    t.filters.length === 0 &&
    t.limit === null &&
    t.startAt == null &&
    t.endAt == null &&
    (t.explicitOrderBy.length === 0 ||
      (t.explicitOrderBy.length === 1 && t.explicitOrderBy[0].field.isKeyField()))
  );
}
function M9(t) {
  return t.collectionGroup !== null;
}
function uu(t) {
  let e = ge(t);
  if (e.ce === null) {
    e.ce = [];
    let n = new Set();
    for (let o of e.explicitOrderBy) (e.ce.push(o), n.add(o.field.canonicalString()));
    let r =
      e.explicitOrderBy.length > 0 ? e.explicitOrderBy[e.explicitOrderBy.length - 1].dir : 'asc';
    ((function (s) {
      let a = new Qt(Mn.comparator);
      return (
        s.filters.forEach((c) => {
          c.getFlattenedFilters().forEach((u) => {
            u.isInequality() && (a = a.add(u.field));
          });
        }),
        a
      );
    })(e).forEach((o) => {
      n.has(o.canonicalString()) || o.isKeyField() || e.ce.push(new Xa(o, r));
    }),
      n.has(Mn.keyField().canonicalString()) || e.ce.push(new Xa(Mn.keyField(), r)));
  }
  return e.ce;
}
function jr(t) {
  let e = ge(t);
  return (e.le || (e.le = x9(e, uu(t))), e.le);
}
function x9(t, e) {
  if (t.limitType === 'F')
    return Bk(t.path, t.collectionGroup, e, t.filters, t.limit, t.startAt, t.endAt);
  {
    e = e.map((i) => {
      let o = i.dir === 'desc' ? 'asc' : 'desc';
      return new Xa(i.field, o);
    });
    let n = t.endAt ? new Qa(t.endAt.position, t.endAt.inclusive) : null,
      r = t.startAt ? new Qa(t.startAt.position, t.startAt.inclusive) : null;
    return Bk(t.path, t.collectionGroup, e, t.filters, t.limit, n, r);
  }
}
function E0(t, e, n) {
  return new Za(
    t.path,
    t.collectionGroup,
    t.explicitOrderBy.slice(),
    t.filters.slice(),
    e,
    n,
    t.startAt,
    t.endAt
  );
}
function Im(t, e) {
  return FI(jr(t), jr(e)) && t.limitType === e.limitType;
}
function EP(t) {
  return `${OI(jr(t))}|lt:${t.limitType}`;
}
function ja(t) {
  return `Query(target=${(function (n) {
    let r = n.path.canonicalString();
    return (
      n.collectionGroup !== null && (r += ' collectionGroup=' + n.collectionGroup),
      n.filters.length > 0 && (r += `, filters: [${n.filters.map((i) => yP(i)).join(', ')}]`),
      Em(n.limit) || (r += ', limit: ' + n.limit),
      n.orderBy.length > 0 &&
        (r += `, orderBy: [${n.orderBy
          .map((i) =>
            (function (s) {
              return `${s.field.canonicalString()} (${s.dir})`;
            })(i)
          )
          .join(', ')}]`),
      n.startAt &&
        ((r += ', startAt: '),
        (r += n.startAt.inclusive ? 'b:' : 'a:'),
        (r += n.startAt.position.map((i) => Ya(i)).join(','))),
      n.endAt &&
        ((r += ', endAt: '),
        (r += n.endAt.inclusive ? 'a:' : 'b:'),
        (r += n.endAt.position.map((i) => Ya(i)).join(','))),
      `Target(${r})`
    );
  })(jr(t))}; limitType=${t.limitType})`;
}
function Dm(t, e) {
  return (
    e.isFoundDocument() &&
    (function (r, i) {
      let o = i.key.path;
      return r.collectionGroup !== null
        ? i.key.hasCollectionId(r.collectionGroup) && r.path.isPrefixOf(o)
        : ce.isDocumentKey(r.path)
          ? r.path.isEqual(o)
          : r.path.isImmediateParentOf(o);
    })(t, e) &&
    (function (r, i) {
      for (let o of uu(r)) if (!o.field.isKeyField() && i.data.field(o.field) === null) return !1;
      return !0;
    })(t, e) &&
    (function (r, i) {
      for (let o of r.filters) if (!o.matches(i)) return !1;
      return !0;
    })(t, e) &&
    (function (r, i) {
      return !(
        (r.startAt &&
          !(function (s, a, c) {
            let u = jk(s, a, c);
            return s.inclusive ? u <= 0 : u < 0;
          })(r.startAt, uu(r), i)) ||
        (r.endAt &&
          !(function (s, a, c) {
            let u = jk(s, a, c);
            return s.inclusive ? u >= 0 : u > 0;
          })(r.endAt, uu(r), i))
      );
    })(t, e)
  );
}
function R9(t) {
  return (
    t.collectionGroup ||
    (t.path.length % 2 == 1 ? t.path.lastSegment() : t.path.get(t.path.length - 2))
  );
}
function IP(t) {
  return (e, n) => {
    let r = !1;
    for (let i of uu(t)) {
      let o = N9(i, e, n);
      if (o !== 0) return o;
      r = r || i.field.isKeyField();
    }
    return 0;
  };
}
function N9(t, e, n) {
  let r = t.field.isKeyField()
    ? ce.comparator(e.key, n.key)
    : (function (o, s, a) {
        let c = s.data.field(o),
          u = a.data.field(o);
        return c !== null && u !== null ? Ka(c, u) : fe();
      })(t.field, e, n);
  switch (t.dir) {
    case 'asc':
      return r;
    case 'desc':
      return -1 * r;
    default:
      return fe();
  }
}
var go = class {
  constructor(e, n) {
    ((this.mapKeyFn = e), (this.equalsFn = n), (this.inner = {}), (this.innerSize = 0));
  }
  get(e) {
    let n = this.mapKeyFn(e),
      r = this.inner[n];
    if (r !== void 0) {
      for (let [i, o] of r) if (this.equalsFn(i, e)) return o;
    }
  }
  has(e) {
    return this.get(e) !== void 0;
  }
  set(e, n) {
    let r = this.mapKeyFn(e),
      i = this.inner[r];
    if (i === void 0) return ((this.inner[r] = [[e, n]]), void this.innerSize++);
    for (let o = 0; o < i.length; o++) if (this.equalsFn(i[o][0], e)) return void (i[o] = [e, n]);
    (i.push([e, n]), this.innerSize++);
  }
  delete(e) {
    let n = this.mapKeyFn(e),
      r = this.inner[n];
    if (r === void 0) return !1;
    for (let i = 0; i < r.length; i++)
      if (this.equalsFn(r[i][0], e))
        return (r.length === 1 ? delete this.inner[n] : r.splice(i, 1), this.innerSize--, !0);
    return !1;
  }
  forEach(e) {
    cc(this.inner, (n, r) => {
      for (let [i, o] of r) e(i, o);
    });
  }
  isEmpty() {
    return dP(this.inner);
  }
  size() {
    return this.innerSize;
  }
};
var k9 = new lt(ce.comparator);
function Ii() {
  return k9;
}
var DP = new lt(ce.comparator);
function cu(...t) {
  let e = DP;
  for (let n of t) e = e.insert(n.key, n);
  return e;
}
function CP(t) {
  let e = DP;
  return (t.forEach((n, r) => (e = e.insert(n, r.overlayedDocument))), e);
}
function hs() {
  return du();
}
function bP() {
  return du();
}
function du() {
  return new go(
    (t) => t.toString(),
    (t, e) => t.isEqual(e)
  );
}
var P9 = new lt(ce.comparator),
  O9 = new Qt(ce.comparator);
function xe(...t) {
  let e = O9;
  for (let n of t) e = e.add(n);
  return e;
}
var F9 = new Qt(Fe);
function V9() {
  return F9;
}
function VI(t, e) {
  if (t.useProto3Json) {
    if (isNaN(e)) return { doubleValue: 'NaN' };
    if (e === 1 / 0) return { doubleValue: 'Infinity' };
    if (e === -1 / 0) return { doubleValue: '-Infinity' };
  }
  return { doubleValue: fu(e) ? '-0' : e };
}
function TP(t) {
  return { integerValue: '' + t };
}
function L9(t, e) {
  return w9(e) ? TP(e) : VI(t, e);
}
var Ja = class {
  constructor() {
    this._ = void 0;
  }
};
function j9(t, e, n) {
  return t instanceof ec
    ? (function (i, o) {
        let s = {
          fields: {
            __type__: { stringValue: 'server_timestamp' },
            __local_write_time__: {
              timestampValue: { seconds: i.seconds, nanos: i.nanoseconds },
            },
          },
        };
        return (o && NI(o) && (o = kI(o)), o && (s.fields.__previous_value__ = o), { mapValue: s });
      })(n, e)
    : t instanceof vs
      ? AP(t, e)
      : t instanceof ys
        ? MP(t, e)
        : (function (i, o) {
            let s = SP(i, o),
              a = $k(s) + $k(i.Pe);
            return u0(s) && u0(i.Pe) ? TP(a) : VI(i.serializer, a);
          })(t, e);
}
function U9(t, e, n) {
  return t instanceof vs ? AP(t, e) : t instanceof ys ? MP(t, e) : n;
}
function SP(t, e) {
  return t instanceof tc
    ? (function (r) {
        return (
          u0(r) ||
          (function (o) {
            return !!o && 'doubleValue' in o;
          })(r)
        );
      })(e)
      ? e
      : { integerValue: 0 }
    : null;
}
var ec = class extends Ja {},
  vs = class extends Ja {
    constructor(e) {
      (super(), (this.elements = e));
    }
  };
function AP(t, e) {
  let n = xP(e);
  for (let r of t.elements) n.some((i) => Br(i, r)) || n.push(r);
  return { arrayValue: { values: n } };
}
var ys = class extends Ja {
  constructor(e) {
    (super(), (this.elements = e));
  }
};
function MP(t, e) {
  let n = xP(e);
  for (let r of t.elements) n = n.filter((i) => !Br(i, r));
  return { arrayValue: { values: n } };
}
var tc = class extends Ja {
  constructor(e, n) {
    (super(), (this.serializer = e), (this.Pe = n));
  }
};
function $k(t) {
  return et(t.integerValue || t.doubleValue);
}
function xP(t) {
  return PI(t) && t.arrayValue.values ? t.arrayValue.values.slice() : [];
}
function B9(t, e) {
  return (
    t.field.isEqual(e.field) &&
    (function (r, i) {
      return (r instanceof vs && i instanceof vs) || (r instanceof ys && i instanceof ys)
        ? Ga(r.elements, i.elements, Br)
        : r instanceof tc && i instanceof tc
          ? Br(r.Pe, i.Pe)
          : r instanceof ec && i instanceof ec;
    })(t.transform, e.transform)
  );
}
var I0 = class {
    constructor(e, n) {
      ((this.version = e), (this.transformResults = n));
    }
  },
  fo = class t {
    constructor(e, n) {
      ((this.updateTime = e), (this.exists = n));
    }
    static none() {
      return new t();
    }
    static exists(e) {
      return new t(void 0, e);
    }
    static updateTime(e) {
      return new t(e);
    }
    get isNone() {
      return this.updateTime === void 0 && this.exists === void 0;
    }
    isEqual(e) {
      return (
        this.exists === e.exists &&
        (this.updateTime ? !!e.updateTime && this.updateTime.isEqual(e.updateTime) : !e.updateTime)
      );
    }
  };
function Wp(t, e) {
  return t.updateTime !== void 0
    ? e.isFoundDocument() && e.version.isEqual(t.updateTime)
    : t.exists === void 0 || t.exists === e.isFoundDocument();
}
var nc = class {};
function RP(t, e) {
  if (!t.hasLocalMutations || (e && e.fields.length === 0)) return null;
  if (e === null)
    return t.isNoDocument() ? new Jp(t.key, fo.none()) : new _s(t.key, t.data, fo.none());
  {
    let n = t.data,
      r = gr.empty(),
      i = new Qt(Mn.comparator);
    for (let o of e.fields)
      if (!i.has(o)) {
        let s = n.field(o);
        (s === null && o.length > 1 && ((o = o.popLast()), (s = n.field(o))),
          s === null ? r.delete(o) : r.set(o, s),
          (i = i.add(o)));
      }
    return new Di(t.key, r, new Fr(i.toArray()), fo.none());
  }
}
function H9(t, e, n) {
  t instanceof _s
    ? (function (i, o, s) {
        let a = i.value.clone(),
          c = Wk(i.fieldTransforms, o, s.transformResults);
        (a.setAll(c), o.convertToFoundDocument(s.version, a).setHasCommittedMutations());
      })(t, e, n)
    : t instanceof Di
      ? (function (i, o, s) {
          if (!Wp(i.precondition, o)) return void o.convertToUnknownDocument(s.version);
          let a = Wk(i.fieldTransforms, o, s.transformResults),
            c = o.data;
          (c.setAll(NP(i)),
            c.setAll(a),
            o.convertToFoundDocument(s.version, c).setHasCommittedMutations());
        })(t, e, n)
      : (function (i, o, s) {
          o.convertToNoDocument(s.version).setHasCommittedMutations();
        })(0, e, n);
}
function hu(t, e, n, r) {
  return t instanceof _s
    ? (function (o, s, a, c) {
        if (!Wp(o.precondition, s)) return a;
        let u = o.value.clone(),
          d = qk(o.fieldTransforms, c, s);
        return (u.setAll(d), s.convertToFoundDocument(s.version, u).setHasLocalMutations(), null);
      })(t, e, n, r)
    : t instanceof Di
      ? (function (o, s, a, c) {
          if (!Wp(o.precondition, s)) return a;
          let u = qk(o.fieldTransforms, c, s),
            d = s.data;
          return (
            d.setAll(NP(o)),
            d.setAll(u),
            s.convertToFoundDocument(s.version, d).setHasLocalMutations(),
            a === null
              ? null
              : a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p) => p.field))
          );
        })(t, e, n, r)
      : (function (o, s, a) {
          return Wp(o.precondition, s)
            ? (s.convertToNoDocument(s.version).setHasLocalMutations(), null)
            : a;
        })(t, e, n);
}
function $9(t, e) {
  let n = null;
  for (let r of t.fieldTransforms) {
    let i = e.data.field(r.field),
      o = SP(r.transform, i || null);
    o != null && (n === null && (n = gr.empty()), n.set(r.field, o));
  }
  return n || null;
}
function zk(t, e) {
  return (
    t.type === e.type &&
    !!t.key.isEqual(e.key) &&
    !!t.precondition.isEqual(e.precondition) &&
    !!(function (r, i) {
      return (r === void 0 && i === void 0) || (!(!r || !i) && Ga(r, i, (o, s) => B9(o, s)));
    })(t.fieldTransforms, e.fieldTransforms) &&
    (t.type === 0
      ? t.value.isEqual(e.value)
      : t.type !== 1 || (t.data.isEqual(e.data) && t.fieldMask.isEqual(e.fieldMask)))
  );
}
var _s = class extends nc {
    constructor(e, n, r, i = []) {
      (super(),
        (this.key = e),
        (this.value = n),
        (this.precondition = r),
        (this.fieldTransforms = i),
        (this.type = 0));
    }
    getFieldMask() {
      return null;
    }
  },
  Di = class extends nc {
    constructor(e, n, r, i, o = []) {
      (super(),
        (this.key = e),
        (this.data = n),
        (this.fieldMask = r),
        (this.precondition = i),
        (this.fieldTransforms = o),
        (this.type = 1));
    }
    getFieldMask() {
      return this.fieldMask;
    }
  };
function NP(t) {
  let e = new Map();
  return (
    t.fieldMask.fields.forEach((n) => {
      if (!n.isEmpty()) {
        let r = t.data.field(n);
        e.set(n, r);
      }
    }),
    e
  );
}
function Wk(t, e, n) {
  let r = new Map();
  Ue(t.length === n.length);
  for (let i = 0; i < n.length; i++) {
    let o = t[i],
      s = o.transform,
      a = e.data.field(o.field);
    r.set(o.field, U9(s, a, n[i]));
  }
  return r;
}
function qk(t, e, n) {
  let r = new Map();
  for (let i of t) {
    let o = i.transform,
      s = n.data.field(i.field);
    r.set(i.field, j9(o, s, e));
  }
  return r;
}
var Jp = class extends nc {
    constructor(e, n) {
      (super(),
        (this.key = e),
        (this.precondition = n),
        (this.type = 2),
        (this.fieldTransforms = []));
    }
    getFieldMask() {
      return null;
    }
  },
  D0 = class extends nc {
    constructor(e, n) {
      (super(),
        (this.key = e),
        (this.precondition = n),
        (this.type = 3),
        (this.fieldTransforms = []));
    }
    getFieldMask() {
      return null;
    }
  };
var C0 = class {
    constructor(e, n, r, i) {
      ((this.batchId = e),
        (this.localWriteTime = n),
        (this.baseMutations = r),
        (this.mutations = i));
    }
    applyToRemoteDocument(e, n) {
      let r = n.mutationResults;
      for (let i = 0; i < this.mutations.length; i++) {
        let o = this.mutations[i];
        o.key.isEqual(e.key) && H9(o, e, r[i]);
      }
    }
    applyToLocalView(e, n) {
      for (let r of this.baseMutations)
        r.key.isEqual(e.key) && (n = hu(r, e, n, this.localWriteTime));
      for (let r of this.mutations) r.key.isEqual(e.key) && (n = hu(r, e, n, this.localWriteTime));
      return n;
    }
    applyToLocalDocumentSet(e, n) {
      let r = bP();
      return (
        this.mutations.forEach((i) => {
          let o = e.get(i.key),
            s = o.overlayedDocument,
            a = this.applyToLocalView(s, o.mutatedFields);
          a = n.has(i.key) ? null : a;
          let c = RP(s, a);
          (c !== null && r.set(i.key, c), s.isValidDocument() || s.convertToNoDocument(_e.min()));
        }),
        r
      );
    }
    keys() {
      return this.mutations.reduce((e, n) => e.add(n.key), xe());
    }
    isEqual(e) {
      return (
        this.batchId === e.batchId &&
        Ga(this.mutations, e.mutations, (n, r) => zk(n, r)) &&
        Ga(this.baseMutations, e.baseMutations, (n, r) => zk(n, r))
      );
    }
  },
  b0 = class t {
    constructor(e, n, r, i) {
      ((this.batch = e),
        (this.commitVersion = n),
        (this.mutationResults = r),
        (this.docVersions = i));
    }
    static from(e, n, r) {
      Ue(e.mutations.length === r.length);
      let i = (function () {
          return P9;
        })(),
        o = e.mutations;
      for (let s = 0; s < o.length; s++) i = i.insert(o[s].key, r[s].version);
      return new t(e, n, r, i);
    }
  };
var T0 = class {
  constructor(e, n) {
    ((this.largestBatchId = e), (this.mutation = n));
  }
  getKey() {
    return this.mutation.key;
  }
  isEqual(e) {
    return e !== null && this.mutation === e.mutation;
  }
  toString() {
    return `Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`;
  }
};
var S0 = class {
  constructor(e, n) {
    ((this.count = e), (this.unchangedNames = n));
  }
};
var _t, Ne;
function z9(t) {
  switch (t) {
    default:
      return fe();
    case j.CANCELLED:
    case j.UNKNOWN:
    case j.DEADLINE_EXCEEDED:
    case j.RESOURCE_EXHAUSTED:
    case j.INTERNAL:
    case j.UNAVAILABLE:
    case j.UNAUTHENTICATED:
      return !1;
    case j.INVALID_ARGUMENT:
    case j.NOT_FOUND:
    case j.ALREADY_EXISTS:
    case j.PERMISSION_DENIED:
    case j.FAILED_PRECONDITION:
    case j.ABORTED:
    case j.OUT_OF_RANGE:
    case j.UNIMPLEMENTED:
    case j.DATA_LOSS:
      return !0;
  }
}
function kP(t) {
  if (t === void 0) return (wi('GRPC error has no .code'), j.UNKNOWN);
  switch (t) {
    case _t.OK:
      return j.OK;
    case _t.CANCELLED:
      return j.CANCELLED;
    case _t.UNKNOWN:
      return j.UNKNOWN;
    case _t.DEADLINE_EXCEEDED:
      return j.DEADLINE_EXCEEDED;
    case _t.RESOURCE_EXHAUSTED:
      return j.RESOURCE_EXHAUSTED;
    case _t.INTERNAL:
      return j.INTERNAL;
    case _t.UNAVAILABLE:
      return j.UNAVAILABLE;
    case _t.UNAUTHENTICATED:
      return j.UNAUTHENTICATED;
    case _t.INVALID_ARGUMENT:
      return j.INVALID_ARGUMENT;
    case _t.NOT_FOUND:
      return j.NOT_FOUND;
    case _t.ALREADY_EXISTS:
      return j.ALREADY_EXISTS;
    case _t.PERMISSION_DENIED:
      return j.PERMISSION_DENIED;
    case _t.FAILED_PRECONDITION:
      return j.FAILED_PRECONDITION;
    case _t.ABORTED:
      return j.ABORTED;
    case _t.OUT_OF_RANGE:
      return j.OUT_OF_RANGE;
    case _t.UNIMPLEMENTED:
      return j.UNIMPLEMENTED;
    case _t.DATA_LOSS:
      return j.DATA_LOSS;
    default:
      return fe();
  }
}
(((Ne = _t || (_t = {}))[(Ne.OK = 0)] = 'OK'),
  (Ne[(Ne.CANCELLED = 1)] = 'CANCELLED'),
  (Ne[(Ne.UNKNOWN = 2)] = 'UNKNOWN'),
  (Ne[(Ne.INVALID_ARGUMENT = 3)] = 'INVALID_ARGUMENT'),
  (Ne[(Ne.DEADLINE_EXCEEDED = 4)] = 'DEADLINE_EXCEEDED'),
  (Ne[(Ne.NOT_FOUND = 5)] = 'NOT_FOUND'),
  (Ne[(Ne.ALREADY_EXISTS = 6)] = 'ALREADY_EXISTS'),
  (Ne[(Ne.PERMISSION_DENIED = 7)] = 'PERMISSION_DENIED'),
  (Ne[(Ne.UNAUTHENTICATED = 16)] = 'UNAUTHENTICATED'),
  (Ne[(Ne.RESOURCE_EXHAUSTED = 8)] = 'RESOURCE_EXHAUSTED'),
  (Ne[(Ne.FAILED_PRECONDITION = 9)] = 'FAILED_PRECONDITION'),
  (Ne[(Ne.ABORTED = 10)] = 'ABORTED'),
  (Ne[(Ne.OUT_OF_RANGE = 11)] = 'OUT_OF_RANGE'),
  (Ne[(Ne.UNIMPLEMENTED = 12)] = 'UNIMPLEMENTED'),
  (Ne[(Ne.INTERNAL = 13)] = 'INTERNAL'),
  (Ne[(Ne.UNAVAILABLE = 14)] = 'UNAVAILABLE'),
  (Ne[(Ne.DATA_LOSS = 15)] = 'DATA_LOSS'));
var Gk = null;
function W9() {
  return new TextEncoder();
}
var q9 = new ho([4294967295, 4294967295], 0);
function Kk(t) {
  let e = W9().encode(t),
    n = new $E();
  return (n.update(e), new Uint8Array(n.digest()));
}
function Yk(t) {
  let e = new DataView(t.buffer),
    n = e.getUint32(0, !0),
    r = e.getUint32(4, !0),
    i = e.getUint32(8, !0),
    o = e.getUint32(12, !0);
  return [new ho([n, r], 0), new ho([i, o], 0)];
}
var A0 = class t {
    constructor(e, n, r) {
      if (((this.bitmap = e), (this.padding = n), (this.hashCount = r), n < 0 || n >= 8))
        throw new fs(`Invalid padding: ${n}`);
      if (r < 0) throw new fs(`Invalid hash count: ${r}`);
      if (e.length > 0 && this.hashCount === 0) throw new fs(`Invalid hash count: ${r}`);
      if (e.length === 0 && n !== 0) throw new fs(`Invalid padding when bitmap length is 0: ${n}`);
      ((this.Ie = 8 * e.length - n), (this.Te = ho.fromNumber(this.Ie)));
    }
    Ee(e, n, r) {
      let i = e.add(n.multiply(ho.fromNumber(r)));
      return (
        i.compare(q9) === 1 && (i = new ho([i.getBits(0), i.getBits(1)], 0)),
        i.modulo(this.Te).toNumber()
      );
    }
    de(e) {
      return (this.bitmap[Math.floor(e / 8)] & (1 << e % 8)) != 0;
    }
    mightContain(e) {
      if (this.Ie === 0) return !1;
      let n = Kk(e),
        [r, i] = Yk(n);
      for (let o = 0; o < this.hashCount; o++) {
        let s = this.Ee(r, i, o);
        if (!this.de(s)) return !1;
      }
      return !0;
    }
    static create(e, n, r) {
      let i = e % 8 == 0 ? 0 : 8 - (e % 8),
        o = new Uint8Array(Math.ceil(e / 8)),
        s = new t(o, i, n);
      return (r.forEach((a) => s.insert(a)), s);
    }
    insert(e) {
      if (this.Ie === 0) return;
      let n = Kk(e),
        [r, i] = Yk(n);
      for (let o = 0; o < this.hashCount; o++) {
        let s = this.Ee(r, i, o);
        this.Ae(s);
      }
    }
    Ae(e) {
      let n = Math.floor(e / 8),
        r = e % 8;
      this.bitmap[n] |= 1 << r;
    }
  },
  fs = class extends Error {
    constructor() {
      (super(...arguments), (this.name = 'BloomFilterError'));
    }
  };
var em = class t {
    constructor(e, n, r, i, o) {
      ((this.snapshotVersion = e),
        (this.targetChanges = n),
        (this.targetMismatches = r),
        (this.documentUpdates = i),
        (this.resolvedLimboDocuments = o));
    }
    static createSynthesizedRemoteEventForCurrentChange(e, n, r) {
      let i = new Map();
      return (
        i.set(e, gu.createSynthesizedTargetChangeForCurrentChange(e, n, r)),
        new t(_e.min(), i, new lt(Fe), Ii(), xe())
      );
    }
  },
  gu = class t {
    constructor(e, n, r, i, o) {
      ((this.resumeToken = e),
        (this.current = n),
        (this.addedDocuments = r),
        (this.modifiedDocuments = i),
        (this.removedDocuments = o));
    }
    static createSynthesizedTargetChangeForCurrentChange(e, n, r) {
      return new t(r, n, xe(), xe(), xe());
    }
  };
var za = class {
    constructor(e, n, r, i) {
      ((this.Re = e), (this.removedTargetIds = n), (this.key = r), (this.Ve = i));
    }
  },
  tm = class {
    constructor(e, n) {
      ((this.targetId = e), (this.me = n));
    }
  },
  nm = class {
    constructor(e, n, r = Xt.EMPTY_BYTE_STRING, i = null) {
      ((this.state = e), (this.targetIds = n), (this.resumeToken = r), (this.cause = i));
    }
  },
  rm = class {
    constructor() {
      ((this.fe = 0),
        (this.ge = Xk()),
        (this.pe = Xt.EMPTY_BYTE_STRING),
        (this.ye = !1),
        (this.we = !0));
    }
    get current() {
      return this.ye;
    }
    get resumeToken() {
      return this.pe;
    }
    get Se() {
      return this.fe !== 0;
    }
    get be() {
      return this.we;
    }
    De(e) {
      e.approximateByteSize() > 0 && ((this.we = !0), (this.pe = e));
    }
    ve() {
      let e = xe(),
        n = xe(),
        r = xe();
      return (
        this.ge.forEach((i, o) => {
          switch (o) {
            case 0:
              e = e.add(i);
              break;
            case 2:
              n = n.add(i);
              break;
            case 1:
              r = r.add(i);
              break;
            default:
              fe();
          }
        }),
        new gu(this.pe, this.ye, e, n, r)
      );
    }
    Ce() {
      ((this.we = !1), (this.ge = Xk()));
    }
    Fe(e, n) {
      ((this.we = !0), (this.ge = this.ge.insert(e, n)));
    }
    Me(e) {
      ((this.we = !0), (this.ge = this.ge.remove(e)));
    }
    xe() {
      this.fe += 1;
    }
    Oe() {
      ((this.fe -= 1), Ue(this.fe >= 0));
    }
    Ne() {
      ((this.we = !0), (this.ye = !0));
    }
  },
  M0 = class {
    constructor(e) {
      ((this.Le = e),
        (this.Be = new Map()),
        (this.ke = Ii()),
        (this.qe = Qk()),
        (this.Qe = new lt(Fe)));
    }
    Ke(e) {
      for (let n of e.Re)
        e.Ve && e.Ve.isFoundDocument() ? this.$e(n, e.Ve) : this.Ue(n, e.key, e.Ve);
      for (let n of e.removedTargetIds) this.Ue(n, e.key, e.Ve);
    }
    We(e) {
      this.forEachTarget(e, (n) => {
        let r = this.Ge(n);
        switch (e.state) {
          case 0:
            this.ze(n) && r.De(e.resumeToken);
            break;
          case 1:
            (r.Oe(), r.Se || r.Ce(), r.De(e.resumeToken));
            break;
          case 2:
            (r.Oe(), r.Se || this.removeTarget(n));
            break;
          case 3:
            this.ze(n) && (r.Ne(), r.De(e.resumeToken));
            break;
          case 4:
            this.ze(n) && (this.je(n), r.De(e.resumeToken));
            break;
          default:
            fe();
        }
      });
    }
    forEachTarget(e, n) {
      e.targetIds.length > 0
        ? e.targetIds.forEach(n)
        : this.Be.forEach((r, i) => {
            this.ze(i) && n(i);
          });
    }
    He(e) {
      let n = e.targetId,
        r = e.me.count,
        i = this.Je(n);
      if (i) {
        let o = i.target;
        if (w0(o))
          if (r === 0) {
            let s = new ce(o.path);
            this.Ue(n, s, vr.newNoDocument(s, _e.min()));
          } else Ue(r === 1);
        else {
          let s = this.Ye(n);
          if (s !== r) {
            let a = this.Ze(e),
              c = a ? this.Xe(a, e, s) : 1;
            if (c !== 0) {
              this.je(n);
              let u =
                c === 2
                  ? 'TargetPurposeExistenceFilterMismatchBloom'
                  : 'TargetPurposeExistenceFilterMismatch';
              this.Qe = this.Qe.insert(n, u);
            }
            Gk?.et(
              (function (d, p, v, m, D) {
                var M, A, N, O, F, z;
                let Z = {
                    localCacheCount: d,
                    existenceFilterCount: p.count,
                    databaseId: v.database,
                    projectId: v.projectId,
                  },
                  q = p.unchangedNames;
                return (
                  q &&
                    (Z.bloomFilter = {
                      applied: D === 0,
                      hashCount: (M = q?.hashCount) !== null && M !== void 0 ? M : 0,
                      bitmapLength:
                        (O =
                          (N = (A = q?.bits) === null || A === void 0 ? void 0 : A.bitmap) ===
                            null || N === void 0
                            ? void 0
                            : N.length) !== null && O !== void 0
                          ? O
                          : 0,
                      padding:
                        (z = (F = q?.bits) === null || F === void 0 ? void 0 : F.padding) !==
                          null && z !== void 0
                          ? z
                          : 0,
                      mightContain: (T) => {
                        var y;
                        return (y = m?.mightContain(T)) !== null && y !== void 0 && y;
                      },
                    }),
                  Z
                );
              })(s, e.me, this.Le.tt(), a, c)
            );
          }
        }
      }
    }
    Ze(e) {
      let n = e.me.unchangedNames;
      if (!n || !n.bits) return null;
      let {
          bits: { bitmap: r = '', padding: i = 0 },
          hashCount: o = 0,
        } = n,
        s,
        a;
      try {
        s = mo(r).toUint8Array();
      } catch (c) {
        if (c instanceof Qp)
          return (
            qa(
              'Decoding the base64 bloom filter in existence filter failed (' +
                c.message +
                '); ignoring the bloom filter and falling back to full re-query.'
            ),
            null
          );
        throw c;
      }
      try {
        a = new A0(s, i, o);
      } catch (c) {
        return (
          qa(c instanceof fs ? 'BloomFilter error: ' : 'Applying bloom filter failed: ', c),
          null
        );
      }
      return a.Ie === 0 ? null : a;
    }
    Xe(e, n, r) {
      return n.me.count === r - this.nt(e, n.targetId) ? 0 : 2;
    }
    nt(e, n) {
      let r = this.Le.getRemoteKeysForTarget(n),
        i = 0;
      return (
        r.forEach((o) => {
          let s = this.Le.tt(),
            a = `projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;
          e.mightContain(a) || (this.Ue(n, o, null), i++);
        }),
        i
      );
    }
    rt(e) {
      let n = new Map();
      this.Be.forEach((o, s) => {
        let a = this.Je(s);
        if (a) {
          if (o.current && w0(a.target)) {
            let c = new ce(a.target.path);
            this.ke.get(c) !== null || this.it(s, c) || this.Ue(s, c, vr.newNoDocument(c, e));
          }
          o.be && (n.set(s, o.ve()), o.Ce());
        }
      });
      let r = xe();
      (this.qe.forEach((o, s) => {
        let a = !0;
        (s.forEachWhile((c) => {
          let u = this.Je(c);
          return !u || u.purpose === 'TargetPurposeLimboResolution' || ((a = !1), !1);
        }),
          a && (r = r.add(o)));
      }),
        this.ke.forEach((o, s) => s.setReadTime(e)));
      let i = new em(e, n, this.Qe, this.ke, r);
      return ((this.ke = Ii()), (this.qe = Qk()), (this.Qe = new lt(Fe)), i);
    }
    $e(e, n) {
      if (!this.ze(e)) return;
      let r = this.it(e, n.key) ? 2 : 0;
      (this.Ge(e).Fe(n.key, r),
        (this.ke = this.ke.insert(n.key, n)),
        (this.qe = this.qe.insert(n.key, this.st(n.key).add(e))));
    }
    Ue(e, n, r) {
      if (!this.ze(e)) return;
      let i = this.Ge(e);
      (this.it(e, n) ? i.Fe(n, 1) : i.Me(n),
        (this.qe = this.qe.insert(n, this.st(n).delete(e))),
        r && (this.ke = this.ke.insert(n, r)));
    }
    removeTarget(e) {
      this.Be.delete(e);
    }
    Ye(e) {
      let n = this.Ge(e).ve();
      return (
        this.Le.getRemoteKeysForTarget(e).size + n.addedDocuments.size - n.removedDocuments.size
      );
    }
    xe(e) {
      this.Ge(e).xe();
    }
    Ge(e) {
      let n = this.Be.get(e);
      return (n || ((n = new rm()), this.Be.set(e, n)), n);
    }
    st(e) {
      let n = this.qe.get(e);
      return (n || ((n = new Qt(Fe)), (this.qe = this.qe.insert(e, n))), n);
    }
    ze(e) {
      let n = this.Je(e) !== null;
      return (n || Y('WatchChangeAggregator', 'Detected inactive target', e), n);
    }
    Je(e) {
      let n = this.Be.get(e);
      return n && n.Se ? null : this.Le.ot(e);
    }
    je(e) {
      (this.Be.set(e, new rm()),
        this.Le.getRemoteKeysForTarget(e).forEach((n) => {
          this.Ue(e, n, null);
        }));
    }
    it(e, n) {
      return this.Le.getRemoteKeysForTarget(e).has(n);
    }
  };
function Qk() {
  return new lt(ce.comparator);
}
function Xk() {
  return new lt(ce.comparator);
}
var G9 = { asc: 'ASCENDING', desc: 'DESCENDING' },
  K9 = {
    '<': 'LESS_THAN',
    '<=': 'LESS_THAN_OR_EQUAL',
    '>': 'GREATER_THAN',
    '>=': 'GREATER_THAN_OR_EQUAL',
    '==': 'EQUAL',
    '!=': 'NOT_EQUAL',
    'array-contains': 'ARRAY_CONTAINS',
    in: 'IN',
    'not-in': 'NOT_IN',
    'array-contains-any': 'ARRAY_CONTAINS_ANY',
  },
  Y9 = { and: 'AND', or: 'OR' },
  x0 = class {
    constructor(e, n) {
      ((this.databaseId = e), (this.useProto3Json = n));
    }
  };
function R0(t, e) {
  return t.useProto3Json || Em(e) ? e : { value: e };
}
function im(t, e) {
  return t.useProto3Json
    ? `${new Date(1e3 * e.seconds).toISOString().replace(/\.\d*/, '').replace('Z', '')}.${('000000000' + e.nanoseconds).slice(-9)}Z`
    : { seconds: '' + e.seconds, nanos: e.nanoseconds };
}
function PP(t, e) {
  return t.useProto3Json ? e.toBase64() : e.toUint8Array();
}
function Q9(t, e) {
  return im(t, e.toTimestamp());
}
function Ur(t) {
  return (
    Ue(!!t),
    _e.fromTimestamp(
      (function (n) {
        let r = Ei(n);
        return new Vt(r.seconds, r.nanos);
      })(t)
    )
  );
}
function LI(t, e) {
  return N0(t, e).canonicalString();
}
function N0(t, e) {
  let n = (function (i) {
    return new ct(['projects', i.projectId, 'databases', i.database]);
  })(t).child('documents');
  return e === void 0 ? n : n.child(e);
}
function OP(t) {
  let e = ct.fromString(t);
  return (Ue(UP(e)), e);
}
function k0(t, e) {
  return LI(t.databaseId, e.path);
}
function YE(t, e) {
  let n = OP(e);
  if (n.get(1) !== t.databaseId.projectId)
    throw new oe(
      j.INVALID_ARGUMENT,
      'Tried to deserialize key from different project: ' +
        n.get(1) +
        ' vs ' +
        t.databaseId.projectId
    );
  if (n.get(3) !== t.databaseId.database)
    throw new oe(
      j.INVALID_ARGUMENT,
      'Tried to deserialize key from different database: ' +
        n.get(3) +
        ' vs ' +
        t.databaseId.database
    );
  return new ce(VP(n));
}
function FP(t, e) {
  return LI(t.databaseId, e);
}
function X9(t) {
  let e = OP(t);
  return e.length === 4 ? ct.emptyPath() : VP(e);
}
function P0(t) {
  return new ct([
    'projects',
    t.databaseId.projectId,
    'databases',
    t.databaseId.database,
  ]).canonicalString();
}
function VP(t) {
  return (Ue(t.length > 4 && t.get(4) === 'documents'), t.popFirst(5));
}
function Zk(t, e, n) {
  return { name: k0(t, e), fields: n.value.mapValue.fields };
}
function Z9(t, e) {
  let n;
  if ('targetChange' in e) {
    e.targetChange;
    let r = (function (u) {
        return u === 'NO_CHANGE'
          ? 0
          : u === 'ADD'
            ? 1
            : u === 'REMOVE'
              ? 2
              : u === 'CURRENT'
                ? 3
                : u === 'RESET'
                  ? 4
                  : fe();
      })(e.targetChange.targetChangeType || 'NO_CHANGE'),
      i = e.targetChange.targetIds || [],
      o = (function (u, d) {
        return u.useProto3Json
          ? (Ue(d === void 0 || typeof d == 'string'), Xt.fromBase64String(d || ''))
          : (Ue(d === void 0 || d instanceof Buffer || d instanceof Uint8Array),
            Xt.fromUint8Array(d || new Uint8Array()));
      })(t, e.targetChange.resumeToken),
      s = e.targetChange.cause,
      a =
        s &&
        (function (u) {
          let d = u.code === void 0 ? j.UNKNOWN : kP(u.code);
          return new oe(d, u.message || '');
        })(s);
    n = new nm(r, i, o, a || null);
  } else if ('documentChange' in e) {
    e.documentChange;
    let r = e.documentChange;
    (r.document, r.document.name, r.document.updateTime);
    let i = YE(t, r.document.name),
      o = Ur(r.document.updateTime),
      s = r.document.createTime ? Ur(r.document.createTime) : _e.min(),
      a = new gr({ mapValue: { fields: r.document.fields } }),
      c = vr.newFoundDocument(i, o, s, a),
      u = r.targetIds || [],
      d = r.removedTargetIds || [];
    n = new za(u, d, c.key, c);
  } else if ('documentDelete' in e) {
    e.documentDelete;
    let r = e.documentDelete;
    r.document;
    let i = YE(t, r.document),
      o = r.readTime ? Ur(r.readTime) : _e.min(),
      s = vr.newNoDocument(i, o),
      a = r.removedTargetIds || [];
    n = new za([], a, s.key, s);
  } else if ('documentRemove' in e) {
    e.documentRemove;
    let r = e.documentRemove;
    r.document;
    let i = YE(t, r.document),
      o = r.removedTargetIds || [];
    n = new za([], o, i, null);
  } else {
    if (!('filter' in e)) return fe();
    {
      e.filter;
      let r = e.filter;
      r.targetId;
      let { count: i = 0, unchangedNames: o } = r,
        s = new S0(i, o),
        a = r.targetId;
      n = new tm(a, s);
    }
  }
  return n;
}
function J9(t, e) {
  let n;
  if (e instanceof _s) n = { update: Zk(t, e.key, e.value) };
  else if (e instanceof Jp) n = { delete: k0(t, e.key) };
  else if (e instanceof Di) n = { update: Zk(t, e.key, e.data), updateMask: c5(e.fieldMask) };
  else {
    if (!(e instanceof D0)) return fe();
    n = { verify: k0(t, e.key) };
  }
  return (
    e.fieldTransforms.length > 0 &&
      (n.updateTransforms = e.fieldTransforms.map((r) =>
        (function (o, s) {
          let a = s.transform;
          if (a instanceof ec)
            return {
              fieldPath: s.field.canonicalString(),
              setToServerValue: 'REQUEST_TIME',
            };
          if (a instanceof vs)
            return {
              fieldPath: s.field.canonicalString(),
              appendMissingElements: { values: a.elements },
            };
          if (a instanceof ys)
            return {
              fieldPath: s.field.canonicalString(),
              removeAllFromArray: { values: a.elements },
            };
          if (a instanceof tc) return { fieldPath: s.field.canonicalString(), increment: a.Pe };
          throw fe();
        })(0, r)
      )),
    e.precondition.isNone ||
      (n.currentDocument = (function (i, o) {
        return o.updateTime !== void 0
          ? { updateTime: Q9(i, o.updateTime) }
          : o.exists !== void 0
            ? { exists: o.exists }
            : fe();
      })(t, e.precondition)),
    n
  );
}
function e5(t, e) {
  return t && t.length > 0
    ? (Ue(e !== void 0),
      t.map((n) =>
        (function (i, o) {
          let s = i.updateTime ? Ur(i.updateTime) : Ur(o);
          return (s.isEqual(_e.min()) && (s = Ur(o)), new I0(s, i.transformResults || []));
        })(n, e)
      ))
    : [];
}
function t5(t, e) {
  return { documents: [FP(t, e.path)] };
}
function n5(t, e) {
  let n = { structuredQuery: {} },
    r = e.path,
    i;
  (e.collectionGroup !== null
    ? ((i = r),
      (n.structuredQuery.from = [{ collectionId: e.collectionGroup, allDescendants: !0 }]))
    : ((i = r.popLast()), (n.structuredQuery.from = [{ collectionId: r.lastSegment() }])),
    (n.parent = FP(t, i)));
  let o = (function (u) {
    if (u.length !== 0) return jP(Hr.create(u, 'and'));
  })(e.filters);
  o && (n.structuredQuery.where = o);
  let s = (function (u) {
    if (u.length !== 0)
      return u.map((d) =>
        (function (v) {
          return { field: Ua(v.field), direction: o5(v.dir) };
        })(d)
      );
  })(e.orderBy);
  s && (n.structuredQuery.orderBy = s);
  let a = R0(t, e.limit);
  return (
    a !== null && (n.structuredQuery.limit = a),
    e.startAt &&
      (n.structuredQuery.startAt = (function (u) {
        return { before: u.inclusive, values: u.position };
      })(e.startAt)),
    e.endAt &&
      (n.structuredQuery.endAt = (function (u) {
        return { before: !u.inclusive, values: u.position };
      })(e.endAt)),
    { _t: n, parent: i }
  );
}
function r5(t) {
  let e = X9(t.parent),
    n = t.structuredQuery,
    r = n.from ? n.from.length : 0,
    i = null;
  if (r > 0) {
    Ue(r === 1);
    let d = n.from[0];
    d.allDescendants ? (i = d.collectionId) : (e = e.child(d.collectionId));
  }
  let o = [];
  n.where &&
    (o = (function (p) {
      let v = LP(p);
      return v instanceof Hr && gP(v) ? v.getFilters() : [v];
    })(n.where));
  let s = [];
  n.orderBy &&
    (s = (function (p) {
      return p.map((v) =>
        (function (D) {
          return new Xa(
            Ba(D.field),
            (function (A) {
              switch (A) {
                case 'ASCENDING':
                  return 'asc';
                case 'DESCENDING':
                  return 'desc';
                default:
                  return;
              }
            })(D.direction)
          );
        })(v)
      );
    })(n.orderBy));
  let a = null;
  n.limit &&
    (a = (function (p) {
      let v;
      return ((v = typeof p == 'object' ? p.value : p), Em(v) ? null : v);
    })(n.limit));
  let c = null;
  n.startAt &&
    (c = (function (p) {
      let v = !!p.before,
        m = p.values || [];
      return new Qa(m, v);
    })(n.startAt));
  let u = null;
  return (
    n.endAt &&
      (u = (function (p) {
        let v = !p.before,
          m = p.values || [];
        return new Qa(m, v);
      })(n.endAt)),
    A9(e, i, s, o, a, 'F', c, u)
  );
}
function i5(t, e) {
  let n = (function (i) {
    switch (i) {
      case 'TargetPurposeListen':
        return null;
      case 'TargetPurposeExistenceFilterMismatch':
        return 'existence-filter-mismatch';
      case 'TargetPurposeExistenceFilterMismatchBloom':
        return 'existence-filter-mismatch-bloom';
      case 'TargetPurposeLimboResolution':
        return 'limbo-document';
      default:
        return fe();
    }
  })(e.purpose);
  return n == null ? null : { 'goog-listen-tags': n };
}
function LP(t) {
  return t.unaryFilter !== void 0
    ? (function (n) {
        switch (n.unaryFilter.op) {
          case 'IS_NAN':
            let r = Ba(n.unaryFilter.field);
            return Tt.create(r, '==', { doubleValue: NaN });
          case 'IS_NULL':
            let i = Ba(n.unaryFilter.field);
            return Tt.create(i, '==', { nullValue: 'NULL_VALUE' });
          case 'IS_NOT_NAN':
            let o = Ba(n.unaryFilter.field);
            return Tt.create(o, '!=', { doubleValue: NaN });
          case 'IS_NOT_NULL':
            let s = Ba(n.unaryFilter.field);
            return Tt.create(s, '!=', { nullValue: 'NULL_VALUE' });
          default:
            return fe();
        }
      })(t)
    : t.fieldFilter !== void 0
      ? (function (n) {
          return Tt.create(
            Ba(n.fieldFilter.field),
            (function (i) {
              switch (i) {
                case 'EQUAL':
                  return '==';
                case 'NOT_EQUAL':
                  return '!=';
                case 'GREATER_THAN':
                  return '>';
                case 'GREATER_THAN_OR_EQUAL':
                  return '>=';
                case 'LESS_THAN':
                  return '<';
                case 'LESS_THAN_OR_EQUAL':
                  return '<=';
                case 'ARRAY_CONTAINS':
                  return 'array-contains';
                case 'IN':
                  return 'in';
                case 'NOT_IN':
                  return 'not-in';
                case 'ARRAY_CONTAINS_ANY':
                  return 'array-contains-any';
                default:
                  return fe();
              }
            })(n.fieldFilter.op),
            n.fieldFilter.value
          );
        })(t)
      : t.compositeFilter !== void 0
        ? (function (n) {
            return Hr.create(
              n.compositeFilter.filters.map((r) => LP(r)),
              (function (i) {
                switch (i) {
                  case 'AND':
                    return 'and';
                  case 'OR':
                    return 'or';
                  default:
                    return fe();
                }
              })(n.compositeFilter.op)
            );
          })(t)
        : fe();
}
function o5(t) {
  return G9[t];
}
function s5(t) {
  return K9[t];
}
function a5(t) {
  return Y9[t];
}
function Ua(t) {
  return { fieldPath: t.canonicalString() };
}
function Ba(t) {
  return Mn.fromServerFormat(t.fieldPath);
}
function jP(t) {
  return t instanceof Tt
    ? (function (n) {
        if (n.op === '==') {
          if (Lk(n.value)) return { unaryFilter: { field: Ua(n.field), op: 'IS_NAN' } };
          if (Vk(n.value)) return { unaryFilter: { field: Ua(n.field), op: 'IS_NULL' } };
        } else if (n.op === '!=') {
          if (Lk(n.value)) return { unaryFilter: { field: Ua(n.field), op: 'IS_NOT_NAN' } };
          if (Vk(n.value)) return { unaryFilter: { field: Ua(n.field), op: 'IS_NOT_NULL' } };
        }
        return {
          fieldFilter: { field: Ua(n.field), op: s5(n.op), value: n.value },
        };
      })(t)
    : t instanceof Hr
      ? (function (n) {
          let r = n.getFilters().map((i) => jP(i));
          return r.length === 1 ? r[0] : { compositeFilter: { op: a5(n.op), filters: r } };
        })(t)
      : fe();
}
function c5(t) {
  let e = [];
  return (t.fields.forEach((n) => e.push(n.canonicalString())), { fieldPaths: e });
}
function UP(t) {
  return t.length >= 4 && t.get(0) === 'projects' && t.get(2) === 'databases';
}
var vu = class t {
  constructor(e, n, r, i, o = _e.min(), s = _e.min(), a = Xt.EMPTY_BYTE_STRING, c = null) {
    ((this.target = e),
      (this.targetId = n),
      (this.purpose = r),
      (this.sequenceNumber = i),
      (this.snapshotVersion = o),
      (this.lastLimboFreeSnapshotVersion = s),
      (this.resumeToken = a),
      (this.expectedCount = c));
  }
  withSequenceNumber(e) {
    return new t(
      this.target,
      this.targetId,
      this.purpose,
      e,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      this.expectedCount
    );
  }
  withResumeToken(e, n) {
    return new t(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      n,
      this.lastLimboFreeSnapshotVersion,
      e,
      null
    );
  }
  withExpectedCount(e) {
    return new t(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      this.lastLimboFreeSnapshotVersion,
      this.resumeToken,
      e
    );
  }
  withLastLimboFreeSnapshotVersion(e) {
    return new t(
      this.target,
      this.targetId,
      this.purpose,
      this.sequenceNumber,
      this.snapshotVersion,
      e,
      this.resumeToken,
      this.expectedCount
    );
  }
};
var O0 = class {
  constructor(e) {
    this.ct = e;
  }
};
function l5(t) {
  let e = r5({ parent: t.parent, structuredQuery: t.structuredQuery });
  return t.limitType === 'LAST' ? E0(e, e.limit, 'L') : e;
}
var om = class {
  constructor() {}
  It(e, n) {
    (this.Tt(e, n), n.Et());
  }
  Tt(e, n) {
    if ('nullValue' in e) this.dt(n, 5);
    else if ('booleanValue' in e) (this.dt(n, 10), n.At(e.booleanValue ? 1 : 0));
    else if ('integerValue' in e) (this.dt(n, 15), n.At(et(e.integerValue)));
    else if ('doubleValue' in e) {
      let r = et(e.doubleValue);
      isNaN(r) ? this.dt(n, 13) : (this.dt(n, 15), fu(r) ? n.At(0) : n.At(r));
    } else if ('timestampValue' in e) {
      let r = e.timestampValue;
      (this.dt(n, 20),
        typeof r == 'string' && (r = Ei(r)),
        n.Rt(`${r.seconds || ''}`),
        n.At(r.nanos || 0));
    } else if ('stringValue' in e) (this.Vt(e.stringValue, n), this.ft(n));
    else if ('bytesValue' in e) (this.dt(n, 30), n.gt(mo(e.bytesValue)), this.ft(n));
    else if ('referenceValue' in e) this.yt(e.referenceValue, n);
    else if ('geoPointValue' in e) {
      let r = e.geoPointValue;
      (this.dt(n, 45), n.At(r.latitude || 0), n.At(r.longitude || 0));
    } else
      'mapValue' in e
        ? fP(e)
          ? this.dt(n, Number.MAX_SAFE_INTEGER)
          : hP(e)
            ? this.wt(e.mapValue, n)
            : (this.St(e.mapValue, n), this.ft(n))
        : 'arrayValue' in e
          ? (this.bt(e.arrayValue, n), this.ft(n))
          : fe();
  }
  Vt(e, n) {
    (this.dt(n, 25), this.Dt(e, n));
  }
  Dt(e, n) {
    n.Rt(e);
  }
  St(e, n) {
    let r = e.fields || {};
    this.dt(n, 55);
    for (let i of Object.keys(r)) (this.Vt(i, n), this.Tt(r[i], n));
  }
  wt(e, n) {
    var r, i;
    let o = e.fields || {};
    this.dt(n, 53);
    let s = 'value',
      a =
        ((i = (r = o[s].arrayValue) === null || r === void 0 ? void 0 : r.values) === null ||
        i === void 0
          ? void 0
          : i.length) || 0;
    (this.dt(n, 15), n.At(et(a)), this.Vt(s, n), this.Tt(o[s], n));
  }
  bt(e, n) {
    let r = e.values || [];
    this.dt(n, 50);
    for (let i of r) this.Tt(i, n);
  }
  yt(e, n) {
    (this.dt(n, 37),
      ce.fromName(e).path.forEach((r) => {
        (this.dt(n, 60), this.Dt(r, n));
      }));
  }
  dt(e, n) {
    e.At(n);
  }
  ft(e) {
    e.At(2);
  }
};
om.vt = new om();
var F0 = class {
    constructor() {
      this.un = new V0();
    }
    addToCollectionParentIndex(e, n) {
      return (this.un.add(n), $.resolve());
    }
    getCollectionParents(e, n) {
      return $.resolve(this.un.getEntries(n));
    }
    addFieldIndex(e, n) {
      return $.resolve();
    }
    deleteFieldIndex(e, n) {
      return $.resolve();
    }
    deleteAllFieldIndexes(e) {
      return $.resolve();
    }
    createTargetIndexes(e, n) {
      return $.resolve();
    }
    getDocumentsMatchingTarget(e, n) {
      return $.resolve(null);
    }
    getIndexType(e, n) {
      return $.resolve(0);
    }
    getFieldIndexes(e, n) {
      return $.resolve([]);
    }
    getNextCollectionGroupToUpdate(e) {
      return $.resolve(null);
    }
    getMinOffset(e, n) {
      return $.resolve(ms.min());
    }
    getMinOffsetFromCollectionGroup(e, n) {
      return $.resolve(ms.min());
    }
    updateCollectionGroup(e, n, r) {
      return $.resolve();
    }
    updateIndexEntries(e, n) {
      return $.resolve();
    }
  },
  V0 = class {
    constructor() {
      this.index = {};
    }
    add(e) {
      let n = e.lastSegment(),
        r = e.popLast(),
        i = this.index[n] || new Qt(ct.comparator),
        o = !i.has(r);
      return ((this.index[n] = i.add(r)), o);
    }
    has(e) {
      let n = e.lastSegment(),
        r = e.popLast(),
        i = this.index[n];
      return i && i.has(r);
    }
    getEntries(e) {
      return (this.index[e] || new Qt(ct.comparator)).toArray();
    }
  };
var Cae = new Uint8Array(0);
var Or = class t {
  constructor(e, n, r) {
    ((this.cacheSizeCollectionThreshold = e),
      (this.percentileToCollect = n),
      (this.maximumSequenceNumbersToCollect = r));
  }
  static withCacheSize(e) {
    return new t(e, t.DEFAULT_COLLECTION_PERCENTILE, t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);
  }
};
((Or.DEFAULT_COLLECTION_PERCENTILE = 10),
  (Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3),
  (Or.DEFAULT = new Or(
    41943040,
    Or.DEFAULT_COLLECTION_PERCENTILE,
    Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT
  )),
  (Or.DISABLED = new Or(-1, 0, 0)));
var yu = class t {
  constructor(e) {
    this.Ln = e;
  }
  next() {
    return ((this.Ln += 2), this.Ln);
  }
  static Bn() {
    return new t(0);
  }
  static kn() {
    return new t(-1);
  }
};
var L0 = class {
  constructor() {
    ((this.changes = new go(
      (e) => e.toString(),
      (e, n) => e.isEqual(n)
    )),
      (this.changesApplied = !1));
  }
  addEntry(e) {
    (this.assertNotApplied(), this.changes.set(e.key, e));
  }
  removeEntry(e, n) {
    (this.assertNotApplied(), this.changes.set(e, vr.newInvalidDocument(e).setReadTime(n)));
  }
  getEntry(e, n) {
    this.assertNotApplied();
    let r = this.changes.get(n);
    return r !== void 0 ? $.resolve(r) : this.getFromCache(e, n);
  }
  getEntries(e, n) {
    return this.getAllFromCache(e, n);
  }
  apply(e) {
    return (this.assertNotApplied(), (this.changesApplied = !0), this.applyChanges(e));
  }
  assertNotApplied() {}
};
var j0 = class {
  constructor(e, n) {
    ((this.overlayedDocument = e), (this.mutatedFields = n));
  }
};
var U0 = class {
  constructor(e, n, r, i) {
    ((this.remoteDocumentCache = e),
      (this.mutationQueue = n),
      (this.documentOverlayCache = r),
      (this.indexManager = i));
  }
  getDocument(e, n) {
    let r = null;
    return this.documentOverlayCache
      .getOverlay(e, n)
      .next((i) => ((r = i), this.remoteDocumentCache.getEntry(e, n)))
      .next((i) => (r !== null && hu(r.mutation, i, Fr.empty(), Vt.now()), i));
  }
  getDocuments(e, n) {
    return this.remoteDocumentCache
      .getEntries(e, n)
      .next((r) => this.getLocalViewOfDocuments(e, r, xe()).next(() => r));
  }
  getLocalViewOfDocuments(e, n, r = xe()) {
    let i = hs();
    return this.populateOverlays(e, i, n).next(() =>
      this.computeViews(e, n, i, r).next((o) => {
        let s = cu();
        return (
          o.forEach((a, c) => {
            s = s.insert(a, c.overlayedDocument);
          }),
          s
        );
      })
    );
  }
  getOverlayedDocuments(e, n) {
    let r = hs();
    return this.populateOverlays(e, r, n).next(() => this.computeViews(e, n, r, xe()));
  }
  populateOverlays(e, n, r) {
    let i = [];
    return (
      r.forEach((o) => {
        n.has(o) || i.push(o);
      }),
      this.documentOverlayCache.getOverlays(e, i).next((o) => {
        o.forEach((s, a) => {
          n.set(s, a);
        });
      })
    );
  }
  computeViews(e, n, r, i) {
    let o = Ii(),
      s = du(),
      a = (function () {
        return du();
      })();
    return (
      n.forEach((c, u) => {
        let d = r.get(u.key);
        i.has(u.key) && (d === void 0 || d.mutation instanceof Di)
          ? (o = o.insert(u.key, u))
          : d !== void 0
            ? (s.set(u.key, d.mutation.getFieldMask()),
              hu(d.mutation, u, d.mutation.getFieldMask(), Vt.now()))
            : s.set(u.key, Fr.empty());
      }),
      this.recalculateAndSaveOverlays(e, o).next(
        (c) => (
          c.forEach((u, d) => s.set(u, d)),
          n.forEach((u, d) => {
            var p;
            return a.set(u, new j0(d, (p = s.get(u)) !== null && p !== void 0 ? p : null));
          }),
          a
        )
      )
    );
  }
  recalculateAndSaveOverlays(e, n) {
    let r = du(),
      i = new lt((s, a) => s - a),
      o = xe();
    return this.mutationQueue
      .getAllMutationBatchesAffectingDocumentKeys(e, n)
      .next((s) => {
        for (let a of s)
          a.keys().forEach((c) => {
            let u = n.get(c);
            if (u === null) return;
            let d = r.get(c) || Fr.empty();
            ((d = a.applyToLocalView(u, d)), r.set(c, d));
            let p = (i.get(a.batchId) || xe()).add(c);
            i = i.insert(a.batchId, p);
          });
      })
      .next(() => {
        let s = [],
          a = i.getReverseIterator();
        for (; a.hasNext(); ) {
          let c = a.getNext(),
            u = c.key,
            d = c.value,
            p = bP();
          (d.forEach((v) => {
            if (!o.has(v)) {
              let m = RP(n.get(v), r.get(v));
              (m !== null && p.set(v, m), (o = o.add(v)));
            }
          }),
            s.push(this.documentOverlayCache.saveOverlays(e, u, p)));
        }
        return $.waitFor(s);
      })
      .next(() => r);
  }
  recalculateAndSaveOverlaysForDocumentKeys(e, n) {
    return this.remoteDocumentCache
      .getEntries(e, n)
      .next((r) => this.recalculateAndSaveOverlays(e, r));
  }
  getDocumentsMatchingQuery(e, n, r, i) {
    return (function (s) {
      return ce.isDocumentKey(s.path) && s.collectionGroup === null && s.filters.length === 0;
    })(n)
      ? this.getDocumentsMatchingDocumentQuery(e, n.path)
      : M9(n)
        ? this.getDocumentsMatchingCollectionGroupQuery(e, n, r, i)
        : this.getDocumentsMatchingCollectionQuery(e, n, r, i);
  }
  getNextDocuments(e, n, r, i) {
    return this.remoteDocumentCache.getAllFromCollectionGroup(e, n, r, i).next((o) => {
      let s =
          i - o.size > 0
            ? this.documentOverlayCache.getOverlaysForCollectionGroup(
                e,
                n,
                r.largestBatchId,
                i - o.size
              )
            : $.resolve(hs()),
        a = -1,
        c = o;
      return s.next((u) =>
        $.forEach(
          u,
          (d, p) => (
            a < p.largestBatchId && (a = p.largestBatchId),
            o.get(d)
              ? $.resolve()
              : this.remoteDocumentCache.getEntry(e, d).next((v) => {
                  c = c.insert(d, v);
                })
          )
        )
          .next(() => this.populateOverlays(e, u, o))
          .next(() => this.computeViews(e, c, u, xe()))
          .next((d) => ({ batchId: a, changes: CP(d) }))
      );
    });
  }
  getDocumentsMatchingDocumentQuery(e, n) {
    return this.getDocument(e, new ce(n)).next((r) => {
      let i = cu();
      return (r.isFoundDocument() && (i = i.insert(r.key, r)), i);
    });
  }
  getDocumentsMatchingCollectionGroupQuery(e, n, r, i) {
    let o = n.collectionGroup,
      s = cu();
    return this.indexManager.getCollectionParents(e, o).next((a) =>
      $.forEach(a, (c) => {
        let u = (function (p, v) {
          return new Za(
            v,
            null,
            p.explicitOrderBy.slice(),
            p.filters.slice(),
            p.limit,
            p.limitType,
            p.startAt,
            p.endAt
          );
        })(n, c.child(o));
        return this.getDocumentsMatchingCollectionQuery(e, u, r, i).next((d) => {
          d.forEach((p, v) => {
            s = s.insert(p, v);
          });
        });
      }).next(() => s)
    );
  }
  getDocumentsMatchingCollectionQuery(e, n, r, i) {
    let o;
    return this.documentOverlayCache
      .getOverlaysForCollection(e, n.path, r.largestBatchId)
      .next((s) => ((o = s), this.remoteDocumentCache.getDocumentsMatchingQuery(e, n, r, o, i)))
      .next((s) => {
        o.forEach((c, u) => {
          let d = u.getKey();
          s.get(d) === null && (s = s.insert(d, vr.newInvalidDocument(d)));
        });
        let a = cu();
        return (
          s.forEach((c, u) => {
            let d = o.get(c);
            (d !== void 0 && hu(d.mutation, u, Fr.empty(), Vt.now()),
              Dm(n, u) && (a = a.insert(c, u)));
          }),
          a
        );
      });
  }
};
var B0 = class {
  constructor(e) {
    ((this.serializer = e), (this.hr = new Map()), (this.Pr = new Map()));
  }
  getBundleMetadata(e, n) {
    return $.resolve(this.hr.get(n));
  }
  saveBundleMetadata(e, n) {
    return (
      this.hr.set(
        n.id,
        (function (i) {
          return { id: i.id, version: i.version, createTime: Ur(i.createTime) };
        })(n)
      ),
      $.resolve()
    );
  }
  getNamedQuery(e, n) {
    return $.resolve(this.Pr.get(n));
  }
  saveNamedQuery(e, n) {
    return (
      this.Pr.set(
        n.name,
        (function (i) {
          return {
            name: i.name,
            query: l5(i.bundledQuery),
            readTime: Ur(i.readTime),
          };
        })(n)
      ),
      $.resolve()
    );
  }
};
var H0 = class {
  constructor() {
    ((this.overlays = new lt(ce.comparator)), (this.Ir = new Map()));
  }
  getOverlay(e, n) {
    return $.resolve(this.overlays.get(n));
  }
  getOverlays(e, n) {
    let r = hs();
    return $.forEach(n, (i) =>
      this.getOverlay(e, i).next((o) => {
        o !== null && r.set(i, o);
      })
    ).next(() => r);
  }
  saveOverlays(e, n, r) {
    return (
      r.forEach((i, o) => {
        this.ht(e, n, o);
      }),
      $.resolve()
    );
  }
  removeOverlaysForBatchId(e, n, r) {
    let i = this.Ir.get(r);
    return (
      i !== void 0 &&
        (i.forEach((o) => (this.overlays = this.overlays.remove(o))), this.Ir.delete(r)),
      $.resolve()
    );
  }
  getOverlaysForCollection(e, n, r) {
    let i = hs(),
      o = n.length + 1,
      s = new ce(n.child('')),
      a = this.overlays.getIteratorFrom(s);
    for (; a.hasNext(); ) {
      let c = a.getNext().value,
        u = c.getKey();
      if (!n.isPrefixOf(u.path)) break;
      u.path.length === o && c.largestBatchId > r && i.set(c.getKey(), c);
    }
    return $.resolve(i);
  }
  getOverlaysForCollectionGroup(e, n, r, i) {
    let o = new lt((u, d) => u - d),
      s = this.overlays.getIterator();
    for (; s.hasNext(); ) {
      let u = s.getNext().value;
      if (u.getKey().getCollectionGroup() === n && u.largestBatchId > r) {
        let d = o.get(u.largestBatchId);
        (d === null && ((d = hs()), (o = o.insert(u.largestBatchId, d))), d.set(u.getKey(), u));
      }
    }
    let a = hs(),
      c = o.getIterator();
    for (; c.hasNext() && (c.getNext().value.forEach((u, d) => a.set(u, d)), !(a.size() >= i)); );
    return $.resolve(a);
  }
  ht(e, n, r) {
    let i = this.overlays.get(r.key);
    if (i !== null) {
      let s = this.Ir.get(i.largestBatchId).delete(r.key);
      this.Ir.set(i.largestBatchId, s);
    }
    this.overlays = this.overlays.insert(r.key, new T0(n, r));
    let o = this.Ir.get(n);
    (o === void 0 && ((o = xe()), this.Ir.set(n, o)), this.Ir.set(n, o.add(r.key)));
  }
};
var $0 = class {
  constructor() {
    this.sessionToken = Xt.EMPTY_BYTE_STRING;
  }
  getSessionToken(e) {
    return $.resolve(this.sessionToken);
  }
  setSessionToken(e, n) {
    return ((this.sessionToken = n), $.resolve());
  }
};
var _u = class {
    constructor() {
      ((this.Tr = new Qt(wt.Er)), (this.dr = new Qt(wt.Ar)));
    }
    isEmpty() {
      return this.Tr.isEmpty();
    }
    addReference(e, n) {
      let r = new wt(e, n);
      ((this.Tr = this.Tr.add(r)), (this.dr = this.dr.add(r)));
    }
    Rr(e, n) {
      e.forEach((r) => this.addReference(r, n));
    }
    removeReference(e, n) {
      this.Vr(new wt(e, n));
    }
    mr(e, n) {
      e.forEach((r) => this.removeReference(r, n));
    }
    gr(e) {
      let n = new ce(new ct([])),
        r = new wt(n, e),
        i = new wt(n, e + 1),
        o = [];
      return (
        this.dr.forEachInRange([r, i], (s) => {
          (this.Vr(s), o.push(s.key));
        }),
        o
      );
    }
    pr() {
      this.Tr.forEach((e) => this.Vr(e));
    }
    Vr(e) {
      ((this.Tr = this.Tr.delete(e)), (this.dr = this.dr.delete(e)));
    }
    yr(e) {
      let n = new ce(new ct([])),
        r = new wt(n, e),
        i = new wt(n, e + 1),
        o = xe();
      return (
        this.dr.forEachInRange([r, i], (s) => {
          o = o.add(s.key);
        }),
        o
      );
    }
    containsKey(e) {
      let n = new wt(e, 0),
        r = this.Tr.firstAfterOrEqual(n);
      return r !== null && e.isEqual(r.key);
    }
  },
  wt = class {
    constructor(e, n) {
      ((this.key = e), (this.wr = n));
    }
    static Er(e, n) {
      return ce.comparator(e.key, n.key) || Fe(e.wr, n.wr);
    }
    static Ar(e, n) {
      return Fe(e.wr, n.wr) || ce.comparator(e.key, n.key);
    }
  };
var z0 = class {
  constructor(e, n) {
    ((this.indexManager = e),
      (this.referenceDelegate = n),
      (this.mutationQueue = []),
      (this.Sr = 1),
      (this.br = new Qt(wt.Er)));
  }
  checkEmpty(e) {
    return $.resolve(this.mutationQueue.length === 0);
  }
  addMutationBatch(e, n, r, i) {
    let o = this.Sr;
    (this.Sr++, this.mutationQueue.length > 0 && this.mutationQueue[this.mutationQueue.length - 1]);
    let s = new C0(o, n, r, i);
    this.mutationQueue.push(s);
    for (let a of i)
      ((this.br = this.br.add(new wt(a.key, o))),
        this.indexManager.addToCollectionParentIndex(e, a.key.path.popLast()));
    return $.resolve(s);
  }
  lookupMutationBatch(e, n) {
    return $.resolve(this.Dr(n));
  }
  getNextMutationBatchAfterBatchId(e, n) {
    let r = n + 1,
      i = this.vr(r),
      o = i < 0 ? 0 : i;
    return $.resolve(this.mutationQueue.length > o ? this.mutationQueue[o] : null);
  }
  getHighestUnacknowledgedBatchId() {
    return $.resolve(this.mutationQueue.length === 0 ? -1 : this.Sr - 1);
  }
  getAllMutationBatches(e) {
    return $.resolve(this.mutationQueue.slice());
  }
  getAllMutationBatchesAffectingDocumentKey(e, n) {
    let r = new wt(n, 0),
      i = new wt(n, Number.POSITIVE_INFINITY),
      o = [];
    return (
      this.br.forEachInRange([r, i], (s) => {
        let a = this.Dr(s.wr);
        o.push(a);
      }),
      $.resolve(o)
    );
  }
  getAllMutationBatchesAffectingDocumentKeys(e, n) {
    let r = new Qt(Fe);
    return (
      n.forEach((i) => {
        let o = new wt(i, 0),
          s = new wt(i, Number.POSITIVE_INFINITY);
        this.br.forEachInRange([o, s], (a) => {
          r = r.add(a.wr);
        });
      }),
      $.resolve(this.Cr(r))
    );
  }
  getAllMutationBatchesAffectingQuery(e, n) {
    let r = n.path,
      i = r.length + 1,
      o = r;
    ce.isDocumentKey(o) || (o = o.child(''));
    let s = new wt(new ce(o), 0),
      a = new Qt(Fe);
    return (
      this.br.forEachWhile((c) => {
        let u = c.key.path;
        return !!r.isPrefixOf(u) && (u.length === i && (a = a.add(c.wr)), !0);
      }, s),
      $.resolve(this.Cr(a))
    );
  }
  Cr(e) {
    let n = [];
    return (
      e.forEach((r) => {
        let i = this.Dr(r);
        i !== null && n.push(i);
      }),
      n
    );
  }
  removeMutationBatch(e, n) {
    (Ue(this.Fr(n.batchId, 'removed') === 0), this.mutationQueue.shift());
    let r = this.br;
    return $.forEach(n.mutations, (i) => {
      let o = new wt(i.key, n.batchId);
      return ((r = r.delete(o)), this.referenceDelegate.markPotentiallyOrphaned(e, i.key));
    }).next(() => {
      this.br = r;
    });
  }
  On(e) {}
  containsKey(e, n) {
    let r = new wt(n, 0),
      i = this.br.firstAfterOrEqual(r);
    return $.resolve(n.isEqual(i && i.key));
  }
  performConsistencyCheck(e) {
    return (this.mutationQueue.length, $.resolve());
  }
  Fr(e, n) {
    return this.vr(e);
  }
  vr(e) {
    return this.mutationQueue.length === 0 ? 0 : e - this.mutationQueue[0].batchId;
  }
  Dr(e) {
    let n = this.vr(e);
    return n < 0 || n >= this.mutationQueue.length ? null : this.mutationQueue[n];
  }
};
var W0 = class {
    constructor(e) {
      ((this.Mr = e),
        (this.docs = (function () {
          return new lt(ce.comparator);
        })()),
        (this.size = 0));
    }
    setIndexManager(e) {
      this.indexManager = e;
    }
    addEntry(e, n) {
      let r = n.key,
        i = this.docs.get(r),
        o = i ? i.size : 0,
        s = this.Mr(n);
      return (
        (this.docs = this.docs.insert(r, {
          document: n.mutableCopy(),
          size: s,
        })),
        (this.size += s - o),
        this.indexManager.addToCollectionParentIndex(e, r.path.popLast())
      );
    }
    removeEntry(e) {
      let n = this.docs.get(e);
      n && ((this.docs = this.docs.remove(e)), (this.size -= n.size));
    }
    getEntry(e, n) {
      let r = this.docs.get(n);
      return $.resolve(r ? r.document.mutableCopy() : vr.newInvalidDocument(n));
    }
    getEntries(e, n) {
      let r = Ii();
      return (
        n.forEach((i) => {
          let o = this.docs.get(i);
          r = r.insert(i, o ? o.document.mutableCopy() : vr.newInvalidDocument(i));
        }),
        $.resolve(r)
      );
    }
    getDocumentsMatchingQuery(e, n, r, i) {
      let o = Ii(),
        s = n.path,
        a = new ce(s.child('')),
        c = this.docs.getIteratorFrom(a);
      for (; c.hasNext(); ) {
        let {
          key: u,
          value: { document: d },
        } = c.getNext();
        if (!s.isPrefixOf(u.path)) break;
        u.path.length > s.length + 1 ||
          v9(g9(d), r) <= 0 ||
          ((i.has(d.key) || Dm(n, d)) && (o = o.insert(d.key, d.mutableCopy())));
      }
      return $.resolve(o);
    }
    getAllFromCollectionGroup(e, n, r, i) {
      fe();
    }
    Or(e, n) {
      return $.forEach(this.docs, (r) => n(r));
    }
    newChangeBuffer(e) {
      return new q0(this);
    }
    getSize(e) {
      return $.resolve(this.size);
    }
  },
  q0 = class extends L0 {
    constructor(e) {
      (super(), (this.cr = e));
    }
    applyChanges(e) {
      let n = [];
      return (
        this.changes.forEach((r, i) => {
          i.isValidDocument() ? n.push(this.cr.addEntry(e, i)) : this.cr.removeEntry(r);
        }),
        $.waitFor(n)
      );
    }
    getFromCache(e, n) {
      return this.cr.getEntry(e, n);
    }
    getAllFromCache(e, n) {
      return this.cr.getEntries(e, n);
    }
  };
var G0 = class {
  constructor(e) {
    ((this.persistence = e),
      (this.Nr = new go((n) => OI(n), FI)),
      (this.lastRemoteSnapshotVersion = _e.min()),
      (this.highestTargetId = 0),
      (this.Lr = 0),
      (this.Br = new _u()),
      (this.targetCount = 0),
      (this.kr = yu.Bn()));
  }
  forEachTarget(e, n) {
    return (this.Nr.forEach((r, i) => n(i)), $.resolve());
  }
  getLastRemoteSnapshotVersion(e) {
    return $.resolve(this.lastRemoteSnapshotVersion);
  }
  getHighestSequenceNumber(e) {
    return $.resolve(this.Lr);
  }
  allocateTargetId(e) {
    return ((this.highestTargetId = this.kr.next()), $.resolve(this.highestTargetId));
  }
  setTargetsMetadata(e, n, r) {
    return (r && (this.lastRemoteSnapshotVersion = r), n > this.Lr && (this.Lr = n), $.resolve());
  }
  Kn(e) {
    this.Nr.set(e.target, e);
    let n = e.targetId;
    (n > this.highestTargetId && ((this.kr = new yu(n)), (this.highestTargetId = n)),
      e.sequenceNumber > this.Lr && (this.Lr = e.sequenceNumber));
  }
  addTargetData(e, n) {
    return (this.Kn(n), (this.targetCount += 1), $.resolve());
  }
  updateTargetData(e, n) {
    return (this.Kn(n), $.resolve());
  }
  removeTargetData(e, n) {
    return (this.Nr.delete(n.target), this.Br.gr(n.targetId), (this.targetCount -= 1), $.resolve());
  }
  removeTargets(e, n, r) {
    let i = 0,
      o = [];
    return (
      this.Nr.forEach((s, a) => {
        a.sequenceNumber <= n &&
          r.get(a.targetId) === null &&
          (this.Nr.delete(s), o.push(this.removeMatchingKeysForTargetId(e, a.targetId)), i++);
      }),
      $.waitFor(o).next(() => i)
    );
  }
  getTargetCount(e) {
    return $.resolve(this.targetCount);
  }
  getTargetData(e, n) {
    let r = this.Nr.get(n) || null;
    return $.resolve(r);
  }
  addMatchingKeys(e, n, r) {
    return (this.Br.Rr(n, r), $.resolve());
  }
  removeMatchingKeys(e, n, r) {
    this.Br.mr(n, r);
    let i = this.persistence.referenceDelegate,
      o = [];
    return (
      i &&
        n.forEach((s) => {
          o.push(i.markPotentiallyOrphaned(e, s));
        }),
      $.waitFor(o)
    );
  }
  removeMatchingKeysForTargetId(e, n) {
    return (this.Br.gr(n), $.resolve());
  }
  getMatchingKeysForTargetId(e, n) {
    let r = this.Br.yr(n);
    return $.resolve(r);
  }
  containsKey(e, n) {
    return $.resolve(this.Br.containsKey(n));
  }
};
var K0 = class {
    constructor(e, n) {
      ((this.qr = {}),
        (this.overlays = {}),
        (this.Qr = new uP(0)),
        (this.Kr = !1),
        (this.Kr = !0),
        (this.$r = new $0()),
        (this.referenceDelegate = e(this)),
        (this.Ur = new G0(this)),
        (this.indexManager = new F0()),
        (this.remoteDocumentCache = (function (i) {
          return new W0(i);
        })((r) => this.referenceDelegate.Wr(r))),
        (this.serializer = new O0(n)),
        (this.Gr = new B0(this.serializer)));
    }
    start() {
      return Promise.resolve();
    }
    shutdown() {
      return ((this.Kr = !1), Promise.resolve());
    }
    get started() {
      return this.Kr;
    }
    setDatabaseDeletedListener() {}
    setNetworkEnabled() {}
    getIndexManager(e) {
      return this.indexManager;
    }
    getDocumentOverlayCache(e) {
      let n = this.overlays[e.toKey()];
      return (n || ((n = new H0()), (this.overlays[e.toKey()] = n)), n);
    }
    getMutationQueue(e, n) {
      let r = this.qr[e.toKey()];
      return (r || ((r = new z0(n, this.referenceDelegate)), (this.qr[e.toKey()] = r)), r);
    }
    getGlobalsCache() {
      return this.$r;
    }
    getTargetCache() {
      return this.Ur;
    }
    getRemoteDocumentCache() {
      return this.remoteDocumentCache;
    }
    getBundleCache() {
      return this.Gr;
    }
    runTransaction(e, n, r) {
      Y('MemoryPersistence', 'Starting transaction:', e);
      let i = new Y0(this.Qr.next());
      return (
        this.referenceDelegate.zr(),
        r(i)
          .next((o) => this.referenceDelegate.jr(i).next(() => o))
          .toPromise()
          .then((o) => (i.raiseOnCommittedEvent(), o))
      );
    }
    Hr(e, n) {
      return $.or(Object.values(this.qr).map((r) => () => r.containsKey(e, n)));
    }
  },
  Y0 = class extends a0 {
    constructor(e) {
      (super(), (this.currentSequenceNumber = e));
    }
  },
  Q0 = class t {
    constructor(e) {
      ((this.persistence = e), (this.Jr = new _u()), (this.Yr = null));
    }
    static Zr(e) {
      return new t(e);
    }
    get Xr() {
      if (this.Yr) return this.Yr;
      throw fe();
    }
    addReference(e, n, r) {
      return (this.Jr.addReference(r, n), this.Xr.delete(r.toString()), $.resolve());
    }
    removeReference(e, n, r) {
      return (this.Jr.removeReference(r, n), this.Xr.add(r.toString()), $.resolve());
    }
    markPotentiallyOrphaned(e, n) {
      return (this.Xr.add(n.toString()), $.resolve());
    }
    removeTarget(e, n) {
      this.Jr.gr(n.targetId).forEach((i) => this.Xr.add(i.toString()));
      let r = this.persistence.getTargetCache();
      return r
        .getMatchingKeysForTargetId(e, n.targetId)
        .next((i) => {
          i.forEach((o) => this.Xr.add(o.toString()));
        })
        .next(() => r.removeTargetData(e, n));
    }
    zr() {
      this.Yr = new Set();
    }
    jr(e) {
      let n = this.persistence.getRemoteDocumentCache().newChangeBuffer();
      return $.forEach(this.Xr, (r) => {
        let i = ce.fromPath(r);
        return this.ei(e, i).next((o) => {
          o || n.removeEntry(i, _e.min());
        });
      }).next(() => ((this.Yr = null), n.apply(e)));
    }
    updateLimboDocument(e, n) {
      return this.ei(e, n).next((r) => {
        r ? this.Xr.delete(n.toString()) : this.Xr.add(n.toString());
      });
    }
    Wr(e) {
      return 0;
    }
    ei(e, n) {
      return $.or([
        () => $.resolve(this.Jr.containsKey(n)),
        () => this.persistence.getTargetCache().containsKey(e, n),
        () => this.persistence.Hr(e, n),
      ]);
    }
  };
var X0 = class t {
  constructor(e, n, r, i) {
    ((this.targetId = e), (this.fromCache = n), (this.$i = r), (this.Ui = i));
  }
  static Wi(e, n) {
    let r = xe(),
      i = xe();
    for (let o of n.docChanges)
      switch (o.type) {
        case 0:
          r = r.add(o.doc.key);
          break;
        case 1:
          i = i.add(o.doc.key);
      }
    return new t(e, n.fromCache, r, i);
  }
};
var Z0 = class {
  constructor() {
    this._documentReadCount = 0;
  }
  get documentReadCount() {
    return this._documentReadCount;
  }
  incrementDocumentReadCount(e) {
    this._documentReadCount += e;
  }
};
var J0 = class {
  constructor() {
    ((this.Gi = !1),
      (this.zi = !1),
      (this.ji = 100),
      (this.Hi = (function () {
        return Vx() ? 8 : _9(Rt()) > 0 ? 6 : 4;
      })()));
  }
  initialize(e, n) {
    ((this.Ji = e), (this.indexManager = n), (this.Gi = !0));
  }
  getDocumentsMatchingQuery(e, n, r, i) {
    let o = { result: null };
    return this.Yi(e, n)
      .next((s) => {
        o.result = s;
      })
      .next(() => {
        if (!o.result)
          return this.Zi(e, n, i, r).next((s) => {
            o.result = s;
          });
      })
      .next(() => {
        if (o.result) return;
        let s = new Z0();
        return this.Xi(e, n, s).next((a) => {
          if (((o.result = a), this.zi)) return this.es(e, n, s, a.size);
        });
      })
      .next(() => o.result);
  }
  es(e, n, r, i) {
    return r.documentReadCount < this.ji
      ? (au() <= Me.DEBUG &&
          Y(
            'QueryEngine',
            'SDK will not create cache indexes for query:',
            ja(n),
            'since it only creates cache indexes for collection contains',
            'more than or equal to',
            this.ji,
            'documents'
          ),
        $.resolve())
      : (au() <= Me.DEBUG &&
          Y(
            'QueryEngine',
            'Query:',
            ja(n),
            'scans',
            r.documentReadCount,
            'local documents and returns',
            i,
            'documents as results.'
          ),
        r.documentReadCount > this.Hi * i
          ? (au() <= Me.DEBUG &&
              Y(
                'QueryEngine',
                'The SDK decides to create cache indexes for query:',
                ja(n),
                'as using cache indexes may help improve performance.'
              ),
            this.indexManager.createTargetIndexes(e, jr(n)))
          : $.resolve());
  }
  Yi(e, n) {
    if (Hk(n)) return $.resolve(null);
    let r = jr(n);
    return this.indexManager.getIndexType(e, r).next((i) =>
      i === 0
        ? null
        : (n.limit !== null && i === 1 && ((n = E0(n, null, 'F')), (r = jr(n))),
          this.indexManager.getDocumentsMatchingTarget(e, r).next((o) => {
            let s = xe(...o);
            return this.Ji.getDocuments(e, s).next((a) =>
              this.indexManager.getMinOffset(e, r).next((c) => {
                let u = this.ts(n, a);
                return this.ns(n, u, s, c.readTime)
                  ? this.Yi(e, E0(n, null, 'F'))
                  : this.rs(e, u, n, c);
              })
            );
          }))
    );
  }
  Zi(e, n, r, i) {
    return Hk(n) || i.isEqual(_e.min())
      ? $.resolve(null)
      : this.Ji.getDocuments(e, r).next((o) => {
          let s = this.ts(n, o);
          return this.ns(n, s, r, i)
            ? $.resolve(null)
            : (au() <= Me.DEBUG &&
                Y(
                  'QueryEngine',
                  'Re-using previous result from %s to execute query: %s',
                  i.toString(),
                  ja(n)
                ),
              this.rs(e, s, n, m9(i, -1)).next((a) => a));
        });
  }
  ts(e, n) {
    let r = new Qt(IP(e));
    return (
      n.forEach((i, o) => {
        Dm(e, o) && (r = r.add(o));
      }),
      r
    );
  }
  ns(e, n, r, i) {
    if (e.limit === null) return !1;
    if (r.size !== n.size) return !0;
    let o = e.limitType === 'F' ? n.last() : n.first();
    return !!o && (o.hasPendingWrites || o.version.compareTo(i) > 0);
  }
  Xi(e, n, r) {
    return (
      au() <= Me.DEBUG && Y('QueryEngine', 'Using full collection scan to execute query:', ja(n)),
      this.Ji.getDocumentsMatchingQuery(e, n, ms.min(), r)
    );
  }
  rs(e, n, r, i) {
    return this.Ji.getDocumentsMatchingQuery(e, r, i).next(
      (o) => (
        n.forEach((s) => {
          o = o.insert(s.key, s);
        }),
        o
      )
    );
  }
};
var eI = class {
  constructor(e, n, r, i) {
    ((this.persistence = e),
      (this.ss = n),
      (this.serializer = i),
      (this.os = new lt(Fe)),
      (this._s = new go((o) => OI(o), FI)),
      (this.us = new Map()),
      (this.cs = e.getRemoteDocumentCache()),
      (this.Ur = e.getTargetCache()),
      (this.Gr = e.getBundleCache()),
      this.ls(r));
  }
  ls(e) {
    ((this.documentOverlayCache = this.persistence.getDocumentOverlayCache(e)),
      (this.indexManager = this.persistence.getIndexManager(e)),
      (this.mutationQueue = this.persistence.getMutationQueue(e, this.indexManager)),
      (this.localDocuments = new U0(
        this.cs,
        this.mutationQueue,
        this.documentOverlayCache,
        this.indexManager
      )),
      this.cs.setIndexManager(this.indexManager),
      this.ss.initialize(this.localDocuments, this.indexManager));
  }
  collectGarbage(e) {
    return this.persistence.runTransaction('Collect garbage', 'readwrite-primary', (n) =>
      e.collect(n, this.os)
    );
  }
};
function u5(t, e, n, r) {
  return new eI(t, e, n, r);
}
function BP(t, e) {
  return C(this, null, function* () {
    let n = ge(t);
    return yield n.persistence.runTransaction('Handle user change', 'readonly', (r) => {
      let i;
      return n.mutationQueue
        .getAllMutationBatches(r)
        .next((o) => ((i = o), n.ls(e), n.mutationQueue.getAllMutationBatches(r)))
        .next((o) => {
          let s = [],
            a = [],
            c = xe();
          for (let u of i) {
            s.push(u.batchId);
            for (let d of u.mutations) c = c.add(d.key);
          }
          for (let u of o) {
            a.push(u.batchId);
            for (let d of u.mutations) c = c.add(d.key);
          }
          return n.localDocuments
            .getDocuments(r, c)
            .next((u) => ({ hs: u, removedBatchIds: s, addedBatchIds: a }));
        });
    });
  });
}
function d5(t, e) {
  let n = ge(t);
  return n.persistence.runTransaction('Acknowledge batch', 'readwrite-primary', (r) => {
    let i = e.batch.keys(),
      o = n.cs.newChangeBuffer({ trackRemovals: !0 });
    return (function (a, c, u, d) {
      let p = u.batch,
        v = p.keys(),
        m = $.resolve();
      return (
        v.forEach((D) => {
          m = m
            .next(() => d.getEntry(c, D))
            .next((M) => {
              let A = u.docVersions.get(D);
              (Ue(A !== null),
                M.version.compareTo(A) < 0 &&
                  (p.applyToRemoteDocument(M, u),
                  M.isValidDocument() && (M.setReadTime(u.commitVersion), d.addEntry(M))));
            });
        }),
        m.next(() => a.mutationQueue.removeMutationBatch(c, p))
      );
    })(n, r, e, o)
      .next(() => o.apply(r))
      .next(() => n.mutationQueue.performConsistencyCheck(r))
      .next(() => n.documentOverlayCache.removeOverlaysForBatchId(r, i, e.batch.batchId))
      .next(() =>
        n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(
          r,
          (function (a) {
            let c = xe();
            for (let u = 0; u < a.mutationResults.length; ++u)
              a.mutationResults[u].transformResults.length > 0 &&
                (c = c.add(a.batch.mutations[u].key));
            return c;
          })(e)
        )
      )
      .next(() => n.localDocuments.getDocuments(r, i));
  });
}
function HP(t) {
  let e = ge(t);
  return e.persistence.runTransaction('Get last remote snapshot version', 'readonly', (n) =>
    e.Ur.getLastRemoteSnapshotVersion(n)
  );
}
function h5(t, e) {
  let n = ge(t),
    r = e.snapshotVersion,
    i = n.os;
  return n.persistence
    .runTransaction('Apply remote event', 'readwrite-primary', (o) => {
      let s = n.cs.newChangeBuffer({ trackRemovals: !0 });
      i = n.os;
      let a = [];
      e.targetChanges.forEach((d, p) => {
        let v = i.get(p);
        if (!v) return;
        a.push(
          n.Ur.removeMatchingKeys(o, d.removedDocuments, p).next(() =>
            n.Ur.addMatchingKeys(o, d.addedDocuments, p)
          )
        );
        let m = v.withSequenceNumber(o.currentSequenceNumber);
        (e.targetMismatches.get(p) !== null
          ? (m = m
              .withResumeToken(Xt.EMPTY_BYTE_STRING, _e.min())
              .withLastLimboFreeSnapshotVersion(_e.min()))
          : d.resumeToken.approximateByteSize() > 0 && (m = m.withResumeToken(d.resumeToken, r)),
          (i = i.insert(p, m)),
          (function (M, A, N) {
            return M.resumeToken.approximateByteSize() === 0 ||
              A.snapshotVersion.toMicroseconds() - M.snapshotVersion.toMicroseconds() >= 3e8
              ? !0
              : N.addedDocuments.size + N.modifiedDocuments.size + N.removedDocuments.size > 0;
          })(v, m, d) && a.push(n.Ur.updateTargetData(o, m)));
      });
      let c = Ii(),
        u = xe();
      if (
        (e.documentUpdates.forEach((d) => {
          e.resolvedLimboDocuments.has(d) &&
            a.push(n.persistence.referenceDelegate.updateLimboDocument(o, d));
        }),
        a.push(
          f5(o, s, e.documentUpdates).next((d) => {
            ((c = d.Ps), (u = d.Is));
          })
        ),
        !r.isEqual(_e.min()))
      ) {
        let d = n.Ur.getLastRemoteSnapshotVersion(o).next((p) =>
          n.Ur.setTargetsMetadata(o, o.currentSequenceNumber, r)
        );
        a.push(d);
      }
      return $.waitFor(a)
        .next(() => s.apply(o))
        .next(() => n.localDocuments.getLocalViewOfDocuments(o, c, u))
        .next(() => c);
    })
    .then((o) => ((n.os = i), o));
}
function f5(t, e, n) {
  let r = xe(),
    i = xe();
  return (
    n.forEach((o) => (r = r.add(o))),
    e.getEntries(t, r).next((o) => {
      let s = Ii();
      return (
        n.forEach((a, c) => {
          let u = o.get(a);
          (c.isFoundDocument() !== u.isFoundDocument() && (i = i.add(a)),
            c.isNoDocument() && c.version.isEqual(_e.min())
              ? (e.removeEntry(a, c.readTime), (s = s.insert(a, c)))
              : !u.isValidDocument() ||
                  c.version.compareTo(u.version) > 0 ||
                  (c.version.compareTo(u.version) === 0 && u.hasPendingWrites)
                ? (e.addEntry(c), (s = s.insert(a, c)))
                : Y(
                    'LocalStore',
                    'Ignoring outdated watch update for ',
                    a,
                    '. Current version:',
                    u.version,
                    ' Watch version:',
                    c.version
                  ));
        }),
        { Ps: s, Is: i }
      );
    })
  );
}
function p5(t, e) {
  let n = ge(t);
  return n.persistence.runTransaction(
    'Get next mutation batch',
    'readonly',
    (r) => (e === void 0 && (e = -1), n.mutationQueue.getNextMutationBatchAfterBatchId(r, e))
  );
}
function m5(t, e) {
  let n = ge(t);
  return n.persistence
    .runTransaction('Allocate target', 'readwrite', (r) => {
      let i;
      return n.Ur.getTargetData(r, e).next((o) =>
        o
          ? ((i = o), $.resolve(i))
          : n.Ur.allocateTargetId(r).next(
              (s) => (
                (i = new vu(e, s, 'TargetPurposeListen', r.currentSequenceNumber)),
                n.Ur.addTargetData(r, i).next(() => i)
              )
            )
      );
    })
    .then((r) => {
      let i = n.os.get(r.targetId);
      return (
        (i === null || r.snapshotVersion.compareTo(i.snapshotVersion) > 0) &&
          ((n.os = n.os.insert(r.targetId, r)), n._s.set(e, r.targetId)),
        r
      );
    });
}
function tI(t, e, n) {
  return C(this, null, function* () {
    let r = ge(t),
      i = r.os.get(e),
      o = n ? 'readwrite' : 'readwrite-primary';
    try {
      n ||
        (yield r.persistence.runTransaction('Release target', o, (s) =>
          r.persistence.referenceDelegate.removeTarget(s, i)
        ));
    } catch (s) {
      if (!bu(s)) throw s;
      Y('LocalStore', `Failed to update sequence numbers for target ${e}: ${s}`);
    }
    ((r.os = r.os.remove(e)), r._s.delete(i.target));
  });
}
function Jk(t, e, n) {
  let r = ge(t),
    i = _e.min(),
    o = xe();
  return r.persistence.runTransaction('Execute query', 'readwrite', (s) =>
    (function (c, u, d) {
      let p = ge(c),
        v = p._s.get(d);
      return v !== void 0 ? $.resolve(p.os.get(v)) : p.Ur.getTargetData(u, d);
    })(r, s, jr(e))
      .next((a) => {
        if (a)
          return (
            (i = a.lastLimboFreeSnapshotVersion),
            r.Ur.getMatchingKeysForTargetId(s, a.targetId).next((c) => {
              o = c;
            })
          );
      })
      .next(() => r.ss.getDocumentsMatchingQuery(s, e, n ? i : _e.min(), n ? o : xe()))
      .next((a) => (g5(r, R9(e), a), { documents: a, Ts: o }))
  );
}
function g5(t, e, n) {
  let r = t.us.get(e) || _e.min();
  (n.forEach((i, o) => {
    o.readTime.compareTo(r) > 0 && (r = o.readTime);
  }),
    t.us.set(e, r));
}
var sm = class {
  constructor() {
    this.activeTargetIds = V9();
  }
  fs(e) {
    this.activeTargetIds = this.activeTargetIds.add(e);
  }
  gs(e) {
    this.activeTargetIds = this.activeTargetIds.delete(e);
  }
  Vs() {
    let e = {
      activeTargetIds: this.activeTargetIds.toArray(),
      updateTimeMs: Date.now(),
    };
    return JSON.stringify(e);
  }
};
var nI = class {
  constructor() {
    ((this.so = new sm()),
      (this.oo = {}),
      (this.onlineStateHandler = null),
      (this.sequenceNumberHandler = null));
  }
  addPendingMutation(e) {}
  updateMutationState(e, n, r) {}
  addLocalQueryTarget(e, n = !0) {
    return (n && this.so.fs(e), this.oo[e] || 'not-current');
  }
  updateQueryState(e, n, r) {
    this.oo[e] = n;
  }
  removeLocalQueryTarget(e) {
    this.so.gs(e);
  }
  isLocalQueryTarget(e) {
    return this.so.activeTargetIds.has(e);
  }
  clearQueryState(e) {
    delete this.oo[e];
  }
  getAllActiveQueryTargets() {
    return this.so.activeTargetIds;
  }
  isActiveQueryTarget(e) {
    return this.so.activeTargetIds.has(e);
  }
  start() {
    return ((this.so = new sm()), Promise.resolve());
  }
  handleUserChange(e, n, r) {}
  setOnlineState(e) {}
  shutdown() {}
  writeSequenceNumber(e) {}
  notifyBundleLoaded(e) {}
};
var rI = class {
  _o(e) {}
  shutdown() {}
};
var am = class {
  constructor() {
    ((this.ao = () => this.uo()), (this.co = () => this.lo()), (this.ho = []), this.Po());
  }
  _o(e) {
    this.ho.push(e);
  }
  shutdown() {
    (window.removeEventListener('online', this.ao), window.removeEventListener('offline', this.co));
  }
  Po() {
    (window.addEventListener('online', this.ao), window.addEventListener('offline', this.co));
  }
  uo() {
    Y('ConnectivityMonitor', 'Network connectivity changed: AVAILABLE');
    for (let e of this.ho) e(0);
  }
  lo() {
    Y('ConnectivityMonitor', 'Network connectivity changed: UNAVAILABLE');
    for (let e of this.ho) e(1);
  }
  static D() {
    return (
      typeof window < 'u' &&
      window.addEventListener !== void 0 &&
      window.removeEventListener !== void 0
    );
  }
};
var $p = null;
function QE() {
  return (
    $p === null
      ? ($p = (function () {
          return 268435456 + Math.round(2147483648 * Math.random());
        })())
      : $p++,
    '0x' + $p.toString(16)
  );
}
var v5 = {
  BatchGetDocuments: 'batchGet',
  Commit: 'commit',
  RunQuery: 'runQuery',
  RunAggregationQuery: 'runAggregationQuery',
};
var iI = class {
  constructor(e) {
    ((this.Io = e.Io), (this.To = e.To));
  }
  Eo(e) {
    this.Ao = e;
  }
  Ro(e) {
    this.Vo = e;
  }
  mo(e) {
    this.fo = e;
  }
  onMessage(e) {
    this.po = e;
  }
  close() {
    this.To();
  }
  send(e) {
    this.Io(e);
  }
  yo() {
    this.Ao();
  }
  wo() {
    this.Vo();
  }
  So(e) {
    this.fo(e);
  }
  bo(e) {
    this.po(e);
  }
};
var Yt = 'WebChannelConnection',
  oI = class extends class {
    constructor(n) {
      ((this.databaseInfo = n), (this.databaseId = n.databaseId));
      let r = n.ssl ? 'https' : 'http',
        i = encodeURIComponent(this.databaseId.projectId),
        o = encodeURIComponent(this.databaseId.database);
      ((this.Do = r + '://' + n.host),
        (this.vo = `projects/${i}/databases/${o}`),
        (this.Co =
          this.databaseId.database === '(default)'
            ? `project_id=${i}`
            : `project_id=${i}&database_id=${o}`));
    }
    get Fo() {
      return !1;
    }
    Mo(n, r, i, o, s) {
      let a = QE(),
        c = this.xo(n, r.toUriEncodedString());
      Y('RestConnection', `Sending RPC '${n}' ${a}:`, c, i);
      let u = {
        'google-cloud-resource-prefix': this.vo,
        'x-goog-request-params': this.Co,
      };
      return (
        this.Oo(u, o, s),
        this.No(n, c, u, i).then(
          (d) => (Y('RestConnection', `Received RPC '${n}' ${a}: `, d), d),
          (d) => {
            throw (
              qa(
                'RestConnection',
                `RPC '${n}' ${a} failed with error: `,
                d,
                'url: ',
                c,
                'request:',
                i
              ),
              d
            );
          }
        )
      );
    }
    Lo(n, r, i, o, s, a) {
      return this.Mo(n, r, i, o, s);
    }
    Oo(n, r, i) {
      ((n['X-Goog-Api-Client'] = (function () {
        return 'gl-js/ fire/' + ac;
      })()),
        (n['Content-Type'] = 'text/plain'),
        this.databaseInfo.appId && (n['X-Firebase-GMPID'] = this.databaseInfo.appId),
        r && r.headers.forEach((o, s) => (n[s] = o)),
        i && i.headers.forEach((o, s) => (n[s] = o)));
    }
    xo(n, r) {
      let i = v5[n];
      return `${this.Do}/v1/${r}:${i}`;
    }
    terminate() {}
  } {
    constructor(e) {
      (super(e),
        (this.forceLongPolling = e.forceLongPolling),
        (this.autoDetectLongPolling = e.autoDetectLongPolling),
        (this.useFetchStreams = e.useFetchStreams),
        (this.longPollingOptions = e.longPollingOptions));
    }
    No(e, n, r, i) {
      let o = QE();
      return new Promise((s, a) => {
        let c = new zE();
        (c.setWithCredentials(!0),
          c.listenOnce(WE.COMPLETE, () => {
            try {
              switch (c.getLastErrorCode()) {
                case su.NO_ERROR:
                  let d = c.getResponseJson();
                  (Y(Yt, `XHR for RPC '${e}' ${o} received:`, JSON.stringify(d)), s(d));
                  break;
                case su.TIMEOUT:
                  (Y(Yt, `RPC '${e}' ${o} timed out`),
                    a(new oe(j.DEADLINE_EXCEEDED, 'Request time out')));
                  break;
                case su.HTTP_ERROR:
                  let p = c.getStatus();
                  if (
                    (Y(
                      Yt,
                      `RPC '${e}' ${o} failed with status:`,
                      p,
                      'response text:',
                      c.getResponseText()
                    ),
                    p > 0)
                  ) {
                    let v = c.getResponseJson();
                    Array.isArray(v) && (v = v[0]);
                    let m = v?.error;
                    if (m && m.status && m.message) {
                      let D = (function (A) {
                        let N = A.toLowerCase().replace(/_/g, '-');
                        return Object.values(j).indexOf(N) >= 0 ? N : j.UNKNOWN;
                      })(m.status);
                      a(new oe(D, m.message));
                    } else a(new oe(j.UNKNOWN, 'Server responded with status ' + c.getStatus()));
                  } else a(new oe(j.UNAVAILABLE, 'Connection failed.'));
                  break;
                default:
                  fe();
              }
            } finally {
              Y(Yt, `RPC '${e}' ${o} completed.`);
            }
          }));
        let u = JSON.stringify(i);
        (Y(Yt, `RPC '${e}' ${o} sending request:`, i), c.send(n, 'POST', u, r, 15));
      });
    }
    Bo(e, n, r) {
      let i = QE(),
        o = [this.Do, '/', 'google.firestore.v1.Firestore', '/', e, '/channel'],
        s = KE(),
        a = GE(),
        c = {
          httpSessionIdParam: 'gsessionid',
          initMessageHeaders: {},
          messageUrlParams: {
            database: `projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`,
          },
          sendRawJson: !0,
          supportsCrossDomainXhr: !0,
          internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 },
          forceLongPolling: this.forceLongPolling,
          detectBufferingProxy: this.autoDetectLongPolling,
        },
        u = this.longPollingOptions.timeoutSeconds;
      (u !== void 0 && (c.longPollingTimeout = Math.round(1e3 * u)),
        this.useFetchStreams && (c.useFetchStreams = !0),
        this.Oo(c.initMessageHeaders, n, r),
        (c.encodeInitMessageHeaders = !0));
      let d = o.join('');
      Y(Yt, `Creating RPC '${e}' stream ${i}: ${d}`, c);
      let p = s.createWebChannel(d, c),
        v = !1,
        m = !1,
        D = new iI({
          Io: (A) => {
            m
              ? Y(Yt, `Not sending because RPC '${e}' stream ${i} is closed:`, A)
              : (v || (Y(Yt, `Opening RPC '${e}' stream ${i} transport.`), p.open(), (v = !0)),
                Y(Yt, `RPC '${e}' stream ${i} sending:`, A),
                p.send(A));
          },
          To: () => p.close(),
        }),
        M = (A, N, O) => {
          A.listen(N, (F) => {
            try {
              O(F);
            } catch (z) {
              setTimeout(() => {
                throw z;
              }, 0);
            }
          });
        };
      return (
        M(p, La.EventType.OPEN, () => {
          m || (Y(Yt, `RPC '${e}' stream ${i} transport opened.`), D.yo());
        }),
        M(p, La.EventType.CLOSE, () => {
          m || ((m = !0), Y(Yt, `RPC '${e}' stream ${i} transport closed`), D.So());
        }),
        M(p, La.EventType.ERROR, (A) => {
          m ||
            ((m = !0),
            qa(Yt, `RPC '${e}' stream ${i} transport errored:`, A),
            D.So(new oe(j.UNAVAILABLE, 'The operation could not be completed')));
        }),
        M(p, La.EventType.MESSAGE, (A) => {
          var N;
          if (!m) {
            let O = A.data[0];
            Ue(!!O);
            let F = O,
              z = F.error || ((N = F[0]) === null || N === void 0 ? void 0 : N.error);
            if (z) {
              Y(Yt, `RPC '${e}' stream ${i} received error:`, z);
              let Z = z.status,
                q = (function (_) {
                  let b = _t[_];
                  if (b !== void 0) return kP(b);
                })(Z),
                T = z.message;
              (q === void 0 &&
                ((q = j.INTERNAL),
                (T = 'Unknown error status: ' + Z + ' with message ' + z.message)),
                (m = !0),
                D.So(new oe(q, T)),
                p.close());
            } else (Y(Yt, `RPC '${e}' stream ${i} received:`, O), D.bo(O));
          }
        }),
        M(a, qE.STAT_EVENT, (A) => {
          A.stat === Bp.PROXY
            ? Y(Yt, `RPC '${e}' stream ${i} detected buffering proxy`)
            : A.stat === Bp.NOPROXY && Y(Yt, `RPC '${e}' stream ${i} detected no buffering proxy`);
        }),
        setTimeout(() => {
          D.wo();
        }, 0),
        D
      );
    }
  };
function XE() {
  return typeof document < 'u' ? document : null;
}
function Cm(t) {
  return new x0(t, !0);
}
var cm = class {
  constructor(e, n, r = 1e3, i = 1.5, o = 6e4) {
    ((this.ui = e),
      (this.timerId = n),
      (this.ko = r),
      (this.qo = i),
      (this.Qo = o),
      (this.Ko = 0),
      (this.$o = null),
      (this.Uo = Date.now()),
      this.reset());
  }
  reset() {
    this.Ko = 0;
  }
  Wo() {
    this.Ko = this.Qo;
  }
  Go(e) {
    this.cancel();
    let n = Math.floor(this.Ko + this.zo()),
      r = Math.max(0, Date.now() - this.Uo),
      i = Math.max(0, n - r);
    (i > 0 &&
      Y(
        'ExponentialBackoff',
        `Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`
      ),
      (this.$o = this.ui.enqueueAfterDelay(this.timerId, i, () => ((this.Uo = Date.now()), e()))),
      (this.Ko *= this.qo),
      this.Ko < this.ko && (this.Ko = this.ko),
      this.Ko > this.Qo && (this.Ko = this.Qo));
  }
  jo() {
    this.$o !== null && (this.$o.skipDelay(), (this.$o = null));
  }
  cancel() {
    this.$o !== null && (this.$o.cancel(), (this.$o = null));
  }
  zo() {
    return (Math.random() - 0.5) * this.Ko;
  }
};
var lm = class {
    constructor(e, n, r, i, o, s, a, c) {
      ((this.ui = e),
        (this.Ho = r),
        (this.Jo = i),
        (this.connection = o),
        (this.authCredentialsProvider = s),
        (this.appCheckCredentialsProvider = a),
        (this.listener = c),
        (this.state = 0),
        (this.Yo = 0),
        (this.Zo = null),
        (this.Xo = null),
        (this.stream = null),
        (this.e_ = 0),
        (this.t_ = new cm(e, n)));
    }
    n_() {
      return this.state === 1 || this.state === 5 || this.r_();
    }
    r_() {
      return this.state === 2 || this.state === 3;
    }
    start() {
      ((this.e_ = 0), this.state !== 4 ? this.auth() : this.i_());
    }
    stop() {
      return C(this, null, function* () {
        this.n_() && (yield this.close(0));
      });
    }
    s_() {
      ((this.state = 0), this.t_.reset());
    }
    o_() {
      this.r_() &&
        this.Zo === null &&
        (this.Zo = this.ui.enqueueAfterDelay(this.Ho, 6e4, () => this.__()));
    }
    a_(e) {
      (this.u_(), this.stream.send(e));
    }
    __() {
      return C(this, null, function* () {
        if (this.r_()) return this.close(0);
      });
    }
    u_() {
      this.Zo && (this.Zo.cancel(), (this.Zo = null));
    }
    c_() {
      this.Xo && (this.Xo.cancel(), (this.Xo = null));
    }
    close(e, n) {
      return C(this, null, function* () {
        (this.u_(),
          this.c_(),
          this.t_.cancel(),
          this.Yo++,
          e !== 4
            ? this.t_.reset()
            : n && n.code === j.RESOURCE_EXHAUSTED
              ? (wi(n.toString()),
                wi('Using maximum backoff delay to prevent overloading the backend.'),
                this.t_.Wo())
              : n &&
                n.code === j.UNAUTHENTICATED &&
                this.state !== 3 &&
                (this.authCredentialsProvider.invalidateToken(),
                this.appCheckCredentialsProvider.invalidateToken()),
          this.stream !== null && (this.l_(), this.stream.close(), (this.stream = null)),
          (this.state = e),
          yield this.listener.mo(n));
      });
    }
    l_() {}
    auth() {
      this.state = 1;
      let e = this.h_(this.Yo),
        n = this.Yo;
      Promise.all([
        this.authCredentialsProvider.getToken(),
        this.appCheckCredentialsProvider.getToken(),
      ]).then(
        ([r, i]) => {
          this.Yo === n && this.P_(r, i);
        },
        (r) => {
          e(() => {
            let i = new oe(j.UNKNOWN, 'Fetching auth token failed: ' + r.message);
            return this.I_(i);
          });
        }
      );
    }
    P_(e, n) {
      let r = this.h_(this.Yo);
      ((this.stream = this.T_(e, n)),
        this.stream.Eo(() => {
          r(() => this.listener.Eo());
        }),
        this.stream.Ro(() => {
          r(
            () => (
              (this.state = 2),
              (this.Xo = this.ui.enqueueAfterDelay(
                this.Jo,
                1e4,
                () => (this.r_() && (this.state = 3), Promise.resolve())
              )),
              this.listener.Ro()
            )
          );
        }),
        this.stream.mo((i) => {
          r(() => this.I_(i));
        }),
        this.stream.onMessage((i) => {
          r(() => (++this.e_ == 1 ? this.E_(i) : this.onNext(i)));
        }));
    }
    i_() {
      ((this.state = 5),
        this.t_.Go(() =>
          C(this, null, function* () {
            ((this.state = 0), this.start());
          })
        ));
    }
    I_(e) {
      return (
        Y('PersistentStream', `close with error: ${e}`),
        (this.stream = null),
        this.close(4, e)
      );
    }
    h_(e) {
      return (n) => {
        this.ui.enqueueAndForget(() =>
          this.Yo === e
            ? n()
            : (Y('PersistentStream', 'stream callback skipped by getCloseGuardedDispatcher.'),
              Promise.resolve())
        );
      };
    }
  },
  sI = class extends lm {
    constructor(e, n, r, i, o, s) {
      (super(
        e,
        'listen_stream_connection_backoff',
        'listen_stream_idle',
        'health_check_timeout',
        n,
        r,
        i,
        s
      ),
        (this.serializer = o));
    }
    T_(e, n) {
      return this.connection.Bo('Listen', e, n);
    }
    E_(e) {
      return this.onNext(e);
    }
    onNext(e) {
      this.t_.reset();
      let n = Z9(this.serializer, e),
        r = (function (o) {
          if (!('targetChange' in o)) return _e.min();
          let s = o.targetChange;
          return s.targetIds && s.targetIds.length
            ? _e.min()
            : s.readTime
              ? Ur(s.readTime)
              : _e.min();
        })(e);
      return this.listener.d_(n, r);
    }
    A_(e) {
      let n = {};
      ((n.database = P0(this.serializer)),
        (n.addTarget = (function (o, s) {
          let a,
            c = s.target;
          if (
            ((a = w0(c) ? { documents: t5(o, c) } : { query: n5(o, c)._t }),
            (a.targetId = s.targetId),
            s.resumeToken.approximateByteSize() > 0)
          ) {
            a.resumeToken = PP(o, s.resumeToken);
            let u = R0(o, s.expectedCount);
            u !== null && (a.expectedCount = u);
          } else if (s.snapshotVersion.compareTo(_e.min()) > 0) {
            a.readTime = im(o, s.snapshotVersion.toTimestamp());
            let u = R0(o, s.expectedCount);
            u !== null && (a.expectedCount = u);
          }
          return a;
        })(this.serializer, e)));
      let r = i5(this.serializer, e);
      (r && (n.labels = r), this.a_(n));
    }
    R_(e) {
      let n = {};
      ((n.database = P0(this.serializer)), (n.removeTarget = e), this.a_(n));
    }
  },
  aI = class extends lm {
    constructor(e, n, r, i, o, s) {
      (super(
        e,
        'write_stream_connection_backoff',
        'write_stream_idle',
        'health_check_timeout',
        n,
        r,
        i,
        s
      ),
        (this.serializer = o));
    }
    get V_() {
      return this.e_ > 0;
    }
    start() {
      ((this.lastStreamToken = void 0), super.start());
    }
    l_() {
      this.V_ && this.m_([]);
    }
    T_(e, n) {
      return this.connection.Bo('Write', e, n);
    }
    E_(e) {
      return (
        Ue(!!e.streamToken),
        (this.lastStreamToken = e.streamToken),
        Ue(!e.writeResults || e.writeResults.length === 0),
        this.listener.f_()
      );
    }
    onNext(e) {
      (Ue(!!e.streamToken), (this.lastStreamToken = e.streamToken), this.t_.reset());
      let n = e5(e.writeResults, e.commitTime),
        r = Ur(e.commitTime);
      return this.listener.g_(r, n);
    }
    p_() {
      let e = {};
      ((e.database = P0(this.serializer)), this.a_(e));
    }
    m_(e) {
      let n = {
        streamToken: this.lastStreamToken,
        writes: e.map((r) => J9(this.serializer, r)),
      };
      this.a_(n);
    }
  };
var cI = class extends class {} {
    constructor(e, n, r, i) {
      (super(),
        (this.authCredentials = e),
        (this.appCheckCredentials = n),
        (this.connection = r),
        (this.serializer = i),
        (this.y_ = !1));
    }
    w_() {
      if (this.y_) throw new oe(j.FAILED_PRECONDITION, 'The client has already been terminated.');
    }
    Mo(e, n, r, i) {
      return (
        this.w_(),
        Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()])
          .then(([o, s]) => this.connection.Mo(e, N0(n, r), i, o, s))
          .catch((o) => {
            throw o.name === 'FirebaseError'
              ? (o.code === j.UNAUTHENTICATED &&
                  (this.authCredentials.invalidateToken(),
                  this.appCheckCredentials.invalidateToken()),
                o)
              : new oe(j.UNKNOWN, o.toString());
          })
      );
    }
    Lo(e, n, r, i, o) {
      return (
        this.w_(),
        Promise.all([this.authCredentials.getToken(), this.appCheckCredentials.getToken()])
          .then(([s, a]) => this.connection.Lo(e, N0(n, r), i, s, a, o))
          .catch((s) => {
            throw s.name === 'FirebaseError'
              ? (s.code === j.UNAUTHENTICATED &&
                  (this.authCredentials.invalidateToken(),
                  this.appCheckCredentials.invalidateToken()),
                s)
              : new oe(j.UNKNOWN, s.toString());
          })
      );
    }
    terminate() {
      ((this.y_ = !0), this.connection.terminate());
    }
  },
  lI = class {
    constructor(e, n) {
      ((this.asyncQueue = e),
        (this.onlineStateHandler = n),
        (this.state = 'Unknown'),
        (this.S_ = 0),
        (this.b_ = null),
        (this.D_ = !0));
    }
    v_() {
      this.S_ === 0 &&
        (this.C_('Unknown'),
        (this.b_ = this.asyncQueue.enqueueAfterDelay(
          'online_state_timeout',
          1e4,
          () => (
            (this.b_ = null),
            this.F_("Backend didn't respond within 10 seconds."),
            this.C_('Offline'),
            Promise.resolve()
          )
        )));
    }
    M_(e) {
      this.state === 'Online'
        ? this.C_('Unknown')
        : (this.S_++,
          this.S_ >= 1 &&
            (this.x_(),
            this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),
            this.C_('Offline')));
    }
    set(e) {
      (this.x_(), (this.S_ = 0), e === 'Online' && (this.D_ = !1), this.C_(e));
    }
    C_(e) {
      e !== this.state && ((this.state = e), this.onlineStateHandler(e));
    }
    F_(e) {
      let n = `Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;
      this.D_ ? (wi(n), (this.D_ = !1)) : Y('OnlineStateTracker', n);
    }
    x_() {
      this.b_ !== null && (this.b_.cancel(), (this.b_ = null));
    }
  };
var uI = class {
  constructor(e, n, r, i, o) {
    ((this.localStore = e),
      (this.datastore = n),
      (this.asyncQueue = r),
      (this.remoteSyncer = {}),
      (this.O_ = []),
      (this.N_ = new Map()),
      (this.L_ = new Set()),
      (this.B_ = []),
      (this.k_ = o),
      this.k_._o((s) => {
        r.enqueueAndForget(() =>
          C(this, null, function* () {
            ws(this) &&
              (Y('RemoteStore', 'Restarting streams for network reachability change.'),
              yield (function (c) {
                return C(this, null, function* () {
                  let u = ge(c);
                  (u.L_.add(4), yield Tu(u), u.q_.set('Unknown'), u.L_.delete(4), yield bm(u));
                });
              })(this));
          })
        );
      }),
      (this.q_ = new lI(r, i)));
  }
};
function bm(t) {
  return C(this, null, function* () {
    if (ws(t)) for (let e of t.B_) yield e(!0);
  });
}
function Tu(t) {
  return C(this, null, function* () {
    for (let e of t.B_) yield e(!1);
  });
}
function $P(t, e) {
  let n = ge(t);
  n.N_.has(e.targetId) || (n.N_.set(e.targetId, e), HI(n) ? BI(n) : lc(n).r_() && UI(n, e));
}
function jI(t, e) {
  let n = ge(t),
    r = lc(n);
  (n.N_.delete(e),
    r.r_() && zP(n, e),
    n.N_.size === 0 && (r.r_() ? r.o_() : ws(n) && n.q_.set('Unknown')));
}
function UI(t, e) {
  if (
    (t.Q_.xe(e.targetId),
    e.resumeToken.approximateByteSize() > 0 || e.snapshotVersion.compareTo(_e.min()) > 0)
  ) {
    let n = t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;
    e = e.withExpectedCount(n);
  }
  lc(t).A_(e);
}
function zP(t, e) {
  (t.Q_.xe(e), lc(t).R_(e));
}
function BI(t) {
  ((t.Q_ = new M0({
    getRemoteKeysForTarget: (e) => t.remoteSyncer.getRemoteKeysForTarget(e),
    ot: (e) => t.N_.get(e) || null,
    tt: () => t.datastore.serializer.databaseId,
  })),
    lc(t).start(),
    t.q_.v_());
}
function HI(t) {
  return ws(t) && !lc(t).n_() && t.N_.size > 0;
}
function ws(t) {
  return ge(t).L_.size === 0;
}
function WP(t) {
  t.Q_ = void 0;
}
function y5(t) {
  return C(this, null, function* () {
    t.q_.set('Online');
  });
}
function _5(t) {
  return C(this, null, function* () {
    t.N_.forEach((e, n) => {
      UI(t, e);
    });
  });
}
function w5(t, e) {
  return C(this, null, function* () {
    (WP(t), HI(t) ? (t.q_.M_(e), BI(t)) : t.q_.set('Unknown'));
  });
}
function E5(t, e, n) {
  return C(this, null, function* () {
    if ((t.q_.set('Online'), e instanceof nm && e.state === 2 && e.cause))
      try {
        yield (function (i, o) {
          return C(this, null, function* () {
            let s = o.cause;
            for (let a of o.targetIds)
              i.N_.has(a) &&
                (yield i.remoteSyncer.rejectListen(a, s), i.N_.delete(a), i.Q_.removeTarget(a));
          });
        })(t, e);
      } catch (r) {
        (Y('RemoteStore', 'Failed to remove targets %s: %s ', e.targetIds.join(','), r),
          yield um(t, r));
      }
    else if (
      (e instanceof za ? t.Q_.Ke(e) : e instanceof tm ? t.Q_.He(e) : t.Q_.We(e),
      !n.isEqual(_e.min()))
    )
      try {
        let r = yield HP(t.localStore);
        n.compareTo(r) >= 0 &&
          (yield (function (o, s) {
            let a = o.Q_.rt(s);
            return (
              a.targetChanges.forEach((c, u) => {
                if (c.resumeToken.approximateByteSize() > 0) {
                  let d = o.N_.get(u);
                  d && o.N_.set(u, d.withResumeToken(c.resumeToken, s));
                }
              }),
              a.targetMismatches.forEach((c, u) => {
                let d = o.N_.get(c);
                if (!d) return;
                (o.N_.set(c, d.withResumeToken(Xt.EMPTY_BYTE_STRING, d.snapshotVersion)), zP(o, c));
                let p = new vu(d.target, c, u, d.sequenceNumber);
                UI(o, p);
              }),
              o.remoteSyncer.applyRemoteEvent(a)
            );
          })(t, n));
      } catch (r) {
        (Y('RemoteStore', 'Failed to raise snapshot:', r), yield um(t, r));
      }
  });
}
function um(t, e, n) {
  return C(this, null, function* () {
    if (!bu(e)) throw e;
    (t.L_.add(1),
      yield Tu(t),
      t.q_.set('Offline'),
      n || (n = () => HP(t.localStore)),
      t.asyncQueue.enqueueRetryable(() =>
        C(this, null, function* () {
          (Y('RemoteStore', 'Retrying IndexedDB access'), yield n(), t.L_.delete(1), yield bm(t));
        })
      ));
  });
}
function qP(t, e) {
  return e().catch((n) => um(t, n, e));
}
function Tm(t) {
  return C(this, null, function* () {
    let e = ge(t),
      n = vo(e),
      r = e.O_.length > 0 ? e.O_[e.O_.length - 1].batchId : -1;
    for (; I5(e); )
      try {
        let i = yield p5(e.localStore, r);
        if (i === null) {
          e.O_.length === 0 && n.o_();
          break;
        }
        ((r = i.batchId), D5(e, i));
      } catch (i) {
        yield um(e, i);
      }
    GP(e) && KP(e);
  });
}
function I5(t) {
  return ws(t) && t.O_.length < 10;
}
function D5(t, e) {
  t.O_.push(e);
  let n = vo(t);
  n.r_() && n.V_ && n.m_(e.mutations);
}
function GP(t) {
  return ws(t) && !vo(t).n_() && t.O_.length > 0;
}
function KP(t) {
  vo(t).start();
}
function C5(t) {
  return C(this, null, function* () {
    vo(t).p_();
  });
}
function b5(t) {
  return C(this, null, function* () {
    let e = vo(t);
    for (let n of t.O_) e.m_(n.mutations);
  });
}
function T5(t, e, n) {
  return C(this, null, function* () {
    let r = t.O_.shift(),
      i = b0.from(r, e, n);
    (yield qP(t, () => t.remoteSyncer.applySuccessfulWrite(i)), yield Tm(t));
  });
}
function S5(t, e) {
  return C(this, null, function* () {
    (e &&
      vo(t).V_ &&
      (yield (function (r, i) {
        return C(this, null, function* () {
          if (
            (function (s) {
              return z9(s) && s !== j.ABORTED;
            })(i.code)
          ) {
            let o = r.O_.shift();
            (vo(r).s_(),
              yield qP(r, () => r.remoteSyncer.rejectFailedWrite(o.batchId, i)),
              yield Tm(r));
          }
        });
      })(t, e)),
      GP(t) && KP(t));
  });
}
function eP(t, e) {
  return C(this, null, function* () {
    let n = ge(t);
    (n.asyncQueue.verifyOperationInProgress(),
      Y('RemoteStore', 'RemoteStore received new credentials'));
    let r = ws(n);
    (n.L_.add(3),
      yield Tu(n),
      r && n.q_.set('Unknown'),
      yield n.remoteSyncer.handleCredentialChange(e),
      n.L_.delete(3),
      yield bm(n));
  });
}
function A5(t, e) {
  return C(this, null, function* () {
    let n = ge(t);
    e ? (n.L_.delete(2), yield bm(n)) : e || (n.L_.add(2), yield Tu(n), n.q_.set('Unknown'));
  });
}
function lc(t) {
  return (
    t.K_ ||
      ((t.K_ = (function (n, r, i) {
        let o = ge(n);
        return (
          o.w_(),
          new sI(r, o.connection, o.authCredentials, o.appCheckCredentials, o.serializer, i)
        );
      })(t.datastore, t.asyncQueue, {
        Eo: y5.bind(null, t),
        Ro: _5.bind(null, t),
        mo: w5.bind(null, t),
        d_: E5.bind(null, t),
      })),
      t.B_.push((e) =>
        C(this, null, function* () {
          e ? (t.K_.s_(), HI(t) ? BI(t) : t.q_.set('Unknown')) : (yield t.K_.stop(), WP(t));
        })
      )),
    t.K_
  );
}
function vo(t) {
  return (
    t.U_ ||
      ((t.U_ = (function (n, r, i) {
        let o = ge(n);
        return (
          o.w_(),
          new aI(r, o.connection, o.authCredentials, o.appCheckCredentials, o.serializer, i)
        );
      })(t.datastore, t.asyncQueue, {
        Eo: () => Promise.resolve(),
        Ro: C5.bind(null, t),
        mo: S5.bind(null, t),
        f_: b5.bind(null, t),
        g_: T5.bind(null, t),
      })),
      t.B_.push((e) =>
        C(this, null, function* () {
          e
            ? (t.U_.s_(), yield Tm(t))
            : (yield t.U_.stop(),
              t.O_.length > 0 &&
                (Y('RemoteStore', `Stopping write stream with ${t.O_.length} pending writes`),
                (t.O_ = [])));
        })
      )),
    t.U_
  );
}
var dI = class t {
  constructor(e, n, r, i, o) {
    ((this.asyncQueue = e),
      (this.timerId = n),
      (this.targetTimeMs = r),
      (this.op = i),
      (this.removalCallback = o),
      (this.deferred = new Vr()),
      (this.then = this.deferred.promise.then.bind(this.deferred.promise)),
      this.deferred.promise.catch((s) => {}));
  }
  get promise() {
    return this.deferred.promise;
  }
  static createAndSchedule(e, n, r, i, o) {
    let s = Date.now() + r,
      a = new t(e, n, s, i, o);
    return (a.start(r), a);
  }
  start(e) {
    this.timerHandle = setTimeout(() => this.handleDelayElapsed(), e);
  }
  skipDelay() {
    return this.handleDelayElapsed();
  }
  cancel(e) {
    this.timerHandle !== null &&
      (this.clearTimeout(),
      this.deferred.reject(new oe(j.CANCELLED, 'Operation cancelled' + (e ? ': ' + e : ''))));
  }
  handleDelayElapsed() {
    this.asyncQueue.enqueueAndForget(() =>
      this.timerHandle !== null
        ? (this.clearTimeout(), this.op().then((e) => this.deferred.resolve(e)))
        : Promise.resolve()
    );
  }
  clearTimeout() {
    this.timerHandle !== null &&
      (this.removalCallback(this), clearTimeout(this.timerHandle), (this.timerHandle = null));
  }
};
function $I(t, e) {
  if ((wi('AsyncQueue', `${e}: ${t}`), bu(t))) return new oe(j.UNAVAILABLE, `${e}: ${t}`);
  throw t;
}
var dm = class t {
  constructor(e) {
    ((this.comparator = e
      ? (n, r) => e(n, r) || ce.comparator(n.key, r.key)
      : (n, r) => ce.comparator(n.key, r.key)),
      (this.keyedMap = cu()),
      (this.sortedSet = new lt(this.comparator)));
  }
  static emptySet(e) {
    return new t(e.comparator);
  }
  has(e) {
    return this.keyedMap.get(e) != null;
  }
  get(e) {
    return this.keyedMap.get(e);
  }
  first() {
    return this.sortedSet.minKey();
  }
  last() {
    return this.sortedSet.maxKey();
  }
  isEmpty() {
    return this.sortedSet.isEmpty();
  }
  indexOf(e) {
    let n = this.keyedMap.get(e);
    return n ? this.sortedSet.indexOf(n) : -1;
  }
  get size() {
    return this.sortedSet.size;
  }
  forEach(e) {
    this.sortedSet.inorderTraversal((n, r) => (e(n), !1));
  }
  add(e) {
    let n = this.delete(e.key);
    return n.copy(n.keyedMap.insert(e.key, e), n.sortedSet.insert(e, null));
  }
  delete(e) {
    let n = this.get(e);
    return n ? this.copy(this.keyedMap.remove(e), this.sortedSet.remove(n)) : this;
  }
  isEqual(e) {
    if (!(e instanceof t) || this.size !== e.size) return !1;
    let n = this.sortedSet.getIterator(),
      r = e.sortedSet.getIterator();
    for (; n.hasNext(); ) {
      let i = n.getNext().key,
        o = r.getNext().key;
      if (!i.isEqual(o)) return !1;
    }
    return !0;
  }
  toString() {
    let e = [];
    return (
      this.forEach((n) => {
        e.push(n.toString());
      }),
      e.length === 0
        ? 'DocumentSet ()'
        : `DocumentSet (
  ` +
          e.join(`  
`) +
          `
)`
    );
  }
  copy(e, n) {
    let r = new t();
    return ((r.comparator = this.comparator), (r.keyedMap = e), (r.sortedSet = n), r);
  }
};
var hm = class {
    constructor() {
      this.W_ = new lt(ce.comparator);
    }
    track(e) {
      let n = e.doc.key,
        r = this.W_.get(n);
      r
        ? e.type !== 0 && r.type === 3
          ? (this.W_ = this.W_.insert(n, e))
          : e.type === 3 && r.type !== 1
            ? (this.W_ = this.W_.insert(n, { type: r.type, doc: e.doc }))
            : e.type === 2 && r.type === 2
              ? (this.W_ = this.W_.insert(n, { type: 2, doc: e.doc }))
              : e.type === 2 && r.type === 0
                ? (this.W_ = this.W_.insert(n, { type: 0, doc: e.doc }))
                : e.type === 1 && r.type === 0
                  ? (this.W_ = this.W_.remove(n))
                  : e.type === 1 && r.type === 2
                    ? (this.W_ = this.W_.insert(n, { type: 1, doc: r.doc }))
                    : e.type === 0 && r.type === 1
                      ? (this.W_ = this.W_.insert(n, { type: 2, doc: e.doc }))
                      : fe()
        : (this.W_ = this.W_.insert(n, e));
    }
    G_() {
      let e = [];
      return (
        this.W_.inorderTraversal((n, r) => {
          e.push(r);
        }),
        e
      );
    }
  },
  rc = class t {
    constructor(e, n, r, i, o, s, a, c, u) {
      ((this.query = e),
        (this.docs = n),
        (this.oldDocs = r),
        (this.docChanges = i),
        (this.mutatedKeys = o),
        (this.fromCache = s),
        (this.syncStateChanged = a),
        (this.excludesMetadataChanges = c),
        (this.hasCachedResults = u));
    }
    static fromInitialDocuments(e, n, r, i, o) {
      let s = [];
      return (
        n.forEach((a) => {
          s.push({ type: 0, doc: a });
        }),
        new t(e, n, dm.emptySet(n), s, r, i, !0, !1, o)
      );
    }
    get hasPendingWrites() {
      return !this.mutatedKeys.isEmpty();
    }
    isEqual(e) {
      if (
        !(
          this.fromCache === e.fromCache &&
          this.hasCachedResults === e.hasCachedResults &&
          this.syncStateChanged === e.syncStateChanged &&
          this.mutatedKeys.isEqual(e.mutatedKeys) &&
          Im(this.query, e.query) &&
          this.docs.isEqual(e.docs) &&
          this.oldDocs.isEqual(e.oldDocs)
        )
      )
        return !1;
      let n = this.docChanges,
        r = e.docChanges;
      if (n.length !== r.length) return !1;
      for (let i = 0; i < n.length; i++)
        if (n[i].type !== r[i].type || !n[i].doc.isEqual(r[i].doc)) return !1;
      return !0;
    }
  };
var hI = class {
    constructor() {
      ((this.z_ = void 0), (this.j_ = []));
    }
    H_() {
      return this.j_.some((e) => e.J_());
    }
  },
  fI = class {
    constructor() {
      ((this.queries = tP()), (this.onlineState = 'Unknown'), (this.Y_ = new Set()));
    }
    terminate() {
      (function (n, r) {
        let i = ge(n),
          o = i.queries;
        ((i.queries = tP()),
          o.forEach((s, a) => {
            for (let c of a.j_) c.onError(r);
          }));
      })(this, new oe(j.ABORTED, 'Firestore shutting down'));
    }
  };
function tP() {
  return new go((t) => EP(t), Im);
}
function M5(t, e) {
  return C(this, null, function* () {
    let n = ge(t),
      r = 3,
      i = e.query,
      o = n.queries.get(i);
    o ? !o.H_() && e.J_() && (r = 2) : ((o = new hI()), (r = e.J_() ? 0 : 1));
    try {
      switch (r) {
        case 0:
          o.z_ = yield n.onListen(i, !0);
          break;
        case 1:
          o.z_ = yield n.onListen(i, !1);
          break;
        case 2:
          yield n.onFirstRemoteStoreListen(i);
      }
    } catch (s) {
      let a = $I(s, `Initialization of query '${ja(e.query)}' failed`);
      return void e.onError(a);
    }
    (n.queries.set(i, o), o.j_.push(e), e.Z_(n.onlineState), o.z_ && e.X_(o.z_) && zI(n));
  });
}
function x5(t, e) {
  return C(this, null, function* () {
    let n = ge(t),
      r = e.query,
      i = 3,
      o = n.queries.get(r);
    if (o) {
      let s = o.j_.indexOf(e);
      s >= 0 &&
        (o.j_.splice(s, 1),
        o.j_.length === 0 ? (i = e.J_() ? 0 : 1) : !o.H_() && e.J_() && (i = 2));
    }
    switch (i) {
      case 0:
        return (n.queries.delete(r), n.onUnlisten(r, !0));
      case 1:
        return (n.queries.delete(r), n.onUnlisten(r, !1));
      case 2:
        return n.onLastRemoteStoreUnlisten(r);
      default:
        return;
    }
  });
}
function R5(t, e) {
  let n = ge(t),
    r = !1;
  for (let i of e) {
    let o = i.query,
      s = n.queries.get(o);
    if (s) {
      for (let a of s.j_) a.X_(i) && (r = !0);
      s.z_ = i;
    }
  }
  r && zI(n);
}
function N5(t, e, n) {
  let r = ge(t),
    i = r.queries.get(e);
  if (i) for (let o of i.j_) o.onError(n);
  r.queries.delete(e);
}
function zI(t) {
  t.Y_.forEach((e) => {
    e.next();
  });
}
var pI, nP;
(((nP = pI || (pI = {})).ea = 'default'), (nP.Cache = 'cache'));
var mI = class {
  constructor(e, n, r) {
    ((this.query = e),
      (this.ta = n),
      (this.na = !1),
      (this.ra = null),
      (this.onlineState = 'Unknown'),
      (this.options = r || {}));
  }
  X_(e) {
    if (!this.options.includeMetadataChanges) {
      let r = [];
      for (let i of e.docChanges) i.type !== 3 && r.push(i);
      e = new rc(
        e.query,
        e.docs,
        e.oldDocs,
        r,
        e.mutatedKeys,
        e.fromCache,
        e.syncStateChanged,
        !0,
        e.hasCachedResults
      );
    }
    let n = !1;
    return (
      this.na
        ? this.ia(e) && (this.ta.next(e), (n = !0))
        : this.sa(e, this.onlineState) && (this.oa(e), (n = !0)),
      (this.ra = e),
      n
    );
  }
  onError(e) {
    this.ta.error(e);
  }
  Z_(e) {
    this.onlineState = e;
    let n = !1;
    return (this.ra && !this.na && this.sa(this.ra, e) && (this.oa(this.ra), (n = !0)), n);
  }
  sa(e, n) {
    if (!e.fromCache || !this.J_()) return !0;
    let r = n !== 'Offline';
    return (!this.options._a || !r) && (!e.docs.isEmpty() || e.hasCachedResults || n === 'Offline');
  }
  ia(e) {
    if (e.docChanges.length > 0) return !0;
    let n = this.ra && this.ra.hasPendingWrites !== e.hasPendingWrites;
    return !(!e.syncStateChanged && !n) && this.options.includeMetadataChanges === !0;
  }
  oa(e) {
    ((e = rc.fromInitialDocuments(e.query, e.docs, e.mutatedKeys, e.fromCache, e.hasCachedResults)),
      (this.na = !0),
      this.ta.next(e));
  }
  J_() {
    return this.options.source !== pI.Cache;
  }
};
var fm = class {
    constructor(e) {
      this.key = e;
    }
  },
  pm = class {
    constructor(e) {
      this.key = e;
    }
  },
  gI = class {
    constructor(e, n) {
      ((this.query = e),
        (this.Ta = n),
        (this.Ea = null),
        (this.hasCachedResults = !1),
        (this.current = !1),
        (this.da = xe()),
        (this.mutatedKeys = xe()),
        (this.Aa = IP(e)),
        (this.Ra = new dm(this.Aa)));
    }
    get Va() {
      return this.Ta;
    }
    ma(e, n) {
      let r = n ? n.fa : new hm(),
        i = n ? n.Ra : this.Ra,
        o = n ? n.mutatedKeys : this.mutatedKeys,
        s = i,
        a = !1,
        c = this.query.limitType === 'F' && i.size === this.query.limit ? i.last() : null,
        u = this.query.limitType === 'L' && i.size === this.query.limit ? i.first() : null;
      if (
        (e.inorderTraversal((d, p) => {
          let v = i.get(d),
            m = Dm(this.query, p) ? p : null,
            D = !!v && this.mutatedKeys.has(v.key),
            M =
              !!m &&
              (m.hasLocalMutations || (this.mutatedKeys.has(m.key) && m.hasCommittedMutations)),
            A = !1;
          (v && m
            ? v.data.isEqual(m.data)
              ? D !== M && (r.track({ type: 3, doc: m }), (A = !0))
              : this.ga(v, m) ||
                (r.track({ type: 2, doc: m }),
                (A = !0),
                ((c && this.Aa(m, c) > 0) || (u && this.Aa(m, u) < 0)) && (a = !0))
            : !v && m
              ? (r.track({ type: 0, doc: m }), (A = !0))
              : v && !m && (r.track({ type: 1, doc: v }), (A = !0), (c || u) && (a = !0)),
            A &&
              (m
                ? ((s = s.add(m)), (o = M ? o.add(d) : o.delete(d)))
                : ((s = s.delete(d)), (o = o.delete(d)))));
        }),
        this.query.limit !== null)
      )
        for (; s.size > this.query.limit; ) {
          let d = this.query.limitType === 'F' ? s.last() : s.first();
          ((s = s.delete(d.key)), (o = o.delete(d.key)), r.track({ type: 1, doc: d }));
        }
      return { Ra: s, fa: r, ns: a, mutatedKeys: o };
    }
    ga(e, n) {
      return e.hasLocalMutations && n.hasCommittedMutations && !n.hasLocalMutations;
    }
    applyChanges(e, n, r, i) {
      let o = this.Ra;
      ((this.Ra = e.Ra), (this.mutatedKeys = e.mutatedKeys));
      let s = e.fa.G_();
      (s.sort(
        (d, p) =>
          (function (m, D) {
            let M = (A) => {
              switch (A) {
                case 0:
                  return 1;
                case 2:
                case 3:
                  return 2;
                case 1:
                  return 0;
                default:
                  return fe();
              }
            };
            return M(m) - M(D);
          })(d.type, p.type) || this.Aa(d.doc, p.doc)
      ),
        this.pa(r),
        (i = i != null && i));
      let a = n && !i ? this.ya() : [],
        c = this.da.size === 0 && this.current && !i ? 1 : 0,
        u = c !== this.Ea;
      return (
        (this.Ea = c),
        s.length !== 0 || u
          ? {
              snapshot: new rc(
                this.query,
                e.Ra,
                o,
                s,
                e.mutatedKeys,
                c === 0,
                u,
                !1,
                !!r && r.resumeToken.approximateByteSize() > 0
              ),
              wa: a,
            }
          : { wa: a }
      );
    }
    Z_(e) {
      return this.current && e === 'Offline'
        ? ((this.current = !1),
          this.applyChanges(
            {
              Ra: this.Ra,
              fa: new hm(),
              mutatedKeys: this.mutatedKeys,
              ns: !1,
            },
            !1
          ))
        : { wa: [] };
    }
    Sa(e) {
      return !this.Ta.has(e) && !!this.Ra.has(e) && !this.Ra.get(e).hasLocalMutations;
    }
    pa(e) {
      e &&
        (e.addedDocuments.forEach((n) => (this.Ta = this.Ta.add(n))),
        e.modifiedDocuments.forEach((n) => {}),
        e.removedDocuments.forEach((n) => (this.Ta = this.Ta.delete(n))),
        (this.current = e.current));
    }
    ya() {
      if (!this.current) return [];
      let e = this.da;
      ((this.da = xe()),
        this.Ra.forEach((r) => {
          this.Sa(r.key) && (this.da = this.da.add(r.key));
        }));
      let n = [];
      return (
        e.forEach((r) => {
          this.da.has(r) || n.push(new pm(r));
        }),
        this.da.forEach((r) => {
          e.has(r) || n.push(new fm(r));
        }),
        n
      );
    }
    ba(e) {
      ((this.Ta = e.Ts), (this.da = xe()));
      let n = this.ma(e.documents);
      return this.applyChanges(n, !0);
    }
    Da() {
      return rc.fromInitialDocuments(
        this.query,
        this.Ra,
        this.mutatedKeys,
        this.Ea === 0,
        this.hasCachedResults
      );
    }
  },
  vI = class {
    constructor(e, n, r) {
      ((this.query = e), (this.targetId = n), (this.view = r));
    }
  },
  yI = class {
    constructor(e) {
      ((this.key = e), (this.va = !1));
    }
  },
  _I = class {
    constructor(e, n, r, i, o, s) {
      ((this.localStore = e),
        (this.remoteStore = n),
        (this.eventManager = r),
        (this.sharedClientState = i),
        (this.currentUser = o),
        (this.maxConcurrentLimboResolutions = s),
        (this.Ca = {}),
        (this.Fa = new go((a) => EP(a), Im)),
        (this.Ma = new Map()),
        (this.xa = new Set()),
        (this.Oa = new lt(ce.comparator)),
        (this.Na = new Map()),
        (this.La = new _u()),
        (this.Ba = {}),
        (this.ka = new Map()),
        (this.qa = yu.kn()),
        (this.onlineState = 'Unknown'),
        (this.Qa = void 0));
    }
    get isPrimaryClient() {
      return this.Qa === !0;
    }
  };
function k5(t, e, n = !0) {
  return C(this, null, function* () {
    let r = eO(t),
      i,
      o = r.Fa.get(e);
    return (
      o
        ? (r.sharedClientState.addLocalQueryTarget(o.targetId), (i = o.view.Da()))
        : (i = yield YP(r, e, n, !0)),
      i
    );
  });
}
function P5(t, e) {
  return C(this, null, function* () {
    let n = eO(t);
    yield YP(n, e, !0, !1);
  });
}
function YP(t, e, n, r) {
  return C(this, null, function* () {
    let i = yield m5(t.localStore, jr(e)),
      o = i.targetId,
      s = t.sharedClientState.addLocalQueryTarget(o, n),
      a;
    return (
      r && (a = yield O5(t, e, o, s === 'current', i.resumeToken)),
      t.isPrimaryClient && n && $P(t.remoteStore, i),
      a
    );
  });
}
function O5(t, e, n, r, i) {
  return C(this, null, function* () {
    t.Ka = (p, v, m) =>
      (function (M, A, N, O) {
        return C(this, null, function* () {
          let F = A.view.ma(N);
          F.ns &&
            (F = yield Jk(M.localStore, A.query, !1).then(({ documents: T }) => A.view.ma(T, F)));
          let z = O && O.targetChanges.get(A.targetId),
            Z = O && O.targetMismatches.get(A.targetId) != null,
            q = A.view.applyChanges(F, M.isPrimaryClient, z, Z);
          return (iP(M, A.targetId, q.wa), q.snapshot);
        });
      })(t, p, v, m);
    let o = yield Jk(t.localStore, e, !0),
      s = new gI(e, o.Ts),
      a = s.ma(o.documents),
      c = gu.createSynthesizedTargetChangeForCurrentChange(n, r && t.onlineState !== 'Offline', i),
      u = s.applyChanges(a, t.isPrimaryClient, c);
    iP(t, n, u.wa);
    let d = new vI(e, n, s);
    return (t.Fa.set(e, d), t.Ma.has(n) ? t.Ma.get(n).push(e) : t.Ma.set(n, [e]), u.snapshot);
  });
}
function F5(t, e, n) {
  return C(this, null, function* () {
    let r = ge(t),
      i = r.Fa.get(e),
      o = r.Ma.get(i.targetId);
    if (o.length > 1)
      return (
        r.Ma.set(
          i.targetId,
          o.filter((s) => !Im(s, e))
        ),
        void r.Fa.delete(e)
      );
    r.isPrimaryClient
      ? (r.sharedClientState.removeLocalQueryTarget(i.targetId),
        r.sharedClientState.isActiveQueryTarget(i.targetId) ||
          (yield tI(r.localStore, i.targetId, !1)
            .then(() => {
              (r.sharedClientState.clearQueryState(i.targetId),
                n && jI(r.remoteStore, i.targetId),
                wI(r, i.targetId));
            })
            .catch(Cu)))
      : (wI(r, i.targetId), yield tI(r.localStore, i.targetId, !0));
  });
}
function V5(t, e) {
  return C(this, null, function* () {
    let n = ge(t),
      r = n.Fa.get(e),
      i = n.Ma.get(r.targetId);
    n.isPrimaryClient &&
      i.length === 1 &&
      (n.sharedClientState.removeLocalQueryTarget(r.targetId), jI(n.remoteStore, r.targetId));
  });
}
function L5(t, e, n) {
  return C(this, null, function* () {
    let r = W5(t);
    try {
      let i = yield (function (s, a) {
        let c = ge(s),
          u = Vt.now(),
          d = a.reduce((m, D) => m.add(D.key), xe()),
          p,
          v;
        return c.persistence
          .runTransaction('Locally write mutations', 'readwrite', (m) => {
            let D = Ii(),
              M = xe();
            return c.cs
              .getEntries(m, d)
              .next((A) => {
                ((D = A),
                  D.forEach((N, O) => {
                    O.isValidDocument() || (M = M.add(N));
                  }));
              })
              .next(() => c.localDocuments.getOverlayedDocuments(m, D))
              .next((A) => {
                p = A;
                let N = [];
                for (let O of a) {
                  let F = $9(O, p.get(O.key).overlayedDocument);
                  F != null && N.push(new Di(O.key, F, pP(F.value.mapValue), fo.exists(!0)));
                }
                return c.mutationQueue.addMutationBatch(m, u, N, a);
              })
              .next((A) => {
                v = A;
                let N = A.applyToLocalDocumentSet(p, M);
                return c.documentOverlayCache.saveOverlays(m, A.batchId, N);
              });
          })
          .then(() => ({ batchId: v.batchId, changes: CP(p) }));
      })(r.localStore, e);
      (r.sharedClientState.addPendingMutation(i.batchId),
        (function (s, a, c) {
          let u = s.Ba[s.currentUser.toKey()];
          (u || (u = new lt(Fe)), (u = u.insert(a, c)), (s.Ba[s.currentUser.toKey()] = u));
        })(r, i.batchId, n),
        yield Su(r, i.changes),
        yield Tm(r.remoteStore));
    } catch (i) {
      let o = $I(i, 'Failed to persist write');
      n.reject(o);
    }
  });
}
function QP(t, e) {
  return C(this, null, function* () {
    let n = ge(t);
    try {
      let r = yield h5(n.localStore, e);
      (e.targetChanges.forEach((i, o) => {
        let s = n.Na.get(o);
        s &&
          (Ue(i.addedDocuments.size + i.modifiedDocuments.size + i.removedDocuments.size <= 1),
          i.addedDocuments.size > 0
            ? (s.va = !0)
            : i.modifiedDocuments.size > 0
              ? Ue(s.va)
              : i.removedDocuments.size > 0 && (Ue(s.va), (s.va = !1)));
      }),
        yield Su(n, r, e));
    } catch (r) {
      yield Cu(r);
    }
  });
}
function rP(t, e, n) {
  let r = ge(t);
  if ((r.isPrimaryClient && n === 0) || (!r.isPrimaryClient && n === 1)) {
    let i = [];
    (r.Fa.forEach((o, s) => {
      let a = s.view.Z_(e);
      a.snapshot && i.push(a.snapshot);
    }),
      (function (s, a) {
        let c = ge(s);
        c.onlineState = a;
        let u = !1;
        (c.queries.forEach((d, p) => {
          for (let v of p.j_) v.Z_(a) && (u = !0);
        }),
          u && zI(c));
      })(r.eventManager, e),
      i.length && r.Ca.d_(i),
      (r.onlineState = e),
      r.isPrimaryClient && r.sharedClientState.setOnlineState(e));
  }
}
function j5(t, e, n) {
  return C(this, null, function* () {
    let r = ge(t);
    r.sharedClientState.updateQueryState(e, 'rejected', n);
    let i = r.Na.get(e),
      o = i && i.key;
    if (o) {
      let s = new lt(ce.comparator);
      s = s.insert(o, vr.newNoDocument(o, _e.min()));
      let a = xe().add(o),
        c = new em(_e.min(), new Map(), new lt(Fe), s, a);
      (yield QP(r, c), (r.Oa = r.Oa.remove(o)), r.Na.delete(e), WI(r));
    } else
      yield tI(r.localStore, e, !1)
        .then(() => wI(r, e, n))
        .catch(Cu);
  });
}
function U5(t, e) {
  return C(this, null, function* () {
    let n = ge(t),
      r = e.batch.batchId;
    try {
      let i = yield d5(n.localStore, e);
      (ZP(n, r, null),
        XP(n, r),
        n.sharedClientState.updateMutationState(r, 'acknowledged'),
        yield Su(n, i));
    } catch (i) {
      yield Cu(i);
    }
  });
}
function B5(t, e, n) {
  return C(this, null, function* () {
    let r = ge(t);
    try {
      let i = yield (function (s, a) {
        let c = ge(s);
        return c.persistence.runTransaction('Reject batch', 'readwrite-primary', (u) => {
          let d;
          return c.mutationQueue
            .lookupMutationBatch(u, a)
            .next(
              (p) => (Ue(p !== null), (d = p.keys()), c.mutationQueue.removeMutationBatch(u, p))
            )
            .next(() => c.mutationQueue.performConsistencyCheck(u))
            .next(() => c.documentOverlayCache.removeOverlaysForBatchId(u, d, a))
            .next(() => c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u, d))
            .next(() => c.localDocuments.getDocuments(u, d));
        });
      })(r.localStore, e);
      (ZP(r, e, n),
        XP(r, e),
        r.sharedClientState.updateMutationState(e, 'rejected', n),
        yield Su(r, i));
    } catch (i) {
      yield Cu(i);
    }
  });
}
function XP(t, e) {
  ((t.ka.get(e) || []).forEach((n) => {
    n.resolve();
  }),
    t.ka.delete(e));
}
function ZP(t, e, n) {
  let r = ge(t),
    i = r.Ba[r.currentUser.toKey()];
  if (i) {
    let o = i.get(e);
    (o && (n ? o.reject(n) : o.resolve(), (i = i.remove(e))), (r.Ba[r.currentUser.toKey()] = i));
  }
}
function wI(t, e, n = null) {
  t.sharedClientState.removeLocalQueryTarget(e);
  for (let r of t.Ma.get(e)) (t.Fa.delete(r), n && t.Ca.$a(r, n));
  (t.Ma.delete(e),
    t.isPrimaryClient &&
      t.La.gr(e).forEach((r) => {
        t.La.containsKey(r) || JP(t, r);
      }));
}
function JP(t, e) {
  t.xa.delete(e.path.canonicalString());
  let n = t.Oa.get(e);
  n !== null && (jI(t.remoteStore, n), (t.Oa = t.Oa.remove(e)), t.Na.delete(n), WI(t));
}
function iP(t, e, n) {
  for (let r of n)
    r instanceof fm
      ? (t.La.addReference(r.key, e), H5(t, r))
      : r instanceof pm
        ? (Y('SyncEngine', 'Document no longer in limbo: ' + r.key),
          t.La.removeReference(r.key, e),
          t.La.containsKey(r.key) || JP(t, r.key))
        : fe();
}
function H5(t, e) {
  let n = e.key,
    r = n.path.canonicalString();
  t.Oa.get(n) ||
    t.xa.has(r) ||
    (Y('SyncEngine', 'New document in limbo: ' + n), t.xa.add(r), WI(t));
}
function WI(t) {
  for (; t.xa.size > 0 && t.Oa.size < t.maxConcurrentLimboResolutions; ) {
    let e = t.xa.values().next().value;
    t.xa.delete(e);
    let n = new ce(ct.fromString(e)),
      r = t.qa.next();
    (t.Na.set(r, new yI(n)),
      (t.Oa = t.Oa.insert(n, r)),
      $P(t.remoteStore, new vu(jr(wP(n.path)), r, 'TargetPurposeLimboResolution', uP.oe)));
  }
}
function Su(t, e, n) {
  return C(this, null, function* () {
    let r = ge(t),
      i = [],
      o = [],
      s = [];
    r.Fa.isEmpty() ||
      (r.Fa.forEach((a, c) => {
        s.push(
          r.Ka(c, e, n).then((u) => {
            var d;
            if ((u || n) && r.isPrimaryClient) {
              let p = u
                ? !u.fromCache
                : (d = n?.targetChanges.get(c.targetId)) === null || d === void 0
                  ? void 0
                  : d.current;
              r.sharedClientState.updateQueryState(c.targetId, p ? 'current' : 'not-current');
            }
            if (u) {
              i.push(u);
              let p = X0.Wi(c.targetId, u);
              o.push(p);
            }
          })
        );
      }),
      yield Promise.all(s),
      r.Ca.d_(i),
      yield (function (c, u) {
        return C(this, null, function* () {
          let d = ge(c);
          try {
            yield d.persistence.runTransaction('notifyLocalViewChanges', 'readwrite', (p) =>
              $.forEach(u, (v) =>
                $.forEach(v.$i, (m) =>
                  d.persistence.referenceDelegate.addReference(p, v.targetId, m)
                ).next(() =>
                  $.forEach(v.Ui, (m) =>
                    d.persistence.referenceDelegate.removeReference(p, v.targetId, m)
                  )
                )
              )
            );
          } catch (p) {
            if (!bu(p)) throw p;
            Y('LocalStore', 'Failed to update sequence numbers: ' + p);
          }
          for (let p of u) {
            let v = p.targetId;
            if (!p.fromCache) {
              let m = d.os.get(v),
                D = m.snapshotVersion,
                M = m.withLastLimboFreeSnapshotVersion(D);
              d.os = d.os.insert(v, M);
            }
          }
        });
      })(r.localStore, o));
  });
}
function $5(t, e) {
  return C(this, null, function* () {
    let n = ge(t);
    if (!n.currentUser.isEqual(e)) {
      Y('SyncEngine', 'User change. New user:', e.toKey());
      let r = yield BP(n.localStore, e);
      ((n.currentUser = e),
        (function (o, s) {
          (o.ka.forEach((a) => {
            a.forEach((c) => {
              c.reject(new oe(j.CANCELLED, s));
            });
          }),
            o.ka.clear());
        })(n, "'waitForPendingWrites' promise is rejected due to a user change."),
        n.sharedClientState.handleUserChange(e, r.removedBatchIds, r.addedBatchIds),
        yield Su(n, r.hs));
    }
  });
}
function z5(t, e) {
  let n = ge(t),
    r = n.Na.get(e);
  if (r && r.va) return xe().add(r.key);
  {
    let i = xe(),
      o = n.Ma.get(e);
    if (!o) return i;
    for (let s of o) {
      let a = n.Fa.get(s);
      i = i.unionWith(a.view.Va);
    }
    return i;
  }
}
function eO(t) {
  let e = ge(t);
  return (
    (e.remoteStore.remoteSyncer.applyRemoteEvent = QP.bind(null, e)),
    (e.remoteStore.remoteSyncer.getRemoteKeysForTarget = z5.bind(null, e)),
    (e.remoteStore.remoteSyncer.rejectListen = j5.bind(null, e)),
    (e.Ca.d_ = R5.bind(null, e.eventManager)),
    (e.Ca.$a = N5.bind(null, e.eventManager)),
    e
  );
}
function W5(t) {
  let e = ge(t);
  return (
    (e.remoteStore.remoteSyncer.applySuccessfulWrite = U5.bind(null, e)),
    (e.remoteStore.remoteSyncer.rejectFailedWrite = B5.bind(null, e)),
    e
  );
}
var oP = (() => {
  class t {
    constructor() {
      ((this.kind = 'memory'), (this.synchronizeTabs = !1));
    }
    initialize(n) {
      return C(this, null, function* () {
        ((this.serializer = Cm(n.databaseInfo.databaseId)),
          (this.sharedClientState = this.Wa(n)),
          (this.persistence = this.Ga(n)),
          yield this.persistence.start(),
          (this.localStore = this.za(n)),
          (this.gcScheduler = this.ja(n, this.localStore)),
          (this.indexBackfillerScheduler = this.Ha(n, this.localStore)));
      });
    }
    ja(n, r) {
      return null;
    }
    Ha(n, r) {
      return null;
    }
    za(n) {
      return u5(this.persistence, new J0(), n.initialUser, this.serializer);
    }
    Ga(n) {
      return new K0(Q0.Zr, this.serializer);
    }
    Wa(n) {
      return new nI();
    }
    terminate() {
      return C(this, null, function* () {
        var n, r;
        ((n = this.gcScheduler) === null || n === void 0 || n.stop(),
          (r = this.indexBackfillerScheduler) === null || r === void 0 || r.stop(),
          this.sharedClientState.shutdown(),
          yield this.persistence.shutdown());
      });
    }
  }
  return ((t.provider = { build: () => new t() }), t);
})();
var q5 = (() => {
  class t {
    initialize(n, r) {
      return C(this, null, function* () {
        this.localStore ||
          ((this.localStore = n.localStore),
          (this.sharedClientState = n.sharedClientState),
          (this.datastore = this.createDatastore(r)),
          (this.remoteStore = this.createRemoteStore(r)),
          (this.eventManager = this.createEventManager(r)),
          (this.syncEngine = this.createSyncEngine(r, !n.synchronizeTabs)),
          (this.sharedClientState.onlineStateHandler = (i) => rP(this.syncEngine, i, 1)),
          (this.remoteStore.remoteSyncer.handleCredentialChange = $5.bind(null, this.syncEngine)),
          yield A5(this.remoteStore, this.syncEngine.isPrimaryClient));
      });
    }
    createEventManager(n) {
      return (function () {
        return new fI();
      })();
    }
    createDatastore(n) {
      let r = Cm(n.databaseInfo.databaseId),
        i = (function (s) {
          return new oI(s);
        })(n.databaseInfo);
      return (function (s, a, c, u) {
        return new cI(s, a, c, u);
      })(n.authCredentials, n.appCheckCredentials, i, r);
    }
    createRemoteStore(n) {
      return (function (i, o, s, a, c) {
        return new uI(i, o, s, a, c);
      })(
        this.localStore,
        this.datastore,
        n.asyncQueue,
        (r) => rP(this.syncEngine, r, 0),
        (function () {
          return am.D() ? new am() : new rI();
        })()
      );
    }
    createSyncEngine(n, r) {
      return (function (o, s, a, c, u, d, p) {
        let v = new _I(o, s, a, c, u, d);
        return (p && (v.Qa = !0), v);
      })(
        this.localStore,
        this.remoteStore,
        this.eventManager,
        this.sharedClientState,
        n.initialUser,
        n.maxConcurrentLimboResolutions,
        r
      );
    }
    terminate() {
      return C(this, null, function* () {
        var n, r;
        (yield (function (o) {
          return C(this, null, function* () {
            let s = ge(o);
            (Y('RemoteStore', 'RemoteStore shutting down.'),
              s.L_.add(5),
              yield Tu(s),
              s.k_.shutdown(),
              s.q_.set('Unknown'));
          });
        })(this.remoteStore),
          (n = this.datastore) === null || n === void 0 || n.terminate(),
          (r = this.eventManager) === null || r === void 0 || r.terminate());
      });
    }
  }
  return ((t.provider = { build: () => new t() }), t);
})();
var EI = class {
  constructor(e) {
    ((this.observer = e), (this.muted = !1));
  }
  next(e) {
    this.muted || (this.observer.next && this.Ya(this.observer.next, e));
  }
  error(e) {
    this.muted ||
      (this.observer.error
        ? this.Ya(this.observer.error, e)
        : wi('Uncaught Error in snapshot listener:', e.toString()));
  }
  Za() {
    this.muted = !0;
  }
  Ya(e, n) {
    setTimeout(() => {
      this.muted || e(n);
    }, 0);
  }
};
var II = class {
  constructor(e, n, r, i, o) {
    ((this.authCredentials = e),
      (this.appCheckCredentials = n),
      (this.asyncQueue = r),
      (this.databaseInfo = i),
      (this.user = Nt.UNAUTHENTICATED),
      (this.clientId = Gp.newId()),
      (this.authCredentialListener = () => Promise.resolve()),
      (this.appCheckCredentialListener = () => Promise.resolve()),
      (this._uninitializedComponentsProvider = o),
      this.authCredentials.start(r, (s) =>
        C(this, null, function* () {
          (Y('FirestoreClient', 'Received user=', s.uid),
            yield this.authCredentialListener(s),
            (this.user = s));
        })
      ),
      this.appCheckCredentials.start(
        r,
        (s) => (
          Y('FirestoreClient', 'Received new app check token=', s),
          this.appCheckCredentialListener(s, this.user)
        )
      ));
  }
  get configuration() {
    return {
      asyncQueue: this.asyncQueue,
      databaseInfo: this.databaseInfo,
      clientId: this.clientId,
      authCredentials: this.authCredentials,
      appCheckCredentials: this.appCheckCredentials,
      initialUser: this.user,
      maxConcurrentLimboResolutions: 100,
    };
  }
  setCredentialChangeListener(e) {
    this.authCredentialListener = e;
  }
  setAppCheckTokenChangeListener(e) {
    this.appCheckCredentialListener = e;
  }
  terminate() {
    this.asyncQueue.enterRestrictedMode();
    let e = new Vr();
    return (
      this.asyncQueue.enqueueAndForgetEvenWhileRestricted(() =>
        C(this, null, function* () {
          try {
            (this._onlineComponents && (yield this._onlineComponents.terminate()),
              this._offlineComponents && (yield this._offlineComponents.terminate()),
              this.authCredentials.shutdown(),
              this.appCheckCredentials.shutdown(),
              e.resolve());
          } catch (n) {
            let r = $I(n, 'Failed to shutdown persistence');
            e.reject(r);
          }
        })
      ),
      e.promise
    );
  }
};
function ZE(t, e) {
  return C(this, null, function* () {
    (t.asyncQueue.verifyOperationInProgress(),
      Y('FirestoreClient', 'Initializing OfflineComponentProvider'));
    let n = t.configuration;
    yield e.initialize(n);
    let r = n.initialUser;
    (t.setCredentialChangeListener((i) =>
      C(this, null, function* () {
        r.isEqual(i) || (yield BP(e.localStore, i), (r = i));
      })
    ),
      e.persistence.setDatabaseDeletedListener(() => t.terminate()),
      (t._offlineComponents = e));
  });
}
function sP(t, e) {
  return C(this, null, function* () {
    t.asyncQueue.verifyOperationInProgress();
    let n = yield G5(t);
    (Y('FirestoreClient', 'Initializing OnlineComponentProvider'),
      yield e.initialize(n, t.configuration),
      t.setCredentialChangeListener((r) => eP(e.remoteStore, r)),
      t.setAppCheckTokenChangeListener((r, i) => eP(e.remoteStore, i)),
      (t._onlineComponents = e));
  });
}
function G5(t) {
  return C(this, null, function* () {
    if (!t._offlineComponents)
      if (t._uninitializedComponentsProvider) {
        Y('FirestoreClient', 'Using user provided OfflineComponentProvider');
        try {
          yield ZE(t, t._uninitializedComponentsProvider._offline);
        } catch (e) {
          let n = e;
          if (
            !(function (i) {
              return i.name === 'FirebaseError'
                ? i.code === j.FAILED_PRECONDITION || i.code === j.UNIMPLEMENTED
                : !(typeof DOMException < 'u' && i instanceof DOMException) ||
                    i.code === 22 ||
                    i.code === 20 ||
                    i.code === 11;
            })(n)
          )
            throw n;
          (qa('Error using user provided cache. Falling back to memory cache: ' + n),
            yield ZE(t, new oP()));
        }
      } else
        (Y('FirestoreClient', 'Using default OfflineComponentProvider'), yield ZE(t, new oP()));
    return t._offlineComponents;
  });
}
function tO(t) {
  return C(this, null, function* () {
    return (
      t._onlineComponents ||
        (t._uninitializedComponentsProvider
          ? (Y('FirestoreClient', 'Using user provided OnlineComponentProvider'),
            yield sP(t, t._uninitializedComponentsProvider._online))
          : (Y('FirestoreClient', 'Using default OnlineComponentProvider'), yield sP(t, new q5()))),
      t._onlineComponents
    );
  });
}
function K5(t) {
  return tO(t).then((e) => e.syncEngine);
}
function Y5(t) {
  return C(this, null, function* () {
    let e = yield tO(t),
      n = e.eventManager;
    return (
      (n.onListen = k5.bind(null, e.syncEngine)),
      (n.onUnlisten = F5.bind(null, e.syncEngine)),
      (n.onFirstRemoteStoreListen = P5.bind(null, e.syncEngine)),
      (n.onLastRemoteStoreUnlisten = V5.bind(null, e.syncEngine)),
      n
    );
  });
}
function Q5(t, e, n = {}) {
  let r = new Vr();
  return (
    t.asyncQueue.enqueueAndForget(() =>
      C(this, null, function* () {
        return (function (o, s, a, c, u) {
          let d = new EI({
              next: (v) => {
                (d.Za(),
                  s.enqueueAndForget(() => x5(o, p)),
                  v.fromCache && c.source === 'server'
                    ? u.reject(
                        new oe(
                          j.UNAVAILABLE,
                          'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)'
                        )
                      )
                    : u.resolve(v));
              },
              error: (v) => u.reject(v),
            }),
            p = new mI(a, d, { includeMetadataChanges: !0, _a: !0 });
          return M5(o, p);
        })(yield Y5(t), t.asyncQueue, e, n, r);
      })
    ),
    r.promise
  );
}
function nO(t) {
  let e = {};
  return (t.timeoutSeconds !== void 0 && (e.timeoutSeconds = t.timeoutSeconds), e);
}
var aP = new Map();
function rO(t, e, n) {
  if (!n) throw new oe(j.INVALID_ARGUMENT, `Function ${t}() cannot be called with an empty ${e}.`);
}
function X5(t, e, n, r) {
  if (e === !0 && r === !0)
    throw new oe(j.INVALID_ARGUMENT, `${t} and ${n} cannot be used together.`);
}
function cP(t) {
  if (!ce.isDocumentKey(t))
    throw new oe(
      j.INVALID_ARGUMENT,
      `Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`
    );
}
function lP(t) {
  if (ce.isDocumentKey(t))
    throw new oe(
      j.INVALID_ARGUMENT,
      `Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`
    );
}
function qI(t) {
  if (t === void 0) return 'undefined';
  if (t === null) return 'null';
  if (typeof t == 'string')
    return (t.length > 20 && (t = `${t.substring(0, 20)}...`), JSON.stringify(t));
  if (typeof t == 'number' || typeof t == 'boolean') return '' + t;
  if (typeof t == 'object') {
    if (t instanceof Array) return 'an array';
    {
      let e = (function (r) {
        return r.constructor ? r.constructor.name : null;
      })(t);
      return e ? `a custom ${e} object` : 'an object';
    }
  }
  return typeof t == 'function' ? 'a function' : fe();
}
function ic(t, e) {
  if (('_delegate' in t && (t = t._delegate), !(t instanceof e))) {
    if (e.name === t.constructor.name)
      throw new oe(
        j.INVALID_ARGUMENT,
        'Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?'
      );
    {
      let n = qI(t);
      throw new oe(j.INVALID_ARGUMENT, `Expected type '${e.name}', but it was: ${n}`);
    }
  }
  return t;
}
var mm = class {
    constructor(e) {
      var n, r;
      if (e.host === void 0) {
        if (e.ssl !== void 0)
          throw new oe(j.INVALID_ARGUMENT, "Can't provide ssl option if host option is not set");
        ((this.host = 'firestore.googleapis.com'), (this.ssl = !0));
      } else ((this.host = e.host), (this.ssl = (n = e.ssl) === null || n === void 0 || n));
      if (
        ((this.credentials = e.credentials),
        (this.ignoreUndefinedProperties = !!e.ignoreUndefinedProperties),
        (this.localCache = e.localCache),
        e.cacheSizeBytes === void 0)
      )
        this.cacheSizeBytes = 41943040;
      else {
        if (e.cacheSizeBytes !== -1 && e.cacheSizeBytes < 1048576)
          throw new oe(j.INVALID_ARGUMENT, 'cacheSizeBytes must be at least 1048576');
        this.cacheSizeBytes = e.cacheSizeBytes;
      }
      (X5(
        'experimentalForceLongPolling',
        e.experimentalForceLongPolling,
        'experimentalAutoDetectLongPolling',
        e.experimentalAutoDetectLongPolling
      ),
        (this.experimentalForceLongPolling = !!e.experimentalForceLongPolling),
        this.experimentalForceLongPolling
          ? (this.experimentalAutoDetectLongPolling = !1)
          : e.experimentalAutoDetectLongPolling === void 0
            ? (this.experimentalAutoDetectLongPolling = !0)
            : (this.experimentalAutoDetectLongPolling = !!e.experimentalAutoDetectLongPolling),
        (this.experimentalLongPollingOptions = nO(
          (r = e.experimentalLongPollingOptions) !== null && r !== void 0 ? r : {}
        )),
        (function (o) {
          if (o.timeoutSeconds !== void 0) {
            if (isNaN(o.timeoutSeconds))
              throw new oe(
                j.INVALID_ARGUMENT,
                `invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`
              );
            if (o.timeoutSeconds < 5)
              throw new oe(
                j.INVALID_ARGUMENT,
                `invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`
              );
            if (o.timeoutSeconds > 30)
              throw new oe(
                j.INVALID_ARGUMENT,
                `invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`
              );
          }
        })(this.experimentalLongPollingOptions),
        (this.useFetchStreams = !!e.useFetchStreams));
    }
    isEqual(e) {
      return (
        this.host === e.host &&
        this.ssl === e.ssl &&
        this.credentials === e.credentials &&
        this.cacheSizeBytes === e.cacheSizeBytes &&
        this.experimentalForceLongPolling === e.experimentalForceLongPolling &&
        this.experimentalAutoDetectLongPolling === e.experimentalAutoDetectLongPolling &&
        (function (r, i) {
          return r.timeoutSeconds === i.timeoutSeconds;
        })(this.experimentalLongPollingOptions, e.experimentalLongPollingOptions) &&
        this.ignoreUndefinedProperties === e.ignoreUndefinedProperties &&
        this.useFetchStreams === e.useFetchStreams
      );
    }
  },
  oc = class {
    constructor(e, n, r, i) {
      ((this._authCredentials = e),
        (this._appCheckCredentials = n),
        (this._databaseId = r),
        (this._app = i),
        (this.type = 'firestore-lite'),
        (this._persistenceKey = '(lite)'),
        (this._settings = new mm({})),
        (this._settingsFrozen = !1),
        (this._terminateTask = 'notTerminated'));
    }
    get app() {
      if (!this._app)
        throw new oe(
          j.FAILED_PRECONDITION,
          "Firestore was not initialized using the Firebase SDK. 'app' is not available"
        );
      return this._app;
    }
    get _initialized() {
      return this._settingsFrozen;
    }
    get _terminated() {
      return this._terminateTask !== 'notTerminated';
    }
    _setSettings(e) {
      if (this._settingsFrozen)
        throw new oe(
          j.FAILED_PRECONDITION,
          'Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.'
        );
      ((this._settings = new mm(e)),
        e.credentials !== void 0 &&
          (this._authCredentials = (function (r) {
            if (!r) return new JE();
            switch (r.type) {
              case 'firstParty':
                return new r0(
                  r.sessionIndex || '0',
                  r.iamToken || null,
                  r.authTokenFactory || null
                );
              case 'provider':
                return r.client;
              default:
                throw new oe(
                  j.INVALID_ARGUMENT,
                  'makeAuthCredentialsProvider failed due to invalid credential type'
                );
            }
          })(e.credentials)));
    }
    _getSettings() {
      return this._settings;
    }
    _freezeSettings() {
      return ((this._settingsFrozen = !0), this._settings);
    }
    _delete() {
      return (
        this._terminateTask === 'notTerminated' && (this._terminateTask = this._terminate()),
        this._terminateTask
      );
    }
    _restart() {
      return C(this, null, function* () {
        this._terminateTask === 'notTerminated'
          ? yield this._terminate()
          : (this._terminateTask = 'notTerminated');
      });
    }
    toJSON() {
      return {
        app: this._app,
        databaseId: this._databaseId,
        settings: this._settings,
      };
    }
    _terminate() {
      return (
        (function (n) {
          let r = aP.get(n);
          r && (Y('ComponentProvider', 'Removing Datastore'), aP.delete(n), r.terminate());
        })(this),
        Promise.resolve()
      );
    }
  };
function iO(t, e, n, r = {}) {
  var i;
  let o = (t = ic(t, oc))._getSettings(),
    s = `${e}:${n}`;
  if (
    (o.host !== 'firestore.googleapis.com' &&
      o.host !== s &&
      qa(
        'Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.'
      ),
    t._setSettings(Object.assign(Object.assign({}, o), { host: s, ssl: !1 })),
    r.mockUserToken)
  ) {
    let a, c;
    if (typeof r.mockUserToken == 'string') ((a = r.mockUserToken), (c = Nt.MOCK_USER));
    else {
      a = Rx(r.mockUserToken, (i = t._app) === null || i === void 0 ? void 0 : i.options.projectId);
      let u = r.mockUserToken.sub || r.mockUserToken.user_id;
      if (!u)
        throw new oe(j.INVALID_ARGUMENT, "mockUserToken must contain 'sub' or 'user_id' field!");
      c = new Nt(u);
    }
    t._authCredentials = new e0(new qp(a, c));
  }
}
var gm = class t {
    constructor(e, n, r) {
      ((this.converter = n), (this._query = r), (this.type = 'query'), (this.firestore = e));
    }
    withConverter(e) {
      return new t(this.firestore, e, this._query);
    }
  },
  Kn = class t {
    constructor(e, n, r) {
      ((this.converter = n), (this._key = r), (this.type = 'document'), (this.firestore = e));
    }
    get _path() {
      return this._key.path;
    }
    get id() {
      return this._key.path.lastSegment();
    }
    get path() {
      return this._key.path.canonicalString();
    }
    get parent() {
      return new po(this.firestore, this.converter, this._key.path.popLast());
    }
    withConverter(e) {
      return new t(this.firestore, e, this._key);
    }
  },
  po = class t extends gm {
    constructor(e, n, r) {
      (super(e, n, wP(r)), (this._path = r), (this.type = 'collection'));
    }
    get id() {
      return this._query.path.lastSegment();
    }
    get path() {
      return this._query.path.canonicalString();
    }
    get parent() {
      let e = this._path.popLast();
      return e.isEmpty() ? null : new Kn(this.firestore, null, new ce(e));
    }
    withConverter(e) {
      return new t(this.firestore, e, this._path);
    }
  };
function oO(t, e, ...n) {
  if (((t = Gt(t)), rO('collection', 'path', e), t instanceof oc)) {
    let r = ct.fromString(e, ...n);
    return (lP(r), new po(t, null, r));
  }
  {
    if (!(t instanceof Kn || t instanceof po))
      throw new oe(
        j.INVALID_ARGUMENT,
        'Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore'
      );
    let r = t._path.child(ct.fromString(e, ...n));
    return (lP(r), new po(t.firestore, null, r));
  }
}
function GI(t, e, ...n) {
  if (
    ((t = Gt(t)), arguments.length === 1 && (e = Gp.newId()), rO('doc', 'path', e), t instanceof oc)
  ) {
    let r = ct.fromString(e, ...n);
    return (cP(r), new Kn(t, null, new ce(r)));
  }
  {
    if (!(t instanceof Kn || t instanceof po))
      throw new oe(
        j.INVALID_ARGUMENT,
        'Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore'
      );
    let r = t._path.child(ct.fromString(e, ...n));
    return (cP(r), new Kn(t.firestore, t instanceof po ? t.converter : null, new ce(r)));
  }
}
var vm = class {
  constructor(e = Promise.resolve()) {
    ((this.Pu = []),
      (this.Iu = !1),
      (this.Tu = []),
      (this.Eu = null),
      (this.du = !1),
      (this.Au = !1),
      (this.Ru = []),
      (this.t_ = new cm(this, 'async_queue_retry')),
      (this.Vu = () => {
        let r = XE();
        (r && Y('AsyncQueue', 'Visibility state changed to ' + r.visibilityState), this.t_.jo());
      }),
      (this.mu = e));
    let n = XE();
    n && typeof n.addEventListener == 'function' && n.addEventListener('visibilitychange', this.Vu);
  }
  get isShuttingDown() {
    return this.Iu;
  }
  enqueueAndForget(e) {
    this.enqueue(e);
  }
  enqueueAndForgetEvenWhileRestricted(e) {
    (this.fu(), this.gu(e));
  }
  enterRestrictedMode(e) {
    if (!this.Iu) {
      ((this.Iu = !0), (this.Au = e || !1));
      let n = XE();
      n &&
        typeof n.removeEventListener == 'function' &&
        n.removeEventListener('visibilitychange', this.Vu);
    }
  }
  enqueue(e) {
    if ((this.fu(), this.Iu)) return new Promise(() => {});
    let n = new Vr();
    return this.gu(() =>
      this.Iu && this.Au ? Promise.resolve() : (e().then(n.resolve, n.reject), n.promise)
    ).then(() => n.promise);
  }
  enqueueRetryable(e) {
    this.enqueueAndForget(() => (this.Pu.push(e), this.pu()));
  }
  pu() {
    return C(this, null, function* () {
      if (this.Pu.length !== 0) {
        try {
          (yield this.Pu[0](), this.Pu.shift(), this.t_.reset());
        } catch (e) {
          if (!bu(e)) throw e;
          Y('AsyncQueue', 'Operation failed with retryable error: ' + e);
        }
        this.Pu.length > 0 && this.t_.Go(() => this.pu());
      }
    });
  }
  gu(e) {
    let n = this.mu.then(
      () => (
        (this.du = !0),
        e()
          .catch((r) => {
            ((this.Eu = r), (this.du = !1));
            let i = (function (s) {
              let a = s.message || '';
              return (
                s.stack &&
                  (a = s.stack.includes(s.message)
                    ? s.stack
                    : s.message +
                      `
` +
                      s.stack),
                a
              );
            })(r);
            throw (wi('INTERNAL UNHANDLED ERROR: ', i), r);
          })
          .then((r) => ((this.du = !1), r))
      )
    );
    return ((this.mu = n), n);
  }
  enqueueAfterDelay(e, n, r) {
    (this.fu(), this.Ru.indexOf(e) > -1 && (n = 0));
    let i = dI.createAndSchedule(this, e, n, r, (o) => this.yu(o));
    return (this.Tu.push(i), i);
  }
  fu() {
    this.Eu && fe();
  }
  verifyOperationInProgress() {}
  wu() {
    return C(this, null, function* () {
      let e;
      do ((e = this.mu), yield e);
      while (e !== this.mu);
    });
  }
  Su(e) {
    for (let n of this.Tu) if (n.timerId === e) return !0;
    return !1;
  }
  bu(e) {
    return this.wu().then(() => {
      this.Tu.sort((n, r) => n.targetTimeMs - r.targetTimeMs);
      for (let n of this.Tu) if ((n.skipDelay(), e !== 'all' && n.timerId === e)) break;
      return this.wu();
    });
  }
  Du(e) {
    this.Ru.push(e);
  }
  yu(e) {
    let n = this.Tu.indexOf(e);
    this.Tu.splice(n, 1);
  }
};
var sc = class extends oc {
  constructor(e, n, r, i) {
    (super(e, n, r, i),
      (this.type = 'firestore'),
      (this._queue = new vm()),
      (this._persistenceKey = i?.name || '[DEFAULT]'));
  }
  _terminate() {
    return C(this, null, function* () {
      if (this._firestoreClient) {
        let e = this._firestoreClient.terminate();
        ((this._queue = new vm(e)), (this._firestoreClient = void 0), yield e);
      }
    });
  }
};
function sO(t, e) {
  let n = typeof t == 'object' ? t : es(),
    r = typeof t == 'string' ? t : e || '(default)',
    i = Bl(n, 'firestore').getImmediate({ identifier: r });
  if (!i._initialized) {
    let o = xx('firestore');
    o && iO(i, ...o);
  }
  return i;
}
function aO(t) {
  if (t._terminated) throw new oe(j.FAILED_PRECONDITION, 'The client has already been terminated.');
  return (t._firestoreClient || Z5(t), t._firestoreClient);
}
function Z5(t) {
  var e, n, r;
  let i = t._freezeSettings(),
    o = (function (a, c, u, d) {
      return new c0(
        a,
        c,
        u,
        d.host,
        d.ssl,
        d.experimentalForceLongPolling,
        d.experimentalAutoDetectLongPolling,
        nO(d.experimentalLongPollingOptions),
        d.useFetchStreams
      );
    })(
      t._databaseId,
      ((e = t._app) === null || e === void 0 ? void 0 : e.options.appId) || '',
      t._persistenceKey,
      i
    );
  (t._componentsProvider ||
    (!((n = i.localCache) === null || n === void 0) &&
      n._offlineComponentProvider &&
      !((r = i.localCache) === null || r === void 0) &&
      r._onlineComponentProvider &&
      (t._componentsProvider = {
        _offline: i.localCache._offlineComponentProvider,
        _online: i.localCache._onlineComponentProvider,
      })),
    (t._firestoreClient = new II(
      t._authCredentials,
      t._appCheckCredentials,
      t._queue,
      o,
      t._componentsProvider &&
        (function (a) {
          let c = a?._online.build();
          return { _offline: a?._offline.build(c), _online: c };
        })(t._componentsProvider)
    )));
}
var wu = class t {
  constructor(e) {
    this._byteString = e;
  }
  static fromBase64String(e) {
    try {
      return new t(Xt.fromBase64String(e));
    } catch (n) {
      throw new oe(j.INVALID_ARGUMENT, 'Failed to construct data from Base64 string: ' + n);
    }
  }
  static fromUint8Array(e) {
    return new t(Xt.fromUint8Array(e));
  }
  toBase64() {
    return this._byteString.toBase64();
  }
  toUint8Array() {
    return this._byteString.toUint8Array();
  }
  toString() {
    return 'Bytes(base64: ' + this.toBase64() + ')';
  }
  isEqual(e) {
    return this._byteString.isEqual(e._byteString);
  }
};
var Eu = class {
  constructor(...e) {
    for (let n = 0; n < e.length; ++n)
      if (e[n].length === 0)
        throw new oe(
          j.INVALID_ARGUMENT,
          'Invalid field name at argument $(i + 1). Field names must not be empty.'
        );
    this._internalPath = new Mn(e);
  }
  isEqual(e) {
    return this._internalPath.isEqual(e._internalPath);
  }
};
var ym = class {
  constructor(e) {
    this._methodName = e;
  }
};
var Iu = class {
  constructor(e, n) {
    if (!isFinite(e) || e < -90 || e > 90)
      throw new oe(
        j.INVALID_ARGUMENT,
        'Latitude must be a number between -90 and 90, but was: ' + e
      );
    if (!isFinite(n) || n < -180 || n > 180)
      throw new oe(
        j.INVALID_ARGUMENT,
        'Longitude must be a number between -180 and 180, but was: ' + n
      );
    ((this._lat = e), (this._long = n));
  }
  get latitude() {
    return this._lat;
  }
  get longitude() {
    return this._long;
  }
  isEqual(e) {
    return this._lat === e._lat && this._long === e._long;
  }
  toJSON() {
    return { latitude: this._lat, longitude: this._long };
  }
  _compareTo(e) {
    return Fe(this._lat, e._lat) || Fe(this._long, e._long);
  }
};
var Du = class {
  constructor(e) {
    this._values = (e || []).map((n) => n);
  }
  toArray() {
    return this._values.map((e) => e);
  }
  isEqual(e) {
    return (function (r, i) {
      if (r.length !== i.length) return !1;
      for (let o = 0; o < r.length; ++o) if (r[o] !== i[o]) return !1;
      return !0;
    })(this._values, e._values);
  }
};
var J5 = /^__.*__$/,
  DI = class {
    constructor(e, n, r) {
      ((this.data = e), (this.fieldMask = n), (this.fieldTransforms = r));
    }
    toMutation(e, n) {
      return this.fieldMask !== null
        ? new Di(e, this.data, this.fieldMask, n, this.fieldTransforms)
        : new _s(e, this.data, n, this.fieldTransforms);
    }
  };
function cO(t) {
  switch (t) {
    case 0:
    case 2:
    case 1:
      return !0;
    case 3:
    case 4:
      return !1;
    default:
      throw fe();
  }
}
var CI = class t {
    constructor(e, n, r, i, o, s) {
      ((this.settings = e),
        (this.databaseId = n),
        (this.serializer = r),
        (this.ignoreUndefinedProperties = i),
        o === void 0 && this.vu(),
        (this.fieldTransforms = o || []),
        (this.fieldMask = s || []));
    }
    get path() {
      return this.settings.path;
    }
    get Cu() {
      return this.settings.Cu;
    }
    Fu(e) {
      return new t(
        Object.assign(Object.assign({}, this.settings), e),
        this.databaseId,
        this.serializer,
        this.ignoreUndefinedProperties,
        this.fieldTransforms,
        this.fieldMask
      );
    }
    Mu(e) {
      var n;
      let r = (n = this.path) === null || n === void 0 ? void 0 : n.child(e),
        i = this.Fu({ path: r, xu: !1 });
      return (i.Ou(e), i);
    }
    Nu(e) {
      var n;
      let r = (n = this.path) === null || n === void 0 ? void 0 : n.child(e),
        i = this.Fu({ path: r, xu: !1 });
      return (i.vu(), i);
    }
    Lu(e) {
      return this.Fu({ path: void 0, xu: !0 });
    }
    Bu(e) {
      return _m(e, this.settings.methodName, this.settings.ku || !1, this.path, this.settings.qu);
    }
    contains(e) {
      return (
        this.fieldMask.find((n) => e.isPrefixOf(n)) !== void 0 ||
        this.fieldTransforms.find((n) => e.isPrefixOf(n.field)) !== void 0
      );
    }
    vu() {
      if (this.path) for (let e = 0; e < this.path.length; e++) this.Ou(this.path.get(e));
    }
    Ou(e) {
      if (e.length === 0) throw this.Bu('Document fields must not be empty');
      if (cO(this.Cu) && J5.test(e))
        throw this.Bu('Document fields cannot begin and end with "__"');
    }
  },
  bI = class {
    constructor(e, n, r) {
      ((this.databaseId = e), (this.ignoreUndefinedProperties = n), (this.serializer = r || Cm(e)));
    }
    Qu(e, n, r, i = !1) {
      return new CI(
        { Cu: e, methodName: n, qu: r, path: Mn.emptyPath(), xu: !1, ku: i },
        this.databaseId,
        this.serializer,
        this.ignoreUndefinedProperties
      );
    }
  };
function lO(t) {
  let e = t._freezeSettings(),
    n = Cm(t._databaseId);
  return new bI(t._databaseId, !!e.ignoreUndefinedProperties, n);
}
function uO(t, e, n, r, i, o = {}) {
  let s = t.Qu(o.merge || o.mergeFields ? 2 : 0, e, n, i);
  pO('Data must be an object, but it was:', s, r);
  let a = hO(r, s),
    c,
    u;
  if (o.merge) ((c = new Fr(s.fieldMask)), (u = s.fieldTransforms));
  else if (o.mergeFields) {
    let d = [];
    for (let p of o.mergeFields) {
      let v = e8(e, p, n);
      if (!s.contains(v))
        throw new oe(
          j.INVALID_ARGUMENT,
          `Field '${v}' is specified in your field mask but missing from your input data.`
        );
      n8(d, v) || d.push(v);
    }
    ((c = new Fr(d)), (u = s.fieldTransforms.filter((p) => c.covers(p.field))));
  } else ((c = null), (u = s.fieldTransforms));
  return new DI(new gr(a), c, u);
}
function dO(t, e) {
  if (fO((t = Gt(t)))) return (pO('Unsupported field value:', e, t), hO(t, e));
  if (t instanceof ym)
    return (
      (function (r, i) {
        if (!cO(i.Cu)) throw i.Bu(`${r._methodName}() can only be used with update() and set()`);
        if (!i.path) throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);
        let o = r._toFieldTransform(i);
        o && i.fieldTransforms.push(o);
      })(t, e),
      null
    );
  if (t === void 0 && e.ignoreUndefinedProperties) return null;
  if ((e.path && e.fieldMask.push(e.path), t instanceof Array)) {
    if (e.settings.xu && e.Cu !== 4) throw e.Bu('Nested arrays are not supported');
    return (function (r, i) {
      let o = [],
        s = 0;
      for (let a of r) {
        let c = dO(a, i.Lu(s));
        (c == null && (c = { nullValue: 'NULL_VALUE' }), o.push(c), s++);
      }
      return { arrayValue: { values: o } };
    })(t, e);
  }
  return (function (r, i) {
    if ((r = Gt(r)) === null) return { nullValue: 'NULL_VALUE' };
    if (typeof r == 'number') return L9(i.serializer, r);
    if (typeof r == 'boolean') return { booleanValue: r };
    if (typeof r == 'string') return { stringValue: r };
    if (r instanceof Date) {
      let o = Vt.fromDate(r);
      return { timestampValue: im(i.serializer, o) };
    }
    if (r instanceof Vt) {
      let o = new Vt(r.seconds, 1e3 * Math.floor(r.nanoseconds / 1e3));
      return { timestampValue: im(i.serializer, o) };
    }
    if (r instanceof Iu)
      return {
        geoPointValue: { latitude: r.latitude, longitude: r.longitude },
      };
    if (r instanceof wu) return { bytesValue: PP(i.serializer, r._byteString) };
    if (r instanceof Kn) {
      let o = i.databaseId,
        s = r.firestore._databaseId;
      if (!s.isEqual(o))
        throw i.Bu(
          `Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`
        );
      return {
        referenceValue: LI(r.firestore._databaseId || i.databaseId, r._key.path),
      };
    }
    if (r instanceof Du)
      return (function (s, a) {
        return {
          mapValue: {
            fields: {
              __type__: { stringValue: '__vector__' },
              value: {
                arrayValue: {
                  values: s.toArray().map((c) => {
                    if (typeof c != 'number')
                      throw a.Bu('VectorValues must only contain numeric values.');
                    return VI(a.serializer, c);
                  }),
                },
              },
            },
          },
        };
      })(r, i);
    throw i.Bu(`Unsupported field value: ${qI(r)}`);
  })(t, e);
}
function hO(t, e) {
  let n = {};
  return (
    dP(t)
      ? e.path && e.path.length > 0 && e.fieldMask.push(e.path)
      : cc(t, (r, i) => {
          let o = dO(i, e.Mu(r));
          o != null && (n[r] = o);
        }),
    { mapValue: { fields: n } }
  );
}
function fO(t) {
  return !(
    typeof t != 'object' ||
    t === null ||
    t instanceof Array ||
    t instanceof Date ||
    t instanceof Vt ||
    t instanceof Iu ||
    t instanceof wu ||
    t instanceof Kn ||
    t instanceof ym ||
    t instanceof Du
  );
}
function pO(t, e, n) {
  if (
    !fO(n) ||
    !(function (i) {
      return (
        typeof i == 'object' &&
        i !== null &&
        (Object.getPrototypeOf(i) === Object.prototype || Object.getPrototypeOf(i) === null)
      );
    })(n)
  ) {
    let r = qI(n);
    throw r === 'an object' ? e.Bu(t + ' a custom object') : e.Bu(t + ' ' + r);
  }
}
function e8(t, e, n) {
  if ((e = Gt(e)) instanceof Eu) return e._internalPath;
  if (typeof e == 'string') return mO(t, e);
  throw _m('Field path arguments must be of type string or ', t, !1, void 0, n);
}
var t8 = new RegExp('[~\\*/\\[\\]]');
function mO(t, e, n) {
  if (e.search(t8) >= 0)
    throw _m(
      `Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,
      t,
      !1,
      void 0,
      n
    );
  try {
    return new Eu(...e.split('.'))._internalPath;
  } catch {
    throw _m(
      `Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
      t,
      !1,
      void 0,
      n
    );
  }
}
function _m(t, e, n, r, i) {
  let o = r && !r.isEmpty(),
    s = i !== void 0,
    a = `Function ${e}() called with invalid data`;
  (n && (a += ' (via `toFirestore()`)'), (a += '. '));
  let c = '';
  return (
    (o || s) &&
      ((c += ' (found'), o && (c += ` in field ${r}`), s && (c += ` in document ${i}`), (c += ')')),
    new oe(j.INVALID_ARGUMENT, a + t + c)
  );
}
function n8(t, e) {
  return t.some((n) => n.isEqual(e));
}
var wm = class {
    constructor(e, n, r, i, o) {
      ((this._firestore = e),
        (this._userDataWriter = n),
        (this._key = r),
        (this._document = i),
        (this._converter = o));
    }
    get id() {
      return this._key.path.lastSegment();
    }
    get ref() {
      return new Kn(this._firestore, this._converter, this._key);
    }
    exists() {
      return this._document !== null;
    }
    data() {
      if (this._document) {
        if (this._converter) {
          let e = new TI(this._firestore, this._userDataWriter, this._key, this._document, null);
          return this._converter.fromFirestore(e);
        }
        return this._userDataWriter.convertValue(this._document.data.value);
      }
    }
    get(e) {
      if (this._document) {
        let n = this._document.data.field(gO('DocumentSnapshot.get', e));
        if (n !== null) return this._userDataWriter.convertValue(n);
      }
    }
  },
  TI = class extends wm {
    data() {
      return super.data();
    }
  };
function gO(t, e) {
  return typeof e == 'string'
    ? mO(t, e)
    : e instanceof Eu
      ? e._internalPath
      : e._delegate._internalPath;
}
function r8(t) {
  if (t.limitType === 'L' && t.explicitOrderBy.length === 0)
    throw new oe(
      j.UNIMPLEMENTED,
      'limitToLast() queries require specifying at least one orderBy() clause'
    );
}
var SI = class {
  convertValue(e, n = 'none') {
    switch (gs(e)) {
      case 0:
        return null;
      case 1:
        return e.booleanValue;
      case 2:
        return et(e.integerValue || e.doubleValue);
      case 3:
        return this.convertTimestamp(e.timestampValue);
      case 4:
        return this.convertServerTimestamp(e, n);
      case 5:
        return e.stringValue;
      case 6:
        return this.convertBytes(mo(e.bytesValue));
      case 7:
        return this.convertReference(e.referenceValue);
      case 8:
        return this.convertGeoPoint(e.geoPointValue);
      case 9:
        return this.convertArray(e.arrayValue, n);
      case 11:
        return this.convertObject(e.mapValue, n);
      case 10:
        return this.convertVectorValue(e.mapValue);
      default:
        throw fe();
    }
  }
  convertObject(e, n) {
    return this.convertObjectMap(e.fields, n);
  }
  convertObjectMap(e, n = 'none') {
    let r = {};
    return (
      cc(e, (i, o) => {
        r[i] = this.convertValue(o, n);
      }),
      r
    );
  }
  convertVectorValue(e) {
    var n, r, i;
    let o =
      (i =
        (r = (n = e.fields) === null || n === void 0 ? void 0 : n.value.arrayValue) === null ||
        r === void 0
          ? void 0
          : r.values) === null || i === void 0
        ? void 0
        : i.map((s) => et(s.doubleValue));
    return new Du(o);
  }
  convertGeoPoint(e) {
    return new Iu(et(e.latitude), et(e.longitude));
  }
  convertArray(e, n) {
    return (e.values || []).map((r) => this.convertValue(r, n));
  }
  convertServerTimestamp(e, n) {
    switch (n) {
      case 'previous':
        let r = kI(e);
        return r == null ? null : this.convertValue(r, n);
      case 'estimate':
        return this.convertTimestamp(pu(e));
      default:
        return null;
    }
  }
  convertTimestamp(e) {
    let n = Ei(e);
    return new Vt(n.seconds, n.nanos);
  }
  convertDocumentKey(e, n) {
    let r = ct.fromString(e);
    Ue(UP(r));
    let i = new Xp(r.get(1), r.get(3)),
      o = new ce(r.popFirst(5));
    return (
      i.isEqual(n) ||
        wi(
          `Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`
        ),
      o
    );
  }
};
function vO(t, e, n) {
  let r;
  return (
    (r = t ? (n && (n.merge || n.mergeFields) ? t.toFirestore(e, n) : t.toFirestore(e)) : e),
    r
  );
}
var $a = class {
    constructor(e, n) {
      ((this.hasPendingWrites = e), (this.fromCache = n));
    }
    isEqual(e) {
      return this.hasPendingWrites === e.hasPendingWrites && this.fromCache === e.fromCache;
    }
  },
  AI = class extends wm {
    constructor(e, n, r, i, o, s) {
      (super(e, n, r, i, s), (this._firestore = e), (this._firestoreImpl = e), (this.metadata = o));
    }
    exists() {
      return super.exists();
    }
    data(e = {}) {
      if (this._document) {
        if (this._converter) {
          let n = new Wa(
            this._firestore,
            this._userDataWriter,
            this._key,
            this._document,
            this.metadata,
            null
          );
          return this._converter.fromFirestore(n, e);
        }
        return this._userDataWriter.convertValue(this._document.data.value, e.serverTimestamps);
      }
    }
    get(e, n = {}) {
      if (this._document) {
        let r = this._document.data.field(gO('DocumentSnapshot.get', e));
        if (r !== null) return this._userDataWriter.convertValue(r, n.serverTimestamps);
      }
    }
  },
  Wa = class extends AI {
    data(e = {}) {
      return super.data(e);
    }
  },
  MI = class {
    constructor(e, n, r, i) {
      ((this._firestore = e),
        (this._userDataWriter = n),
        (this._snapshot = i),
        (this.metadata = new $a(i.hasPendingWrites, i.fromCache)),
        (this.query = r));
    }
    get docs() {
      let e = [];
      return (this.forEach((n) => e.push(n)), e);
    }
    get size() {
      return this._snapshot.docs.size;
    }
    get empty() {
      return this.size === 0;
    }
    forEach(e, n) {
      this._snapshot.docs.forEach((r) => {
        e.call(
          n,
          new Wa(
            this._firestore,
            this._userDataWriter,
            r.key,
            r,
            new $a(this._snapshot.mutatedKeys.has(r.key), this._snapshot.fromCache),
            this.query.converter
          )
        );
      });
    }
    docChanges(e = {}) {
      let n = !!e.includeMetadataChanges;
      if (n && this._snapshot.excludesMetadataChanges)
        throw new oe(
          j.INVALID_ARGUMENT,
          'To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().'
        );
      return (
        (this._cachedChanges && this._cachedChangesIncludeMetadataChanges === n) ||
          ((this._cachedChanges = (function (i, o) {
            if (i._snapshot.oldDocs.isEmpty()) {
              let s = 0;
              return i._snapshot.docChanges.map((a) => {
                let c = new Wa(
                  i._firestore,
                  i._userDataWriter,
                  a.doc.key,
                  a.doc,
                  new $a(i._snapshot.mutatedKeys.has(a.doc.key), i._snapshot.fromCache),
                  i.query.converter
                );
                return (a.doc, { type: 'added', doc: c, oldIndex: -1, newIndex: s++ });
              });
            }
            {
              let s = i._snapshot.oldDocs;
              return i._snapshot.docChanges
                .filter((a) => o || a.type !== 3)
                .map((a) => {
                  let c = new Wa(
                      i._firestore,
                      i._userDataWriter,
                      a.doc.key,
                      a.doc,
                      new $a(i._snapshot.mutatedKeys.has(a.doc.key), i._snapshot.fromCache),
                      i.query.converter
                    ),
                    u = -1,
                    d = -1;
                  return (
                    a.type !== 0 && ((u = s.indexOf(a.doc.key)), (s = s.delete(a.doc.key))),
                    a.type !== 1 && ((s = s.add(a.doc)), (d = s.indexOf(a.doc.key))),
                    { type: i8(a.type), doc: c, oldIndex: u, newIndex: d }
                  );
                });
            }
          })(this, n)),
          (this._cachedChangesIncludeMetadataChanges = n)),
        this._cachedChanges
      );
    }
  };
function i8(t) {
  switch (t) {
    case 0:
      return 'added';
    case 2:
    case 3:
      return 'modified';
    case 1:
      return 'removed';
    default:
      return fe();
  }
}
var xI = class extends SI {
  constructor(e) {
    (super(), (this.firestore = e));
  }
  convertBytes(e) {
    return new wu(e);
  }
  convertReference(e) {
    let n = this.convertDocumentKey(e, this.firestore._databaseId);
    return new Kn(this.firestore, null, n);
  }
};
function yO(t) {
  t = ic(t, gm);
  let e = ic(t.firestore, sc),
    n = aO(e),
    r = new xI(e);
  return (r8(t._query), Q5(n, t._query).then((i) => new MI(e, r, t, i)));
}
function _O(t, e, n) {
  t = ic(t, Kn);
  let r = ic(t.firestore, sc),
    i = vO(t.converter, e, n);
  return EO(r, [
    uO(lO(r), 'setDoc', t._key, i, t.converter !== null, n).toMutation(t._key, fo.none()),
  ]);
}
function wO(t, e) {
  let n = ic(t.firestore, sc),
    r = GI(t),
    i = vO(t.converter, e);
  return EO(n, [
    uO(lO(t.firestore), 'addDoc', r._key, i, t.converter !== null, {}).toMutation(
      r._key,
      fo.exists(!1)
    ),
  ]).then(() => r);
}
function EO(t, e) {
  return (function (r, i) {
    let o = new Vr();
    return (
      r.asyncQueue.enqueueAndForget(() =>
        C(this, null, function* () {
          return L5(yield K5(r), i, o);
        })
      ),
      o.promise
    );
  })(aO(t), e);
}
(function (e, n = !0) {
  ((function (i) {
    ac = i;
  })(eo),
    Ji(
      new Wn(
        'firestore',
        (r, { instanceIdentifier: i, options: o }) => {
          let s = r.getProvider('app').getImmediate(),
            a = new sc(
              new t0(r.getProvider('auth-internal')),
              new o0(r.getProvider('app-check-internal')),
              (function (u, d) {
                if (!Object.prototype.hasOwnProperty.apply(u.options, ['projectId']))
                  throw new oe(
                    j.INVALID_ARGUMENT,
                    '"projectId" not provided in firebase.initializeApp.'
                  );
                return new Xp(u.options.projectId, d);
              })(s, i),
              s
            );
          return ((o = Object.assign({ useFetchStreams: n }, o)), a._setSettings(o), a);
        },
        'PUBLIC'
      ).setMultipleInstances(!0)
    ),
    yt(kk, '4.7.3', e),
    yt(kk, '4.7.3', 'esm2017'));
})();
var Au = class {
    constructor(t) {
      return t;
    }
  },
  IO = 'firestore',
  s8 = class {
    constructor() {
      return $l(IO);
    }
  };
var KI = new X('angularfire2.firestore-instances');
function a8(t, e) {
  let n = qf(IO, t, e);
  return n && new Au(n);
}
function c8(t) {
  return (e, n) => {
    let r = e.runOutsideAngular(() => t(n));
    return new Au(r);
  };
}
var l8 = { provide: s8, deps: [[new $t(), KI]] },
  u8 = { provide: Au, useFactory: a8, deps: [[new $t(), KI], rs] };
function DO(t, ...e) {
  return (
    yt('angularfire', ns.full, 'fst'),
    _n([
      u8,
      l8,
      {
        provide: KI,
        useFactory: c8(t),
        multi: !0,
        deps: [Se, At, Sa, zl, [new $t(), aE], [new $t(), Gf], ...e],
      },
    ])
  );
}
var CO = Kt(wO, !0);
var YI = Kt(oO, !0);
var bO = Kt(GI, !0);
var Sm = Kt(yO, !0);
var TO = Kt(sO, !0);
var SO = Kt(_O, !0);
var Am = (() => {
  class t {
    auth;
    fireStore;
    reportSignal = sr([]);
    constructor(n, r) {
      ((this.auth = n), (this.fireStore = r));
    }
    createReport(n) {
      return C(this, null, function* () {
        try {
          let r = this.auth.currentUser;
          if (!r) throw new Error('User not logged in');
          let i = YI(this.fireStore, 'users', r.uid, 'reports');
          yield CO(i, n);
        } catch (r) {
          throw (console.error('Error creating report:', r), r);
        }
      });
    }
    getReports() {
      return C(this, null, function* () {
        try {
          let n = this.auth.currentUser;
          if (!n) throw new Error('User not logged in');
          let r = YI(this.fireStore, 'users', n.uid, 'reports'),
            i;
          try {
            ((i = yield Sm(r)),
              i.empty
                ? (console.log('Cache is empty, fetching from Firestore...'), (i = yield Sm(r)))
                : console.log('Loaded from cache'));
          } catch (s) {
            (console.warn('Cache unavailable, fetching from Firestore...', s), (i = yield Sm(r)));
          }
          let o = i.docs.map((s) => U({ id: s.id }, s.data()));
          return (this.reportSignal.set(o), o);
        } catch (n) {
          throw (console.error('Error getting reports:', n), n);
        }
      });
    }
    updateReport(n) {
      return C(this, null, function* () {
        try {
          let r = this.auth.currentUser;
          if (!r) throw new Error('User not logged in');
          let i = bO(this.fireStore, 'users', r.uid, 'reports', n.id);
          (yield SO(i, n, { merge: !0 }),
            console.log('Report successfully updated under:', `users/${r.uid}/reports/${n.id}`));
        } catch (r) {
          throw (console.error('Error updating report:', r), r);
        }
      });
    }
    static ɵfac = function (r) {
      return new (r || t)(le(An), le(Au));
    };
    static ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
  }
  return t;
})();
function h8(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'mwl-calendar-month-view', 9),
      ae('dayClicked', function (i) {
        J(n);
        let o = B();
        return ee(o.dayClicked(i.day));
      }),
      P());
  }
  if (t & 2) {
    let n = B();
    L('viewDate', n.viewDate)('events', n.events);
  }
}
function f8(t, e) {
  if ((t & 1 && ue(0, 'mwl-calendar-week-view', 10), t & 2)) {
    let n = B();
    L('viewDate', n.viewDate)('events', n.events);
  }
}
function p8(t, e) {
  if ((t & 1 && ue(0, 'mwl-calendar-day-view', 10), t & 2)) {
    let n = B();
    L('viewDate', n.viewDate)('events', n.events);
  }
}
function m8(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 11)(1, 'div', 12)(2, 'h3', 13),
      re(3),
      Qe(4, 'date'),
      P(),
      R(5, 'form')(6, 'div', 14)(7, 'label', 15),
      re(8, 'Hours'),
      P(),
      R(9, 'input', 16),
      jn('ngModelChange', function (i) {
        J(n);
        let o = B();
        return (cr(o.hours, i) || (o.hours = i), ee(i));
      }),
      P(),
      ue(10, 'div', 14),
      R(11, 'label', 17),
      re(12, 'Did you participate in the ministry today?'),
      P(),
      R(13, 'select', 18),
      jn('ngModelChange', function (i) {
        J(n);
        let o = B();
        return (cr(o.joined_ministry, i) || (o.joined_ministry = i), ee(i));
      }),
      R(14, 'option', 19),
      re(15, 'Yes'),
      P(),
      R(16, 'option', 20),
      re(17, 'No'),
      P()()(),
      R(18, 'div', 14)(19, 'label', 17),
      re(20, 'Notes'),
      P(),
      R(21, 'textarea', 21),
      jn('ngModelChange', function (i) {
        J(n);
        let o = B();
        return (cr(o.notes, i) || (o.notes = i), ee(i));
      }),
      P()(),
      R(22, 'div', 22)(23, 'p', 23),
      re(24, 'Warning: Please verify your input carefully. Once saved, changes cannot be undone.'),
      P()()(),
      R(25, 'button', 24),
      ae('click', function () {
        J(n);
        let i = B();
        return ee(i.saveReport());
      }),
      re(26, 'Save'),
      P(),
      R(27, 'button', 25),
      ae('click', function () {
        J(n);
        let i = B();
        return ee(i.closeModal());
      }),
      re(28, 'Close'),
      P()()());
  }
  if (t & 2) {
    let n = B();
    (V(3),
      Dn('Report for ', fn(4, 4, n.selectedDate, 'fullDate'), ''),
      V(6),
      Ln('ngModel', n.hours),
      V(4),
      Ln('ngModel', n.joined_ministry),
      V(8),
      Ln('ngModel', n.notes));
  }
}
var MO = (() => {
  class t {
    api;
    viewDate = new Date();
    selectedDate = null;
    dailyNotes = '';
    savedNotes = '';
    events = [];
    viewMode = 'month';
    hours = 0;
    joined_ministry = !1;
    notes = '';
    report_date = '';
    created_at = '';
    updated_at = '';
    constructor(n) {
      this.api = n;
    }
    ngOnInit() {
      this.loadReports();
    }
    previousMonth() {
      this.viewDate = jp(this.viewDate, 1);
    }
    nextMonth() {
      this.viewDate = Va(this.viewDate, 1);
    }
    dayClicked(n) {
      return C(this, null, function* () {
        this.selectedDate = n.date;
        let r = this.events.find(
          (i) => i.start.toDateString() === this.selectedDate?.toDateString()
        );
        r
          ? (console.log('Existing event found:', r),
            (this.hours = parseInt(r.title.split(' ')[0], 10)),
            (this.notes = this.savedNotes),
            (this.selectedDate = null))
          : ((this.hours = 0), (this.notes = ''));
      });
    }
    loadReports() {
      this.api
        .getReports()
        .then((n) => {
          this.events = n.map((r) => ({
            title: r.hours + ' Hours',
            start: new Date(r.report_date.seconds * 1e3),
            color: { primary: '#008000', secondary: '#90EE90' },
          }));
        })
        .catch((n) => {
          console.error('Error fetching reports:', n);
        });
    }
    closeModal() {
      this.selectedDate = null;
    }
    get dayOfWeek() {
      return this.viewDate.toLocaleDateString('en-US', { weekday: 'short' });
    }
    saveReport() {
      if (!this.selectedDate) {
        console.error('No date selected');
        return;
      }
      let n = {
        hours: this.hours,
        is_joined_ministry: this.joined_ministry,
        notes: this.notes,
        report_date: this.selectedDate,
        created_at: new Date(),
        updated_at: new Date(),
      };
      this.api
        .createReport(n)
        .then(() => {
          (console.log('Report saved'),
            (this.savedNotes = this.dailyNotes),
            (this.selectedDate = null),
            this.loadReports());
        })
        .catch((r) => {
          console.error('Error saving report:', r);
        });
    }
    static ɵfac = function (r) {
      return new (r || t)(k(Am));
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-calendar']],
      standalone: !0,
      features: [Mt],
      decls: 20,
      vars: 20,
      consts: [
        [1, 'flex', 'justify-between', 'items-center', 'mb-4'],
        [
          1,
          'px-4',
          'py-2',
          'bg-gray-300',
          'text-gray-800',
          'rounded',
          'hover:bg-gray-400',
          3,
          'click',
        ],
        [1, 'text-xl', 'font-semibold'],
        [1, 'flex', 'space-x-2', 'bg-gray-100', 'p-1', 'rounded-lg'],
        [
          1,
          'px-4',
          'py-2',
          'rounded-lg',
          'transition-colors',
          'duration-200',
          'text-gray-800',
          'hover:bg-green-500',
          'hover:text-white',
          3,
          'click',
        ],
        [1, 'calendar-container'],
        [3, 'viewDate', 'events', 'dayClicked', 4, 'ngIf'],
        [3, 'viewDate', 'events', 4, 'ngIf'],
        [
          'class',
          'fixed inset-0 flex items-center justify-center bg-black bg-opacity-50',
          4,
          'ngIf',
        ],
        [3, 'dayClicked', 'viewDate', 'events'],
        [3, 'viewDate', 'events'],
        [
          1,
          'fixed',
          'inset-0',
          'flex',
          'items-center',
          'justify-center',
          'bg-black',
          'bg-opacity-50',
        ],
        [
          1,
          'bg-white',
          'p-4',
          'rounded',
          'shadow-lg',
          'sm:w-full',
          'md:w-1/2',
          'lg:w-1/3',
          'xl:w-1/3',
          'max-h-full',
          'overflow-auto',
        ],
        [1, 'text-lg', 'font-medium', 'mb-2'],
        [1, 'mb-4'],
        ['for', 'hours', 1, 'block', 'text-sm', 'font-medium', 'text-gray-700'],
        [
          'type',
          'text',
          'id',
          'hours',
          'name',
          'title',
          1,
          'mt-1',
          'block',
          'w-full',
          'px-3',
          'py-2',
          'border',
          'border-gray-300',
          'rounded-md',
          'shadow-sm',
          'focus:outline-none',
          'focus:ring-indigo-500',
          'focus:border-indigo-500',
          'sm:text-sm',
          3,
          'ngModelChange',
          'ngModel',
        ],
        ['for', 'is_joined_ministry', 1, 'block', 'text-sm', 'font-medium', 'text-gray-700'],
        [
          'id',
          'is_joined_ministry',
          'name',
          'is_joined_ministry',
          1,
          'mt-1',
          'block',
          'w-full',
          'px-3',
          'py-2',
          'border',
          'border-gray-300',
          'rounded-md',
          'shadow-sm',
          'focus:outline-none',
          'focus:ring-indigo-500',
          'focus:border-indigo-500',
          'sm:text-sm',
          3,
          'ngModelChange',
          'ngModel',
        ],
        ['value', 'yes'],
        ['value', 'no'],
        [
          'id',
          'is_joined_ministry',
          'name',
          'is_joined_ministry',
          'rows',
          '4',
          1,
          'mt-1',
          'block',
          'w-full',
          'px-3',
          'py-2',
          'border',
          'border-gray-300',
          'rounded-md',
          'shadow-sm',
          'focus:outline-none',
          'focus:ring-indigo-500',
          'focus:border-indigo-500',
          'sm:text-sm',
          3,
          'ngModelChange',
          'ngModel',
        ],
        [1, 'mb-4', 'p-2', 'bg-yellow-100', 'border-l-4', 'border-yellow-500', 'text-yellow-700'],
        [1, 'text-sm'],
        [
          1,
          'px-4',
          'py-2',
          'bg-blue-500',
          'text-white',
          'rounded',
          'hover:bg-blue-700',
          'me-2',
          3,
          'click',
        ],
        [1, 'px-4', 'py-2', 'bg-red-500', 'text-white', 'rounded', 'hover:bg-red-700', 3, 'click'],
      ],
      template: function (r, i) {
        (r & 1 &&
          (R(0, 'div', 0)(1, 'button', 1),
          ae('click', function () {
            return i.previousMonth();
          }),
          re(2, ' \u25C0 '),
          P(),
          R(3, 'h2', 2),
          re(4),
          Qe(5, 'date'),
          P(),
          R(6, 'button', 1),
          ae('click', function () {
            return i.nextMonth();
          }),
          re(7, ' \u25B6 '),
          P()(),
          R(8, 'div', 3)(9, 'button', 4),
          ae('click', function () {
            return (i.viewMode = 'month');
          }),
          re(10, ' Month '),
          P(),
          R(11, 'button', 4),
          ae('click', function () {
            return (i.viewMode = 'week');
          }),
          re(12, ' Week '),
          P(),
          R(13, 'button', 4),
          ae('click', function () {
            return (i.viewMode = 'day');
          }),
          re(14, ' Day '),
          P()(),
          R(15, 'div', 5),
          ne(16, h8, 1, 2, 'mwl-calendar-month-view', 6)(17, f8, 1, 2, 'mwl-calendar-week-view', 7)(
            18,
            p8,
            1,
            2,
            'mwl-calendar-day-view',
            7
          ),
          P(),
          ne(19, m8, 29, 7, 'div', 8)),
          r & 2 &&
            (V(4),
            In(fn(5, 17, i.viewDate, 'MMMM yyyy')),
            V(5),
            pt('bg-green-600', i.viewMode === 'month')('text-white', i.viewMode === 'month'),
            V(2),
            pt('bg-green-600', i.viewMode === 'week')('text-white', i.viewMode === 'week'),
            V(2),
            pt('bg-green-600', i.viewMode === 'day')('text-white', i.viewMode === 'day'),
            V(3),
            L('ngIf', i.viewMode === 'month'),
            V(),
            L('ngIf', i.viewMode === 'week'),
            V(),
            L('ngIf', i.viewMode === 'day'),
            V(),
            L('ngIf', i.selectedDate)));
      },
      dependencies: [xk, HN, LE, $N, at, bt, XA, Ia, jf, Cx, Tx, Qi, Uf, Ea, Vf, Xo, Vl],
      styles: [
        '.custom-day-cell[_ngcontent-%COMP%]{text-align:center;padding:5px;min-height:50px}.event-box[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:3px;margin-top:3px;border-radius:4px;font-size:12px}@media (max-width: 600px){.cal-day-cell[_ngcontent-%COMP%]{min-height:50px;font-size:10px}}',
      ],
    });
  }
  return t;
})();
var g8 = (t, e) => ({
  'text-blue-500 border-b-2 border-blue-500 scale-105': t,
  'text-gray-500': e,
});
function v8(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 4),
      ae('click', function () {
        let i = J(n).$implicit,
          o = B();
        return ee(o.selectTab(i.id));
      }),
      R(1, 'div', 5),
      ue(2, 'i'),
      re(3),
      P()());
  }
  if (t & 2) {
    let n = e.$implicit,
      r = B();
    (L('ngClass', Ct(4, g8, r.activeTab === n.id, r.activeTab !== n.id)),
      V(2),
      sA(n.icon),
      V(),
      Dn(' ', n.title, ''));
  }
}
var xO = (() => {
  class t {
    tabChange = new K();
    activeTab = 'calendar';
    tabs = [
      {
        id: 'calendar',
        title: 'Calendar',
        icon: 'fas fa-calendar-altbi bi-calendar-date-fill',
        description: 'View upcoming events',
      },
      {
        id: 'reports',
        title: 'Reports',
        icon: 'bi bi-clipboard2-data',
        description: 'Track your progress',
      },
      {
        id: 'other',
        title: 'Settings',
        icon: 'bi bi-gear-fill',
        description: 'Customize options',
      },
    ];
    getActiveTabTitle() {
      let n = this.tabs.find((r) => r.id === this.activeTab);
      return n ? n.title : '';
    }
    selectTab(n) {
      ((this.activeTab = n), this.tabChange.emit(n));
    }
    static ɵfac = function (r) {
      return new (r || t)();
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-tab-card']],
      outputs: { tabChange: 'tabChange' },
      standalone: !0,
      features: [Mt],
      decls: 4,
      vars: 1,
      consts: [
        [
          1,
          'flex',
          'flex-col',
          'items-center',
          'py-4',
          'space-y-6',
          'w-full',
          'max-w-3xl',
          'mx-auto',
        ],
        [1, 'bg-white', 'shadow-md', 'border-t', 'border-gray-200', 'w-full'],
        [1, 'flex', 'justify-around', 'p-4'],
        [
          'class',
          'flex flex-col items-center cursor-pointer',
          3,
          'ngClass',
          'click',
          4,
          'ngFor',
          'ngForOf',
        ],
        [1, 'flex', 'flex-col', 'items-center', 'cursor-pointer', 3, 'click', 'ngClass'],
        [1, 'text-lg', 'font-semibold'],
      ],
      template: function (r, i) {
        (r & 1 && (R(0, 'div', 0)(1, 'div', 1)(2, 'div', 2), ne(3, v8, 4, 7, 'div', 3), P()()()),
          r & 2 && (V(3), L('ngForOf', i.tabs)));
      },
      dependencies: [at, Bn, Hn],
    });
  }
  return t;
})();
function y8(t, e) {
  if (t & 1) {
    let n = nt();
    (R(0, 'div', 11),
      ue(1, 'hr'),
      R(2, 'button', 12),
      ae('click', function () {
        J(n);
        let i = B();
        return ee(i.signOut());
      }),
      re(3, 'Sign Out'),
      P()());
  }
}
var RO = (() => {
  class t {
    authService;
    dropdownOpen = !1;
    userData;
    constructor(n) {
      ((this.authService = n),
        this.authService.user$.subscribe((r) => {
          this.userData = r;
        }));
    }
    toggleDropdown() {
      this.dropdownOpen = !this.dropdownOpen;
    }
    signOut() {
      this.authService.logout();
    }
    static ɵfac = function (r) {
      return new (r || t)(k(so));
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-header']],
      standalone: !0,
      features: [Mt],
      decls: 13,
      vars: 2,
      consts: [
        [1, 'bg-white', 'shadow-md', 'py-4', 'px-6', 'flex', 'items-center', 'justify-between'],
        [1, 'flex', 'items-center'],
        ['src', '/assets/images/logo.jpeg', 'alt', 'Logo', 1, 'w-14', 'h-14', 'rounded-full'],
        [1, 'ml-4', 'text-xl', 'font-semibold', 'text-gray-800'],
        [1, 'relative', 3, 'click'],
        [1, 'flex', 'items-center', 'space-x-3', 'focus:outline-none'],
        [1, 'bi', 'bi-person-circle', 'text-gray-800', 'text-2xl'],
        [1, 'text-gray-800', 'font-medium', 'hidden', 'sm:block'],
        [
          'fill',
          'none',
          'stroke',
          'currentColor',
          'stroke-width',
          '2',
          'viewBox',
          '0 0 24 24',
          1,
          'w-4',
          'h-4',
          'text-gray-600',
        ],
        ['stroke-linecap', 'round', 'stroke-linejoin', 'round', 'd', 'M19 9l-7 7-7-7'],
        [
          'class',
          'absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg z-10',
          4,
          'ngIf',
        ],
        [
          1,
          'absolute',
          'right-0',
          'mt-2',
          'w-48',
          'bg-white',
          'border',
          'rounded-lg',
          'shadow-lg',
          'z-10',
        ],
        [1, 'w-full', 'text-left', 'px-4', 'py-2', 'text-red-600', 'hover:bg-gray-100', 3, 'click'],
      ],
      template: function (r, i) {
        (r & 1 &&
          (R(0, 'header', 0)(1, 'div', 1),
          ue(2, 'img', 2),
          R(3, 'h1', 3),
          re(4, 'Field Service Trackr'),
          P()(),
          R(5, 'div', 4),
          ae('click', function () {
            return i.toggleDropdown();
          }),
          R(6, 'button', 5),
          ue(7, 'i', 6),
          R(8, 'span', 7),
          re(9),
          P(),
          Jc(),
          R(10, 'svg', 8),
          ue(11, 'path', 9),
          P()(),
          ne(12, y8, 4, 0, 'div', 10),
          P()()),
          r & 2 &&
            (V(9),
            In(i.userData == null ? null : i.userData.email),
            V(3),
            L('ngIf', i.dropdownOpen)));
      },
      dependencies: [at, bt],
    });
  }
  return t;
})();
function _8(t, e) {
  t & 1 && ue(0, 'i', 17);
}
function w8(t, e) {
  t & 1 && ue(0, 'i', 18);
}
function E8(t, e) {
  if (
    (t & 1 &&
      (R(0, 'div', 4)(1, 'div', 5),
      re(2, ' Monthly Report '),
      P(),
      R(3, 'div', 6),
      ue(4, 'i', 7),
      R(5, 'h3', 8),
      re(6),
      P()(),
      R(7, 'div', 9),
      ue(8, 'i', 10),
      R(9, 'p', 11),
      re(10, 'Hours: '),
      R(11, 'span', 12),
      re(12),
      P()()(),
      R(13, 'div', 13),
      ue(14, 'i', 14),
      R(15, 'p', 11),
      re(16, 'Participated in Ministry: \xA0 '),
      R(17, 'span', 12),
      ne(18, _8, 1, 0, 'i', 15)(19, w8, 1, 0, 'i', 16),
      P()()()()),
    t & 2)
  ) {
    let n = e.$implicit;
    (V(6),
      In(n.monthYear),
      V(6),
      In(n.hours),
      V(6),
      L('ngIf', n.is_joined_ministry),
      V(),
      L('ngIf', !n.is_joined_ministry));
  }
}
function I8(t, e) {
  if ((t & 1 && (R(0, 'div'), ne(1, E8, 20, 4, 'div', 3), P()), t & 2)) {
    let n = B();
    (V(), L('ngForOf', n.filteredReports()));
  }
}
function D8(t, e) {
  t & 1 &&
    (R(0, 'div', 19)(1, 'div', 20)(2, 'p', 21),
    re(3, 'You have no reports for this month.'),
    P(),
    ue(4, 'i', 22),
    P()());
}
var NO = (() => {
  class t {
    api;
    reports;
    constructor(n) {
      ((this.api = n), (this.reports = this.api.reportSignal()));
    }
    aggregatedReports = zo(() => {
      let n = {};
      return (
        this.reports.forEach((r) => {
          if (!r.report_date) return;
          let i = new Date(r.report_date.seconds * 1e3),
            o = `${i.getFullYear()}-${i.getMonth() + 1}`;
          (n[o] ||
            (n[o] = {
              hours: 0,
              minutes: 0,
              monthYear: this.formatDate(r.report_date),
              is_joined_ministry: r.is_joined_ministry,
            }),
            (n[o].hours += parseInt(r.hours, 10) || 0),
            (n[o].minutes += parseInt(r.minutes, 10) || 0));
        }),
        Object.values(n).forEach((r) => {
          ((r.hours += Math.floor(r.minutes / 60)), (r.minutes = r.minutes % 60));
        }),
        Object.values(n)
      );
    });
    formatDate(n) {
      return !n || !n.seconds
        ? 'Invalid Date'
        : new Date(n.seconds * 1e3).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
          });
    }
    filteredReports() {
      let n = this.aggregatedReports();
      return !n || n.length === 0
        ? []
        : (n.sort((r, i) => new Date(i.monthYear).getTime() - new Date(r.monthYear).getTime()),
          n.slice(0, 2));
    }
    static ɵfac = function (r) {
      return new (r || t)(k(Am));
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-reports']],
      standalone: !0,
      features: [Mt],
      decls: 4,
      vars: 2,
      consts: [
        ['noReports', ''],
        [
          1,
          'grid',
          'grid-cols-1',
          'sm:grid-cols-2',
          'md:grid-cols-3',
          'lg:grid-cols-1',
          'xl:grid-cols-1',
          'gap-6',
          'p-6',
        ],
        [4, 'ngIf', 'ngIfElse'],
        [
          'class',
          'relative p-6 bg-white shadow-md rounded-xl border border-gray-300 transition duration-300 hover:shadow-2xl hover:border-gray-400 mt-3',
          4,
          'ngFor',
          'ngForOf',
        ],
        [
          1,
          'relative',
          'p-6',
          'bg-white',
          'shadow-md',
          'rounded-xl',
          'border',
          'border-gray-300',
          'transition',
          'duration-300',
          'hover:shadow-2xl',
          'hover:border-gray-400',
          'mt-3',
        ],
        [
          1,
          'absolute',
          'top-2',
          'right-2',
          'px-3',
          'py-1',
          'bg-blue-100',
          'text-blue-600',
          'text-xs',
          'font-medium',
          'rounded-full',
          'shadow-sm',
        ],
        [1, 'flex', 'items-center', 'gap-3', 'border-b', 'pb-3', 'mb-3'],
        [1, 'bi', 'bi-calendar-event', 'text-indigo-500', 'text-2xl'],
        [1, 'text-xl', 'font-bold', 'text-gray-800'],
        [1, 'flex', 'items-center', 'gap-3', 'border-b', 'pb-2', 'mb-2'],
        [1, 'bi', 'bi-clock', 'text-blue-500', 'text-xl'],
        [1, 'text-gray-700'],
        [1, 'font-semibold', 'text-gray-900'],
        [1, 'flex', 'items-center', 'gap-3'],
        [1, 'bi', 'bi-people-fill', 'text-blue-500', 'text-lg'],
        ['class', 'bi bi-check-circle-fill text-green-500', 4, 'ngIf'],
        ['class', 'bi bi-x-circle-fill text-red-500', 4, 'ngIf'],
        [1, 'bi', 'bi-check-circle-fill', 'text-green-500'],
        [1, 'bi', 'bi-x-circle-fill', 'text-red-500'],
        [1, 'col-span-full'],
        [
          1,
          'mb-4',
          'p-2',
          'bg-yellow-100',
          'border-l-4',
          'border-yellow-500',
          'text-yellow-700',
          'flex',
          'align-items-center',
          'justify-between',
          'shadow-md',
        ],
        [1, 'text-base'],
        [1, 'bi', 'bi-exclamation-circle-fill', 'text-yellow-500', 'text-xl'],
      ],
      template: function (r, i) {
        if (
          (r & 1 &&
            (R(0, 'div', 1),
            ne(1, I8, 2, 1, 'div', 2)(2, D8, 5, 0, 'ng-template', null, 0, pn),
            P()),
          r & 2)
        ) {
          let o = mt(3);
          (V(), L('ngIf', i.aggregatedReports().length > 0)('ngIfElse', o));
        }
      },
      dependencies: [at, Hn, bt],
    });
  }
  return t;
})();
function C8(t, e) {
  t & 1 && (R(0, 'div'), ue(1, 'app-calendar'), P());
}
function b8(t, e) {
  t & 1 && (R(0, 'div', 5), ue(1, 'app-reports'), P());
}
function T8(t, e) {
  t & 1 &&
    (R(0, 'div', 5)(1, 'div', 6)(2, 'h2', 7),
    re(3, 'Coming Soon!'),
    P(),
    R(4, 'p', 8),
    re(5, 'Stay tuned for exciting updates and new features.'),
    P()()());
}
var kO = (() => {
  class t {
    auth;
    route;
    activeTab = 'calendar';
    constructor(n, r) {
      ((this.auth = n), (this.route = r), this.auth.user$.subscribe((i) => {}));
    }
    logout() {
      (this.auth.logout(), this.route.navigate(['/login']));
    }
    onTabChange(n) {
      this.activeTab = n;
    }
    static ɵfac = function (r) {
      return new (r || t)(k(so), k(cn));
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-home']],
      standalone: !0,
      features: [Mt],
      decls: 7,
      vars: 3,
      consts: [
        [3, 'tabChange'],
        [
          1,
          'sm:w-full',
          'md:w-1/2',
          'lg:w-1/2',
          'xl:w-1/3',
          'mx-auto',
          'mb-3',
          'px-2',
          'sm:px-2',
          'md:px-2',
          'lg:px-0',
          'xl:px-0',
        ],
        [1, ''],
        [4, 'ngIf'],
        ['class', 'space-y-4', 4, 'ngIf'],
        [1, 'space-y-4'],
        [1, 'bg-white', 'shadow-md', 'rounded-lg', 'p-4', 'text-center'],
        [1, 'text-2xl', 'font-bold', 'text-gray-800', 'mb-2'],
        [1, 'text-gray-500', 'mt-2'],
      ],
      template: function (r, i) {
        (r & 1 &&
          (ue(0, 'app-header'),
          R(1, 'app-tab-card', 0),
          ae('tabChange', function (s) {
            return i.onTabChange(s);
          }),
          P(),
          R(2, 'div', 1)(3, 'div', 2),
          ne(4, C8, 2, 0, 'div', 3)(5, b8, 2, 0, 'div', 4)(6, T8, 6, 0, 'div', 4),
          P()()),
          r & 2 &&
            (V(4),
            L('ngIf', i.activeTab === 'calendar'),
            V(),
            L('ngIf', i.activeTab === 'reports'),
            V(),
            L('ngIf', i.activeTab === 'other')));
      },
      dependencies: [MO, xO, RO, at, bt, NO],
    });
  }
  return t;
})();
function S8(t, e) {
  if ((t & 1 && (R(0, 'div', 12), re(1), P()), t & 2)) {
    let n = B();
    (V(), Dn(' ', n.errorMessage, ' '));
  }
}
var PO = (() => {
  class t {
    authService;
    email = '';
    password = '';
    confirmPassword = '';
    errorMessage = '';
    constructor(n) {
      this.authService = n;
    }
    signUp() {
      if (this.password !== this.confirmPassword) {
        this.errorMessage = 'Passwords do not match';
        return;
      }
      this.authService
        .signUp(this.email, this.password)
        .then(() => {
          console.log('User signed up');
        })
        .catch((n) => {
          (console.error('Error signing up:', n), (this.errorMessage = n.message));
        });
    }
    static ɵfac = function (r) {
      return new (r || t)(k(so));
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-register']],
      standalone: !0,
      features: [Mt],
      decls: 24,
      vars: 4,
      consts: [
        [1, 'flex', 'min-h-screen', 'items-center', 'justify-center', 'bg-gray-100'],
        [1, 'w-full', 'max-w-md', 'rounded-lg', 'bg-white', 'p-8', 'shadow-lg'],
        [1, 'mb-6', 'text-center', 'text-2xl', 'font-bold', 'text-gray-800'],
        [1, 'space-y-4'],
        [1, 'block', 'text-sm', 'font-medium', 'text-gray-600'],
        [
          'type',
          'email',
          'placeholder',
          'Enter your email',
          'name',
          'email',
          1,
          'mt-1',
          'w-full',
          'rounded-lg',
          'border',
          'border-gray-300',
          'px-4',
          'py-2',
          'focus:border-blue-500',
          'focus:ring-2',
          'focus:ring-blue-300',
          3,
          'ngModelChange',
          'ngModel',
        ],
        [
          'type',
          'password',
          'placeholder',
          'Enter your password',
          'name',
          'password',
          1,
          'mt-1',
          'w-full',
          'rounded-lg',
          'border',
          'border-gray-300',
          'px-4',
          'py-2',
          'focus:border-blue-500',
          'focus:ring-2',
          'focus:ring-blue-300',
          3,
          'ngModelChange',
          'ngModel',
        ],
        [
          'type',
          'password',
          'placeholder',
          'Confirm Password',
          'name',
          'confirmPassword',
          1,
          'mt-1',
          'w-full',
          'rounded-lg',
          'border',
          'border-gray-300',
          'px-4',
          'py-2',
          'focus:border-blue-500',
          'focus:ring-2',
          'focus:ring-blue-300',
          3,
          'ngModelChange',
          'ngModel',
        ],
        [
          1,
          'w-full',
          'rounded-lg',
          'bg-blue-600',
          'px-4',
          'py-2',
          'text-white',
          'hover:bg-blue-700',
          'transition',
          'duration-200',
          3,
          'click',
        ],
        [1, 'text-center', 'text-sm', 'text-gray-600'],
        ['routerLink', '/login', 1, 'text-blue-600', 'hover:underline'],
        ['class', 'mt-4 rounded-lg bg-red-100 p-3 text-center text-red-600', 4, 'ngIf'],
        [1, 'mt-4', 'rounded-lg', 'bg-red-100', 'p-3', 'text-center', 'text-red-600'],
      ],
      template: function (r, i) {
        (r & 1 &&
          (R(0, 'div', 0)(1, 'div', 1)(2, 'h2', 2),
          re(3, 'Create an Account'),
          P(),
          R(4, 'div', 3)(5, 'div')(6, 'label', 4),
          re(7, 'Email'),
          P(),
          R(8, 'input', 5),
          jn('ngModelChange', function (s) {
            return (cr(i.email, s) || (i.email = s), s);
          }),
          P()(),
          R(9, 'div')(10, 'label', 4),
          re(11, 'Password'),
          P(),
          R(12, 'input', 6),
          jn('ngModelChange', function (s) {
            return (cr(i.password, s) || (i.password = s), s);
          }),
          P()(),
          R(13, 'div')(14, 'label', 4),
          re(15, 'Confirm Password'),
          P(),
          R(16, 'input', 7),
          jn('ngModelChange', function (s) {
            return (cr(i.confirmPassword, s) || (i.confirmPassword = s), s);
          }),
          P()(),
          R(17, 'button', 8),
          ae('click', function () {
            return i.signUp();
          }),
          re(18, ' Sign Up '),
          P(),
          R(19, 'p', 9),
          re(20, ' Already have an account? '),
          R(21, 'a', 10),
          re(22, 'Log in'),
          P()()(),
          ne(23, S8, 2, 1, 'div', 11),
          P()()),
          r & 2 &&
            (V(8),
            Ln('ngModel', i.email),
            V(4),
            Ln('ngModel', i.password),
            V(4),
            Ln('ngModel', i.confirmPassword),
            V(7),
            L('ngIf', i.errorMessage)));
      },
      dependencies: [at, bt, Ia, Qi, Ea, Xo, Sf],
    });
  }
  return t;
})();
var QI = (() => {
  class t {
    auth = H(An);
    router = H(cn);
    isAuthenticated = sr(!1);
    constructor() {
      oo(this.auth, (n) => {
        this.isAuthenticated.set(!!n);
      });
    }
    canActivate() {
      return this.isAuthenticated() ? (this.router.navigateByUrl('/', { replaceUrl: !0 }), !1) : !0;
    }
    static ɵfac = function (r) {
      return new (r || t)();
    };
    static ɵprov = G({ token: t, factory: t.ɵfac, providedIn: 'root' });
  }
  return t;
})();
var OO = [
  { path: '', component: kO, canActivate: [oN] },
  { path: 'login', component: iN, canActivate: [QI] },
  { path: 'register', component: PO, canActivate: [QI] },
  { path: '**', redirectTo: 'login' },
];
var FO = {
  providers: [
    RA({ eventCoalescing: !0 }),
    ex(OO),
    yM(),
    nR(() => rR(tx.firebase)),
    DO(() => TO()),
    ZR(() => eN()),
  ],
};
var VO = (() => {
  class t {
    auth;
    router;
    constructor(n, r) {
      ((this.auth = n), (this.router = r));
    }
    ngOnInit() {
      oo(this.auth, (n) => {
        n ? this.router.navigateByUrl('/') : this.router.navigateByUrl('/login');
      });
    }
    static ɵfac = function (r) {
      return new (r || t)(k(An), k(cn));
    };
    static ɵcmp = Oe({
      type: t,
      selectors: [['app-root']],
      standalone: !0,
      features: [Mt],
      decls: 1,
      vars: 0,
      template: function (r, i) {
        r & 1 && ue(0, 'router-outlet');
      },
      dependencies: [F_],
      styles: ['.loading[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin-top:50px}'],
    });
  }
  return t;
})();
gM(VO, FO).catch((t) => console.error(t));
