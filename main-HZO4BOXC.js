var P1=Object.defineProperty,O1=Object.defineProperties;var F1=Object.getOwnPropertyDescriptors;var Ju=Object.getOwnPropertySymbols,V1=Object.getPrototypeOf,pC=Object.prototype.hasOwnProperty,mC=Object.prototype.propertyIsEnumerable,L1=Reflect.get;var fC=(n,e,t)=>e in n?P1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||={})pC.call(e,t)&&fC(n,t,e[t]);if(Ju)for(var t of Ju(e))mC.call(e,t)&&fC(n,t,e[t]);return n},ve=(n,e)=>O1(n,F1(e));var ed=(n,e)=>{var t={};for(var r in n)pC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ju)for(var r of Ju(n))e.indexOf(r)<0&&mC.call(n,r)&&(t[r]=n[r]);return t};var Ri=(n,e,t)=>L1(V1(n),t,e);var I=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function gC(n,e){return Object.is(n,e)}var Ct=null,td=!1,nd=1,Qr=Symbol("SIGNAL");function Pe(n){let e=Ct;return Ct=n,e}function vC(){return Ct}var kc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gg(n){if(td)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(n);let e=Ct.nextProducerIndex++;if(sd(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==n&&Nc(Ct)){let t=Ct.producerNode[e];od(t,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==n&&(Ct.producerNode[e]=n,Ct.producerIndexOfThis[e]=Nc(Ct)?EC(n,Ct,e):0),Ct.producerLastReadVersion[e]=n.version}function j1(){nd++}function yC(n){if(!(Nc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===nd)){if(!n.producerMustRecompute(n)&&!yg(n)){n.dirty=!1,n.lastCleanEpoch=nd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=nd}}function _C(n){if(n.liveConsumerNode===void 0)return;let e=td;td=!0;try{for(let t of n.liveConsumerNode)t.dirty||U1(t)}finally{td=e}}function wC(){return Ct?.consumerAllowSignalWrites!==!1}function U1(n){n.dirty=!0,_C(n),n.consumerMarkedDirty?.(n)}function id(n){return n&&(n.nextProducerIndex=0),Pe(n)}function vg(n,e){if(Pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Nc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)od(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function yg(n){sd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(yC(t),r!==t.version))return!0}return!1}function _g(n){if(sd(n),Nc(n))for(let e=0;e<n.producerNode.length;e++)od(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function EC(n,e,t){if(IC(n),n.liveConsumerNode.length===0&&DC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=EC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function od(n,e){if(IC(n),n.liveConsumerNode.length===1&&DC(n))for(let r=0;r<n.producerNode.length;r++)od(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];sd(i),i.producerIndexOfThis[r]=e}}function Nc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function sd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function IC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function DC(n){return n.producerNode!==void 0}function CC(n){let e=Object.create(B1);e.computation=n;let t=()=>{if(yC(e),gg(e),e.value===rd)throw e.error;return e.value};return t[Qr]=e,t}var pg=Symbol("UNSET"),mg=Symbol("COMPUTING"),rd=Symbol("ERRORED"),B1=ve(B({},kc),{value:pg,dirty:!0,error:null,equal:gC,producerMustRecompute(n){return n.value===pg||n.value===mg},producerRecomputeValue(n){if(n.value===mg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=mg;let t=id(n),r;try{r=n.computation()}catch(i){r=rd,n.error=i}finally{vg(n,t)}if(e!==pg&&e!==rd&&r!==rd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function H1(){throw new Error}var bC=H1;function TC(){bC()}function SC(n){bC=n}var $1=null;function AC(n){let e=Object.create(MC);e.value=n;let t=()=>(gg(e),e.value);return t[Qr]=e,t}function wg(n,e){wC()||TC(),n.equal(n.value,e)||(n.value=e,z1(n))}function xC(n,e){wC()||TC(),wg(n,e(n.value))}var MC=ve(B({},kc),{equal:gC,value:void 0});function z1(n){n.version++,j1(),_C(n),$1?.()}function ce(n){return typeof n=="function"}function Ps(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ad=Ps(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ao(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var st=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof ad?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RC(o)}catch(s){e=e??[],s instanceof ad?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ad(e)}}add(e){var t;if(e&&e!==this)if(this.closed)RC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ao(t,e)}remove(e){let{_finalizers:t}=this;t&&Ao(t,e),e instanceof n&&e._removeParent(this)}};st.EMPTY=(()=>{let n=new st;return n.closed=!0,n})();var Eg=st.EMPTY;function cd(n){return n instanceof st||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function RC(n){ce(n)?n():n.unsubscribe()}var Zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Os={setTimeout(n,e,...t){let{delegate:r}=Os;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Os;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ld(n){Os.setTimeout(()=>{let{onUnhandledError:e}=Zn;if(e)e(n);else throw n})}function Pc(){}var NC=Ig("C",void 0,void 0);function kC(n){return Ig("E",void 0,n)}function PC(n){return Ig("N",n,void 0)}function Ig(n,e,t){return{kind:n,value:e,error:t}}var xo=null;function Fs(n){if(Zn.useDeprecatedSynchronousErrorHandling){let e=!xo;if(e&&(xo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xo;if(xo=null,t)throw r}}else n()}function OC(n){Zn.useDeprecatedSynchronousErrorHandling&&xo&&(xo.errorThrown=!0,xo.error=n)}var Mo=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cd(e)&&e.add(this)):this.destination=G1}static create(e,t,r){return new Xr(e,t,r)}next(e){this.isStopped?Cg(PC(e),this):this._next(e)}error(e){this.isStopped?Cg(kC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cg(NC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},W1=Function.prototype.bind;function Dg(n,e){return W1.call(n,e)}var bg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ud(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ud(r)}else ud(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ud(t)}}},Xr=class extends Mo{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Zn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dg(e.next,o),error:e.error&&Dg(e.error,o),complete:e.complete&&Dg(e.complete,o)}):i=e}this.destination=new bg(i)}};function ud(n){Zn.useDeprecatedSynchronousErrorHandling?OC(n):ld(n)}function q1(n){throw n}function Cg(n,e){let{onStoppedNotification:t}=Zn;t&&Os.setTimeout(()=>t(n,e))}var G1={closed:!0,next:Pc,error:q1,complete:Pc};var Vs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function on(n){return n}function Tg(...n){return Sg(n)}function Sg(n){return n.length===0?on:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Y1(t)?t:new Xr(t,r,i);return Fs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=FC(r),new r((i,o)=>{let s=new Xr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Vs](){return this}pipe(...t){return Sg(t)(this)}toPromise(t){return t=FC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function FC(n){var e;return(e=n??Zn.Promise)!==null&&e!==void 0?e:Promise}function K1(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function Y1(n){return n&&n instanceof Mo||K1(n)&&cd(n)}function Ag(n){return ce(n?.lift)}function ye(n){return e=>{if(Ag(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(n,e,t,r,i){return new xg(n,e,t,r,i)}var xg=class extends Mo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ls(){return ye((n,e)=>{let t=null;n._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var js=class extends he{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ag(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let t=this.getSubject();e.add(this.source.subscribe(Ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return Ls()(this)}};var VC=Ps(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new dd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new VC}next(t){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Eg:(this.currentObservers=null,o.push(t),new st(()=>{this.currentObservers=null,Ao(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new dd(e,t),n})(),dd=class extends Te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Eg}};var at=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Oc={now(){return(Oc.delegate||Date).now()},delegate:void 0};var Fc=class extends Te{constructor(e=1/0,t=1/0,r=Oc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var hd=class extends st{constructor(e,t){super()}schedule(e,t=0){return this}};var Vc={setInterval(n,e,...t){let{delegate:r}=Vc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Vc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Us=class extends hd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Vc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Vc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ao(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Bs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Bs.now=Oc.now;var Hs=class extends Bs{constructor(e,t=Bs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var $s=new Hs(Us),Mg=$s;var fd=class extends Us{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var pd=class extends Hs{};var Rg=new pd(fd);var sn=new he(n=>n.complete());function md(n){return n&&ce(n.schedule)}function Ng(n){return n[n.length-1]}function gd(n){return ce(Ng(n))?n.pop():void 0}function wr(n){return md(Ng(n))?n.pop():void 0}function LC(n,e){return typeof Ng(n)=="number"?n.pop():e}var Lc=function(){return Lc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lc.apply(this,arguments)};function vd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function UC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function jC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ro(n){return this instanceof Ro?(this.v=n,this):new Ro(n)}function BC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(D){return Promise.resolve(D).then(m,f)}}function a(m,D){r[m]&&(i[m]=function(x){return new Promise(function(S,k){o.push([m,x,S,k])>1||c(m,x)})},D&&(i[m]=D(i[m])))}function c(m,D){try{u(r[m](D))}catch(x){v(o[0][3],x)}}function u(m){m.value instanceof Ro?Promise.resolve(m.value.v).then(d,f):v(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function v(m,D){m(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function HC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof jC=="function"?jC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var zs=n=>n&&typeof n.length=="number"&&typeof n!="function";function yd(n){return ce(n?.then)}function _d(n){return ce(n[Vs])}function wd(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function Ed(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Q1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Id=Q1();function Dd(n){return ce(n?.[Id])}function Cd(n){return BC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ro(t.read());if(i)return yield Ro(void 0);yield yield Ro(r)}}finally{t.releaseLock()}})}function bd(n){return ce(n?.getReader)}function He(n){if(n instanceof he)return n;if(n!=null){if(_d(n))return X1(n);if(zs(n))return Z1(n);if(yd(n))return J1(n);if(wd(n))return $C(n);if(Dd(n))return eF(n);if(bd(n))return tF(n)}throw Ed(n)}function X1(n){return new he(e=>{let t=n[Vs]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Z1(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function J1(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ld)})}function eF(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function $C(n){return new he(e=>{nF(n,e).catch(t=>e.error(t))})}function tF(n){return $C(Cd(n))}function nF(n,e){var t,r,i,o;return UC(this,void 0,void 0,function*(){try{for(t=HC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function fn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ni(n,e=0){return ye((t,r)=>{t.subscribe(Ie(r,i=>fn(r,n,()=>r.next(i),e),()=>fn(r,n,()=>r.complete(),e),i=>fn(r,n,()=>r.error(i),e)))})}function ki(n,e=0){return ye((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zC(n,e){return He(n).pipe(ki(e),Ni(e))}function WC(n,e){return He(n).pipe(ki(e),Ni(e))}function qC(n,e){return new he(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function GC(n,e){return new he(t=>{let r;return fn(t,e,()=>{r=n[Id](),fn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function Td(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{fn(t,e,()=>{let r=n[Symbol.asyncIterator]();fn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function KC(n,e){return Td(Cd(n),e)}function YC(n,e){if(n!=null){if(_d(n))return zC(n,e);if(zs(n))return qC(n,e);if(yd(n))return WC(n,e);if(wd(n))return Td(n,e);if(Dd(n))return GC(n,e);if(bd(n))return KC(n,e)}throw Ed(n)}function Je(n,e){return e?YC(n,e):He(n)}function pe(...n){let e=wr(n);return Je(n,e)}function Ws(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new he(e?i=>e.schedule(r,0,i):r)}function kg(n){return!!n&&(n instanceof he||ce(n.lift)&&ce(n.subscribe))}var Zr=Ps(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function QC(n){return n instanceof Date&&!isNaN(n)}function oe(n,e){return ye((t,r)=>{let i=0;t.subscribe(Ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:rF}=Array;function iF(n,e){return rF(e)?n(...e):n(e)}function qs(n){return oe(e=>iF(n,e))}var{isArray:oF}=Array,{getPrototypeOf:sF,prototype:aF,keys:cF}=Object;function Sd(n){if(n.length===1){let e=n[0];if(oF(e))return{args:e,keys:null};if(lF(e)){let t=cF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function lF(n){return n&&typeof n=="object"&&sF(n)===aF}function Ad(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gs(...n){let e=wr(n),t=gd(n),{args:r,keys:i}=Sd(n);if(r.length===0)return Je([],e);let o=new he(uF(r,e,i?s=>Ad(i,s):on));return t?o.pipe(qs(t)):o}function uF(n,e,t=on){return r=>{XC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)XC(e,()=>{let u=Je(n[c],e),d=!1;u.subscribe(Ie(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function XC(n,e,t){n?fn(t,n,e):e()}function ZC(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,v=()=>{f&&!c.length&&!u&&e.complete()},m=x=>u<r?D(x):c.push(x),D=x=>{o&&e.next(x),u++;let S=!1;He(t(x,d++)).subscribe(Ie(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;c.length&&u<r;){let k=c.shift();s?fn(e,s,()=>D(k)):D(k)}v()}catch(k){e.error(k)}}))};return n.subscribe(Ie(e,m,()=>{f=!0,v()})),()=>{a?.()}}function qe(n,e,t=1/0){return ce(e)?qe((r,i)=>oe((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),ye((r,i)=>ZC(r,i,n,t)))}function jc(n=1/0){return qe(on,n)}function JC(){return jc(1)}function Ks(...n){return JC()(Je(n,wr(n)))}function xd(n){return new he(e=>{He(n()).subscribe(e)})}function Pg(...n){let e=gd(n),{args:t,keys:r}=Sd(n),i=new he(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;He(t[d]).subscribe(Ie(o,v=>{f||(f=!0,u--),a[d]=v},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?Ad(r,a):a),o.complete())}))}});return e?i.pipe(qs(e)):i}var dF=["addListener","removeListener"],hF=["addEventListener","removeEventListener"],fF=["on","off"];function Pi(n,e,t,r){if(ce(t)&&(r=t,t=void 0),r)return Pi(n,e,t).pipe(qs(r));let[i,o]=gF(n)?hF.map(s=>a=>n[s](e,a,t)):pF(n)?dF.map(eb(n,e)):mF(n)?fF.map(eb(n,e)):[];if(!i&&zs(n))return qe(s=>Pi(s,e,t))(He(n));if(!i)throw new TypeError("Invalid event target");return new he(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function eb(n,e){return t=>r=>n[t](e,r)}function pF(n){return ce(n.addListener)&&ce(n.removeListener)}function mF(n){return ce(n.on)&&ce(n.off)}function gF(n){return ce(n.addEventListener)&&ce(n.removeEventListener)}function Uc(n=0,e,t=Mg){let r=-1;return e!=null&&(md(e)?t=e:r=e),new he(i=>{let o=QC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Og(n=0,e=$s){return n<0&&(n=0),Uc(n,n,e)}function On(...n){let e=wr(n),t=LC(n,1/0),r=n;return r.length?r.length===1?He(r[0]):jc(t)(Je(r,e)):sn}function Ye(n,e){return ye((t,r)=>{let i=0;t.subscribe(Ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Oi(n){return ye((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ie(t,void 0,void 0,s=>{o=He(n(s,Oi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Md(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Ie(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function tb(n,e){return ye(Md(n,e,arguments.length>=2,!1,!0))}function No(n,e){return ce(e)?qe(n,e,1):qe(n,1)}function Fg(n){return tb((e,t,r)=>!n||n(t,r)?e+1:e,0)}function Fi(n){return ye((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Wt(n){return n<=0?()=>sn:ye((e,t)=>{let r=0;e.subscribe(Ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Vg(n){return oe(()=>n)}function Lg(n,e=on){return n=n??vF,ye((t,r)=>{let i,o=!0;t.subscribe(Ie(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function vF(n,e){return n===e}function Rd(n=yF){return ye((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yF(){return new Zr}function Ys(n){return ye((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Jn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ye((i,o)=>n(i,o,r)):on,Wt(1),t?Fi(e):Rd(()=>new Zr))}function Vi(n){return n<=0?()=>sn:ye((e,t)=>{let r=[];e.subscribe(Ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function jg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ye((i,o)=>n(i,o,r)):on,Vi(1),t?Fi(e):Rd(()=>new Zr))}function Qs(){return ye((n,e)=>{let t,r=!1;n.subscribe(Ie(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function Ug(n,e){return ye(Md(n,e,arguments.length>=2,!0))}function Fn(n={}){let{connector:e=()=>new Te,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,f=!1,v=()=>{a?.unsubscribe(),a=void 0},m=()=>{v(),s=c=void 0,d=f=!1},D=()=>{let x=s;m(),x?.unsubscribe()};return ye((x,S)=>{u++,!f&&!d&&v();let k=c=c??e();S.add(()=>{u--,u===0&&!f&&!d&&(a=Bg(D,i))}),k.subscribe(S),!s&&u>0&&(s=new Xr({next:j=>k.next(j),error:j=>{f=!0,v(),a=Bg(m,t,j),k.error(j)},complete:()=>{d=!0,v(),a=Bg(m,r),k.complete()}}),He(x).subscribe(s))})(o)}}function Bg(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Xr({next:()=>{r.unsubscribe(),n()}});return He(e(...t)).subscribe(r)}function ko(...n){let e=wr(n);return ye((t,r)=>{(e?Ks(n,t,e):Ks(n,t)).subscribe(r)})}function Ft(n,e){return ye((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ie(r,c=>{i?.unsubscribe();let u=0,d=o++;He(n(c,d)).subscribe(i=Ie(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hg(n,e){return ce(e)?Ft(()=>n,e):Ft(()=>n)}function pn(n){return ye((e,t)=>{He(n).subscribe(Ie(t,()=>t.complete(),Pc)),!t.closed&&e.subscribe(t)})}function rt(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ie(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):on}var Gb="https://g.co/ng/security#xss",te=class extends Error{constructor(e,t){super(Eh(e,t)),this.code=e}};function Eh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Jc(n){return{toString:n}.toString()}var Nd="__parameters__";function _F(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Kb(n,e,t){return Jc(()=>{let r=_F(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Nd)?c[Nd]:Object.defineProperty(c,Nd,{value:[]})[Nd];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Jr=globalThis;function $e(n){for(let e in n)if(n[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function wF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ln(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ln).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function ov(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var EF=$e({__forward_ref__:$e});function ri(n){return n.__forward_ref__=ri,n.toString=function(){return ln(this())},n}function an(n){return Yb(n)?n():n}function Yb(n){return typeof n=="function"&&n.hasOwnProperty(EF)&&n.__forward_ref__===ri}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ih(n){return nb(n,Xb)||nb(n,Zb)}function Qb(n){return Ih(n)!==null}function nb(n,e){return n.hasOwnProperty(e)?n[e]:null}function IF(n){let e=n&&(n[Xb]||n[Zb]);return e||null}function rb(n){return n&&(n.hasOwnProperty(ib)||n.hasOwnProperty(DF))?n[ib]:null}var Xb=$e({\u0275prov:$e}),ib=$e({\u0275inj:$e}),Zb=$e({ngInjectableDef:$e}),DF=$e({ngInjectorDef:$e}),ne=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jb(n){return n&&!!n.\u0275providers}var CF=$e({\u0275cmp:$e}),bF=$e({\u0275dir:$e}),TF=$e({\u0275pipe:$e}),SF=$e({\u0275mod:$e}),Gd=$e({\u0275fac:$e}),$c=$e({__NG_ELEMENT_ID__:$e}),ob=$e({__NG_ENV_ID__:$e});function el(n){return typeof n=="string"?n:n==null?"":String(n)}function AF(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():el(n)}function xF(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new te(-200,n)}function ty(n,e){throw new te(-201,!1)}var Ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ce||{}),sv;function eT(){return sv}function mn(n){let e=sv;return sv=n,e}function tT(n,e,t){let r=Ih(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ce.Optional)return null;if(e!==void 0)return e;ty(n,"Injector")}var MF={},zc=MF,av="__NG_DI_FLAG__",Kd="ngTempTokenPath",RF="ngTokenPath",NF=/\n/gm,kF="\u0275",sb="__source",ea;function PF(){return ea}function Li(n){let e=ea;return ea=n,e}function OF(n,e=Ce.Default){if(ea===void 0)throw new te(-203,!1);return ea===null?tT(n,void 0,e):ea.get(n,e&Ce.Optional?null:void 0,e)}function ue(n,e=Ce.Default){return(eT()||OF)(an(n),e)}function H(n,e=Ce.Default){return ue(n,Dh(e))}function Dh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function cv(n){let e=[];for(let t=0;t<n.length;t++){let r=an(n[t]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=Ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=FF(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(ue(i,o))}else e.push(ue(r))}return e}function nT(n,e){return n[av]=e,n.prototype[av]=e,n}function FF(n){return n[av]}function VF(n,e,t,r){let i=n[Kd];throw e[sb]&&i.unshift(e[sb]),n.message=LF(`
`+n.message,i,t,r),n[RF]=i,n[Kd]=null,n}function LF(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==kF?n.slice(2):n;let i=ln(e);if(Array.isArray(e))i=e.map(ln).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ln(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(NF,`
  `)}`}var Gt=nT(Kb("Optional"),8);var ny=nT(Kb("SkipSelf"),4);function Fo(n,e){let t=n.hasOwnProperty(Gd);return t?n[Gd]:null}function ry(n,e){n.forEach(t=>Array.isArray(t)?ry(t,e):e(t))}function rT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function iy(n,e,t){let r=tl(n,e);return r>=0?n[r|1]=t:(r=~r,jF(n,r,e,t)),r}function $g(n,e){let t=tl(n,e);if(t>=0)return n[t|1]}function tl(n,e){return UF(n,e,1)}function UF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var na={},cn=[],Vo=new ne(""),iT=new ne("",-1),oT=new ne(""),Qd=class{get(e,t=zc){if(t===zc){let r=new Error(`NullInjectorError: No provider for ${ln(e)}!`);throw r.name="NullInjectorError",r}return t}},sT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(sT||{}),Dr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dr||{}),Ui=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ui||{});function BF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function lv(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];HF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function aT(n){return n===3||n===4||n===6}function HF(n){return n.charCodeAt(0)===64}function Wc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ab(n,t,i,null,e[++r]):ab(n,t,i,null,null))}}return n}function ab(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var cT="ng-template";function $F(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&BF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(oy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function oy(n){return n.type===4&&n.value!==cT}function zF(n,e,t){let r=n.type===4&&!t?cT:n.value;return e===r}function WF(n,e,t){let r=4,i=n.attrs,o=i!==null?KF(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!er(r)&&!er(c))return!1;if(s&&er(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!zF(n,c,t)||c===""&&e.length===1){if(er(r))return!1;s=!0}}else if(r&8){if(i===null||!$F(n,i,c,t)){if(er(r))return!1;s=!0}}else{let u=e[++a],d=qF(c,i,oy(n),t);if(d===-1){if(er(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(er(r))return!1;s=!0}}}}return er(r)||s}function er(n){return(n&1)===0}function qF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return YF(e,n)}function GF(n,e,t=!1){for(let r=0;r<e.length;r++)if(WF(n,e[r],t))return!0;return!1}function KF(n){for(let e=0;e<n.length;e++){let t=n[e];if(aT(t))return e}return n.length}function YF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function cb(n,e){return n?":not("+e.trim()+")":e}function QF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!er(s)&&(e+=cb(o,i),i=""),r=s,o=o||!er(r);t++}return i!==""&&(e+=cb(o,i)),e}function XF(n){return n.map(QF).join(",")}function ZF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!er(i))break;i=o}r++}return{attrs:e,classes:t}}function Ne(n){return Jc(()=>{let e=fT(n),t=ve(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===sT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,styles:n.styles||cn,_:null,schemas:n.schemas||null,tView:null,id:""});pT(t);let r=n.dependencies;return t.directiveDefs=ub(r,!1),t.pipeDefs=ub(r,!0),t.id=tV(t),t})}function JF(n){return Lo(n)||lT(n)}function eV(n){return n!==null}function Tt(n){return Jc(()=>({type:n.type,bootstrap:n.bootstrap||cn,declarations:n.declarations||cn,imports:n.imports||cn,exports:n.exports||cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lb(n,e){if(n==null)return na;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ui.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ui.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Re(n){return Jc(()=>{let e=fT(n);return pT(e),e})}function ii(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Lo(n){return n[CF]||null}function lT(n){return n[bF]||null}function uT(n){return n[TF]||null}function dT(n){let e=Lo(n)||lT(n)||uT(n);return e!==null?e.standalone:!1}function hT(n,e){let t=n[SF]||null;if(!t&&e===!0)throw new Error(`Type ${ln(n)} does not have '\u0275mod' property.`);return t}function fT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||na,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||cn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lb(n.inputs,e),outputs:lb(n.outputs),debugInfo:null}}function pT(n){n.features?.forEach(e=>e(n))}function ub(n,e){if(!n)return null;let t=e?uT:JF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(eV)}function tV(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Cn(n){return{\u0275providers:n}}function nV(...n){return{\u0275providers:mT(!0,n),\u0275fromNgModule:!0}}function mT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ry(e,s=>{let a=s;uv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&gT(i,o),t}function gT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];sy(i,o=>{e(o,r)})}}function uv(n,e,t,r){if(n=an(n),!n)return!1;let i=null,o=rb(n),s=!o&&Lo(n);if(!o&&!s){let c=n.ngModule;if(o=rb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)uv(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ry(o.imports,d=>{uv(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&gT(u,e)}if(!a){let u=Fo(i)||(()=>new i);e({provide:i,useFactory:u,deps:cn},i),e({provide:oT,useValue:i,multi:!0},i),e({provide:Vo,useValue:()=>ue(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;sy(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function sy(n,e){for(let t of n)Jb(t)&&(t=t.\u0275providers),Array.isArray(t)?sy(t,e):e(t)}var rV=$e({provide:String,useValue:$e});function vT(n){return n!==null&&typeof n=="object"&&rV in n}function iV(n){return!!(n&&n.useExisting)}function oV(n){return!!(n&&n.useFactory)}function ra(n){return typeof n=="function"}function sV(n){return!!n.useClass}var Ch=new ne(""),Hd={},aV={},zg;function ay(){return zg===void 0&&(zg=new Qd),zg}var Ln=class{},qc=class extends Ln{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hv(e,s=>this.processProvider(s)),this.records.set(iT,Xs(void 0,this)),i.has("environment")&&this.records.set(Ln,Xs(void 0,this));let o=this.records.get(Ch);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oT,cn,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Li(this),r=mn(void 0),i;try{return e()}finally{Li(t),mn(r)}}get(e,t=zc,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ob))return e[ob](this);r=Dh(r);let i,o=Li(this),s=mn(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=hV(e)&&Ih(e);u&&this.injectableDefInScope(u)?c=Xs(dv(e),Hd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ce.Self?ay():this.parent;return t=r&Ce.Optional&&t===zc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Kd]=a[Kd]||[]).unshift(ln(e)),o)throw a;return VF(a,e,"R3InjectorError",this.source)}else throw a}finally{mn(s),Li(o)}}resolveInjectorInitializers(){let e=Pe(null),t=Li(this),r=mn(void 0),i;try{let o=this.get(Vo,cn,Ce.Self);for(let s of o)s()}finally{Li(t),mn(r),Pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ln(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=an(e);let t=ra(e)?e:an(e&&e.provide),r=lV(e);if(!ra(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Xs(void 0,Hd,!0),i.factory=()=>cv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Pe(null);try{return t.value===Hd&&(t.value=aV,t.value=t.factory()),typeof t.value=="object"&&t.value&&dV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=an(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function dv(n){let e=Ih(n),t=e!==null?e.factory:Fo(n);if(t!==null)return t;if(n instanceof ne)throw new te(204,!1);if(n instanceof Function)return cV(n);throw new te(204,!1)}function cV(n){if(n.length>0)throw new te(204,!1);let t=IF(n);return t!==null?()=>t.factory(n):()=>new n}function lV(n){if(vT(n))return Xs(void 0,n.useValue);{let e=yT(n);return Xs(e,Hd)}}function yT(n,e,t){let r;if(ra(n)){let i=an(n);return Fo(i)||dv(i)}else if(vT(n))r=()=>an(n.useValue);else if(oV(n))r=()=>n.useFactory(...cv(n.deps||[]));else if(iV(n))r=()=>ue(an(n.useExisting));else{let i=an(n&&(n.useClass||n.provide));if(uV(n))r=()=>new i(...cv(n.deps));else return Fo(i)||dv(i)}return r}function Xs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function uV(n){return!!n.deps}function dV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function hV(n){return typeof n=="function"||typeof n=="object"&&n instanceof ne}function hv(n,e){for(let t of n)Array.isArray(t)?hv(t,e):t&&Jb(t)?hv(t.\u0275providers,e):e(t)}function Sr(n,e){n instanceof qc&&n.assertNotDestroyed();let t,r=Li(n),i=mn(void 0);try{return e()}finally{Li(r),mn(i)}}function fV(){return eT()!==void 0||PF()!=null}function pV(n){return typeof n=="function"}var Dn=0,be=1,me=2,qt=3,nr=4,sr=5,Cr=6,Xd=7,ir=8,ia=9,br=10,Qe=11,Gc=12,db=13,ha=14,jn=15,oa=16,Zs=17,sa=18,bh=19,_T=20,ji=21,Wg=22,Vn=23,pt=25,wT=1,Kc=6,ei=7,Zd=8,Jd=9,In=10,eh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(eh||{});function rr(n){return Array.isArray(n)&&typeof n[wT]=="object"}function Ar(n){return Array.isArray(n)&&n[wT]===!0}function cy(n){return(n.flags&4)!==0}function nl(n){return n.componentOffset>-1}function Th(n){return(n.flags&1)===1}function Bi(n){return!!n.template}function th(n){return(n[me]&512)!==0}var fv=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ET(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Kt(){return IT}function IT(n){return n.type.prototype.ngOnChanges&&(n.setInput=gV),mV}Kt.ngInherit=!0;function mV(){let n=CT(this),e=n?.current;if(e){let t=n.previous;if(t===na)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function gV(n,e,t,r,i){let o=this.declaredInputs[r],s=CT(n)||vV(n,{previous:na,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new fv(u&&u.currentValue,t,c===na),ET(n,e,i,t)}var DT="__ngSimpleChanges__";function CT(n){return n[DT]||null}function vV(n,e){return n[DT]=e}var hb=null;var Er=function(n,e,t){hb?.(n,e,t)},bT="svg",yV="math";function or(n){for(;Array.isArray(n);)n=n[Dn];return n}function TT(n,e){return or(e[n])}function bn(n,e){return or(e[n.index])}function ST(n,e){return n.data[e]}function Sh(n,e){return n[e]}function Wi(n,e){let t=e[n];return rr(t)?t:t[Dn]}function ly(n){return(n[me]&128)===128}function _V(n){return Ar(n[qt])}function aa(n,e){return e==null?null:n[e]}function AT(n){n[Zs]=0}function xT(n){n[me]&1024||(n[me]|=1024,ly(n)&&xh(n))}function wV(n,e){for(;n>0;)e=e[ha],n--;return e}function Ah(n){return!!(n[me]&9216||n[Vn]?.dirty)}function pv(n){n[br].changeDetectionScheduler?.notify(8),n[me]&64&&(n[me]|=1024),Ah(n)&&xh(n)}function xh(n){n[br].changeDetectionScheduler?.notify(0);let e=jo(n);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!ly(e)));)e=jo(e)}function MT(n,e){if((n[me]&256)===256)throw new te(911,!1);n[ji]===null&&(n[ji]=[]),n[ji].push(e)}function EV(n,e){if(n[ji]===null)return;let t=n[ji].indexOf(e);t!==-1&&n[ji].splice(t,1)}function jo(n){let e=n[qt];return Ar(e)?e[qt]:e}var we={lFrame:UT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var RT=!1;function IV(){return we.lFrame.elementDepthCount}function DV(){we.lFrame.elementDepthCount++}function CV(){we.lFrame.elementDepthCount--}function NT(){return we.bindingsEnabled}function rl(){return we.skipHydrationRootTNode!==null}function bV(n){return we.skipHydrationRootTNode===n}function TV(n){we.skipHydrationRootTNode=n}function SV(){we.skipHydrationRootTNode=null}function De(){return we.lFrame.lView}function Vt(){return we.lFrame.tView}function K(n){return we.lFrame.contextLView=n,n[ir]}function Y(n){return we.lFrame.contextLView=null,n}function Yt(){let n=kT();for(;n!==null&&n.type===64;)n=n.parent;return n}function kT(){return we.lFrame.currentTNode}function AV(){let n=we.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function zo(n,e){let t=we.lFrame;t.currentTNode=n,t.isParent=e}function uy(){return we.lFrame.isParent}function PT(){we.lFrame.isParent=!1}function xV(){return we.lFrame.contextLView}function OT(){return RT}function fb(n){RT=n}function Bn(){let n=we.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function MV(n){return we.lFrame.bindingIndex=n}function Mh(){return we.lFrame.bindingIndex++}function FT(n){let e=we.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function RV(){return we.lFrame.inI18n}function NV(n,e){let t=we.lFrame;t.bindingIndex=t.bindingRootIndex=n,mv(e)}function kV(){return we.lFrame.currentDirectiveIndex}function mv(n){we.lFrame.currentDirectiveIndex=n}function PV(n){let e=we.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function VT(n){we.lFrame.currentQueryIndex=n}function OV(n){let e=n[be];return e.type===2?e.declTNode:e.type===1?n[sr]:null}function LT(n,e,t){if(t&Ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ce.Host);)if(i=OV(o),i===null||(o=o[ha],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=we.lFrame=jT();return r.currentTNode=e,r.lView=n,!0}function dy(n){let e=jT(),t=n[be];we.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jT(){let n=we.lFrame,e=n===null?null:n.child;return e===null?UT(n):e}function UT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function BT(){let n=we.lFrame;return we.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var HT=BT;function hy(){let n=BT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FV(n){return(we.lFrame.contextLView=wV(n,we.lFrame.contextLView))[ir]}function Wo(){return we.lFrame.selectedIndex}function Uo(n){we.lFrame.selectedIndex=n}function fy(){let n=we.lFrame;return ST(n.tView,n.selectedIndex)}function il(){we.lFrame.currentNamespace=bT}function py(){VV()}function VV(){we.lFrame.currentNamespace=null}function $T(){return we.lFrame.currentNamespace}var zT=!0;function Rh(){return zT}function qi(n){zT=n}function LV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=IT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Nh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function $d(n,e,t){WT(n,e,3,t)}function zd(n,e,t,r){(n[me]&3)===t&&WT(n,e,t,r)}function qg(n,e){let t=n[me];(t&3)===e&&(t&=16383,t+=1,n[me]=t)}function WT(n,e,t,r){let i=r!==void 0?n[Zs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Zs]+=65536),(a<o||o==-1)&&(jV(n,t,e,c),n[Zs]=(n[Zs]&4294901760)+c+2),c++}function pb(n,e){Er(4,n,e);let t=Pe(null);try{e.call(n)}finally{Pe(t),Er(5,n,e)}}function jV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[me]>>14<n[Zs]>>16&&(n[me]&3)===e&&(n[me]+=16384,pb(a,o)):pb(a,o)}var ta=-1,Bo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function UV(n){return n instanceof Bo}function BV(n){return(n.flags&8)!==0}function HV(n){return(n.flags&16)!==0}var Gg={},gv=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Dh(r);let i=this.injector.get(e,Gg,r);return i!==Gg||t===Gg?i:this.parentInjector.get(e,t,r)}};function qT(n){return n!==ta}function nh(n){return n&32767}function $V(n){return n>>16}function rh(n,e){let t=$V(n),r=e;for(;t>0;)r=r[ha],t--;return r}var vv=!0;function ih(n){let e=vv;return vv=n,e}var zV=256,GT=zV-1,KT=5,WV=0,Ir={};function qV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty($c)&&(r=t[$c]),r==null&&(r=t[$c]=WV++);let i=r&GT,o=1<<i;e.data[n+(i>>KT)]|=o}function oh(n,e){let t=YT(n,e);if(t!==-1)return t;let r=e[be];r.firstCreatePass&&(n.injectorIndex=e.length,Kg(r.data,n),Kg(e,null),Kg(r.blueprint,null));let i=my(n,e),o=n.injectorIndex;if(qT(i)){let s=nh(i),a=rh(i,e),c=a[be].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Kg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function YT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function my(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=eS(i),r===null)return ta;if(t++,i=i[ha],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ta}function yv(n,e,t){qV(n,e,t)}function GV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(aT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function QT(n,e,t){if(t&Ce.Optional||n!==void 0)return n;ty(e,"NodeInjector")}function XT(n,e,t,r){if(t&Ce.Optional&&r===void 0&&(r=null),!(t&(Ce.Self|Ce.Host))){let i=n[ia],o=mn(void 0);try{return i?i.get(e,r,t&Ce.Optional):tT(e,r,t&Ce.Optional)}finally{mn(o)}}return QT(r,e,t)}function ZT(n,e,t,r=Ce.Default,i){if(n!==null){if(e[me]&2048&&!(r&Ce.Self)){let s=ZV(n,e,t,r,Ir);if(s!==Ir)return s}let o=JT(n,e,t,r,Ir);if(o!==Ir)return o}return XT(e,t,r,i)}function JT(n,e,t,r,i){let o=QV(t);if(typeof o=="function"){if(!LT(e,n,r))return r&Ce.Host?QT(i,t,r):XT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ce.Optional))ty(t);else return s}finally{HT()}}else if(typeof o=="number"){let s=null,a=YT(n,e),c=ta,u=r&Ce.Host?e[jn][sr]:null;for((a===-1||r&Ce.SkipSelf)&&(c=a===-1?my(n,e):e[a+8],c===ta||!gb(r,!1)?a=-1:(s=e[be],a=nh(c),e=rh(c,e)));a!==-1;){let d=e[be];if(mb(o,a,d.data)){let f=KV(a,e,t,s,r,u);if(f!==Ir)return f}c=e[a+8],c!==ta&&gb(r,e[be].data[a+8]===u)&&mb(o,a,e)?(s=d,a=nh(c),e=rh(c,e)):a=-1}}return i}function KV(n,e,t,r,i,o){let s=e[be],a=s.data[n+8],c=r==null?nl(a)&&vv:r!=s&&(a.type&3)!==0,u=i&Ce.Host&&o===a,d=YV(a,s,t,c,u);return d!==null?ca(e,s,d,a):Ir}function YV(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,v=i?a+d:u;for(let m=f;m<v;m++){let D=s[m];if(m<c&&t===D||m>=c&&D.type===t)return m}if(i){let m=s[c];if(m&&Bi(m)&&m.type===t)return c}return null}function ca(n,e,t,r){let i=n[t],o=e.data;if(UV(i)){let s=i;s.resolving&&xF(AF(o[t]));let a=ih(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?mn(s.injectImpl):null,d=LT(n,r,Ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&LV(t,o[t],e)}finally{u!==null&&mn(u),ih(a),s.resolving=!1,HT()}}return i}function QV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty($c)?n[$c]:void 0;return typeof e=="number"?e>=0?e&GT:XV:e}function mb(n,e,t){let r=1<<n;return!!(t[e+(n>>KT)]&r)}function gb(n,e){return!(n&Ce.Self)&&!(n&Ce.Host&&e)}var Oo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ZT(this._tNode,this._lView,e,Dh(r),t)}};function XV(){return new Oo(Yt(),De())}function xr(n){return Jc(()=>{let e=n.prototype.constructor,t=e[Gd]||_v(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Gd]||_v(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _v(n){return Yb(n)?()=>{let e=_v(an(n));return e&&e()}:Fo(n)}function ZV(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[me]&2048&&!(s[me]&512);){let a=JT(o,s,t,r|Ce.Self,Ir);if(a!==Ir)return a;let c=o.parent;if(!c){let u=s[_T];if(u){let d=u.get(t,Ir,r);if(d!==Ir)return d}c=eS(s),s=s[ha]}o=c}return i}function eS(n){let e=n[be],t=e.type;return t===2?e.declTNode:t===1?n[sr]:null}function gy(n){return GV(Yt(),n)}function vb(n,e=null,t=null,r){let i=tS(n,e,t,r);return i.resolveInjectorInitializers(),i}function tS(n,e=null,t=null,r,i=new Set){let o=[t||cn,nV(n)];return r=r||(typeof n=="object"?void 0:ln(n)),new qc(o,e||ay(),r||null,i)}var xt=class n{static{this.THROW_IF_NOT_FOUND=zc}static{this.NULL=new Qd}static create(e,t){if(Array.isArray(e))return vb({name:""},t,e,"");{let r=e.name??"";return vb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Q({token:n,providedIn:"any",factory:()=>ue(iT)})}static{this.__NG_ELEMENT_ID__=-1}};var JV=new ne("");JV.__NG_ELEMENT_ID__=n=>{let e=Yt();if(e===null)throw new te(204,!1);if(e.type&2)return e.value;if(n&Ce.Optional)return null;throw new te(204,!1)};var eL="ngOriginalError";function Yg(n){return n[eL]}var nS=!0,rS=(()=>{class n{static{this.__NG_ELEMENT_ID__=tL}static{this.__NG_ENV_ID__=t=>t}}return n})(),wv=class extends rS{constructor(e){super(),this._lView=e}onDestroy(e){return MT(this._lView,e),()=>EV(this._lView,e)}};function tL(){return new wv(De())}var qo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new at(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Ev=class extends Te{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,fV()&&(this.destroyRef=H(rS,{optional:!0})??void 0,this.pendingTasks=H(qo,{optional:!0})??void 0)}emit(e){let t=Pe(null);try{super.next(e)}finally{Pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof st&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},J=Ev;function sh(...n){}function iS(n){let e,t;function r(){n=sh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function yb(n){return queueMicrotask(()=>n()),()=>{n=sh}}var vy="isAngularZone",ah=vy+"_ID",nL=0,Se=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new J(!1),this.onMicrotaskEmpty=new J(!1),this.onStable=new J(!1),this.onError=new J(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=nS}=e;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,oL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rL,sh,sh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},rL={};function yy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function iL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){iS(()=>{n.callbackScheduled=!1,Iv(n),n.isCheckStableRunning=!0,yy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Iv(n)}function oL(n){let e=()=>{iL(n)},t=nL++;n._inner=n._inner.fork({name:"angular",properties:{[vy]:!0,[ah]:t,[ah+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(sL(c))return r.invokeTask(o,s,a,c);try{return _b(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),wb(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return _b(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!aL(c)&&e(),wb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Iv(n),yy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Iv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function _b(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wb(n){n._nesting--,yy(n)}var Dv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new J,this.onMicrotaskEmpty=new J,this.onStable=new J,this.onError=new J}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function sL(n){return oS(n,"__ignore_ng_zone__")}function aL(n){return oS(n,"__scheduler_tick__")}function oS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ti=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yg(e);for(;t&&Yg(t);)t=Yg(t);return t||null}},cL=new ne("",{providedIn:"root",factory:()=>{let n=H(Se),e=H(ti);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function lL(){return kh(Yt(),De())}function kh(n,e){return new et(bn(n,e))}var et=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=lL}}return n})();var uL="ngSkipHydration",dL="ngskiphydration";function sS(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===dL)return!0}return!1}function aS(n){return n.hasAttribute(uL)}function ch(n){return(n.flags&128)===128}function hL(n){if(ch(n))return!0;let e=n.parent;for(;e;){if(ch(n)||sS(e))return!0;e=e.parent}return!1}var cS=new Map,fL=0;function pL(){return fL++}function mL(n){cS.set(n[bh],n)}function Cv(n){cS.delete(n[bh])}var Eb="__ngContext__";function Hi(n,e){rr(e)?(n[Eb]=e[bh],mL(e)):n[Eb]=e}function lS(n){return dS(n[Gc])}function uS(n){return dS(n[nr])}function dS(n){for(;n!==null&&!Ar(n);)n=n[nr];return n}var bv;function hS(n){bv=n}function ol(){if(bv!==void 0)return bv;if(typeof document<"u")return document;throw new te(210,!1)}var Ph=new ne("",{providedIn:"root",factory:()=>gL}),gL="ng",_y=new ne(""),gn=new ne("",{providedIn:"platform",factory:()=>"unknown"});var wy=new ne("",{providedIn:"root",factory:()=>ol().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function vL(){let n=new fa;return H(gn)==="browser"&&(n.store=yL(ol(),H(Ph))),n}var fa=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:vL})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function yL(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var fS="h",pS="b",Tv=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Tv||{}),_L="e",wL="t",Ey="c",mS="x",lh="r",EL="i",IL="n",gS="d";var DL="__nghData__",vS=DL,Qg="ngh",CL="nghm",yS=()=>null;function bL(n,e,t=!1){let r=n.getAttribute(Qg);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,c={};if(r!==""){let d=e.get(fa,null,{optional:!0});d!==null&&(c=d.get(vS,[])[Number(r)])}let u={data:c,firstChild:n.firstChild??null};return t&&(u.firstChild=n,Oh(u,0,n.nextSibling)),a?n.setAttribute(Qg,a):n.removeAttribute(Qg),u}function TL(){yS=bL}function Iy(n,e,t=!1){return yS(n,e,t)}function SL(n){let e=n._lView;return e[be].type===2?null:(th(e)&&(e=e[pt]),e)}function AL(n){return n.textContent?.replace(/\s/gm,"")}function xL(n){let e=ol(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=AL(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Oh(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Sv(n,e){return n.segmentHeads?.[e]??null}function ML(n,e){let t=n.data,r=t[_L]?.[e]??null;return r===null&&t[Ey]?.[e]&&(r=Dy(n,e)),r}function _S(n,e){return n.data[Ey]?.[e]??null}function Dy(n,e){let t=_S(n,e)??[],r=0;for(let i of t)r+=i[lh]*(i[mS]??1);return r}function RL(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[gS];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function sl(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[gS];n.disconnectedNodes=t?new Set(t):null}return!!RL(n)?.has(e)}var kd=new ne(""),wS=!1,ES=new ne("",{providedIn:"root",factory:()=>wS});var Pd;function NL(){if(Pd===void 0&&(Pd=null,Jr.trustedTypes))try{Pd=Jr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pd}function Fh(n){return NL()?.createHTML(n)||n}var Od;function IS(){if(Od===void 0&&(Od=null,Jr.trustedTypes))try{Od=Jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Od}function Ib(n){return IS()?.createHTML(n)||n}function Db(n){return IS()?.createScriptURL(n)||n}var uh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gb})`}};function Go(n){return n instanceof uh?n.changingThisBreaksApplicationSecurity:n}function Vh(n,e){let t=kL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Gb})`)}return t===e}function kL(n){return n instanceof uh&&n.getTypeName()||null}function PL(n){let e=new xv(n);return OL()?new Av(e):e}var Av=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Fh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},xv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Fh(e),t}};function OL(){try{return!!new window.DOMParser().parseFromString(Fh(""),"text/html")}catch{return!1}}var FL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cy(n){return n=String(n),n.match(FL)?n:"unsafe:"+n}function oi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function al(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var DS=oi("area,br,col,hr,img,wbr"),CS=oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bS=oi("rp,rt"),VL=al(bS,CS),LL=al(CS,oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jL=al(bS,oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cb=al(DS,LL,jL,VL),TS=oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),UL=oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),BL=oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),HL=al(TS,UL,BL),$L=oi("script,style,template"),Mv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=qL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=WL(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=bb(e).toLowerCase();if(!Cb.hasOwnProperty(t))return this.sanitizedSomething=!0,!$L.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!HL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;TS[a]&&(c=Cy(c)),this.buf.push(" ",s,'="',Tb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=bb(e).toLowerCase();Cb.hasOwnProperty(t)&&!DS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Tb(e))}};function zL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function WL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw SS(e);return e}function qL(n){let e=n.firstChild;if(e&&zL(n,e))throw SS(e);return e}function bb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function SS(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var GL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KL=/([^\#-~ |!])/g;function Tb(n){return n.replace(/&/g,"&amp;").replace(GL,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(KL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Fd;function AS(n,e){let t=null;try{Fd=Fd||PL(n);let r=e?String(e):"";t=Fd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Fd.getInertBodyElement(r)}while(r!==o);let a=new Mv().sanitizeChildren(Sb(t)||t);return Fh(a)}finally{if(t){let r=Sb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Sb(n){return"content"in n&&YL(n)?n.content:null}function YL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var cl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(cl||{});function Lh(n){let e=by();return e?Ib(e.sanitize(cl.HTML,n)||""):Vh(n,"HTML")?Ib(Go(n)):AS(ol(),el(n))}function QL(n){let e=by();return e?e.sanitize(cl.URL,n)||"":Vh(n,"URL")?Go(n):Cy(el(n))}function XL(n){let e=by();if(e)return Db(e.sanitize(cl.RESOURCE_URL,n)||"");if(Vh(n,"ResourceURL"))return Db(Go(n));throw new te(904,!1)}function ZL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?XL:QL}function xS(n,e,t){return ZL(e,t)(n)}function by(){let n=De();return n&&n[br].sanitizer}var JL=/^>|^->|<!--|-->|--!>|<!-$/g,e2=/(<|>)/g,t2="\u200B$1\u200B";function n2(n){return n.replace(JL,e=>e.replace(e2,t2))}function r2(n){return n.ownerDocument.body}function MS(n){return n instanceof Function?n():n}function Vd(n){return(n??H(xt)).get(gn)==="browser"}var Tr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Tr||{}),i2;function Ty(n,e){return i2(n,e)}function Js(n,e,t,r,i){if(r!=null){let o,s=!1;Ar(r)?o=r:rr(r)&&(s=!0,r=r[Dn]);let a=or(r);n===0&&t!==null?i==null?FS(e,t,a):dh(e,t,a,i||null,!0):n===1&&t!==null?dh(e,t,a,i||null,!0):n===2?xy(e,a,s):n===3&&e.destroyNode(a),o!=null&&_2(e,n,o,t,i)}}function RS(n,e){return n.createText(e)}function o2(n,e,t){n.setValue(e,t)}function NS(n,e){return n.createComment(n2(e))}function Sy(n,e,t){return n.createElement(e,t)}function s2(n,e){kS(n,e),e[Dn]=null,e[sr]=null}function a2(n,e,t,r,i,o){r[Dn]=i,r[sr]=e,Uh(n,r,t,1,i,o)}function kS(n,e){e[br].changeDetectionScheduler?.notify(9),Uh(n,e,e[Qe],2,null,null)}function c2(n){let e=n[Gc];if(!e)return Xg(n[be],n);for(;e;){let t=null;if(rr(e))t=e[Gc];else{let r=e[In];r&&(t=r)}if(!t){for(;e&&!e[nr]&&e!==n;)rr(e)&&Xg(e[be],e),e=e[qt];e===null&&(e=n),rr(e)&&Xg(e[be],e),t=e&&e[nr]}e=t}}function l2(n,e,t,r){let i=In+r,o=t.length;r>0&&(t[i-1][nr]=e),r<o-In?(e[nr]=t[i],rT(t,In+r,e)):(t.push(e),e[nr]=null),e[qt]=t;let s=e[oa];s!==null&&t!==s&&PS(s,e);let a=e[sa];a!==null&&a.insertView(n),pv(e),e[me]|=128}function PS(n,e){let t=n[Jd],r=e[qt];if(rr(r))n[me]|=eh.HasTransplantedViews;else{let i=r[qt][jn];e[jn]!==i&&(n[me]|=eh.HasTransplantedViews)}t===null?n[Jd]=[e]:t.push(e)}function Ay(n,e){let t=n[Jd],r=t.indexOf(e);t.splice(r,1)}function Rv(n,e){if(n.length<=In)return;let t=In+e,r=n[t];if(r){let i=r[oa];i!==null&&i!==n&&Ay(i,r),e>0&&(n[t-1][nr]=r[nr]);let o=Yd(n,In+e);s2(r[be],r);let s=o[sa];s!==null&&s.detachView(o[be]),r[qt]=null,r[nr]=null,r[me]&=-129}return r}function OS(n,e){if(!(e[me]&256)){let t=e[Qe];t.destroyNode&&Uh(n,e,t,3,null,null),c2(e)}}function Xg(n,e){if(e[me]&256)return;let t=Pe(null);try{e[me]&=-129,e[me]|=256,e[Vn]&&_g(e[Vn]),d2(n,e),u2(n,e),e[be].type===1&&e[Qe].destroy();let r=e[oa];if(r!==null&&Ar(e[qt])){r!==e[qt]&&Ay(r,e);let i=e[sa];i!==null&&i.detachView(n)}Cv(e)}finally{Pe(t)}}function u2(n,e){let t=n.cleanup,r=e[Xd];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Xd]=null);let i=e[ji];if(i!==null){e[ji]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function d2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Bo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Er(4,a,c);try{c.call(a)}finally{Er(5,a,c)}}else{Er(4,i,o);try{o.call(i)}finally{Er(5,i,o)}}}}}function h2(n,e,t){return f2(n,e.parent,t)}function f2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Dn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Dr.None||o===Dr.Emulated)return null}return bn(r,t)}}function dh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function FS(n,e,t){n.appendChild(e,t)}function Ab(n,e,t,r,i){r!==null?dh(n,e,t,r,i):FS(n,e,t)}function VS(n,e){return n.parentNode(e)}function p2(n,e){return n.nextSibling(e)}function m2(n,e,t){return v2(n,e,t)}function g2(n,e,t){return n.type&40?bn(n,t):null}var v2=g2,xb;function jh(n,e,t,r){let i=h2(n,r,e),o=e[Qe],s=r.parent||e[sr],a=m2(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Ab(o,i,t[c],a,!1);else Ab(o,i,t,a,!1);xb!==void 0&&xb(o,r,e,t,i)}function Bc(n,e){if(e!==null){let t=e.type;if(t&3)return bn(e,n);if(t&4)return Nv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Bc(n,r);{let i=n[e.index];return Ar(i)?Nv(-1,i):or(i)}}else{if(t&128)return Bc(n,e.next);if(t&32)return Ty(e,n)()||or(n[e.index]);{let r=LS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=jo(n[jn]);return Bc(i,r)}else return Bc(n,e.next)}}}return null}function LS(n,e){if(e!==null){let r=n[jn][sr],i=e.projection;return r.projection[i]}return null}function Nv(n,e){let t=In+n+1;if(t<e.length){let r=e[t],i=r[be].firstChild;if(i!==null)return Bc(r,i)}return e[ei]}function xy(n,e,t){n.removeChild(null,e,t)}function jS(n){n.textContent=""}function My(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Hi(or(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)My(n,e,t.child,r,i,o,!1),Js(e,n,i,a,o);else if(c&32){let u=Ty(t,r),d;for(;d=u();)Js(e,n,i,d,o);Js(e,n,i,a,o)}else c&16?y2(n,e,r,t,i,o):Js(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Uh(n,e,t,r,i,o){My(t,r,n.firstChild,e,i,o,!1)}function y2(n,e,t,r,i,o){let s=t[jn],c=s[sr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Js(e,n,i,d,o)}else{let u=c,d=s[qt];ch(r)&&(u.flags|=128),My(n,e,u,d,i,o,!0)}}function _2(n,e,t,r,i){let o=t[ei],s=or(t);o!==s&&Js(e,n,r,o,i);for(let a=In;a<t.length;a++){let c=t[a];Uh(c[be],c,n,e,r,o)}}function w2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Tr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tr.Important),n.setStyle(t,r,i,o))}}function E2(n,e,t){n.setAttribute(e,"style",t)}function US(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function BS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&lv(n,e,r),i!==null&&US(n,e,i),o!==null&&E2(n,e,o)}var Mr={};function O(n=1){HS(Vt(),De(),Wo()+n,!1)}function HS(n,e,t,r){if(!r)if((e[me]&3)===3){let o=n.preOrderCheckHooks;o!==null&&$d(e,o,t)}else{let o=n.preOrderHooks;o!==null&&zd(e,o,0,t)}Uo(t)}function P(n,e=Ce.Default){let t=De();if(t===null)return ue(n,e);let r=Yt();return ZT(r,t,an(n),e)}function $S(n,e,t,r,i,o){let s=Pe(null);try{let a=null;i&Ui.SignalBased&&(a=e[r][Qr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ui.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):ET(e,a,r,o)}finally{Pe(s)}}function I2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Uo(~i);else{let o=i,s=t[++r],a=t[++r];NV(s,o);let c=e[o];a(2,c)}}}finally{Uo(-1)}}function Bh(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[Dn]=i,f[me]=r|4|128|8|64,(u!==null||n&&n[me]&2048)&&(f[me]|=2048),AT(f),f[qt]=f[ha]=n,f[ir]=t,f[br]=s||n&&n[br],f[Qe]=a||n&&n[Qe],f[ia]=c||n&&n[ia]||null,f[sr]=o,f[bh]=pL(),f[Cr]=d,f[_T]=u,f[jn]=e.type==2?n[jn]:f,f}function ll(n,e,t,r,i){let o=n.data[e];if(o===null)o=D2(n,e,t,r,i),RV()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=AV();o.injectorIndex=s===null?-1:s.injectorIndex}return zo(o,!0),o}function D2(n,e,t,r,i){let o=kT(),s=uy(),a=s?o:o&&o.parent,c=n.data[e]=x2(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function zS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function WS(n,e,t,r,i){let o=Wo(),s=r&2;try{Uo(-1),s&&e.length>pt&&HS(n,e,pt,!1),Er(s?2:0,i),t(r,i)}finally{Uo(o),Er(s?3:1,i)}}function Ry(n,e,t){if(cy(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Pe(r)}}}function Ny(n,e,t){NT()&&(O2(n,e,t,bn(t,e)),(t.flags&64)===64&&QS(n,e,t))}function ky(n,e,t=bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function qS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Py(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Py(n,e,t,r,i,o,s,a,c,u,d){let f=pt+r,v=f+i,m=C2(f,v),D=typeof u=="function"?u():u;return m[be]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:d}}function C2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mr);return t}function b2(n,e,t,r){let o=r.get(ES,wS)||t===Dr.ShadowDom,s=n.selectRootElement(e,o);return T2(s),s}function T2(n){GS(n)}var GS=()=>null;function S2(n){aS(n)?jS(n):xL(n)}function A2(){GS=S2}function x2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return rl()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Mb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Ui.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?Rb(r,t,u,a,c):Rb(r,t,u,a)}return r}function Rb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function M2(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=o[d],v=t?t.get(f):null,m=v?v.inputs:null,D=v?v.outputs:null;c=Mb(0,f.inputs,d,c,m),u=Mb(1,f.outputs,d,u,D);let x=c!==null&&s!==null&&!oy(e)?q2(c,d,s):null;a.push(x)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function R2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function KS(n,e,t,r,i,o,s,a){let c=bn(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(Fy(n,t,d,r,i),nl(e)&&N2(t,e.index)):e.type&3?(r=R2(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function N2(n,e){let t=Wi(e,n);t[me]&16||(t[me]|=64)}function Oy(n,e,t,r){if(NT()){let i=r===null?null:{"":-1},o=V2(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&YS(n,e,t,s,i,a),i&&L2(t,r,i)}t.mergedAttrs=Wc(t.mergedAttrs,t.attrs)}function YS(n,e,t,r,i,o){for(let u=0;u<r.length;u++)yv(oh(t,e),n,r[u].type);U2(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=zS(n,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];t.mergedAttrs=Wc(t.mergedAttrs,d.hostAttrs),B2(n,t,e,c,d),j2(c,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}M2(n,t,o)}function k2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;P2(s)!=a&&s.push(a),s.push(t,r,o)}}function P2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function O2(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;nl(t)&&H2(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||oh(t,e),Hi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],u=ca(e,n,a,t);if(Hi(u,e),s!==null&&W2(e,a-i,u,c,t,s),Bi(c)){let d=Wi(t.index,e);d[ir]=ca(e,n,a,t)}}}function QS(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=kV();try{Uo(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];mv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&F2(c,u)}}finally{Uo(-1),mv(s)}}function F2(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function V2(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(GF(e,s.selectors,!1))if(r||(r=[]),Bi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;kv(n,e,c)}else r.unshift(s),kv(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function kv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function L2(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function j2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Bi(e)&&(t[""]=n)}}function U2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function B2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Fo(i.type,!0)),s=new Bo(o,Bi(i),P);n.blueprint[r]=s,t[r]=s,k2(n,e,r,zS(n,t,i.hostVars,Mr),i)}function H2(n,e,t){let r=bn(e,n),i=qS(t),o=n[br].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Hh(n,Bh(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function $2(n,e,t,r,i,o){let s=bn(n,e);z2(e[Qe],s,o,n.value,t,r,i)}function z2(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?el(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function W2(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],d=s[a++],f=s[a++];$S(r,t,c,u,d,f)}}function q2(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function XS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ZS(n,e){let t=n.contentQueries;if(t!==null){let r=Pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];VT(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function Hh(n,e){return n[Gc]?n[db][nr]=e:n[Gc]=e,n[db]=e,e}function Pv(n,e,t){VT(0);let r=Pe(null);try{e(n,t)}finally{Pe(r)}}function G2(n){return n[Xd]??=[]}function K2(n){return n.cleanup??=[]}function JS(n,e){let t=n[ia],r=t?t.get(ti,null):null;r&&r.handleError(e)}function Fy(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=e[s],d=n.data[s];$S(d,u,r,a,c,i)}}function Y2(n,e,t){let r=TT(e,n);o2(n[Qe],r,t)}function Q2(n,e){let t=Wi(e,n),r=t[be];X2(r,t);let i=t[Dn];i!==null&&t[Cr]===null&&(t[Cr]=Iy(i,t[ia])),Vy(r,t,t[ir])}function X2(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vy(n,e,t){dy(e);try{let r=n.viewQuery;r!==null&&Pv(1,r,t);let i=n.template;i!==null&&WS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[sa]?.finishViewCreation(n),n.staticContentQueries&&ZS(n,e),n.staticViewQueries&&Pv(2,n.viewQuery,t);let o=n.components;o!==null&&Z2(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[me]&=-5,hy()}}function Z2(n,e){for(let t=0;t<e.length;t++)Q2(n,e[t])}function J2(n,e,t,r){let i=Pe(null);try{let o=e.tView,a=n[me]&4096?4096:16,c=Bh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[oa]=u;let d=n[sa];return d!==null&&(c[sa]=d.createEmbeddedView(o)),Vy(o,c,t),c}finally{Pe(i)}}function Nb(n,e){return!e||e.firstChild===null||ch(n)}function ej(n,e,t,r=!0){let i=e[be];if(l2(i,e,n,t),r){let s=Nv(t,n),a=e[Qe],c=VS(a,n[ei]);c!==null&&a2(i,n[sr],a,e,c,s)}let o=e[Cr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(or(o)),Ar(o)&&tj(o,r);let s=t.type;if(s&8)hh(n,e,t.child,r);else if(s&32){let a=Ty(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=LS(e,t);if(Array.isArray(a))r.push(...a);else{let c=jo(e[jn]);hh(c[be],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function tj(n,e){for(let t=In;t<n.length;t++){let r=n[t],i=r[be].firstChild;i!==null&&hh(r[be],r,i,e)}n[ei]!==n[Dn]&&e.push(n[ei])}var eA=[];function nj(n){return n[Vn]??rj(n)}function rj(n){let e=eA.pop()??Object.create(oj);return e.lView=n,e}function ij(n){n.lView[Vn]!==n&&(n.lView=null,eA.push(n))}var oj=ve(B({},kc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{xh(n.lView)},consumerOnSignalRead(){this.lView[Vn]=this}});function sj(n){let e=n[Vn]??Object.create(aj);return e.lView=n,e}var aj=ve(B({},kc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=jo(n.lView);for(;e&&!tA(e[be]);)e=jo(e);e&&xT(e)},consumerOnSignalRead(){this.lView[Vn]=this}});function tA(n){return n.type!==2}var cj=100;function nA(n,e=!0,t=0){let r=n[br],i=r.rendererFactory,o=!1;o||i.begin?.();try{lj(n,t)}catch(s){throw e&&JS(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function lj(n,e){let t=OT();try{fb(!0),Ov(n,e);let r=0;for(;Ah(n);){if(r===cj)throw new te(103,!1);r++,Ov(n,1)}}finally{fb(t)}}function uj(n,e,t,r){let i=e[me];if((i&256)===256)return;let o=!1,s=!1;!o&&e[br].inlineEffectRunner?.flush(),dy(e);let a=!0,c=null,u=null;o||(tA(n)?(u=nj(e),c=id(u)):vC()===null?(a=!1,u=sj(e),c=id(u)):e[Vn]&&(_g(e[Vn]),e[Vn]=null));try{AT(e),MV(n.bindingStartIndex),t!==null&&WS(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&$d(e,m,null)}else{let m=n.preOrderHooks;m!==null&&zd(e,m,0,null),qg(e,0)}if(s||dj(e),rA(e,0),n.contentQueries!==null&&ZS(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&$d(e,m)}else{let m=n.contentHooks;m!==null&&zd(e,m,1),qg(e,1)}I2(n,e);let f=n.components;f!==null&&oA(e,f,0);let v=n.viewQuery;if(v!==null&&Pv(2,v,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&$d(e,m)}else{let m=n.viewHooks;m!==null&&zd(e,m,2),qg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Wg]){for(let m of e[Wg])m();e[Wg]=null}o||(e[me]&=-73)}catch(d){throw o||xh(e),d}finally{u!==null&&(vg(u,c),a&&ij(u)),hy()}}function rA(n,e){for(let t=lS(n);t!==null;t=uS(t))for(let r=In;r<t.length;r++){let i=t[r];iA(i,e)}}function dj(n){for(let e=lS(n);e!==null;e=uS(e)){if(!(e[me]&eh.HasTransplantedViews))continue;let t=e[Jd];for(let r=0;r<t.length;r++){let i=t[r];xT(i)}}}function hj(n,e,t){let r=Wi(e,n);iA(r,t)}function iA(n,e){ly(n)&&Ov(n,e)}function Ov(n,e){let r=n[be],i=n[me],o=n[Vn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&yg(o)),s||=!1,o&&(o.dirty=!1),n[me]&=-9217,s)uj(r,n,r.template,n[ir]);else if(i&8192){rA(n,1);let a=r.components;a!==null&&oA(n,a,1)}}function oA(n,e,t){for(let r=0;r<e.length;r++)hj(n,e[r],t)}function Ly(n,e){let t=OT()?64:1088;for(n[br].changeDetectionScheduler?.notify(e);n;){n[me]|=t;let r=jo(n);if(th(n)&&!r)return n;n=r}return null}var Ho=class{get rootNodes(){let e=this._lView,t=e[be];return hh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ir]}set context(e){this._lView[ir]=e}get destroyed(){return(this._lView[me]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qt];if(Ar(e)){let t=e[Zd],r=t?t.indexOf(this):-1;r>-1&&(Rv(e,r),Yd(t,r))}this._attachedToViewContainer=!1}OS(this._lView[be],this._lView)}onDestroy(e){MT(this._lView,e)}markForCheck(){Ly(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[me]&=-129}reattach(){pv(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,nA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=th(this._lView),t=this._lView[oa];t!==null&&!e&&Ay(t,this._lView),kS(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e;let t=th(this._lView),r=this._lView[oa];r!==null&&!t&&PS(r,this._lView),pv(this._lView)}},$h=(()=>{class n{static{this.__NG_ELEMENT_ID__=mj}}return n})(),fj=$h,pj=class extends fj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=J2(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ho(i)}};function mj(){return sA(Yt(),De())}function sA(n,e){return n.type&4?new pj(e,n,kh(n,e)):null}var gj=new RegExp(`^(\\d+)*(${pS}|${fS})*(.*)`);function vj(n){let e=n.match(gj),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,u,d]of o.matchAll(/(f|n)(\d*)/g)){let f=parseInt(d,10)||1;a.push(u,f)}return[s,...a]}function yj(n){return!n.prev&&n.parent?.type===8}function Zg(n){return n.index-pt}function _j(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function zh(n,e,t,r){let i=Zg(r),o=_j(n,i);if(o===void 0){let s=n.data[IL];if(s?.[i])o=Ej(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(yj(r)){let u=Zg(r.parent);o=Sv(n,u)}else{let u=bn(c,t);if(a)o=u.firstChild;else{let d=Zg(c),f=Sv(n,d);if(c.type===2&&f){let m=Dy(n,d)+1;o=Wh(m,f)}else o=u.nextSibling}}}}return o}function Wh(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function wj(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Tv.FirstChild:t=t.firstChild;break;case Tv.NextSibling:t=t.nextSibling;break}}return t}function Ej(n,e){let[t,...r]=vj(n),i;if(t===fS)i=e[jn][Dn];else if(t===pS)i=r2(e[jn][Dn]);else{let o=Number(t);i=or(e[o+pt])}return wj(i,r)}var Ij=!1;function Dj(n){Ij=n}function Cj(n){let e=n[Cr];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Qe];for(let o of r.values())bj(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function bj(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-pt);i&&xy(n,i,!1)}}function aA(n){let e=n[Kc]??[],r=n[qt][Qe];for(let i of e)Tj(i,r);n[Kc]=cn}function Tj(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[lh];for(;t<i;){let o=r.nextSibling;xy(e,r,!1),r=o,t++}}}function cA(n){aA(n);let e=n[Dn];rr(e)&&fh(e);for(let t=In;t<n.length;t++)fh(n[t])}function fh(n){Cj(n);let e=n[be];for(let t=pt;t<e.bindingStartIndex;t++)if(Ar(n[t])){let r=n[t];cA(r)}else rr(n[t])&&fh(n[t])}function Sj(n){let e=n._views;for(let t of e){let r=SL(t);r!==null&&r[Dn]!==null&&(rr(r)?fh(r):cA(r))}}function Aj(n,e){let t=[];for(let r of e)for(let i=0;i<(r[mS]??1);i++){let o={data:r,firstChild:null};r[lh]>0&&(o.firstChild=n,n=Wh(r[lh],n)),t.push(o)}return[n,t]}var lA=()=>null;function xj(n,e){let t=n[Kc];return!e||t===null||t.length===0?null:t[0].data[EL]===e?t.shift():(aA(n),null)}function Mj(){lA=xj}function kb(n,e){return lA(n,e)}var la=class{},qh=new ne("",{providedIn:"root",factory:()=>!1});var uA=new ne(""),dA=new ne(""),Fv=class{},ph=class{};function Rj(n){let e=Error(`No component factory found for ${ln(n)}.`);return e[Nj]=n,e}var Nj="ngComponent";var Vv=class{resolveComponentFactory(e){throw Rj(e)}},$i=class{static{this.NULL=new Vv}},ua=class{},dt=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>kj()}}return n})();function kj(){let n=De(),e=Yt(),t=Wi(e.index,n);return(rr(t)?t:n)[Qe]}var Pj=(()=>{class n{static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null})}}return n})();function mh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ov(i,a);else if(o==2){let c=a,u=e[++s];r=ov(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var gh=class extends $i{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Lo(e);return new Yc(t,this.ngModule)}};function Pb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ui.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ui.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function Oj(n){let e=n.toLowerCase();return e==="svg"?bT:e==="math"?yV:null}var Yc=class extends ph{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Pb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Pb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=XF(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Pe(null);try{i=i||this.ngModule;let s=i instanceof Ln?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new gv(e,s):e,c=a.get(ua,null);if(c===null)throw new te(407,!1);let u=a.get(Pj,null),d=a.get(la,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},v=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",D=r?b2(v,r,this.componentDef.encapsulation,a):Sy(v,m,Oj(m)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let S=null;D!==null&&(S=Iy(D,a,!0));let k=Py(0,null,null,1,0,null,null,null,null,null,null),j=Bh(null,k,null,x,null,null,f,v,a,null,S);dy(j);let U,W,re=null;try{let G=this.componentDef,T,y=null;G.findHostDirectiveDefs?(T=[],y=new Map,G.findHostDirectiveDefs(G,T,y),T.push(G)):T=[G];let _=Fj(j,D);re=Vj(_,D,G,T,j,f,v),W=ST(k,pt),D&&Uj(v,G,D,r),t!==void 0&&Bj(W,this.ngContentSelectors,t),U=jj(re,G,T,y,j,[Hj]),Vy(k,j,null)}catch(G){throw re!==null&&Cv(re),Cv(j),G}finally{hy()}return new Lv(this.componentType,U,kh(W,j),j,W)}finally{Pe(o)}}},Lv=class extends Fv{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ho(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Fy(o[be],o,i,e,t),this.previousInputValues.set(e,t);let s=Wi(this._tNode.index,o);Ly(s,1)}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Fj(n,e){let t=n[be],r=pt;return n[r]=e,ll(t,r,2,"#host",null)}function Vj(n,e,t,r,i,o,s){let a=i[be];Lj(r,n,e,s);let c=null;e!==null&&(c=Iy(e,i[ia]));let u=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=Bh(i,qS(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&kv(a,n,r.length-1),Hh(i,f),i[n.index]=f}function Lj(n,e,t,r){for(let i of n)e.mergedAttrs=Wc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(mh(e,e.mergedAttrs,!0),t!==null&&BS(r,t,e))}function jj(n,e,t,r,i,o){let s=Yt(),a=i[be],c=bn(s,i);YS(a,i,s,t,null,r);for(let d=0;d<t.length;d++){let f=s.directiveStart+d,v=ca(i,a,f,s);Hi(v,i)}QS(a,i,s),c&&Hi(c,i);let u=ca(i,a,s.directiveStart+s.componentOffset,s);if(n[ir]=i[ir]=u,o!==null)for(let d of o)d(u,e);return Ry(a,s,i),u}function Uj(n,e,t,r){if(r)lv(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=ZF(e.selectors[0]);i&&lv(n,t,i),o&&o.length>0&&US(n,t,o.join(" "))}}function Bj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Hj(){let n=Yt();Nh(De()[be],n)}var ar=(()=>{class n{static{this.__NG_ELEMENT_ID__=$j}}return n})();function $j(){let n=Yt();return Wj(n,De())}var zj=ar,hA=class extends zj{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return kh(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){let e=my(this._hostTNode,this._hostLView);if(qT(e)){let t=rh(e,this._hostLView),r=nh(e),i=t[be].data[r+8];return new Oo(i,t)}else return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Ob(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=kb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Nb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!pV(e),a;if(s)a=t;else{let D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new Yc(Lo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?u:this.parentInjector).get(Ln,null);x&&(o=x)}let d=Lo(c.componentType??{}),f=kb(this._lContainer,d?.id??null),v=f?.firstChild??null,m=c.create(u,i,v,o);return this.insertImpl(m.hostView,a,Nb(this._hostTNode,f)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(_V(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[qt],u=new hA(c,c[sr],c[qt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ej(s,i,o,r),e.attachToViewContainerRef(),rT(Jg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Ob(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Rv(this._lContainer,t);r&&(Yd(Jg(this._lContainer),t),OS(r[be],r))}detach(e){let t=this._adjustIndex(e,-1),r=Rv(this._lContainer,t);return r&&Yd(Jg(this._lContainer),t)!=null?new Ho(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Ob(n){return n[Zd]}function Jg(n){return n[Zd]||(n[Zd]=[])}function Wj(n,e){let t,r=e[n.index];return Ar(r)?t=r:(t=XS(r,e,null,n),e[n.index]=t,Hh(e,t)),fA(t,e,n,r),new hA(t,n,e)}function qj(n,e){let t=n[Qe],r=t.createComment(""),i=bn(e,n),o=VS(t,i);return dh(t,o,r,p2(t,i),!1),r}var fA=pA,jy=()=>!1;function Gj(n,e,t){return jy(n,e,t)}function pA(n,e,t,r){if(n[ei])return;let i;t.type&8?i=or(r):i=qj(e,t),n[ei]=i}function Kj(n,e,t){if(n[ei]&&n[Kc])return!0;let r=t[Cr],i=e.index-pt;if(!r||hL(e)||sl(r,i))return!1;let s=Sv(r,i),a=r.data[Ey]?.[i],[c,u]=Aj(s,a);return n[ei]=c,n[Kc]=u,!0}function Yj(n,e,t,r){jy(n,t,e)||pA(n,e,t,r)}function Qj(){fA=Yj,jy=Kj}var Fb=new Set;function Gi(n){Fb.has(n)||(Fb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Xj(n){return typeof n=="function"&&n[Qr]!==void 0}function Hn(n,e){Gi("NgSignals");let t=AC(n),r=t[Qr];return e?.equal&&(r.equal=e.equal),t.set=i=>wg(r,i),t.update=i=>xC(r,i),t.asReadonly=Zj.bind(t),t}function Zj(){let n=this[Qr];if(n.readonlyFn===void 0){let e=()=>this();e[Qr]=n,n.readonlyFn=e}return n.readonlyFn}function mA(n){return Xj(n)&&typeof n.set=="function"}function Jj(n){return Object.getPrototypeOf(n.prototype).constructor}function cr(n){let e=Jj(n.type),t=!0,r=[n];for(;e;){let i;if(Bi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ld(n.inputs),s.inputTransforms=Ld(n.inputTransforms),s.declaredInputs=Ld(n.declaredInputs),s.outputs=Ld(n.outputs);let a=i.hostBindings;a&&iU(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&nU(n,c),u&&rU(n,u),eU(n,i),wF(n.outputs,i.outputs),Bi(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===cr&&(t=!1)}}e=Object.getPrototypeOf(e)}tU(r)}function eU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function tU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wc(i.hostAttrs,t=Wc(t,i.hostAttrs))}}function Ld(n){return n===na?{}:n===cn?[]:n}function nU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function rU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function iU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Uy(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var zi=class{},Qc=class{};var jv=class extends zi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gh(this);let o=hT(e);this._bootstrapComponents=MS(o.bootstrap),this._r3Injector=tS(e,t,[{provide:zi,useValue:this},{provide:$i,useValue:this.componentFactoryResolver},...r],ln(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Uv=class extends Qc{constructor(e){super(),this.moduleType=e}create(e){return new jv(this.moduleType,e,[])}};var vh=class extends zi{constructor(e){super(),this.componentFactoryResolver=new gh(this),this.instance=null;let t=new qc([...e.providers,{provide:zi,useValue:this},{provide:$i,useValue:this.componentFactoryResolver}],e.parent||ay(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function By(n,e,t=null){return new vh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function gA(n){return Hy(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function oU(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Hy(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function si(n,e,t){return n[e]=t}function Gh(n,e){return n[e]}function Un(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Xc(n,e,t,r){let i=Un(n,e,t);return Un(n,e+1,r)||i}function vA(n,e,t,r,i){let o=Xc(n,e,t,r);return Un(n,e+2,i)||o}function Kh(n,e,t,r,i,o){let s=Xc(n,e,t,r);return Xc(n,e+2,i,o)||s}function ul(n){return(n.flags&32)===32}function sU(n,e,t,r,i,o,s,a,c){let u=e.consts,d=ll(e,n,4,s||null,a||null);Oy(e,t,d,aa(u,c)),Nh(e,d);let f=d.tView=Py(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function aU(n,e,t,r,i,o,s,a,c,u){let d=t+pt,f=e.firstCreatePass?sU(d,e,n,r,i,o,s,a,c):e.data[d];zo(f,!1);let v=yA(e,n,f,t);Rh()&&jh(e,n,v,f),Hi(v,n);let m=XS(v,n,v,f);return n[d]=m,Hh(n,m),Gj(m,f,n),Th(f)&&Ny(e,n,f),c!=null&&ky(n,f,u),f}function Z(n,e,t,r,i,o,s,a){let c=De(),u=Vt(),d=aa(u.consts,o);return aU(c,u,n,e,t,r,i,d,s,a),Z}var yA=_A;function _A(n,e,t,r){return qi(!0),e[Qe].createComment("")}function cU(n,e,t,r){let i=e[Cr],o=!i||rl()||ul(t)||sl(i,r);if(qi(o),o)return _A(n,e,t,r);let s=i.data[wL]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=zh(i,n,e,t);Oh(i,r,a);let c=Dy(i,r);return Wh(c,a)}function lU(){yA=cU}var Hc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Hc||{}),uU=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Vb=class n{constructor(){this.ngZone=H(Se),this.scheduler=H(la),this.errorHandler=H(ti,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Hc.EarlyRead,Hc.Write,Hc.MixedReadWrite,Hc.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}};function Qt(n,e,t,r){let i=De(),o=Mh();if(Un(i,o,e)){let s=Vt(),a=fy();$2(a,i,n,e,t,r)}return Qt}function dU(n,e,t,r){return Un(n,Mh(),t)?e+el(t)+r:Mr}function jd(n,e){return n<<17|e<<2}function $o(n){return n>>17&32767}function hU(n){return(n&2)==2}function fU(n,e){return n&131071|e<<17}function Bv(n){return n|2}function da(n){return(n&131068)>>2}function ev(n,e){return n&-131069|e<<2}function pU(n){return(n&1)===1}function Hv(n){return n|1}function mU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$o(s),c=da(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||tl(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let v=$o(n[a+1]);n[r+1]=jd(v,a),v!==0&&(n[v+1]=ev(n[v+1],r)),n[a+1]=fU(n[a+1],r)}else n[r+1]=jd(a,0),a!==0&&(n[a+1]=ev(n[a+1],r)),a=r;else n[r+1]=jd(c,0),a===0?a=r:n[c+1]=ev(n[c+1],r),c=r;u&&(n[r+1]=Bv(n[r+1])),Lb(n,d,r,!0),Lb(n,d,r,!1),gU(e,d,n,r,o),s=jd(a,c),o?e.classBindings=s:e.styleBindings=s}function gU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&tl(o,e)>=0&&(t[r+1]=Hv(t[r+1]))}function Lb(n,e,t,r){let i=n[t+1],o=e===null,s=r?$o(i):da(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];vU(c,e)&&(a=!0,n[s+1]=r?Hv(u):Bv(u)),s=r?$o(u):da(u)}a&&(n[t+1]=r?Bv(i):Hv(i))}function vU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?tl(n,e)>=0:!1}var tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yU(n){return n.substring(tr.key,tr.keyEnd)}function _U(n){return wU(n),wA(n,EA(n,0,tr.textEnd))}function wA(n,e){let t=tr.textEnd;return t===e?-1:(e=tr.keyEnd=EU(n,tr.key=e,t),EA(n,e,t))}function wU(n){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=n.length}function EA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function EU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function F(n,e,t){let r=De(),i=Mh();if(Un(r,i,e)){let o=Vt(),s=fy();KS(o,s,r,n,e,r[Qe],t,!1)}return F}function $v(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Fy(n,t,o[s],s,r)}function ai(n,e,t){return DA(n,e,t,!1),ai}function mt(n,e){return DA(n,e,null,!0),mt}function IA(n){DU(xU,IU,n,!0)}function IU(n,e){for(let t=_U(e);t>=0;t=wA(e,t))iy(n,yU(e),!0)}function DA(n,e,t,r){let i=De(),o=Vt(),s=FT(2);if(o.firstUpdatePass&&bA(o,n,s,r),e!==Mr&&Un(i,s,e)){let a=o.data[Wo()];TA(o,a,i,i[Qe],n,i[s+1]=RU(e,t),r,s)}}function DU(n,e,t,r){let i=Vt(),o=FT(2);i.firstUpdatePass&&bA(i,null,o,r);let s=De();if(t!==Mr&&Un(s,o,t)){let a=i.data[Wo()];if(SA(a,r)&&!CA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ov(c,t||"")),$v(i,a,s,t,r)}else MU(i,a,s,s[Qe],s[o+1],s[o+1]=AU(n,e,t),r,o)}}function CA(n,e){return e>=n.expandoStartIndex}function bA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Wo()],s=CA(n,t);SA(o,r)&&e===null&&!s&&(e=!1),e=CU(i,o,e,r),mU(i,o,e,t,s,r)}}function CU(n,e,t,r){let i=PV(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=tv(null,n,e,t,r),t=Zc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=tv(i,n,e,t,r),o===null){let c=bU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=tv(null,n,e,c[1],r),c=Zc(c,e.attrs,r),TU(n,e,r,c))}else o=SU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function bU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(da(r)!==0)return n[$o(r)]}function TU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[$o(i)]=r}function SU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Zc(r,s,t)}return Zc(r,e.attrs,t)}function tv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Zc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Zc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),iy(n,s,t?!0:e[++o]))}return n===void 0?null:n}function AU(n,e,t){if(t==null||t==="")return cn;let r=[],i=Go(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function xU(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&iy(n,r,t)}function MU(n,e,t,r,i,o,s,a){i===Mr&&(i=cn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let v=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,D=null,x;d===f?(c+=2,u+=2,v!==m&&(D=f,x=m)):f===null||d!==null&&d<f?(c+=2,D=d):(u+=2,D=f,x=m),D!==null&&TA(n,e,t,r,D,x,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function TA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=pU(u)?jb(c,e,t,i,da(u),s):void 0;if(!yh(d)){yh(o)||hU(u)&&(o=jb(c,null,t,i,a,s));let f=TT(Wo(),t);w2(r,s,f,i,o)}}function jb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,v=t[i+1];v===Mr&&(v=f?cn:void 0);let m=f?$g(v,r):d===r?v:void 0;if(u&&!yh(m)&&(m=$g(c,r)),yh(m)&&(a=m,s))return a;let D=n[i+1];i=s?$o(D):da(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=$g(c,r))}return a}function yh(n){return n!==void 0}function RU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ln(Go(n)))),n}function SA(n,e){return(n.flags&(e?8:16))!==0}function NU(n,e,t,r,i,o){let s=e.consts,a=aa(s,i),c=ll(e,n,2,r,a);return Oy(e,t,c,aa(s,o)),c.attrs!==null&&mh(c,c.attrs,!1),c.mergedAttrs!==null&&mh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function M(n,e,t,r){let i=De(),o=Vt(),s=pt+n,a=i[Qe],c=o.firstCreatePass?NU(s,o,i,e,t,r):o.data[s],u=AA(o,i,c,a,e,n);i[s]=u;let d=Th(c);return zo(c,!0),BS(a,u,c),!ul(c)&&Rh()&&jh(o,i,u,c),IV()===0&&Hi(u,i),DV(),d&&(Ny(o,i,c),Ry(o,c,i)),r!==null&&ky(i,c),M}function R(){let n=Yt();uy()?PT():(n=n.parent,zo(n,!1));let e=n;bV(e)&&SV(),CV();let t=Vt();return t.firstCreatePass&&(Nh(t,n),cy(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&BV(e)&&$v(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HV(e)&&$v(t,e,De(),e.stylesWithoutHost,!1),R}function se(n,e,t,r){return M(n,e,t,r),R(),se}var AA=(n,e,t,r,i,o)=>(qi(!0),Sy(r,i,$T()));function kU(n,e,t,r,i,o){let s=e[Cr],a=!s||rl()||ul(t)||sl(s,o);if(qi(a),a)return Sy(r,i,$T());let c=zh(s,n,e,t);return _S(s,o)&&Oh(s,o,c.nextSibling),s&&(sS(t)||aS(c))&&nl(t)&&(TV(t),jS(c)),c}function PU(){AA=kU}function OU(n,e,t,r,i){let o=e.consts,s=aa(o,r),a=ll(e,n,8,"ng-container",s);s!==null&&mh(a,s,!0);let c=aa(o,i);return Oy(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Yh(n,e,t){let r=De(),i=Vt(),o=n+pt,s=i.firstCreatePass?OU(o,i,r,e,t):i.data[o];zo(s,!0);let a=xA(i,r,s,n);return r[o]=a,Rh()&&jh(i,r,a,s),Hi(a,r),Th(s)&&(Ny(i,r,s),Ry(i,s,r)),t!=null&&ky(r,s),Yh}function Qh(){let n=Yt(),e=Vt();return uy()?PT():(n=n.parent,zo(n,!1)),e.firstCreatePass&&(Nh(e,n),cy(n)&&e.queries.elementEnd(n)),Qh}function $y(n,e,t){return Yh(n,e,t),Qh(),$y}var xA=(n,e,t,r)=>(qi(!0),NS(e[Qe],""));function FU(n,e,t,r){let i,o=e[Cr],s=!o||rl()||sl(o,r)||ul(t);if(qi(s),s)return NS(e[Qe],"");let a=zh(o,n,e,t),c=ML(o,r);return Oh(o,r,a),i=Wh(c,a),i}function VU(){xA=FU}function ze(){return De()}var Po=void 0;function LU(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var jU=["en",[["a","p"],["AM","PM"],Po],[["AM","PM"],Po,Po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Po,"{1} 'at' {0}",Po],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",LU],nv={};function Tn(n){let e=UU(n),t=Ub(e);if(t)return t;let r=e.split("-")[0];if(t=Ub(r),t)return t;if(r==="en")return jU;throw new te(701,!1)}function MA(n){return Tn(n)[ct.PluralCase]}function Ub(n){return n in nv||(nv[n]=Jr.ng&&Jr.ng.common&&Jr.ng.common.locales&&Jr.ng.common.locales[n]),nv[n]}var ct=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ct||{});function UU(n){return n.toLowerCase().replace(/_/g,"-")}var _h="en-US";var BU=_h;function HU(n){typeof n=="string"&&(BU=n.toLowerCase().replace(/_/g,"-"))}var $U=(n,e,t)=>{};function ae(n,e,t,r){let i=De(),o=Vt(),s=Yt();return RA(o,i,i[Qe],s,n,e,r),ae}function zU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Xd],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function RA(n,e,t,r,i,o,s){let a=Th(r),u=n.firstCreatePass&&K2(n),d=e[ir],f=G2(e),v=!0;if(r.type&3||s){let x=bn(r,e),S=s?s(x):x,k=f.length,j=s?W=>s(or(W[r.index])):r.index,U=null;if(!s&&a&&(U=zU(n,e,i,r.index)),U!==null){let W=U.__ngLastListenerFn__||U;W.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,v=!1}else{o=Hb(r,e,d,o),$U(x,i,o);let W=t.listen(S,i,o);f.push(o,W),u&&u.push(i,j,k,k+1)}}else o=Hb(r,e,d,o);let m=r.outputs,D;if(v&&m!==null&&(D=m[i])){let x=D.length;if(x)for(let S=0;S<x;S+=2){let k=D[S],j=D[S+1],re=e[k][j].subscribe(o),G=f.length;f.push(o,re),u&&u.push(i,r.index,G,-(G+1))}}}function Bb(n,e,t,r){let i=Pe(null);try{return Er(6,e,t),t(r)!==!1}catch(o){return JS(n,o),!1}finally{Er(7,e,t),Pe(i)}}function Hb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Wi(n.index,e):e;Ly(s,5);let a=Bb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Bb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function L(n=1){return FV(n)}function WU(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function gt(n){let e=xV();return Sh(e,pt+n)}function z(n,e=""){let t=De(),r=Vt(),i=n+pt,o=r.firstCreatePass?ll(r,i,1,e,null):r.data[i],s=NA(r,t,o,e,n);t[i]=s,Rh()&&jh(r,t,s,o),zo(o,!1)}var NA=(n,e,t,r,i)=>(qi(!0),RS(e[Qe],r));function qU(n,e,t,r,i){let o=e[Cr],s=!o||rl()||ul(t)||sl(o,i);return qi(s),s?RS(e[Qe],r):zh(o,n,e,t)}function GU(){NA=qU}function Xt(n){return Sn("",n,""),Xt}function Sn(n,e,t){let r=De(),i=dU(r,n,e,t);return i!==Mr&&Y2(r,Wo(),i),Sn}function Lt(n,e,t){mA(e)&&(e=e());let r=De(),i=Mh();if(Un(r,i,e)){let o=Vt(),s=fy();KS(o,s,r,n,e,r[Qe],t,!1)}return Lt}function Zt(n,e){let t=mA(n);return t&&n.set(e),t}function jt(n,e){let t=De(),r=Vt(),i=Yt();return RA(r,t,t[Qe],i,n,e),jt}function KU(n,e,t){let r=Vt();if(r.firstCreatePass){let i=Bi(n);zv(t,r.data,r.blueprint,i,!0),zv(e,r.data,r.blueprint,i,!1)}}function zv(n,e,t,r,i){if(n=an(n),Array.isArray(n))for(let o=0;o<n.length;o++)zv(n[o],e,t,r,i);else{let o=Vt(),s=De(),a=Yt(),c=ra(n)?n:an(n.provide),u=yT(n),d=a.providerIndexes&1048575,f=a.directiveStart,v=a.providerIndexes>>20;if(ra(n)||!n.multi){let m=new Bo(u,i,P),D=iv(c,e,i?d:d+v,f);D===-1?(yv(oh(a,s),o,c),rv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[D]=m,s[D]=m)}else{let m=iv(c,e,d+v,f),D=iv(c,e,d,d+v),x=m>=0&&t[m],S=D>=0&&t[D];if(i&&!S||!i&&!x){yv(oh(a,s),o,c);let k=XU(i?QU:YU,t.length,i,r,u);!i&&S&&(t[D].providerFactory=k),rv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=kA(t[i?D:m],u,!i&&r);rv(o,n,m>-1?m:D,k)}!i&&r&&S&&t[D].componentProviders++}}}function rv(n,e,t,r){let i=ra(e),o=sV(e);if(i||o){let c=(o?an(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function kA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function iv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function YU(n,e,t,r){return Wv(this.multi,[])}function QU(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ca(t,t[be],this.providerFactory.index,r);o=a.slice(0,s),Wv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Wv(i,o);return o}function Wv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function XU(n,e,t,r,i){let o=new Bo(n,t,P);return o.multi=[],o.index=e,o.componentProviders=0,kA(o,i,r&&!t),o}function Ko(n,e=[]){return t=>{t.providersResolver=(r,i)=>KU(r,i?i(n):n,e)}}var ZU=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=mT(!1,t.type),i=r.length>0?By([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Q({token:n,providedIn:"environment",factory:()=>new n(ue(Ln))})}}return n})();function vt(n){Gi("NgStandalone"),n.getStandaloneInjector=e=>e.get(ZU).getOrCreateStandaloneInjector(n)}function un(n,e,t){let r=Bn()+n,i=De();return i[r]===Mr?si(i,r,t?e.call(t):e()):Gh(i,r)}function Yo(n,e,t,r){return VA(De(),Bn(),n,e,t,r)}function St(n,e,t,r,i){return LA(De(),Bn(),n,e,t,r,i)}function Xh(n,e,t,r,i,o){return jA(De(),Bn(),n,e,t,r,i,o)}function PA(n,e,t,r,i,o,s){return JU(De(),Bn(),n,e,t,r,i,o,s)}function zy(n,e,t,r,i,o,s,a){let c=Bn()+n,u=De(),d=Kh(u,c,t,r,i,o);return Un(u,c+4,s)||d?si(u,c+5,a?e.call(a,t,r,i,o,s):e(t,r,i,o,s)):Gh(u,c+5)}function OA(n,e,t,r,i,o,s,a,c){let u=Bn()+n,d=De(),f=Kh(d,u,t,r,i,o);return Xc(d,u+4,s,a)||f?si(d,u+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):Gh(d,u+6)}function FA(n,e,t,r,i,o,s,a,c,u){let d=Bn()+n,f=De(),v=Kh(f,d,t,r,i,o);return vA(f,d+4,s,a,c)||v?si(f,d+7,u?e.call(u,t,r,i,o,s,a,c):e(t,r,i,o,s,a,c)):Gh(f,d+7)}function Wy(n,e,t,r){return eB(De(),Bn(),n,e,t,r)}function dl(n,e){let t=n[e];return t===Mr?void 0:t}function VA(n,e,t,r,i,o){let s=e+t;return Un(n,s,i)?si(n,s+1,o?r.call(o,i):r(i)):dl(n,s+1)}function LA(n,e,t,r,i,o,s){let a=e+t;return Xc(n,a,i,o)?si(n,a+2,s?r.call(s,i,o):r(i,o)):dl(n,a+2)}function jA(n,e,t,r,i,o,s,a){let c=e+t;return vA(n,c,i,o,s)?si(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):dl(n,c+3)}function JU(n,e,t,r,i,o,s,a,c){let u=e+t;return Kh(n,u,i,o,s,a)?si(n,u+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):dl(n,u+4)}function eB(n,e,t,r,i,o){let s=e+t,a=!1;for(let c=0;c<i.length;c++)Un(n,s++,i[c])&&(a=!0);return a?si(n,s,r.apply(o,i)):dl(n,s)}function Xe(n,e){let t=Vt(),r,i=n+pt;t.firstCreatePass?(r=tB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Fo(r.type,!0)),s,a=mn(P);try{let c=ih(!1),u=o();return ih(c),WU(t,De(),i,u),u}finally{mn(a)}}function tB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function qy(n,e,t){let r=n+pt,i=De(),o=Sh(i,r);return Gy(i,r)?VA(i,Bn(),e,o.transform,t,o):o.transform(t)}function vn(n,e,t,r){let i=n+pt,o=De(),s=Sh(o,i);return Gy(o,i)?LA(o,Bn(),e,s.transform,t,r,s):s.transform(t,r)}function Rr(n,e,t,r,i){let o=n+pt,s=De(),a=Sh(s,o);return Gy(s,o)?jA(s,Bn(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function Gy(n,e){return n[be].data[e].pure}function yn(n,e){return sA(n,e)}var ni=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},UA=new ni("18.2.13");var Zh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var BA=new ne("");function Ki(n){return!!n&&typeof n.then=="function"}function Ky(n){return!!n&&typeof n.subscribe=="function"}var HA=new ne(""),$A=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=H(HA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ki(o))t.push(o);else if(Ky(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pa=new ne("");function nB(){SC(()=>{throw new te(600,!1)})}function rB(n){return n.isBoundToModule}var iB=10;function oB(n,e,t){try{let r=t();return Ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Nr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(cL),this.afterRenderManager=H(uU),this.zonelessEnabled=H(qh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Te,this.afterTick=new Te,this.componentTypes=[],this.components=[],this.isStable=H(qo).hasPendingTasks.pipe(oe(t=>!t)),this._injector=H(Ln)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof ph;if(!this._injector.get($A).done){let v=!i&&dT(t),m=!1;throw new te(405,m)}let s;i?s=t:s=this._injector.get($i).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=rB(s)?void 0:this._injector.get(zi),c=r||s.selector,u=s.create(xt.NULL,[],c,a),d=u.location.nativeElement,f=u.injector.get(BA,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Wd(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new te(101,!1);let t=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Pe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ua,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<iB;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)sB(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ah(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Wd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(pa,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Ud;function Jh(n){Ud??=new WeakMap;let e=Ud.get(n);if(e)return e;let t=n.isStable.pipe(Jn(r=>r)).toPromise().then(()=>{});return Ud.set(n,t),n.onDestroy(()=>Ud?.delete(n)),t}function sB(n,e,t,r){if(!t&&!Ah(n))return;nA(n,e,t&&!r?0:1)}var qv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Yy=(()=>{class n{compileModuleSync(t){return new Uv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=hT(t),o=MS(i.declarations).reduce((s,a)=>{let c=Lo(a);return c&&s.push(new Yc(c)),s},[]);return new qv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var aB=(()=>{class n{constructor(){this.zone=H(Se),this.changeDetectionScheduler=H(la),this.applicationRef=H(Nr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cB=new ne("",{factory:()=>!1});function zA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(ve(B({},qA()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:Vo,multi:!0,useFactory:()=>{let r=H(aB,{optional:!0});return()=>r.initialize()}},{provide:Vo,multi:!0,useFactory:()=>{let r=H(lB);return()=>{r.initialize()}}},e===!0?{provide:uA,useValue:!0}:[],{provide:dA,useValue:t??nS}]}function WA(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=zA({ngZoneFactory:()=>{let i=qA(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Gi("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Cn([{provide:cB,useValue:!0},{provide:qh,useValue:!1},r])}function qA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lB=(()=>{class n{constructor(){this.subscription=new st,this.initialized=!1,this.zone=H(Se),this.pendingTasks=H(qo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uB=(()=>{class n{constructor(){this.appRef=H(Nr),this.taskService=H(qo),this.ngZone=H(Se),this.zonelessEnabled=H(qh),this.disableScheduling=H(uA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new st,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ah):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(dA,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dv||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?yb:iS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ah+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dB(){return typeof $localize<"u"&&$localize.locale||_h}var lr=new ne("",{providedIn:"root",factory:()=>H(lr,Ce.Optional|Ce.SkipSelf)||dB()});var Gv=new ne("");function Bd(n){return!n.moduleRef}function hB(n){let e=Bd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{Bd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ti,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Bd(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Gv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Gv);s.add(o),n.moduleRef.onDestroy(()=>{Wd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return oB(r,t,()=>{let o=e.get($A);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(lr,_h);if(HU(s||_h),Bd(n)){let a=e.get(Nr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return fB(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function fB(n,e){let t=n.injector.get(Nr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new te(-403,!1);e.push(n)}var qd=null;function pB(n=[],e){return xt.create({name:e,providers:[{provide:Ch,useValue:"platform"},{provide:Gv,useValue:new Set([()=>qd=null])},...n]})}function mB(n=[]){if(qd)return qd;let e=pB(n);return qd=e,nB(),gB(e),e}function gB(n){n.get(_y,null)?.forEach(t=>t())}var ur=(()=>{class n{static{this.__NG_ELEMENT_ID__=vB}}return n})();function vB(n){return yB(Yt(),De(),(n&16)===16)}function yB(n,e,t){if(nl(n)&&!t){let r=Wi(n.index,e);return new Ho(r,r)}else if(n.type&175){let r=e[jn];return new Ho(r,e)}return null}var Kv=class{constructor(){}supports(e){return gA(e)}create(e){return new Yv(e)}},_B=(n,e)=>e,Yv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_B}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<$b(r,i,o)?t:r,a=$b(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let v=0;v<u;v++){let m=v<o.length?o[v]:o[v]=0,D=m+v;d<=D&&D<u&&(o[v]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gA(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,oU(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Qv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new wh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qv=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Xv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},wh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Xv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $b(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Zv=class{constructor(){}supports(e){return e instanceof Map||Hy(e)}create(){return new Jv}},Jv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Hy(e)))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new ey(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},ey=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function zb(){return new Qy([new Kv])}var Qy=(()=>{class n{static{this.\u0275prov=Q({token:n,providedIn:"root",factory:zb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||zb()),deps:[[n,new ny,new Gt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new te(901,!1)}}return n})();function Wb(){return new Xy([new Zv])}var Xy=(()=>{class n{static{this.\u0275prov=Q({token:n,providedIn:"root",factory:Wb})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Wb()),deps:[[n,new ny,new Gt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new te(901,!1)}}return n})();function GA(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=mB(r),o=[zA({}),{provide:la,useExisting:uB},...t||[]],s=new vh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return hB({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var qb=!1;function wB(){qb||(qb=!0,TL(),PU(),GU(),VU(),lU(),Qj(),Mj(),A2())}function EB(n,e){return Jh(n)}function KA(){return Cn([{provide:kd,useFactory:()=>{let n=!0;return Vd()&&(n=!!H(fa,{optional:!0})?.get(vS,null)),n&&Gi("NgHydration"),n}},{provide:Vo,useValue:()=>{Dj(!1),Vd()&&H(kd)&&(IB(),wB())},multi:!0},{provide:ES,useFactory:()=>Vd()&&H(kd)},{provide:pa,useFactory:()=>{if(Vd()&&H(kd)){let n=H(Nr),e=H(xt);return()=>{EB(n,e).then(()=>{Sj(n)})}}return()=>{}},multi:!0}])}function IB(){let n=ol(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===CL){e=t;break}if(!e)throw new te(-507,!1)}function Yi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Qo(n,e){Gi("NgSignals");let t=CC(n);return e?.equal&&(t[Qr].equal=e.equal),t}function dr(n){let e=Pe(null);try{return n()}finally{Pe(e)}}var tx=null;function ui(){return tx}function nx(n){tx??=n}var lf=class{};var Mt=new ne(""),rx=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>H(DB),providedIn:"platform"})}}return n})();var DB=(()=>{class n extends rx{constructor(){super(),this._doc=H(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ui().getBaseHref(this._doc)}onPopState(t){let r=ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function ix(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function YA(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Xo(n){return n&&n[0]!=="?"?"?"+n:n}var ga=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>H(ox),providedIn:"root"})}}return n})(),CB=new ne(""),ox=(()=>{class n extends ga{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ix(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Xo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Xo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Xo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ue(rx),ue(CB,8))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hl=(()=>{class n{constructor(t){this._subject=new J,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SB(YA(QA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xo(r))}normalize(t){return n.stripTrailingSlash(TB(this._basePath,QA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Xo}static{this.joinWithSlash=ix}static{this.stripTrailingSlash=YA}static{this.\u0275fac=function(r){return new(r||n)(ue(ga))}}static{this.\u0275prov=Q({token:n,factory:()=>bB(),providedIn:"root"})}}return n})();function bB(){return new hl(ue(ga))}function TB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function QA(n){return n.replace(/\/index.html$/,"")}function SB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ma=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(ma||{}),dn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(dn||{}),We=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(We||{}),An=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(An||{}),Qi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function AB(n){return Tn(n)[ct.LocaleId]}function xB(n,e,t){let r=Tn(n),i=[r[ct.DayPeriodsFormat],r[ct.DayPeriodsStandalone]],o=$n(i,e);return $n(o,t)}function MB(n,e,t){let r=Tn(n),i=[r[ct.DaysFormat],r[ct.DaysStandalone]],o=$n(i,e);return $n(o,t)}function RB(n,e,t){let r=Tn(n),i=[r[ct.MonthsFormat],r[ct.MonthsStandalone]],o=$n(i,e);return $n(o,t)}function NB(n,e){let r=Tn(n)[ct.Eras];return $n(r,e)}function ef(n,e){let t=Tn(n);return $n(t[ct.DateFormat],e)}function tf(n,e){let t=Tn(n);return $n(t[ct.TimeFormat],e)}function nf(n,e){let r=Tn(n)[ct.DateTimeFormat];return $n(r,e)}function hf(n,e){let t=Tn(n),r=t[ct.NumberSymbols][e];if(typeof r>"u"){if(e===Qi.CurrencyDecimal)return t[ct.NumberSymbols][Qi.Decimal];if(e===Qi.CurrencyGroup)return t[ct.NumberSymbols][Qi.Group]}return r}var kB=MA;function sx(n){if(!n[ct.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ct.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function PB(n){let e=Tn(n);return sx(e),(e[ct.ExtraData][2]||[]).map(r=>typeof r=="string"?Zy(r):[Zy(r[0]),Zy(r[1])])}function OB(n,e,t){let r=Tn(n);sx(r);let i=[r[ct.ExtraData][0],r[ct.ExtraData][1]],o=$n(i,e)||[];return $n(o,t)||[]}function $n(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Zy(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var FB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rf={},VB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,li=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(li||{}),Le=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Le||{}),Ve=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ve||{});function _t(n,e,t,r){let i=qB(n);e=ci(t,e)||e;let s=[],a;for(;e;)if(a=VB.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=cx(r,c),i=WB(i,r,!0));let u="";return s.forEach(d=>{let f=$B(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function uf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ci(n,e){let t=AB(n);if(rf[t]??={},rf[t][e])return rf[t][e];let r="";switch(e){case"shortDate":r=ef(n,An.Short);break;case"mediumDate":r=ef(n,An.Medium);break;case"longDate":r=ef(n,An.Long);break;case"fullDate":r=ef(n,An.Full);break;case"shortTime":r=tf(n,An.Short);break;case"mediumTime":r=tf(n,An.Medium);break;case"longTime":r=tf(n,An.Long);break;case"fullTime":r=tf(n,An.Full);break;case"short":let i=ci(n,"shortTime"),o=ci(n,"shortDate");r=of(nf(n,An.Short),[i,o]);break;case"medium":let s=ci(n,"mediumTime"),a=ci(n,"mediumDate");r=of(nf(n,An.Medium),[s,a]);break;case"long":let c=ci(n,"longTime"),u=ci(n,"longDate");r=of(nf(n,An.Long),[c,u]);break;case"full":let d=ci(n,"fullTime"),f=ci(n,"fullDate");r=of(nf(n,An.Full),[d,f]);break}return r&&(rf[t][e]=r),r}function of(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function hr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function LB(n,e){return hr(n,3).substring(0,e)}function yt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=jB(n,o);if((t>0||a>-t)&&(a+=t),n===Le.Hours)a===0&&t===-12&&(a=12);else if(n===Le.FractionalSeconds)return LB(a,e);let c=hf(s,Qi.MinusSign);return hr(a,e,c,r,i)}}function jB(n,e){switch(n){case Le.FullYear:return e.getFullYear();case Le.Month:return e.getMonth();case Le.Date:return e.getDate();case Le.Hours:return e.getHours();case Le.Minutes:return e.getMinutes();case Le.Seconds:return e.getSeconds();case Le.FractionalSeconds:return e.getMilliseconds();case Le.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ge(n,e,t=dn.Format,r=!1){return function(i,o){return UB(i,o,n,e,t,r)}}function UB(n,e,t,r,i,o){switch(t){case Ve.Months:return RB(e,i,r)[n.getMonth()];case Ve.Days:return MB(e,i,r)[n.getDay()];case Ve.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let u=PB(e),d=OB(e,i,r),f=u.findIndex(v=>{if(Array.isArray(v)){let[m,D]=v,x=s>=m.hours&&a>=m.minutes,S=s<D.hours||s===D.hours&&a<D.minutes;if(m.hours<D.hours){if(x&&S)return!0}else if(x||S)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return xB(e,i,r)[s<12?0:1];case Ve.Eras:return NB(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function sf(n){return function(e,t,r){let i=-1*r,o=hf(t,Qi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case li.Short:return(i>=0?"+":"")+hr(s,2,o)+hr(Math.abs(i%60),2,o);case li.ShortGMT:return"GMT"+(i>=0?"+":"")+hr(s,1,o);case li.Long:return"GMT"+(i>=0?"+":"")+hr(s,2,o)+":"+hr(Math.abs(i%60),2,o);case li.Extended:return r===0?"Z":(i>=0?"+":"")+hr(s,2,o)+":"+hr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var BB=0,cf=4;function HB(n){let e=uf(n,BB,1).getDay();return uf(n,0,1+(e<=cf?cf:cf+7)-e)}function ax(n){let e=n.getDay(),t=e===0?-3:cf-e;return uf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Jy(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ax(t),s=HB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return hr(i,n,hf(r,Qi.MinusSign))}}function af(n,e=!1){return function(t,r){let o=ax(t).getFullYear();return hr(o,n,hf(r,Qi.MinusSign),e)}}var e_={};function $B(n){if(e_[n])return e_[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ge(Ve.Eras,We.Abbreviated);break;case"GGGG":e=Ge(Ve.Eras,We.Wide);break;case"GGGGG":e=Ge(Ve.Eras,We.Narrow);break;case"y":e=yt(Le.FullYear,1,0,!1,!0);break;case"yy":e=yt(Le.FullYear,2,0,!0,!0);break;case"yyy":e=yt(Le.FullYear,3,0,!1,!0);break;case"yyyy":e=yt(Le.FullYear,4,0,!1,!0);break;case"Y":e=af(1);break;case"YY":e=af(2,!0);break;case"YYY":e=af(3);break;case"YYYY":e=af(4);break;case"M":case"L":e=yt(Le.Month,1,1);break;case"MM":case"LL":e=yt(Le.Month,2,1);break;case"MMM":e=Ge(Ve.Months,We.Abbreviated);break;case"MMMM":e=Ge(Ve.Months,We.Wide);break;case"MMMMM":e=Ge(Ve.Months,We.Narrow);break;case"LLL":e=Ge(Ve.Months,We.Abbreviated,dn.Standalone);break;case"LLLL":e=Ge(Ve.Months,We.Wide,dn.Standalone);break;case"LLLLL":e=Ge(Ve.Months,We.Narrow,dn.Standalone);break;case"w":e=Jy(1);break;case"ww":e=Jy(2);break;case"W":e=Jy(1,!0);break;case"d":e=yt(Le.Date,1);break;case"dd":e=yt(Le.Date,2);break;case"c":case"cc":e=yt(Le.Day,1);break;case"ccc":e=Ge(Ve.Days,We.Abbreviated,dn.Standalone);break;case"cccc":e=Ge(Ve.Days,We.Wide,dn.Standalone);break;case"ccccc":e=Ge(Ve.Days,We.Narrow,dn.Standalone);break;case"cccccc":e=Ge(Ve.Days,We.Short,dn.Standalone);break;case"E":case"EE":case"EEE":e=Ge(Ve.Days,We.Abbreviated);break;case"EEEE":e=Ge(Ve.Days,We.Wide);break;case"EEEEE":e=Ge(Ve.Days,We.Narrow);break;case"EEEEEE":e=Ge(Ve.Days,We.Short);break;case"a":case"aa":case"aaa":e=Ge(Ve.DayPeriods,We.Abbreviated);break;case"aaaa":e=Ge(Ve.DayPeriods,We.Wide);break;case"aaaaa":e=Ge(Ve.DayPeriods,We.Narrow);break;case"b":case"bb":case"bbb":e=Ge(Ve.DayPeriods,We.Abbreviated,dn.Standalone,!0);break;case"bbbb":e=Ge(Ve.DayPeriods,We.Wide,dn.Standalone,!0);break;case"bbbbb":e=Ge(Ve.DayPeriods,We.Narrow,dn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(Ve.DayPeriods,We.Abbreviated,dn.Format,!0);break;case"BBBB":e=Ge(Ve.DayPeriods,We.Wide,dn.Format,!0);break;case"BBBBB":e=Ge(Ve.DayPeriods,We.Narrow,dn.Format,!0);break;case"h":e=yt(Le.Hours,1,-12);break;case"hh":e=yt(Le.Hours,2,-12);break;case"H":e=yt(Le.Hours,1);break;case"HH":e=yt(Le.Hours,2);break;case"m":e=yt(Le.Minutes,1);break;case"mm":e=yt(Le.Minutes,2);break;case"s":e=yt(Le.Seconds,1);break;case"ss":e=yt(Le.Seconds,2);break;case"S":e=yt(Le.FractionalSeconds,1);break;case"SS":e=yt(Le.FractionalSeconds,2);break;case"SSS":e=yt(Le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=sf(li.Short);break;case"ZZZZZ":e=sf(li.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=sf(li.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=sf(li.Long);break;default:return null}return e_[n]=e,e}function cx(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function zB(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function WB(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=cx(e,i);return zB(n,r*(o-i))}function qB(n){if(XA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return uf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(FB))return GB(r)}let e=new Date(n);if(!XA(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function GB(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function XA(n){return n instanceof Date&&!isNaN(n.valueOf())}var lx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:function(r){let i=null;return r?i=new r:i=(o=>new YB(o))(ue(lr)),i},providedIn:"root"})}}return n})();function KB(n,e,t,r){let i=`=${n}`;if(e.indexOf(i)>-1||(i=t.getPluralCategory(n,r),e.indexOf(i)>-1))return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}var YB=(()=>{class n extends lx{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(kB(r||this.locale)(t)){case ma.Zero:return"zero";case ma.One:return"one";case ma.Two:return"two";case ma.Few:return"few";case ma.Many:return"many";default:return"other"}}static{this.\u0275fac=function(r){return new(r||n)(ue(lr))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function s_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var t_=/\s+/,ZA=[],zn=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=ZA,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(t_):ZA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(t_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(t_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(P(et),P(dt))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var n_=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new n_(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),JA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);JA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(P(ar),P($h),P(Qy))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function JA(n,e){n.context.$implicit=e.item}var ht=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new r_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ex("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ex("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(P(ar),P($h))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),r_=class{constructor(){this.$implicit=null,this.ngIf=null}};function ex(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ln(e)}'.`)}var fl=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Tr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(P(et),P(Xy),P(dt))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),qn=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(P(ar))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Kt]})}}return n})();function ff(n,e){return new te(2100,!1)}var i_=class{createSubscription(e,t){return dr(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){dr(()=>e.unsubscribe())}},o_=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},QB=new o_,XB=new i_,ux=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Ki(t))return QB;if(Ky(t))return XB;throw ff(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(P(ur,16))}}static{this.\u0275pipe=ii({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var ZB="mediumDate",JB=new ne(""),eH=new ne(""),dx=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??ZB,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return _t(t,s,o||this.locale,a)}catch(s){throw ff(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(P(lr,16),P(JB,24),P(eH,24))}}static{this.\u0275pipe=ii({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),tH=/#/g,pf=(()=>{class n{constructor(t){this._localization=t}transform(t,r,i){if(t==null)return"";if(typeof r!="object"||r===null)throw ff(n,r);let o=KB(t,Object.keys(r),this._localization,i);return r[o].replace(tH,t.toString())}static{this.\u0275fac=function(r){return new(r||n)(P(lx,16))}}static{this.\u0275pipe=ii({name:"i18nPlural",type:n,pure:!0,standalone:!0})}}return n})();var hx=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!this.supports(t))throw ff(n,t);return t.slice(r,i)}supports(t){return typeof t=="string"||Array.isArray(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=ii({name:"slice",type:n,pure:!1,standalone:!0})}}return n})();var tt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Tt({type:n})}static{this.\u0275inj=bt({})}}return n})(),a_="browser",nH="server";function fx(n){return n===a_}function pl(n){return n===nH}var df=class{};var gf=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ex=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ex||{}),c_=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new gf,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var vf=class n extends c_{constructor(e={}){super(e),this.type=Ex.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var rH=new ne("");var iH=new ne(""),px="b",mx="h",gx="s",vx="st",yx="u",_x="rt",mf=new ne(""),oH=["GET","HEAD"];function sH(n,e){let m=H(mf),{isCacheActive:t}=m,r=ed(m,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!oH.includes(o)||!r.includeRequestsWithAuthHeaders&&aH(n)||r.filter?.(n)===!1)return e(n);let s=H(fa),a=H(iH,{optional:!0}),c=pl(H(gn));if(a&&!c)throw new te(2803,!1);let u=c&&a?dH(n.url,a):n.url,d=lH(n,u),f=s.get(d,null),v=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(v=i.includeHeaders),f){let{[px]:D,[_x]:x,[mx]:S,[gx]:k,[vx]:j,[yx]:U}=f,W=D;switch(x){case"arraybuffer":W=new TextEncoder().encode(D).buffer;break;case"blob":W=new Blob([D]);break}let re=new gf(S);return pe(new vf({body:W,headers:re,status:k,statusText:j,url:U}))}return e(n).pipe(rt(D=>{D instanceof vf&&c&&s.set(d,{[px]:D.body,[mx]:cH(D.headers,v),[gx]:D.status,[vx]:D.statusText,[yx]:u,[_x]:n.responseType})}))}function aH(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function cH(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function wx(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function lH(n,e){let{params:t,method:r,responseType:i}=n,o=wx(t),s=n.serializeBody();s instanceof URLSearchParams?s=wx(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=uH(a);return c}function uH(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Ix(n){return[{provide:mf,useFactory:()=>(Gi("NgHttpTransferCache"),B({isCacheActive:!0},n))},{provide:rH,useValue:sH,multi:!0,deps:[fa,mf]},{provide:pa,multi:!0,useFactory:()=>{let e=H(Nr),t=H(mf);return()=>{Jh(e).then(()=>{t.isCacheActive=!1})}}}]}function dH(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var d_=class extends lf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},h_=class n extends d_{static makeCurrent(){nx(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=hH();return t==null?null:fH(t)}resetBaseElement(){ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return s_(document.cookie,e)}},ml=null;function hH(){return ml=ml||document.querySelector("base"),ml?ml.getAttribute("href"):null}function fH(n){return new URL(n,document.baseURI).pathname}var pH=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),f_=new ne(""),Tx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ue(f_),ue(Se))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),yf=class{constructor(e){this._doc=e}},l_="ng-app-id",Sx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${l_}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(l_),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(l_,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ue(Mt),ue(Ph),ue(wy,8),ue(gn))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),u_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},g_=/%COMP%/g,Ax="%COMP%",mH=`_nghost-${Ax}`,gH=`_ngcontent-${Ax}`,vH=!0,yH=new ne("",{providedIn:"root",factory:()=>vH});function _H(n){return gH.replace(g_,n)}function wH(n){return mH.replace(g_,n)}function xx(n,e){return e.map(t=>t.replace(g_,n))}var Dx=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=pl(a),this.defaultRenderer=new gl(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dr.ShadowDom&&(r=ve(B({},r),{encapsulation:Dr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof _f?i.applyToHost(t):i instanceof vl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Dr.Emulated:o=new _f(c,u,r,this.appId,d,s,a,f);break;case Dr.ShadowDom:return new p_(c,u,t,r,s,a,this.nonce,f);default:o=new vl(c,u,r,d,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ue(Tx),ue(Sx),ue(Ph),ue(yH),ue(Mt),ue(gn),ue(Se),ue(wy))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),gl=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(u_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Cx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Cx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=u_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=u_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(t,r,i&Tr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Tr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ui().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Cx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var p_=class extends gl{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=xx(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vl=class extends gl{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?xx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_f=class extends vl{constructor(e,t,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=_H(u),this.hostAttr=wH(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},EH=(()=>{class n extends yf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ue(Mt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})(),bx=["alt","control","meta","shift"],IH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},CH=(()=>{class n extends yf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ui().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bx.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=IH[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bx.forEach(s=>{if(s!==i){let a=DH[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ue(Mt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac})}}return n})();function Mx(n,e){return GA(B({rootComponent:n},bH(e)))}function bH(n){return{appProviders:[...MH,...n?.providers??[]],platformProviders:xH}}function TH(){h_.makeCurrent()}function SH(){return new ti}function AH(){return hS(document),document}var xH=[{provide:gn,useValue:a_},{provide:_y,useValue:TH,multi:!0},{provide:Mt,useFactory:AH,deps:[]}];var MH=[{provide:Ch,useValue:"root"},{provide:ti,useFactory:SH,deps:[]},{provide:f_,useClass:EH,multi:!0,deps:[Mt,Se,gn]},{provide:f_,useClass:CH,multi:!0,deps:[Mt]},Dx,Sx,Tx,{provide:ua,useExisting:Dx},{provide:df,useClass:pH,deps:[]},[]];var Rx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ue(Mt))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var m_=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(m_||{});function Nx(...n){let e=[],t=new Set,r=t.has(m_.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Cn([[],KA(),t.has(m_.NoHttpTransferCache)||r?[]:Ix({}),e])}var Ee="primary",kl=Symbol("RouteTitle"),E_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ia(n){return new E_(n)}function NH(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function kH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pr(n[t],e[t]))return!1;return!0}function Pr(n,e){let t=n?I_(n):void 0,r=e?I_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Ux(n[i],e[i]))return!1;return!0}function I_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ux(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Bx(n){return n.length>0?n[n.length-1]:null}function Zi(n){return kg(n)?n:Ki(n)?Je(Promise.resolve(n)):pe(n)}var PH={exact:$x,subset:zx},Hx={exact:OH,subset:FH,ignored:()=>!0};function kx(n,e,t){return PH[t.paths](n.root,e.root,t.matrixParams)&&Hx[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function OH(n,e){return Pr(n,e)}function $x(n,e,t){if(!Jo(n.segments,e.segments)||!If(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$x(n.children[r],e.children[r],t))return!1;return!0}function FH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ux(n[t],e[t]))}function zx(n,e,t){return Wx(n,e,e.segments,t)}function Wx(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Jo(i,t)||e.hasChildren()||!If(i,t,r))}else if(n.segments.length===t.length){if(!Jo(n.segments,t)||!If(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!zx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Jo(n.segments,i)||!If(n.segments,i,r)||!n.children[Ee]?!1:Wx(n.children[Ee],e,o,r)}}function If(n,e,t){return e.every((r,i)=>Hx[t](n[i].parameters,r.parameters))}var hi=class{constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ia(this.queryParams),this._queryParamMap}toString(){return jH.serialize(this)}},je=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Df(this)}},Zo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ia(this.parameters),this._parameterMap}toString(){return Gx(this)}};function VH(n,e){return Jo(n,e)&&n.every((t,r)=>Pr(t.parameters,e[r].parameters))}function Jo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function LH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ee&&(t=t.concat(e(i,r)))}),t}var K_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>new Cl,providedIn:"root"})}}return n})(),Cl=class{parse(e){let t=new C_(e);return new hi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yl(e.root,!0)}`,r=HH(e.queryParams),i=typeof e.fragment=="string"?`#${UH(e.fragment)}`:"";return`${t}${r}${i}`}},jH=new Cl;function Df(n){return n.segments.map(e=>Gx(e)).join("/")}function yl(n,e){if(!n.hasChildren())return Df(n);if(e){let t=n.children[Ee]?yl(n.children[Ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ee&&r.push(`${i}:${yl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=LH(n,(r,i)=>i===Ee?[yl(n.children[Ee],!1)]:[`${i}:${yl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ee]!=null?`${Df(n)}/${t[0]}`:`${Df(n)}/(${t.join("//")})`}}function qx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wf(n){return qx(n).replace(/%3B/gi,";")}function UH(n){return encodeURI(n)}function D_(n){return qx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cf(n){return decodeURIComponent(n)}function Px(n){return Cf(n.replace(/\+/g,"%20"))}function Gx(n){return`${D_(n.path)}${BH(n.parameters)}`}function BH(n){return Object.entries(n).map(([e,t])=>`;${D_(e)}=${D_(t)}`).join("")}function HH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${wf(t)}=${wf(i)}`).join("&"):`${wf(t)}=${wf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var $H=/^[^\/()?;#]+/;function v_(n){let e=n.match($H);return e?e[0]:""}var zH=/^[^\/()?;=#]+/;function WH(n){let e=n.match(zH);return e?e[0]:""}var qH=/^[^=?&#]+/;function GH(n){let e=n.match(qH);return e?e[0]:""}var KH=/^[^&#]+/;function YH(n){let e=n.match(KH);return e?e[0]:""}var C_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ee]=new je(e,t)),r}parseSegment(){let e=v_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new Zo(Cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=WH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=v_(this.remaining);i&&(r=i,this.capture(r))}e[Cf(t)]=Cf(r)}parseQueryParam(e){let t=GH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=YH(this.remaining);s&&(r=s,this.capture(r))}let i=Px(t),o=Px(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=v_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ee);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ee]:new je([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function Kx(n){return n.segments.length>0?new je([],{[Ee]:n}):n}function Yx(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Yx(i);if(r===Ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new je(n.segments,e);return QH(t)}function QH(n){if(n.numberOfChildren===1&&n.children[Ee]){let e=n.children[Ee];return new je(n.segments.concat(e.segments),e.children)}return n}function es(n){return n instanceof hi}function XH(n,e,t=null,r=null){let i=Qx(n);return Xx(i,e,t,r)}function Qx(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new je(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Kx(r);return e??i}function Xx(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return y_(i,i,i,t,r);let o=ZH(e);if(o.toRoot())return y_(i,i,new je([],{}),t,r);let s=JH(o,i,n),a=s.processChildren?El(s.segmentGroup,s.index,o.commands):Jx(s.segmentGroup,s.index,o.commands);return y_(i,s.segmentGroup,a,t,r)}function bf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function bl(n){return typeof n=="object"&&n!=null&&n.outlets}function y_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=Zx(n,e,t);let a=Kx(Yx(s));return new hi(a,o,i)}function Zx(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Zx(o,e,t)}),new je(n.segments,r)}var Tf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bf(r[0]))throw new te(4003,!1);let i=r.find(bl);if(i&&i!==Bx(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Tf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Tf(t,e,r)}var _a=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function JH(n,e,t){if(n.isAbsolute)return new _a(e,!0,0);if(!t)return new _a(e,!1,NaN);if(t.parent===null)return new _a(t,!0,0);let r=bf(n.commands[0])?0:1,i=t.segments.length-1+r;return e$(t,i,n.numberOfDoubleDots)}function e$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new _a(r,!1,i-o)}function t$(n){return bl(n[0])?n[0].outlets:{[Ee]:n}}function Jx(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return El(n,e,t);let r=n$(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new je(n.segments.slice(0,r.pathIndex),{});return o.children[Ee]=new je(n.segments.slice(r.pathIndex),n.children),El(o,0,i)}else return r.match&&i.length===0?new je(n.segments,{}):r.match&&!n.hasChildren()?b_(n,e,t):r.match?El(n,0,i):b_(n,e,t)}function El(n,e,t){if(t.length===0)return new je(n.segments,{});{let r=t$(t),i={};if(Object.keys(r).some(o=>o!==Ee)&&n.children[Ee]&&n.numberOfChildren===1&&n.children[Ee].segments.length===0){let o=El(n.children[Ee],e,t);return new je(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Jx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new je(n.segments,i)}}function n$(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(bl(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Fx(c,u,s))return o;r+=2}else{if(!Fx(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function b_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(bl(o)){let c=r$(o.outlets);return new je(r,c)}if(i===0&&bf(t[0])){let c=n.segments[e];r.push(new Zo(c.path,Ox(t[0]))),i++;continue}let s=bl(o)?o.outlets[Ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&bf(a)?(r.push(new Zo(s,Ox(a))),i+=2):(r.push(new Zo(s,{})),i++)}return new je(r,{})}function r$(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=b_(new je([],{}),0,r))}),e}function Ox(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Fx(n,e,t){return n==t.path&&Pr(e,t.parameters)}var Il="imperative",Ut=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ut||{}),Gn=class{constructor(e,t){this.id=e,this.url=t}},Tl=class extends Gn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ut.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xi=class extends Gn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Mn||{}),T_=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(T_||{}),di=class extends Gn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ts=class extends Gn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ut.NavigationSkipped}},Sl=class extends Gn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sf=class extends Gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},S_=class extends Gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},A_=class extends Gn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},x_=class extends Gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},M_=class extends Gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},R_=class{constructor(e){this.route=e,this.type=Ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},N_=class{constructor(e){this.route=e,this.type=Ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},k_=class{constructor(e){this.snapshot=e,this.type=Ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P_=class{constructor(e){this.snapshot=e,this.type=Ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},O_=class{constructor(e){this.snapshot=e,this.type=Ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},F_=class{constructor(e){this.snapshot=e,this.type=Ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Al=class{},Da=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function i$(n,e){return n.providers&&!n._injector&&(n._injector=By(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fr(n){return n.outlet||Ee}function o$(n,e){let t=n.filter(r=>fr(r)===e);return t.push(...n.filter(r=>fr(r)!==e)),t}function Pl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var V_=class{get injector(){return Pl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Pf(this.rootInjector),this.attachRef=null}},Pf=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new V_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ue(Ln))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Af=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=L_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=L_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=j_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return j_(e,this._root).map(t=>t.value)}};function L_(n,e){if(n===e.value)return e;for(let t of e.children){let r=L_(n,t);if(r)return r}return null}function j_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=j_(n,t);if(r.length)return r.unshift(e),r}return[]}var xn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ya(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xf=class extends Af{constructor(e,t){super(e),this.snapshot=t,Y_(this,e)}toString(){return this.snapshot.toString()}};function eM(n){let e=s$(n),t=new at([new Zo("",{})]),r=new at({}),i=new at({}),o=new at({}),s=new at(""),a=new ns(t,r,o,s,i,Ee,n,e.root);return a.snapshot=e.root,new xf(new xn(a,[]),e)}function s$(n){let e={},t={},r={},i="",o=new wa([],e,r,i,t,Ee,n,null,{});return new Rf("",new xn(o,[]))}var ns=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(u=>u[kl]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Ia(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Ia(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&nM(i)&&(r.resolve[kl]=i.title),r}var wa=class{get title(){return this.data?.[kl]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ia(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ia(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Rf=class extends Af{constructor(e,t){super(t),this.url=e,Y_(this,t)}toString(){return tM(this._root)}};function Y_(n,e){e.value._routerState=n,e.children.forEach(t=>Y_(n,t))}function tM(n){let e=n.children.length>0?` { ${n.children.map(tM).join(", ")} } `:"";return`${n.value}${e}`}function __(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pr(e.params,t.params)||n.paramsSubject.next(t.params),kH(e.url,t.url)||n.urlSubject.next(t.url),Pr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function U_(n,e){let t=Pr(n.params,e.params)&&VH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||U_(n.parent,e.parent))}function nM(n){return typeof n.title=="string"||n.title===null}var Q_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new J,this.deactivateEvents=new J,this.attachEvents=new J,this.detachEvents=new J,this.parentContexts=H(Pf),this.location=H(ar),this.changeDetector=H(ur),this.inputBinder=H(X_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new B_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Re({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kt]})}}return n})(),B_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ns?this.route:e===Pf?this.childContexts:this.parent.get(e,t)}},X_=new ne("");function a$(n,e,t){let r=xl(n,e._root,t?t._root:void 0);return new xf(r,e)}function xl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=c$(n,e,t);return new xn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xl(n,a)),s}}let r=l$(e.value),i=e.children.map(o=>xl(n,o));return new xn(r,i)}}function c$(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xl(n,r,i);return xl(n,r)})}function l$(n){return new ns(new at(n.url),new at(n.params),new at(n.queryParams),new at(n.fragment),new at(n.data),n.outlet,n.component,n)}var Ml=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},rM="ngNavigationCancelingError";function Nf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iM(!1,Mn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function iM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[rM]=!0,t.cancellationCode=e,t}function u$(n){return oM(n)&&es(n.url)}function oM(n){return!!n&&n[rM]}var d$=(n,e,t,r)=>oe(i=>(new H_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),H_=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),__(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ya(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ya(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ya(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ya(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new F_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new P_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(__(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),__(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},kf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ea=class{constructor(e,t){this.component=e,this.route=t}};function h$(n,e,t){let r=n._root,i=e?e._root:null;return _l(r,i,t,[r.value])}function f$(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ba(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Qb(n)?n:e.get(n):r}function _l(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ya(e);return n.children.forEach(s=>{p$(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Dl(a,t.getContext(s),i)),i}function p$(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=m$(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_l(n,e,a?a.children:null,r,i):_l(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ea(a.outlet.component,s))}else s&&Dl(e,a,i),i.canActivateChecks.push(new kf(r)),o.component?_l(n,null,a?a.children:null,r,i):_l(n,null,t,r,i);return i}function m$(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!Pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U_(n,e)||!Pr(n.queryParams,e.queryParams);case"paramsChange":default:return!U_(n,e)}}function Dl(n,e,t){let r=ya(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Dl(s,e.children.getContext(o),t):Dl(s,null,t):Dl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ea(e.outlet.component,i)):t.canDeactivateChecks.push(new Ea(null,i)):t.canDeactivateChecks.push(new Ea(null,i))}function Ol(n){return typeof n=="function"}function g$(n){return typeof n=="boolean"}function v$(n){return n&&Ol(n.canLoad)}function y$(n){return n&&Ol(n.canActivate)}function _$(n){return n&&Ol(n.canActivateChild)}function w$(n){return n&&Ol(n.canDeactivate)}function E$(n){return n&&Ol(n.canMatch)}function sM(n){return n instanceof Zr||n?.name==="EmptyError"}var Ef=Symbol("INITIAL_VALUE");function Ca(){return Ft(n=>Gs(n.map(e=>e.pipe(Wt(1),ko(Ef)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===Ef)return Ef;if(t===!1||I$(t))return t}return!0}),Ye(e=>e!==Ef),Wt(1)))}function I$(n){return es(n)||n instanceof Ml}function D$(n,e){return qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?pe(ve(B({},t),{guardsResult:!0})):C$(s,r,i,n).pipe(qe(a=>a&&g$(a)?b$(r,o,n,e):pe(a)),oe(a=>ve(B({},t),{guardsResult:a})))})}function C$(n,e,t,r){return Je(n).pipe(qe(i=>M$(i.component,i.route,t,e,r)),Jn(i=>i!==!0,!0))}function b$(n,e,t,r){return Je(e).pipe(No(i=>Ks(S$(i.route.parent,r),T$(i.route,r),x$(n,i.path,t),A$(n,i.route,t))),Jn(i=>i!==!0,!0))}function T$(n,e){return n!==null&&e&&e(new O_(n)),pe(!0)}function S$(n,e){return n!==null&&e&&e(new k_(n)),pe(!0)}function A$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(o=>xd(()=>{let s=Pl(e)??t,a=ba(o,s),c=y$(a)?a.canActivate(e,n):Sr(s,()=>a(e,n));return Zi(c).pipe(Jn())}));return pe(i).pipe(Ca())}function x$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>f$(s)).filter(s=>s!==null).map(s=>xd(()=>{let a=s.guards.map(c=>{let u=Pl(s.node)??t,d=ba(c,u),f=_$(d)?d.canActivateChild(r,n):Sr(u,()=>d(r,n));return Zi(f).pipe(Jn())});return pe(a).pipe(Ca())}));return pe(o).pipe(Ca())}function M$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let c=Pl(e)??i,u=ba(a,c),d=w$(u)?u.canDeactivate(n,e,t,r):Sr(c,()=>u(n,e,t,r));return Zi(d).pipe(Jn())});return pe(s).pipe(Ca())}function R$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let o=i.map(s=>{let a=ba(s,n),c=v$(a)?a.canLoad(e,t):Sr(n,()=>a(e,t));return Zi(c)});return pe(o).pipe(Ca(),aM(r))}function aM(n){return Tg(rt(e=>{if(typeof e!="boolean")throw Nf(n,e)}),oe(e=>e===!0))}function N$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let o=i.map(s=>{let a=ba(s,n),c=E$(a)?a.canMatch(e,t):Sr(n,()=>a(e,t));return Zi(c)});return pe(o).pipe(Ca(),aM(r))}var Rl=class{constructor(e){this.segmentGroup=e||null}},Nl=class extends Error{constructor(e){super(),this.urlTree=e}};function va(n){return Ws(new Rl(n))}function k$(n){return Ws(new te(4e3,!1))}function P$(n){return Ws(iM(!1,Mn.GuardRejected))}var $_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[Ee])return k$(`${e.redirectTo}`);i=i.children[Ee]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:v,params:m,data:D,title:x}=i,S=Sr(o,()=>a({params:m,data:D,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:v,title:x}));if(S instanceof hi)throw new Nl(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Nl(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new hi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new je(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},z_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function O$(n,e,t,r,i){let o=cM(n,e,t);return o.matched?(r=i$(e,r),N$(r,e,t,i).pipe(oe(s=>s===!0?o:B({},z_)))):pe(o)}function cM(n,e,t){if(e.path==="**")return F$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},z_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NH)(t,n,e);if(!i)return B({},z_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function F$(n){return{matched:!0,parameters:n.length>0?Bx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Vx(n,e,t,r){return t.length>0&&j$(n,t,r)?{segmentGroup:new je(e,L$(r,new je(t,n.children))),slicedSegments:[]}:t.length===0&&U$(n,t,r)?{segmentGroup:new je(n.segments,V$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function V$(n,e,t,r){let i={};for(let o of t)if(Of(n,e,o)&&!r[fr(o)]){let s=new je([],{});i[fr(o)]=s}return B(B({},r),i)}function L$(n,e){let t={};t[Ee]=e;for(let r of n)if(r.path===""&&fr(r)!==Ee){let i=new je([],{});t[fr(r)]=i}return t}function j$(n,e,t){return t.some(r=>Of(n,e,r)&&fr(r)!==Ee)}function U$(n,e,t){return t.some(r=>Of(n,e,r))}function Of(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function B$(n,e,t){return e.length===0&&!n.children[t]}var W_=class{};function H$(n,e,t,r,i,o,s="emptyOnly"){return new q_(n,e,t,r,i,s,o).recognize()}var $$=31,q_=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=Vx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new xn(r,t),o=new Rf("",i),s=XH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new wa([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ee,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Oi(r=>{if(r instanceof Nl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Rl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof xn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Je(o).pipe(No(s=>{let a=r.children[s],c=o$(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Ug((s,a)=>(s.push(...a),s)),Fi(null),jg(),qe(s=>{if(s===null)return va(r);let a=lM(s);return z$(a),pe(a)}))}processSegment(e,t,r,i,o,s,a){return Je(t).pipe(No(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Oi(u=>{if(u instanceof Rl)return pe(null);throw u}))),Jn(c=>!!c),Oi(c=>{if(sM(c))return B$(r,i,o)?pe(new W_):va(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return fr(r)!==s&&(s===Ee||!Of(i,o,r))?va(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):va(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:v}=cM(t,i,o);if(!c)return va(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$$&&(this.allowRedirects=!1));let m=new wa(o,u,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Lx(i),fr(i),i.component??i._loadedComponent??null,i,jx(i)),D=Mf(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let x=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(qe(S=>this.processSegment(e,r,t,S.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=O$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ft(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:v,remainingSegments:m}=c,D=new wa(v,f,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Lx(r),fr(r),r.component??r._loadedComponent??null,r,jx(r)),x=Mf(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(x.params),D.data=Object.freeze(x.data);let{segmentGroup:S,slicedSegments:k}=Vx(t,v,m,u);if(k.length===0&&S.hasChildren())return this.processChildren(d,u,S,D).pipe(oe(U=>new xn(D,U)));if(u.length===0&&k.length===0)return pe(new xn(D,[]));let j=fr(r)===o;return this.processSegment(d,u,S,k,j?Ee:o,!0,D).pipe(oe(U=>new xn(D,U instanceof xn?[U]:[])))}))):va(t)))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):R$(e,t,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,t).pipe(rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):P$(t))):pe({routes:[],injector:e})}};function z$(n){n.sort((e,t)=>e.value.outlet===Ee?-1:t.value.outlet===Ee?1:e.value.outlet.localeCompare(t.value.outlet))}function W$(n){let e=n.value.routeConfig;return e&&e.path===""}function lM(n){let e=[],t=new Set;for(let r of n){if(!W$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=lM(r.children);e.push(new xn(r.value,i))}return e.filter(r=>!t.has(r))}function Lx(n){return n.data||{}}function jx(n){return n.resolve||{}}function q$(n,e,t,r,i,o){return qe(s=>H$(n,e,t,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:c})=>ve(B({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function G$(n,e){return qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of uM(c))s.add(u);let a=0;return Je(s).pipe(No(c=>o.has(c)?K$(c,r,n,e):(c.data=Mf(c,c.parent,n).resolve,pe(void 0))),rt(()=>a++),Vi(1),qe(c=>a===s.size?pe(t):sn))})}function uM(n){let e=n.children.map(t=>uM(t)).flat();return[n,...e]}function K$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!nM(i)&&(o[kl]=i.title),Y$(o,n,e,r).pipe(oe(s=>(n._resolvedData=s,n.data=Mf(n,n.parent,t).resolve,null)))}function Y$(n,e,t,r){let i=I_(n);if(i.length===0)return pe({});let o={};return Je(i).pipe(qe(s=>Q$(n[s],e,t,r).pipe(Jn(),rt(a=>{if(a instanceof Ml)throw Nf(new Cl,a);o[s]=a}))),Vi(1),Vg(o),Oi(s=>sM(s)?sn:Ws(s)))}function Q$(n,e,t,r){let i=Pl(e)??r,o=ba(n,i),s=o.resolve?o.resolve(e,t):Sr(i,()=>o(e,t));return Zi(s)}function w_(n){return Ft(e=>{let t=n(e);return t?Je(t).pipe(oe(()=>e)):pe(e)})}var dM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ee);return r}getResolvedTitleForRoute(t){return t.data[kl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>H(X$),providedIn:"root"})}}return n})(),X$=(()=>{class n extends dM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ue(Rx))}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Z_=new ne("",{providedIn:"root",factory:()=>({})}),Z$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ne({type:n,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(r,i){r&1&&se(0,"router-outlet")},dependencies:[Q_],encapsulation:2})}}return n})();function J_(n){let e=n.children&&n.children.map(J_),t=e?ve(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ee&&(t.component=Z$),t}var ew=new ne(""),J$=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(Yy)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Zi(t.loadComponent()).pipe(oe(hM),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ys(()=>{this.componentLoaders.delete(t)})),i=new js(r,()=>new Te).pipe(Ls());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ez(r,this.compiler,t,this.onLoadEndListener).pipe(Ys(()=>{this.childrenLoaders.delete(r)})),s=new js(o,()=>new Te).pipe(Ls());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ez(n,e,t,r){return Zi(n.loadChildren()).pipe(oe(hM),qe(i=>i instanceof Qc||Array.isArray(i)?pe(i):Je(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ew,[],{optional:!0,self:!0}).flat()),{routes:s.map(J_),injector:o}}))}function tz(n){return n&&typeof n=="object"&&"default"in n}function hM(n){return tz(n)?n.default:n}var tw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>H(nz),providedIn:"root"})}}return n})(),nz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rz=new ne("");var iz=new ne(""),oz=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=H(J$),this.environmentInjector=H(Ln),this.urlSerializer=H(K_),this.rootContexts=H(Pf),this.location=H(hl),this.inputBindingEnabled=H(X_,{optional:!0})!==null,this.titleStrategy=H(dM),this.options=H(Z_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(tw),this.createViewTransition=H(rz,{optional:!0}),this.navigationErrorHandler=H(iz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null;let t=i=>this.events.next(new R_(i)),r=i=>this.events.next(new N_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ve(B(B({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new at({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Il,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ye(o=>o.id!==0),oe(o=>ve(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ft(o=>{let s=!1,a=!1;return pe(o).pipe(Ft(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Mn.SupersededByNewNavigation),sn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ve(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new ts(c.id,this.urlSerializer.serialize(c.rawUrl),f,T_.IgnoredSameUrlNavigation)),c.resolve(!1),sn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return pe(c).pipe(Ft(f=>{let v=this.transitions?.getValue();return this.events.next(new Tl(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),v!==this.transitions?.getValue()?sn:Promise.resolve(f)}),q$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ve(B({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let v=new Sf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:v,source:m,restoredState:D,extras:x}=c,S=new Tl(f,this.urlSerializer.serialize(v),m,D);this.events.next(S);let k=eM(this.rootComponentType).snapshot;return this.currentTransition=o=ve(B({},c),{targetSnapshot:k,urlAfterRedirects:v,extras:ve(B({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,pe(o)}else{let f="";return this.events.next(new ts(c.id,this.urlSerializer.serialize(c.extractedUrl),f,T_.IgnoredByUrlHandlingStrategy)),c.resolve(!1),sn}}),rt(c=>{let u=new S_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),oe(c=>(this.currentTransition=o=ve(B({},c),{guards:h$(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),D$(this.environmentInjector,c=>this.events.next(c)),rt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Nf(this.urlSerializer,c.guardsResult);let u=new A_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ye(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Mn.GuardRejected),!1)),w_(c=>{if(c.guards.canActivateChecks.length)return pe(c).pipe(rt(u=>{let d=new x_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ft(u=>{let d=!1;return pe(u).pipe(G$(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Mn.NoDataFromResolver)}}))}),rt(u=>{let d=new M_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),w_(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(rt(v=>{d.component=v}),oe(()=>{})));for(let v of d.children)f.push(...u(v));return f};return Gs(u(c.targetSnapshot.root)).pipe(Fi(null),Wt(1))}),w_(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Je(d).pipe(oe(()=>o)):pe(o)}),oe(c=>{let u=a$(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ve(B({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),rt(()=>{this.events.next(new Al)}),d$(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Wt(1),rt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),pn(this.transitionAbortSubject.pipe(rt(c=>{throw c}))),Ys(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Mn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Oi(c=>{if(a=!0,oM(c))this.events.next(new di(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),u$(c)?this.events.next(new Da(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Sl(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=Sr(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Ml){let{message:f,cancellationCode:v}=Nf(this.urlSerializer,d);this.events.next(new di(o.id,this.urlSerializer.serialize(o.extractedUrl),f,v)),this.events.next(new Da(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=t.errorHandler(c);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return sn}))}))}cancelNavigationTransition(t,r,i){let o=new di(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sz(n){return n!==Il}var az=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>H(cz),providedIn:"root"})}}return n})(),G_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},cz=(()=>{class n extends G_{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:()=>H(lz),providedIn:"root"})}}return n})(),lz=(()=>{class n extends fM{constructor(){super(...arguments),this.location=H(hl),this.urlSerializer=H(K_),this.options=H(Z_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(tw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Tl)this.stateMemento=this.createStateMemento();else if(t instanceof ts)this.rawUrlTree=r.initialUrl;else if(t instanceof Sf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Al?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof di&&(t.code===Mn.GuardRejected||t.code===Mn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Sl?this.restoreHistory(r,!0):t instanceof Xi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof hi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(wl||{});function uz(n,e){n.events.pipe(Ye(t=>t instanceof Xi||t instanceof di||t instanceof Sl||t instanceof ts),oe(t=>t instanceof Xi||t instanceof ts?wl.COMPLETE:(t instanceof di?t.code===Mn.Redirect||t.code===Mn.SupersededByNewNavigation:!1)?wl.REDIRECTING:wl.FAILED),Ye(t=>t!==wl.REDIRECTING),Wt(1)).subscribe(()=>{e()})}function dz(n){throw n}var hz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=H(Zh),this.stateManager=H(fM),this.options=H(Z_,{optional:!0})||{},this.pendingTasks=H(qo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(oz),this.urlSerializer=H(K_),this.location=H(hl),this.urlHandlingStrategy=H(tw),this._events=new Te,this.errorHandler=this.options.errorHandler||dz,this.navigated=!1,this.routeReuseStrategy=H(az),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(ew,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(X_,{optional:!0}),this.eventsSubscription=new st,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof di&&r.code!==Mn.Redirect&&r.code!==Mn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xi)this.navigated=!0;else if(r instanceof Da){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sz(i.source)},s);this.scheduleNavigation(a,Il,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Il,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=B({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(J_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let v=i?i.snapshot:this.routerState.snapshot.root;f=Qx(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Xx(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=es(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Il,null,r)}navigate(t,r={skipLocationChange:!1}){return pz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},hz):r===!1?i=B({},fz):i=r,es(t))return kx(this.currentUrlTree,t,i);let o=this.parseUrl(t);return kx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,v)=>{a=f,c=v});let d=this.pendingTasks.add();return uz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new te(4008,!1)}function mz(n){return!(n instanceof Al)&&!(n instanceof Da)}var Ff=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(es(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:xS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:es(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(P(hn),P(ns),gy("tabindex"),P(dt),P(et),P(ga))}}static{this.\u0275dir=Re({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ae("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Qt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Yi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Yi],replaceUrl:[2,"replaceUrl","replaceUrl",Yi],routerLink:"routerLink"},standalone:!0,features:[Uy,Kt]})}}return n})();var gz=new ne("");function pM(n,...e){return Cn([{provide:ew,multi:!0,useValue:n},[],{provide:ns,useFactory:vz,deps:[hn]},{provide:pa,multi:!0,useFactory:yz},e.map(t=>t.\u0275providers)])}function vz(n){return n.routerState.root}function yz(){let n=H(xt);return e=>{let t=n.get(Nr);if(e!==t.components[0])return;let r=n.get(hn),i=n.get(_z);n.get(wz)===1&&r.initialNavigation(),n.get(Ez,null,Ce.Optional)?.setUpPreloading(),n.get(gz,null,Ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _z=new ne("",{factory:()=>new Te}),wz=new ne("",{providedIn:"root",factory:()=>1});var Ez=new ne("");var mM={production:!0,firebase:{apiKey:"AIzaSyAOZ6R5siNGVKJp76i8uQunU9mojsKvU64",authDomain:"reportease-app.firebaseapp.com",projectId:"reportease-app",storageBucket:"reportease-app.firebasestorage.app",messagingSenderId:"540320774976",appId:"1:540320774976:web:6be3679164b40d903dd8a5",measurementId:"G-LGQ0WPDNRV"}};var bM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(P(dt),P(et))}}static{this.\u0275dir=Re({type:n})}}return n})(),rw=(()=>{class n extends bM{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,features:[cr]})}}return n})(),Wf=new ne("");var Iz={provide:Wf,useExisting:ri(()=>Or),multi:!0};function Dz(){let n=ui()?ui().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Cz=new ne(""),Or=(()=>{class n extends bM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Dz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(P(dt),P(et),P(Cz,8))}}static{this.\u0275dir=Re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ae("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ko([Iz]),cr]})}}return n})();function bz(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var iw=new ne(""),TM=new ne("");function Tz(n){return bz(n.value)?{required:!0}:null}function gM(n){return null}function SM(n){return n!=null}function AM(n){return Ki(n)?Je(n):n}function xM(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function MM(n,e){return e.map(t=>t(n))}function Sz(n){return!n.validate}function RM(n){return n.map(e=>Sz(e)?e:t=>e.validate(t))}function Az(n){if(!n)return null;let e=n.filter(SM);return e.length==0?null:function(t){return xM(MM(t,e))}}function ow(n){return n!=null?Az(RM(n)):null}function xz(n){if(!n)return null;let e=n.filter(SM);return e.length==0?null:function(t){let r=MM(t,e).map(AM);return Pg(r).pipe(oe(xM))}}function sw(n){return n!=null?xz(RM(n)):null}function vM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Mz(n){return n._rawValidators}function Rz(n){return n._rawAsyncValidators}function nw(n){return n?Array.isArray(n)?n:[n]:[]}function jf(n,e){return Array.isArray(n)?n.includes(e):n===e}function yM(n,e){let t=nw(e);return nw(n).forEach(i=>{jf(t,i)||t.push(i)}),t}function _M(n,e){return nw(e).filter(t=>!jf(n,t))}var Uf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ow(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Aa=class extends Uf{get formDirective(){return null}get path(){return null}},Bl=class extends Uf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Bf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Nz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ane=ve(B({},Nz),{"[class.ng-submitted]":"isSubmitted"}),Ji=(()=>{class n extends Bf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(P(Bl,2))}}static{this.\u0275dir=Re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[cr]})}}return n})(),qf=(()=>{class n extends Bf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(P(Aa,10))}}static{this.\u0275dir=Re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[cr]})}}return n})();var Fl="VALID",Lf="INVALID",Ta="PENDING",Vl="DISABLED",xa=class{},Hf=class extends xa{constructor(e,t){super(),this.value=e,this.source=t}},jl=class extends xa{constructor(e,t){super(),this.pristine=e,this.source=t}},Ul=class extends xa{constructor(e,t){super(),this.touched=e,this.source=t}},Sa=class extends xa{constructor(e,t){super(),this.status=e,this.source=t}};function NM(n){return(Gf(n)?n.validators:n)||null}function kz(n){return Array.isArray(n)?ow(n):n||null}function kM(n,e){return(Gf(e)?e.asyncValidators:n)||null}function Pz(n){return Array.isArray(n)?sw(n):n||null}function Gf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Oz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[t])throw new te(1001,"")}function Fz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new te(1002,"")})}var $f=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qo(()=>this.statusReactive()),this.statusReactive=Hn(void 0),this._pristine=Qo(()=>this.pristineReactive()),this.pristineReactive=Hn(!0),this._touched=Qo(()=>this.touchedReactive()),this.touchedReactive=Hn(!1),this._events=new Te,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return dr(this.statusReactive)}set status(e){dr(()=>this.statusReactive.set(e))}get valid(){return this.status===Fl}get invalid(){return this.status===Lf}get pending(){return this.status==Ta}get disabled(){return this.status===Vl}get enabled(){return this.status!==Vl}get pristine(){return dr(this.pristineReactive)}set pristine(e){dr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return dr(this.touchedReactive)}set touched(e){dr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_M(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_M(e,this._rawAsyncValidators))}hasValidator(e){return jf(this._rawValidators,e)}hasAsyncValidator(e){return jf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ul(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ul(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new jl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new jl(!0,r))}markAsPending(e={}){this.status=Ta;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vl,this.errors=null,this._forEachChild(i=>{i.disable(ve(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hf(this.value,r)),this._events.next(new Sa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Fl,this._forEachChild(r=>{r.enable(ve(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===Ta)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hf(this.value,t)),this._events.next(new Sa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vl:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ta,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=AM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Sa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?Vl:this.errors?Lf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ta)?Ta:this._anyControlsHaveStatus(Lf)?Lf:Fl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new jl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ul(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=kz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Pz(this._rawAsyncValidators)}},zf=class extends $f{constructor(e,t,r){super(NM(t),kM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Fz(this,!0,e),Object.keys(e).forEach(r=>{Oz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var aw=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>cw}),cw="always";function Vz(n,e){return[...e.path,n]}function PM(n,e,t=cw){OM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),jz(n,e),Bz(n,e),Uz(n,e),Lz(n,e)}function wM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Lz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function OM(n,e){let t=Mz(n);e.validator!==null?n.setValidators(vM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Rz(n);e.asyncValidator!==null?n.setAsyncValidators(vM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();wM(e._rawValidators,i),wM(e._rawAsyncValidators,i)}function jz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&FM(n,e)})}function Uz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&FM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function FM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Hz(n,e){n==null,OM(n,e)}function $z(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function zz(n){return Object.getPrototypeOf(n.constructor)===rw}function Wz(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qz(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Or?t=o:zz(o)?r=o:i=o}),i||r||t||null}var Gz={provide:Aa,useExisting:ri(()=>Hl)},Ll=Promise.resolve(),Hl=(()=>{class n extends Aa{get submitted(){return dr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Qo(()=>this.submittedReactive()),this.submittedReactive=Hn(!1),this._directives=new Set,this.ngSubmit=new J,this.form=new zf({},ow(t),sw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ll.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),PM(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ll.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ll.then(()=>{let r=this._findContainer(t.path),i=new zf({});Hz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ll.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ll.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Wz(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(P(iw,10),P(TM,10),P(aw,8))}}static{this.\u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ko([Gz]),cr]})}}return n})();function EM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function IM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Kz=class extends $f{constructor(e=null,t,r){super(NM(t),kM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(IM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){IM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Yz={provide:Bl,useExisting:ri(()=>fi)},DM=Promise.resolve(),fi=(()=>{class n extends Bl{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Kz,this._registered=!1,this.name="",this.update=new J,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qz(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$z(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){PM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){DM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Yi(r);DM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Vz(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(P(Aa,9),P(iw,10),P(TM,10),P(Wf,10),P(ur,8),P(aw,8))}}static{this.\u0275dir=Re({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ko([Yz]),cr,Kt]})}}return n})(),Kf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var Qz={provide:Wf,useExisting:ri(()=>Ma),multi:!0};function VM(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Xz(n){return n.split(":")[0]}var Ma=(()=>{class n extends rw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=VM(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Xz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ae("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ko([Qz]),cr]})}}return n})(),Yf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(VM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(P(et),P(dt),P(Ma,9))}}static{this.\u0275dir=Re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Zz={provide:Wf,useExisting:ri(()=>LM),multi:!0};function CM(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Jz(n){return n.split(":")[0]}var LM=(()=>{class n extends rw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Jz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ae("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ko([Zz]),cr]})}}return n})(),Qf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(CM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(CM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(P(et),P(dt),P(LM,9))}}static{this.\u0275dir=Re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var e4=(()=>{class n{constructor(){this._validator=gM}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Re({type:n,features:[Kt]})}}return n})();var t4={provide:iw,useExisting:ri(()=>lw),multi:!0};var lw=(()=>{class n extends e4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yi,this.createValidator=t=>Tz}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})()}static{this.\u0275dir=Re({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Qt("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ko([t4]),cr]})}}return n})();var n4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Tt({type:n})}static{this.\u0275inj=bt({})}}return n})();var eo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:aw,useValue:t.callSetDisabledState??cw}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Tt({type:n})}static{this.\u0275inj=bt({imports:[n4]})}}return n})();var UM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},r4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},BM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(v=64)),r.push(t[d],t[f],t[v],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(UM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):r4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new dw;let v=o<<2|a>>4;if(r.push(v),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let D=u<<6&192|f;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},dw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},i4=function(n){let e=UM(n);return BM.encodeByteArray(e,!0)},$l=function(n){return i4(n).replace(/\./g,"")},fw=function(n){try{return BM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function o4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var s4=()=>o4().__FIREBASE_DEFAULTS__,a4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},c4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&fw(n[1]);return e&&JSON.parse(e)},Jf=()=>{try{return s4()||a4()||c4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pw=n=>{var e,t;return(t=(e=Jf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},HM=n=>{let e=pw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mw=()=>{var n;return(n=Jf())===null||n===void 0?void 0:n.config},gw=n=>{var e;return(e=Jf())===null||e===void 0?void 0:e[`_${n}`]};var Zf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function $M(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$l(JSON.stringify(t)),$l(JSON.stringify(s)),""].join(".")}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function l4(){var n;let e=(n=Jf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KM(){let n=Rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YM(){return!l4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vw(){try{return typeof indexedDB=="object"}catch{return!1}}function QM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var u4="FirebaseError",Rn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=u4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pi.prototype.create)}},pi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?d4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Rn(i,a,r)}};function d4(n,e){return n.replace(h4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var h4=/\{\$([^}]+)}/g;function XM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(jM(o)&&jM(s)){if(!rs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function jM(n){return n!==null&&typeof n=="object"}function Ra(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Na(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ka(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ZM(n,e){let t=new hw(n,e);return t.subscribe.bind(t)}var hw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");f4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=uw),i.error===void 0&&(i.error=uw),i.complete===void 0&&(i.complete=uw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function f4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uw(){}var une=4*60*60*1e3;function Nt(n){return n&&n._delegate?n._delegate:n}var Kn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var is="[DEFAULT]";var yw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Zf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m4(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p4(n){return n===is?void 0:n}function m4(n){return n.instantiationMode==="EAGER"}var ep=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new yw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var g4=[],xe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(xe||{}),v4={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},y4=xe.INFO,_4={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},w4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=_4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},to=class{constructor(e){this.name=e,this._logLevel=y4,this._logHandler=w4,this._userLogHandler=null,g4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}};var E4=(n,e)=>e.some(t=>n instanceof t),JM,eR;function I4(){return JM||(JM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D4(){return eR||(eR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tR=new WeakMap,ww=new WeakMap,nR=new WeakMap,_w=new WeakMap,Iw=new WeakMap;function C4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Fr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&tR.set(t,n)}).catch(()=>{}),Iw.set(e,n),e}function b4(n){if(ww.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ww.set(n,e)}var Ew={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ww.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rR(n){Ew=n(Ew)}function T4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(tp(this),e,...t);return nR.set(r,e.sort?e.sort():[e]),Fr(r)}:D4().includes(n)?function(...e){return n.apply(tp(this),e),Fr(tR.get(this))}:function(...e){return Fr(n.apply(tp(this),e))}}function S4(n){return typeof n=="function"?T4(n):(n instanceof IDBTransaction&&b4(n),E4(n,I4())?new Proxy(n,Ew):n)}function Fr(n){if(n instanceof IDBRequest)return C4(n);if(_w.has(n))return _w.get(n);let e=S4(n);return e!==n&&(_w.set(n,e),Iw.set(e,n)),e}var tp=n=>Iw.get(n);function oR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Fr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Fr(s.result),c.oldVersion,c.newVersion,Fr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var A4=["get","getKey","getAll","getAllKeys","count"],x4=["put","add","delete","clear"],Dw=new Map;function iR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Dw.get(e))return Dw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=x4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A4.includes(t)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Dw.set(e,o),o}rR(n=>ve(B({},n),{get:(e,t,r)=>iR(e,t)||n.get(e,t,r),has:(e,t)=>!!iR(e,t)||n.has(e,t)}));var bw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function M4(n){let e=n.getComponent();return e?.type==="VERSION"}var Tw="@firebase/app",sR="0.10.13";var mi=new to("@firebase/app"),R4="@firebase/app-compat",N4="@firebase/analytics-compat",k4="@firebase/analytics",P4="@firebase/app-check-compat",O4="@firebase/app-check",F4="@firebase/auth",V4="@firebase/auth-compat",L4="@firebase/database",j4="@firebase/data-connect",U4="@firebase/database-compat",B4="@firebase/functions",H4="@firebase/functions-compat",$4="@firebase/installations",z4="@firebase/installations-compat",W4="@firebase/messaging",q4="@firebase/messaging-compat",G4="@firebase/performance",K4="@firebase/performance-compat",Y4="@firebase/remote-config",Q4="@firebase/remote-config-compat",X4="@firebase/storage",Z4="@firebase/storage-compat",J4="@firebase/firestore",e3="@firebase/vertexai-preview",t3="@firebase/firestore-compat",n3="firebase",r3="10.14.1";var Sw="[DEFAULT]",i3={[Tw]:"fire-core",[R4]:"fire-core-compat",[k4]:"fire-analytics",[N4]:"fire-analytics-compat",[O4]:"fire-app-check",[P4]:"fire-app-check-compat",[F4]:"fire-auth",[V4]:"fire-auth-compat",[L4]:"fire-rtdb",[j4]:"fire-data-connect",[U4]:"fire-rtdb-compat",[B4]:"fire-fn",[H4]:"fire-fn-compat",[$4]:"fire-iid",[z4]:"fire-iid-compat",[W4]:"fire-fcm",[q4]:"fire-fcm-compat",[G4]:"fire-perf",[K4]:"fire-perf-compat",[Y4]:"fire-rc",[Q4]:"fire-rc-compat",[X4]:"fire-gcs",[Z4]:"fire-gcs-compat",[J4]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};var zl=new Map,o3=new Map,Aw=new Map;function aR(n,e){try{n.container.addComponent(e)}catch(t){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ro(n){let e=n.name;if(Aw.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Aw.set(e,n);for(let t of zl.values())aR(t,n);for(let t of o3.values())aR(t,n);return!0}function ql(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yn(n){return n.settings!==void 0}var s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new pi("app","Firebase",s3);var xw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}};var io=r3;function Nw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=mw()),!t)throw no.create("no-options");let o=zl.get(i);if(o){if(rs(t,o.options)&&rs(r,o.config))return o;throw no.create("duplicate-app",{appName:i})}let s=new ep(i);for(let c of Aw.values())s.addComponent(c);let a=new xw(t,r,s);return zl.set(i,a),a}function os(n=Sw){let e=zl.get(n);if(!e&&n===Sw&&mw())return Nw();if(!e)throw no.create("no-app",{appName:n});return e}function Gl(){return Array.from(zl.values())}function wt(n,e,t){var r;let i=(r=i3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(a.join(" "));return}ro(new Kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var a3="firebase-heartbeat-database",c3=1,Wl="firebase-heartbeat-store",Cw=null;function dR(){return Cw||(Cw=oR(a3,c3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wl)}catch(t){console.warn(t)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),Cw}function l3(n){return I(this,null,function*(){try{let t=(yield dR()).transaction(Wl),r=yield t.objectStore(Wl).get(hR(n));return yield t.done,r}catch(e){if(e instanceof Rn)mi.warn(e.message);else{let t=no.create("idb-get",{originalErrorMessage:e?.message});mi.warn(t.message)}}})}function cR(n,e){return I(this,null,function*(){try{let r=(yield dR()).transaction(Wl,"readwrite");yield r.objectStore(Wl).put(e,hR(n)),yield r.done}catch(t){if(t instanceof Rn)mi.warn(t.message);else{let r=no.create("idb-set",{originalErrorMessage:t?.message});mi.warn(r.message)}}})}function hR(n){return`${n.name}!${n.options.appId}`}var u3=1024,d3=30*24*60*60*1e3,Mw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Rw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=d3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mi.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=lR(),{heartbeatsToSend:r,unsentEntries:i}=h3(this._heartbeatsCache.heartbeats),o=$l(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return mi.warn(t),""}})}};function lR(){return new Date().toISOString().substring(0,10)}function h3(n,e=u3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),uR(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),uR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Rw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return vw()?QM().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield l3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function uR(n){return $l(JSON.stringify({version:2,heartbeats:n})).length}function f3(n){ro(new Kn("platform-logger",e=>new bw(e),"PRIVATE")),ro(new Kn("heartbeat",e=>new Mw(e),"PRIVATE")),wt(Tw,sR,n),wt(Tw,sR,"esm2017"),wt("fire-js","")}f3("");var p3="firebase",m3="10.14.1";wt(p3,m3,"app");var as=new ni("ANGULARFIRE2_VERSION");function rp(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Kl=(n,e)=>{let t=e?[e]:Gl(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ip=class{constructor(){return Kl(v3)}},v3="app-check";function Pa(){}var fR=class{zone;delegate;constructor(n,e=Rg){this.zone=n,this.delegate=e}now(){return this.delegate.now()}schedule(n,e,t){let r=this.zone,i=function(o){r.runGuarded(()=>{n.apply(this,[o])})};return this.delegate.schedule(i,e,t)}},y3=class{zone;task=null;constructor(n){this.zone=n}call(n,e){let t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa)),e.pipe(rt({next:t,complete:t,error:t})).subscribe(n).add(t)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Oa=class np{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new fR(Zone.current)),this.insideAngular=t.run(()=>new fR(Zone.current,$s)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||np)(ue(Se))};static \u0275prov=Q({token:np,factory:np.\u0275fac,providedIn:"root"})};function op(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function _3(n){return op().ngZone.runOutsideAngular(()=>n())}function ss(n){return op().ngZone.run(()=>n())}function w3(n){return E3(op())(n)}function E3(n){return function(t){return t=t.lift(new y3(n.ngZone)),t.pipe(ki(n.outsideAngular),Ni(n.insideAngular))}}var I3=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ss(()=>n.apply(void 0,r))},kt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pa,{},Pa,Pa))),r[o]=I3(r[o],t));let i=_3(()=>n.apply(this,r));if(!e)if(i instanceof he){let o=op();return i.pipe(ki(o.outsideAngular),Ni(o.insideAngular))}else return ss(()=>i);return i instanceof he?i.pipe(w3):i instanceof Promise?ss(()=>new Promise((o,s)=>i.then(a=>ss(()=>o(a)),a=>ss(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:ss(()=>i)};var cs=class{constructor(n){return n}},Yl=class{constructor(){return Gl()}};function D3(n){return n&&n.length===1?n[0]:new cs(os())}var kw=new ne("angularfire2._apps"),C3={provide:cs,useFactory:D3,deps:[[new Gt,kw]]},b3={provide:Yl,deps:[[new Gt,kw]]};function T3(n){return(e,t)=>{let r=t.get(gn);wt("angularfire",as.full,"core"),wt("angularfire",as.full,"app"),wt("angular",UA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new cs(i)}}function pR(n,...e){return Cn([C3,b3,{provide:kw,useFactory:T3(n),multi:!0,deps:[Se,xt,Oa,...e]}])}var mR=kt(Nw,!0);function NR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kR=NR,PR=new pi("auth","Firebase",NR());var dp=new to("@firebase/auth");function S3(n,...e){dp.logLevel<=xe.WARN&&dp.warn(`Auth (${io}): ${n}`,...e)}function ap(n,...e){dp.logLevel<=xe.ERROR&&dp.error(`Auth (${io}): ${n}`,...e)}function Qn(n,...e){throw e0(n,...e)}function pr(n,...e){return e0(n,...e)}function Jw(n,e,t){let r=Object.assign(Object.assign({},kR()),{[e]:t});return new pi("auth","Firebase",r).create(e,{appName:n.name})}function yi(n){return Jw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A3(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(n,"argument-error"),Jw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return PR.create(n,...e)}function de(n,e,...t){if(!n)throw e0(e,...t)}function gi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ap(e),new Error(e)}function _i(n,e){n||gi(e)}function Fw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function x3(){return gR()==="http:"||gR()==="https:"}function gR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function M3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x3()||qM()||"connection"in navigator)?navigator.onLine:!0}function R3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ls=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,_i(t>e,"Short delay should be less than long delay!"),this.isMobile=zM()||GM()}get(){return M3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function t0(n,e){_i(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var hp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var N3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var k3=new ls(3e4,6e4);function so(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ao(o,s,a,c){return I(this,arguments,function*(n,e,t,r,i={}){return OR(n,i,()=>I(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Ra(Object.assign({key:n.config.apiKey},d)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:v},u);return WM()||(m.referrerPolicy="no-referrer"),hp.fetch()(FR(n,n.config.apiHost,t,f),m)}))})}function OR(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},N3),e);try{let i=new Vw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw sp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sp(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw sp(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw sp(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Jw(n,d,u);Qn(n,d)}}catch(i){if(i instanceof Rn)throw i;Qn(n,"network-request-failed",{message:String(i)})}})}function ru(o,s,a,c){return I(this,arguments,function*(n,e,t,r,i={}){let u=yield ao(n,e,t,r,i);return"mfaPendingCredential"in u&&Qn(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function FR(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?t0(n.config,i):`${n.config.apiScheme}://${i}`}function P3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Vw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),k3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function sp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=pr(n,e,r);return i.customData._tokenResponse=t,i}function vR(n){return n!==void 0&&n.enterprise!==void 0}var Lw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function O3(n,e){return I(this,null,function*(){return ao(n,"GET","/v2/recaptchaConfig",so(n,e))})}function F3(n,e){return I(this,null,function*(){return ao(n,"POST","/v1/accounts:delete",e)})}function VR(n,e){return I(this,null,function*(){return ao(n,"POST","/v1/accounts:lookup",e)})}function Ql(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function n0(n,e=!1){return I(this,null,function*(){let t=Nt(n),r=yield t.getIdToken(e),i=r0(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ql(Pw(i.auth_time)),issuedAtTime:Ql(Pw(i.iat)),expirationTime:Ql(Pw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Pw(n){return Number(n)*1e3}function r0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{let i=fw(t);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yR(n){let e=r0(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zl(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Rn&&V3(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function V3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var jw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Jl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fp(n){return I(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Zl(n,VR(t,{idToken:r}));de(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?LR(o.providerUserInfo):[],a=L3(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jl(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function i0(n){return I(this,null,function*(){let e=Nt(n);yield fp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function L3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LR(n){return n.map(e=>{var{providerId:t}=e,r=vd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function j3(n,e){return I(this,null,function*(){let t=yield OR(n,{},()=>I(this,null,function*(){let r=Ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=FR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function U3(n,e){return I(this,null,function*(){return ao(n,"POST","/v2/accounts:revokeToken",so(n,e))})}var Xl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");let t=yR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield j3(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gi("not implemented")}};function oo(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Va=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=vd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield Zl(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return n0(this,e)}reload(){return i0(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield fp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Yn(this.auth.app))return Promise.reject(yi(this.auth));let e=yield this.getIdToken();return yield Zl(this,F3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=t.createdAt)!==null&&u!==void 0?u:void 0,j=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:U,emailVerified:W,isAnonymous:re,providerData:G,stsTokenManager:T}=t;de(U&&T,e,"internal-error");let y=Xl.fromJSON(this.name,T);de(typeof U=="string",e,"internal-error"),oo(f,e.name),oo(v,e.name),de(typeof W=="boolean",e,"internal-error"),de(typeof re=="boolean",e,"internal-error"),oo(m,e.name),oo(D,e.name),oo(x,e.name),oo(S,e.name),oo(k,e.name),oo(j,e.name);let _=new n({uid:U,auth:e,email:v,emailVerified:W,displayName:f,isAnonymous:re,photoURL:D,phoneNumber:m,tenantId:x,stsTokenManager:y,createdAt:k,lastLoginAt:j});return G&&Array.isArray(G)&&(_.providerData=G.map(b=>Object.assign({},b))),S&&(_._redirectEventId=S),_}static _fromIdTokenResponse(e,t,r=!1){return I(this,null,function*(){let i=new Xl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return I(this,null,function*(){let i=t.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?LR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Xl;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var _R=new Map;function vi(n){_i(n instanceof Function,"Expected a class definition");let e=_R.get(n);return e?(_i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_R.set(n,e),e)}var B3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,r){return I(this,null,function*(){this.storage[t]=r})}_get(t){return I(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Uw=B3;function cp(n,e,t){return`firebase:${n}:${e}:${t}`}var pp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=cp(this.userKey,i.apiKey,o),this.fullPersistenceKey=cp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Va._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return I(this,null,function*(){if(!t.length)return new n(vi(Uw),e,r);let i=(yield Promise.all(t.map(u=>I(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||vi(Uw),s=cp(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f=Va._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>I(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function wR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zR(e))return"Blackberry";if(WR(e))return"Webos";if(UR(e))return"Safari";if((e.includes("chrome/")||BR(e))&&!e.includes("edge/"))return"Chrome";if($R(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function jR(n=Rt()){return/firefox\//i.test(n)}function UR(n=Rt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BR(n=Rt()){return/crios\//i.test(n)}function HR(n=Rt()){return/iemobile/i.test(n)}function $R(n=Rt()){return/android/i.test(n)}function zR(n=Rt()){return/blackberry/i.test(n)}function WR(n=Rt()){return/webos/i.test(n)}function o0(n=Rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function H3(n=Rt()){var e;return o0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $3(){return KM()&&document.documentMode===10}function qR(n=Rt()){return o0(n)||$R(n)||WR(n)||zR(n)||/windows phone/i.test(n)||HR(n)}function GR(n,e=[]){let t;switch(n){case"Browser":t=wR(Rt());break;case"Worker":t=`${wR(Rt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${io}/${r}`}var Bw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function z3(t){return I(this,arguments,function*(n,e={}){return ao(n,"GET","/v2/passwordPolicy",so(n,e))})}var W3=6,Hw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:W3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $w=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mp(this),this.idTokenSubscription=new mp(this),this.beforeStateQueue=new Bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield pp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield VR(this,{idToken:e}),r=yield Va._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(Yn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield fp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=R3()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Yn(this.app))return Promise.reject(yi(this));let t=e?Nt(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Yn(this.app)?Promise.reject(yi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Yn(this.app)?Promise.reject(yi(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(vi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield z3(this),t=new Hw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield U3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&vi(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=yield pp.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&S3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function co(n){return Nt(n)}var mp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZM(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cp={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q3(n){Cp=n}function KR(n){return Cp.loadJS(n)}function G3(){return Cp.recaptchaEnterpriseScript}function K3(){return Cp.gapiScript}function YR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Y3="recaptcha-enterprise",Q3="NO_RECAPTCHA",zw=class{constructor(e){this.type=Y3,this.auth=co(e)}verify(e="verify",t=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>I(this,null,function*(){O3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Lw(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;vR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(Q3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&vR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=G3();c.length!==0&&(c+=a),KR(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function ER(n,e,t,r=!1){return I(this,null,function*(){let i=new zw(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Ww(n,e,t,r){return I(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield ER(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield ER(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function s0(n,e){let t=ql(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(rs(o,e??{}))return i;Qn(i,"already-initialized")}return t.initialize({options:e})}function X3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(vi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function a0(n,e,t){let r=co(n);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=QR(e),{host:s,port:a}=Z3(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||J3()}function QR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Z3(n){let e=QR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:IR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:IR(s)}}}function IR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function J3(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var La=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}};function eW(n,e){return I(this,null,function*(){return ao(n,"POST","/v1/accounts:signUp",e)})}function tW(n,e){return I(this,null,function*(){return ru(n,"POST","/v1/accounts:signInWithPassword",so(n,e))})}function nW(n,e){return I(this,null,function*(){return ru(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))})}function rW(n,e){return I(this,null,function*(){return ru(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))})}var eu=class n extends La{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,t,"signInWithPassword",tW);case"emailLink":return nW(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}})}_linkToIdToken(e,t){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,r,"signUpPassword",eW);case"emailLink":return rW(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Fa(n,e){return I(this,null,function*(){return ru(n,"POST","/v1/accounts:signInWithIdp",so(n,e))})}var iW="http://localhost",gp=class n extends La{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=vd(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Fa(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Fa(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Fa(e,t)}buildRequest(){let e={requestUri:iW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ra(t)}return e}};function oW(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sW(n){let e=Na(ka(n)).link,t=e?Na(ka(e)).deep_link_id:null,r=Na(ka(n)).deep_link_id;return(r?Na(ka(r)).link:null)||r||t||e||n}var vp=class n{constructor(e){var t,r,i,o,s,a;let c=Na(ka(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=oW((i=c.mode)!==null&&i!==void 0?i:null);de(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=sW(e);try{return new n(t)}catch{return null}}};var XR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return eu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=vp.parseLink(r);return de(i,"argument-error"),eu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),tu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var yp=class extends tu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var c0=(()=>{class n extends yp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return gp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function aW(n,e){return I(this,null,function*(){return ru(n,"POST","/v1/accounts:signUp",so(n,e))})}var ja=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return I(this,null,function*(){let o=yield Va._fromIdTokenResponse(e,r,i),s=DR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=DR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function DR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var qw=class n extends Rn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ZR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?qw._fromErrorAndOperation(n,o,e,r):o})}function cW(n,e,t=!1){return I(this,null,function*(){let r=yield Zl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ja._forOperation(n,"link",r)})}function lW(n,e,t=!1){return I(this,null,function*(){let{auth:r}=n;if(Yn(r.app))return Promise.reject(yi(r));let i="reauthenticate";try{let o=yield Zl(n,ZR(r,i,e,n),t);de(o.idToken,r,"internal-error");let s=r0(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(n.uid===a,r,"user-mismatch"),ja._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qn(r,"user-mismatch"),o}})}function JR(n,e,t=!1){return I(this,null,function*(){if(Yn(n.app))return Promise.reject(yi(n));let r="signIn",i=yield ZR(n,r,e),o=yield ja._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function l0(n,e){return I(this,null,function*(){return JR(co(n),e)})}function eN(n){return I(this,null,function*(){let e=co(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function u0(n,e,t){return I(this,null,function*(){if(Yn(n.app))return Promise.reject(yi(n));let r=co(n),s=yield Ww(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aW).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&eN(n),c}),a=yield ja._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function d0(n,e,t){return Yn(n.app)?Promise.reject(yi(n)):l0(Nt(n),XR.credential(e,t)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&eN(n),r}))}function h0(n,e,t,r){return Nt(n).onIdTokenChanged(e,t,r)}function f0(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function p0(n,e,t,r){return Nt(n).onAuthStateChanged(e,t,r)}function m0(n){return Nt(n).signOut()}var _p="__sak";var wp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var uW=1e3,dW=10,hW=(()=>{class n extends wp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);$3()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,dW):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},uW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return I(this,null,function*(){yield Ri(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return I(this,null,function*(){let r=yield Ri(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return I(this,null,function*(){yield Ri(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),tN=hW;var fW=(()=>{class n extends wp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),g0=fW;function pW(n){return Promise.all(n.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var mW=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return I(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>I(this,null,function*(){return d(r.origin,s)})),u=yield pW(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function v0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Gw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=v0("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let v=f;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Vr(){return window}function gW(n){Vr().location.href=n}function nN(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}function vW(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yW(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _W(){return nN()?self:null}var rN="firebaseLocalStorageDb",wW=1,Ep="firebaseLocalStorage",iN="fbase_key",us=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function bp(n,e){return n.transaction([Ep],e?"readwrite":"readonly").objectStore(Ep)}function EW(){let n=indexedDB.deleteDatabase(rN);return new us(n).toPromise()}function Kw(){let n=indexedDB.open(rN,wW);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ep,{keyPath:iN})}catch(i){t(i)}}),n.addEventListener("success",()=>I(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ep)?e(r):(r.close(),yield EW(),e(yield Kw()))}))})}function CR(n,e,t){return I(this,null,function*(){let r=bp(n,!0).put({[iN]:e,value:t});return new us(r).toPromise()})}function IW(n,e){return I(this,null,function*(){let t=bp(n,!1).get(e),r=yield new us(t).toPromise();return r===void 0?null:r.value})}function bR(n,e){let t=bp(n,!0).delete(e);return new us(t).toPromise()}var DW=800,CW=3,bW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Kw(),this.db)})}_withRetries(t){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>CW)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return nN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=mW._getInstance(_W()),this.receiver._subscribe("keyChanged",(t,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var t,r;if(this.activeServiceWorker=yield vW(),!this.activeServiceWorker)return;this.sender=new Gw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Kw();return yield CR(t,_p,"1"),yield bR(t,_p),!0}catch{}return!1})}_withPendingWrite(t){return I(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>CR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return I(this,null,function*(){let r=yield this._withRetries(i=>IW(i,t));return this.localCache[t]=r,r})}_remove(t){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>bR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return I(this,null,function*(){let t=yield this._withRetries(o=>{let s=bp(o,!1).getAll();return new us(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),DW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),oN=bW;var cre=YR("rcb"),lre=new ls(3e4,6e4);function sN(n,e){return e?vi(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var nu=class extends La{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function TW(n){return JR(n.auth,new nu(n),n.bypassAuthState)}function SW(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),lW(t,new nu(n),n.bypassAuthState)}function AW(n){return I(this,null,function*(){let{auth:e,user:t}=n;return de(t,e,"internal-error"),cW(t,new nu(n),n.bypassAuthState)})}var Ip=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TW;case"linkViaPopup":case"linkViaRedirect":return AW;case"reauthViaPopup":case"reauthViaRedirect":return SW;default:Qn(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var xW=new ls(2e3,1e4);function y0(n,e,t){return I(this,null,function*(){if(Yn(n.app))return Promise.reject(pr(n,"operation-not-supported-in-this-environment"));let r=co(n);A3(n,e,tu);let i=sN(r,t);return new MW(r,"signInViaPopup",e,i).executeNotNull()})}var MW=(()=>{class n extends Ip{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return I(this,null,function*(){let t=yield this.execute();return de(t,this.auth,"internal-error"),t})}onExecution(){return I(this,null,function*(){_i(this.filter.length===1,"Popup operations only handle one event");let t=v0();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xW.get())};t()}}n.currentPopupAction=null;return n})(),RW="pendingRedirect",lp=new Map,Yw=class n extends Ip{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=lp.get(this.auth._key());if(!e){try{let r=(yield NW(this.resolver,this.auth))?yield Ri(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lp.set(this.auth._key(),e)}return this.bypassAuthState||lp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Ri(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ri(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function NW(n,e){return I(this,null,function*(){let t=OW(e),r=PW(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function kW(n,e){lp.set(n._key(),e)}function PW(n){return vi(n._redirectPersistence)}function OW(n){return cp(RW,n.config.apiKey,n.name)}function FW(n,e,t=!1){return I(this,null,function*(){if(Yn(n.app))return Promise.reject(yi(n));let r=co(n),i=sN(r,e),s=yield new Yw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var VW=10*60*1e3,Qw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!aN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(pr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VW&&this.cachedEventUids.clear(),this.cachedEventUids.has(TR(e))}saveEventToCache(e){this.cachedEventUids.add(TR(e)),this.lastProcessedEventTime=Date.now()}};function TR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function LW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aN(n);default:return!1}}function jW(t){return I(this,arguments,function*(n,e={}){return ao(n,"GET","/v1/projects",e)})}var UW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BW=/^https?/;function HW(n){return I(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield jW(n);for(let t of e)try{if($W(t))return}catch{}Qn(n,"unauthorized-domain")})}function $W(n){let e=Fw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!BW.test(t))return!1;if(UW.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var zW=new ls(3e4,6e4);function SR(){let n=Vr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WW(n){return new Promise((e,t)=>{var r,i,o;function s(){SR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SR(),t(pr(n,"network-request-failed"))},timeout:zW.get()})}if(!((i=(r=Vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Vr().gapi)===null||o===void 0)&&o.load)s();else{let a=YR("iframefcb");return Vr()[a]=()=>{gapi.load?s():t(pr(n,"network-request-failed"))},KR(`${K3()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw up=null,e})}var up=null;function qW(n){return up=up||WW(n),up}var GW=new ls(5e3,15e3),KW="__/auth/iframe",YW="emulator/auth/iframe",QW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZW(n){let e=n.config;de(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?t0(e,YW):`https://${n.config.authDomain}/${KW}`,r={apiKey:e.apiKey,appName:n.name,v:io},i=XW.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ra(r).slice(1)}`}function JW(n){return I(this,null,function*(){let e=yield qW(n),t=Vr().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:ZW(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QW,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=pr(n,"network-request-failed"),a=Vr().setTimeout(()=>{o(s)},GW.get());function c(){Vr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var eq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tq=500,nq=600,rq="_blank",iq="http://localhost",Dp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function oq(n,e,t,r=tq,i=nq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},eq),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Rt().toLowerCase();t&&(a=BR(u)?rq:t),jR(u)&&(e=e||iq,c.scrollbars="yes");let d=Object.entries(c).reduce((v,[m,D])=>`${v}${m}=${D},`,"");if(H3(u)&&a!=="_self")return sq(e||"",a),new Dp(null);let f=window.open(e||"",a,d);de(f,n,"popup-blocked");try{f.focus()}catch{}return new Dp(f)}function sq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var aq="__/auth/handler",cq="emulator/auth/handler",lq=encodeURIComponent("fac");function AR(n,e,t,r,i,o){return I(this,null,function*(){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:io,eventId:i};if(e instanceof tu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",XM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof yp){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${lq}=${encodeURIComponent(c)}`:"";return`${uq(n)}?${Ra(a).slice(1)}${u}`})}function uq({config:n}){return n.emulator?t0(n,cq):`https://${n.authDomain}/${aq}`}var Ow="webStorageSupport",Xw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g0,this._completeRedirectFn=FW,this._overrideRedirectResult=kW}_openPopup(e,t,r,i){return I(this,null,function*(){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield AR(e,t,r,Fw(),i);return oq(e,s,v0())})}_openRedirect(e,t,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield AR(e,t,r,Fw(),i);return gW(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return I(this,null,function*(){let t=yield JW(e),r=new Qw(e);return t.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ow,{type:Ow},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ow];s!==void 0&&t(!!s),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HW(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qR()||UR()||o0()}},cN=Xw;var xR="@firebase/auth",MR="1.7.9";var Zw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hq(n){ro(new Kn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GR(n)},u=new $w(r,i,o,c);return X3(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ro(new Kn("auth-internal",e=>{let t=co(e.getProvider("auth").getImmediate());return(r=>new Zw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wt(xR,MR,dq(n)),wt(xR,MR,"esm2017")}var fq=5*60,pq=gw("authIdTokenMaxAge")||fq,RR=null,mq=n=>e=>I(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>pq)return;let i=t?.token;RR!==i&&(RR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function _0(n=os()){let e=ql(n,"auth");if(e.isInitialized())return e.getImmediate();let t=s0(n,{popupRedirectResolver:cN,persistence:[oN,tN,g0]}),r=gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=mq(o.toString());f0(t,s,()=>s(t.currentUser)),h0(t,a=>s(a))}}let i=pw("auth");return i&&a0(t,`http://${i}`),t}function gq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}q3({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=pr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",gq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hq("Browser");var lN="auth",Nn=class{constructor(n){return n}},w0=class{constructor(){return Kl(lN)}};var E0=new ne("angularfire2.auth-instances");function oG(n,e){let t=rp(lN,n,e);return t&&new Nn(t)}function sG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Nn(r)}}var aG={provide:w0,deps:[[new Gt,E0]]},cG={provide:Nn,useFactory:oG,deps:[[new Gt,E0],cs]};function uN(n,...e){return wt("angularfire",as.full,"auth"),Cn([cG,aG,{provide:E0,useFactory:sG(n),multi:!0,deps:[Se,xt,Oa,Yl,[new Gt,ip],...e]}])}var dN=kt(u0,!0);var hN=kt(_0,!0);var lo=kt(p0,!0);var fN=kt(d0,!0);var pN=kt(y0,!0);var mN=kt(m0,!0);var uo=(()=>{class n{auth;router;userSubject=new at(null);user$=this.userSubject.asObservable();isLoading=new at(!0);constructor(t,r){this.auth=t,this.router=r,lo(this.auth,i=>{this.userSubject.next(i),i?this.router.navigate(["/"]):this.router.navigate(["/login"])})}signUp(t,r){return I(this,null,function*(){try{let i=yield dN(this.auth,t,r);return console.log("User signed up:",i.user),this.userSubject.next(i.user),this.router.navigate(["/dashboard"]),i.user}catch(i){throw console.error("Error signing up:",i),i}})}login(t,r){return I(this,null,function*(){try{let i=yield fN(this.auth,t,r);return console.log("User logged in:",i.user),this.userSubject.next(i.user),this.router.navigate(["/dashboard"]),i.user}catch(i){throw console.error("Error logging in:",i),i}})}logout(){return I(this,null,function*(){try{yield mN(this.auth),this.userSubject.next(null),this.router.navigate(["/login"])}catch(t){throw console.error("Error logging out:",t),t}})}signinWithGoogle(){return I(this,null,function*(){try{let t=yield pN(this.auth,new c0);return this.userSubject.next(t.user),this.router.navigate(["/dashboard"]),t.user}catch(t){throw console.error("Error signing in with Google:",t),t}})}static \u0275fac=function(r){return new(r||n)(ue(Nn),ue(hn))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lG(n,e){if(n&1&&(M(0,"p",18),z(1),R()),n&2){let t=L();O(),Sn(" ",t.errorMessage," ")}}var gN=(()=>{class n{auth;route;email="";password="";errorMessage="";constructor(t,r){this.auth=t,this.route=r}login(){return I(this,null,function*(){try{yield this.auth.login(this.email,this.password)}catch(t){this.errorMessage=t.message}})}signInWithGoogle(){return I(this,null,function*(){try{yield this.auth.signinWithGoogle(),this.route.navigate(["/"])}catch(t){this.errorMessage=t.message}})}static \u0275fac=function(r){return new(r||n)(P(uo),P(hn))};static \u0275cmp=Ne({type:n,selectors:[["app-login"]],standalone:!0,features:[vt],decls:25,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","bg-white","p-8","rounded-2xl","shadow-lg","space-y-6",3,"submit"],[1,"text-3xl","font-bold","text-gray-700","text-center"],[1,"space-y-4"],[1,"relative"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["d","M4 4h16v16H4z"],["d","M22 6l-10 7L2 6"],["type","email","placeholder","Email","name","email","required","",1,"w-full","pl-10","pr-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["d","M8 11V7a4 4 0 0 1 8 0v4"],["width","18","height","11","x","3","y","11","rx","2"],["cx","12","cy","16","r","1"],["type","password","placeholder","Password","name","password","required","",1,"w-full","pl-10","pr-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","flex","items-center","justify-center","gap-2","bg-blue-600","text-white","py-3","rounded-lg","hover:bg-blue-700","transition","duration-300","font-bold"],["type","button",1,"w-full","flex","items-center","justify-center","gap-2","bg-gray-100","text-gray-700","py-3","rounded-lg","hover:bg-gray-200","transition","duration-300","border","border-gray-300",3,"click"],[1,"bi","bi-google","text-dark"],["routerLink","/register",1,"text-center","text-blue-600","hover:underline"],["class","text-red-500 text-sm text-center",4,"ngIf"],[1,"text-red-500","text-sm","text-center"]],template:function(r,i){r&1&&(M(0,"div",0)(1,"form",1),ae("submit",function(s){return i.login(),s.preventDefault()}),M(2,"h2",2),z(3,"Sign In"),R(),M(4,"div",3)(5,"div",4),il(),M(6,"svg",5),se(7,"path",6)(8,"path",7),R(),py(),M(9,"input",8),jt("ngModelChange",function(s){return Zt(i.email,s)||(i.email=s),s}),R()(),M(10,"div",4),il(),M(11,"svg",5),se(12,"path",9)(13,"rect",10)(14,"circle",11),R(),py(),M(15,"input",12),jt("ngModelChange",function(s){return Zt(i.password,s)||(i.password=s),s}),R()()(),M(16,"button",13),z(17," Login "),R(),M(18,"button",14),ae("click",function(){return i.signInWithGoogle()}),se(19,"i",15),z(20," Sign in with Google "),R(),se(21,"br"),M(22,"a",16),z(23,"Create an account"),R(),Z(24,lG,2,1,"p",17),R()()),r&2&&(O(9),Lt("ngModel",i.email),O(6),Lt("ngModel",i.password),O(9),F("ngIf",i.errorMessage))},dependencies:[tt,ht,eo,Kf,Or,Ji,qf,lw,fi,Hl,Ff]})}return n})();var vN=(()=>{class n{auth=H(Nn);router=H(hn);isAuthenticated=Hn(!1);constructor(){lo(this.auth,t=>{this.isAuthenticated.set(!!t)})}canActivate(){return this.isAuthenticated()?!0:(this.router.navigateByUrl("/login",{replaceUrl:!0}),!1)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uG=function(){function n(){}return n.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},n.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},n.prototype.isStaticPositioned=function(e){return(this.getStyle(e,"position")||"static")==="static"},n.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(e,t){t===void 0&&(t=!0);var r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(e,"position")==="fixed")r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var o=this.offsetParent(e);r=this.offset(e,!1),o!==document.documentElement&&(i=this.offset(o,!1)),i.top+=o.clientTop,i.left+=o.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(e,t){t===void 0&&(t=!0);var r=e.getBoundingClientRect(),i={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},o={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i.top,bottom:r.bottom+i.top,left:r.left+i.left,right:r.right+i.left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(e,t,r,i){var o=r.split("-"),s=o[0],a=s===void 0?"top":s,c=o[1],u=c===void 0?"center":c,d=i?this.offset(e,!1):this.position(e,!1),f=this.getAllStyles(t),v=parseFloat(f.marginTop),m=parseFloat(f.marginBottom),D=parseFloat(f.marginLeft),x=parseFloat(f.marginRight),S=0,k=0;switch(a){case"top":S=d.top-(t.offsetHeight+v+m);break;case"bottom":S=d.top+d.height;break;case"left":k=d.left-(t.offsetWidth+D+x);break;case"right":k=d.left+d.width;break}switch(u){case"top":S=d.top;break;case"bottom":S=d.top+d.height-t.offsetHeight;break;case"left":k=d.left;break;case"right":k=d.left+d.width-t.offsetWidth;break;case"center":a==="top"||a==="bottom"?k=d.left+d.width/2-t.offsetWidth/2:S=d.top+d.height/2-t.offsetHeight/2;break}t.style.transform="translate("+Math.round(k)+"px, "+Math.round(S)+"px)";var j=t.getBoundingClientRect(),U=document.documentElement,W=window.innerHeight||U.clientHeight,re=window.innerWidth||U.clientWidth;return j.left>=0&&j.top>=0&&j.right<=re&&j.bottom<=W},n}();var dG=/\s+/,yN=new uG;function D0(n,e,t,r,i){var o=Array.isArray(t)?t:t.split(dG),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,c=function(S){var k=S.split("-"),j=k[0],U=k[1],W=[];return i&&(W.push(i+"-"+j),U&&W.push(i+"-"+j+"-"+U),W.forEach(function(re){a.add(re)})),W};i&&s.forEach(function(S){a.remove(i+"-"+S)});var u=o.findIndex(function(S){return S==="auto"});u>=0&&s.forEach(function(S){o.find(function(k){return k.search("^"+S)!==-1})==null&&o.splice(u++,1,S)});var d=e.style;d.position="absolute",d.top="0",d.left="0",d["will-change"]="transform";for(var f,v=!1,m=0,D=o;m<D.length;m++){f=D[m];var x=c(f);if(yN.positionElements(n,e,f,r)){v=!0;break}i&&x.forEach(function(S){a.remove(S)})}return v||(f=o[0],c(f),yN.positionElements(n,e,f,r)),f}var mr=function(){return mr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},mr.apply(this,arguments)},C0=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},xp=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(xp||{}),hG=[xp.SUNDAY,xp.SATURDAY],b0=7,T0=24,Sp=60,ho=60*60*24;function _N(n,e){var t=e.startDate,r=e.seconds,i=e.excluded,o=e.precision;if(i.length<1)return 0;for(var s=n.addSeconds,a=n.getDay,c=n.addDays,u=s(t,r-1),d=a(t),f=a(u),v=0,m=t,D=function(){var x=a(m);i.some(function(S){return S===x})&&(v+=fG(n,{dayStart:d,dayEnd:f,day:x,precision:o,startDate:t,endDate:u})),m=c(m,1)};m<u;)D();return v}function fG(n,e){var t=e.precision,r=e.day,i=e.dayStart,o=e.dayEnd,s=e.startDate,a=e.endDate,c=n.differenceInSeconds,u=n.endOfDay,d=n.startOfDay;if(t==="minutes"){if(r===i)return c(u(s),s)+1;if(r===o)return c(a,d(a))+1}return ho}function pG(n,e){var t=e.event,r=e.offset,i=e.startOfWeekDate,o=e.excluded,s=e.precision,a=e.totalDaysInView,c=n.max,u=n.differenceInSeconds,d=n.addDays,f=n.endOfDay,v=n.differenceInDays,m=ho,D=c([t.start,i]);if(t.end)switch(s){case"minutes":m=u(t.end,D);break;default:m=v(d(f(t.end),1),D)*ho;break}var x=r*ho,S=x+m,k=a*ho;return S>k&&(m=k-x),m-=_N(n,{startDate:D,seconds:m,excluded:o,precision:s}),m/ho}function mG(n,e){var t=e.event,r=e.startOfWeek,i=e.excluded,o=e.precision,s=n.differenceInDays,a=n.startOfDay,c=n.differenceInSeconds;if(t.start<r)return 0;var u=0;switch(o){case"days":u=s(a(t.start),r)*ho;break;case"minutes":u=c(t.start,r);break}return u-=_N(n,{startDate:r,seconds:u,excluded:i,precision:o}),Math.abs(u/ho)}function gG(n,e){var t=e.event,r=e.periodStart,i=e.periodEnd,o=n.isSameSecond,s=t.start,a=t.end||t.start;return!!(s>r&&s<i||a>r&&a<i||s<r&&a>i||o(s,r)||o(s,i)||o(a,r)||o(a,i))}function iu(n,e){var t=e.events,r=e.periodStart,i=e.periodEnd;return t.filter(function(o){return gG(n,{event:o,periodStart:r,periodEnd:i})})}function wN(n,e){var t=e.date,r=e.weekendDays,i=r===void 0?hG:r,o=n.startOfDay,s=n.isSameDay,a=n.getDay,c=o(new Date),u=a(t);return{date:t,day:u,isPast:t<c,isToday:s(t,c),isFuture:t>c,isWeekend:i.indexOf(u)>-1}}function Np(n,e){for(var t=e.viewDate,r=e.weekStartsOn,i=e.excluded,o=i===void 0?[]:i,s=e.weekendDays,a=e.viewStart,c=a===void 0?n.startOfWeek(t,{weekStartsOn:r}):a,u=e.viewEnd,d=u===void 0?n.addDays(c,b0):u,f=n.addDays,v=n.getDay,m=[],D=c;D<d;)o.some(function(x){return v(D)===x})||m.push(wN(n,{date:D,weekendDays:s})),D=f(D,1);return m}function vG(n,e){for(var t=e.date1,r=e.date2,i=e.excluded,o=t,s=0;o<r;)i.indexOf(n.getDay(o))===-1&&s++,o=n.addDays(o,1);return s}function yG(n,e){var t=e.events,r=t===void 0?[]:t,i=e.excluded,o=i===void 0?[]:i,s=e.precision,a=s===void 0?"days":s,c=e.absolutePositionedEvents,u=c===void 0?!1:c,d=e.viewStart,f=e.viewEnd;d=n.startOfDay(d),f=n.endOfDay(f);var v=n.differenceInSeconds,m=n.differenceInDays,D=vG(n,{date1:d,date2:f,excluded:o}),x=m(f,d)+1,S=r.filter(function(U){return U.allDay}).map(function(U){var W=mG(n,{event:U,startOfWeek:d,excluded:o,precision:a}),re=pG(n,{event:U,offset:W,startOfWeekDate:d,excluded:o,precision:a,totalDaysInView:x});return{event:U,offset:W,span:re}}).filter(function(U){return U.offset<D}).filter(function(U){return U.span>0}).map(function(U){return{event:U.event,offset:U.offset,span:U.span,startsBeforeWeek:U.event.start<d,endsAfterWeek:(U.event.end||U.event.start)>f}}).sort(function(U,W){var re=v(U.event.start,W.event.start);return re===0?v(W.event.end||W.event.start,U.event.end||U.event.start):re}),k=[],j=[];return S.forEach(function(U,W){if(j.indexOf(U)===-1){j.push(U);var re=U.span+U.offset,G=S.slice(W+1).filter(function(_){if(_.offset>=re&&re+_.span<=x&&j.indexOf(_)===-1){var b=_.offset-re;return u||(_.offset=b),re+=_.span+b,j.push(_),!0}}),T=C0([U],G,!0),y=T.filter(function(_){return _.event.id}).map(function(_){return _.event.id}).join("-");k.push(mr({row:T},y?{id:y}:{}))}}),k}function _G(n,e){var t=e.events,r=e.viewDate,i=e.hourSegments,o=e.hourDuration,s=e.dayStart,a=e.dayEnd,c=e.weekStartsOn,u=e.excluded,d=e.weekendDays,f=e.segmentHeight,v=e.viewStart,m=e.viewEnd,D=e.minimumEventHeight,x=EG(n,{viewDate:r,hourSegments:i,hourDuration:o,dayStart:s,dayEnd:a}),S=Np(n,{viewDate:r,weekStartsOn:c,excluded:u,weekendDays:d,viewStart:v,viewEnd:m}),k=n.setHours,j=n.setMinutes,U=n.getHours,W=n.getMinutes;return S.map(function(re){var G=wG(n,{events:t,viewDate:re.date,hourSegments:i,dayStart:s,dayEnd:a,segmentHeight:f,eventWidth:1,hourDuration:o,minimumEventHeight:D}),T=x.map(function(b){var w=b.segments.map(function(C){var E=j(k(re.date,U(C.date)),W(C.date));return mr(mr({},C),{date:E})});return mr(mr({},b),{segments:w})});function y(b,w){var C=Math.max.apply(Math,w.map(function(Ae){return Ae.left+1})),E=b.filter(function(Ae){return Ae.left>=C}).filter(function(Ae){return Ap(w,Ae.top,Ae.top+Ae.height).length>0});return E.length>0?y(b,E):C}var _=G.events.map(function(b){var w=y(G.events,Ap(G.events,b.top,b.top+b.height)),C=100/w;return mr(mr({},b),{left:b.left*C,width:C})});return{hours:T,date:re.date,events:_.map(function(b){var w=Ap(_.filter(function(C){return C.left>b.left}),b.top,b.top+b.height);return w.length>0?mr(mr({},b),{width:Math.min.apply(Math,w.map(function(C){return C.left}))-b.left}):b})}})}function EN(n,e){var t=e.events,r=t===void 0?[]:t,i=e.viewDate,o=e.weekStartsOn,s=e.excluded,a=s===void 0?[]:s,c=e.precision,u=c===void 0?"days":c,d=e.absolutePositionedEvents,f=d===void 0?!1:d,v=e.hourSegments,m=e.hourDuration,D=e.dayStart,x=e.dayEnd,S=e.weekendDays,k=e.segmentHeight,j=e.minimumEventHeight,U=e.viewStart,W=U===void 0?n.startOfWeek(i,{weekStartsOn:o}):U,re=e.viewEnd,G=re===void 0?n.endOfWeek(i,{weekStartsOn:o}):re;r||(r=[]);var T=n.startOfDay,y=n.endOfDay;W=T(W),G=y(G);var _=iu(n,{events:r,periodStart:W,periodEnd:G}),b=Np(n,{viewDate:i,weekStartsOn:o,excluded:a,weekendDays:S,viewStart:W,viewEnd:G});return{allDayEventRows:yG(n,{events:_,excluded:a,precision:u,absolutePositionedEvents:f,viewStart:W,viewEnd:G}),period:{events:_,start:b[0].date,end:y(b[b.length-1].date)},hourColumns:_G(n,{events:r,viewDate:i,hourSegments:v,hourDuration:m,dayStart:D,dayEnd:x,weekStartsOn:o,excluded:a,weekendDays:S,segmentHeight:k,viewStart:W,viewEnd:G,minimumEventHeight:j})}}function IN(n,e){var t=e.events,r=t===void 0?[]:t,i=e.viewDate,o=e.weekStartsOn,s=e.excluded,a=s===void 0?[]:s,c=e.viewStart,u=c===void 0?n.startOfMonth(i):c,d=e.viewEnd,f=d===void 0?n.endOfMonth(i):d,v=e.weekendDays;r||(r=[]);for(var m=n.startOfWeek,D=n.endOfWeek,x=n.differenceInDays,S=n.startOfDay,k=n.addHours,j=n.endOfDay,U=n.isSameMonth,W=n.getDay,re=m(u,{weekStartsOn:o}),G=D(f,{weekStartsOn:o}),T=iu(n,{events:r,periodStart:re,periodEnd:G}),y=[],_,b=function(qr){var ft;if(_?(ft=S(k(_,T0)),_.getTime()===ft.getTime()&&(ft=S(k(_,T0+1))),_=ft):ft=_=re,!a.some(function(Pn){return W(ft)===Pn})){var Gr=wN(n,{date:ft,weekendDays:v}),wn=iu(n,{events:T,periodStart:S(ft),periodEnd:j(ft)});Gr.inMonth=U(ft,i),Gr.events=wn,Gr.badgeTotal=wn.length,y.push(Gr)}},w=0;w<x(G,re)+1;w++)b(w);var C=[],E=b0-a.length;if(E<b0)for(var w=0;w<y.length;w+=E){var Ae=y.slice(w,w+E),Wr=Ae.some(function(ft){return u<=ft.date&&ft.date<f});Wr&&(C=C0(C0([],C,!0),Ae,!0))}else C=y;for(var mc=Math.floor(C.length/E),_r=[],w=0;w<mc;w++)_r.push(w*E);return{rowOffsets:_r,totalDaysVisibleInWeek:E,days:C,period:{start:C[0].date,end:j(C[C.length-1].date),events:T}}}function Ap(n,e,t){return n.filter(function(r){var i=r.top,o=r.top+r.height;return e<o&&o<t||e<i&&i<t?!0:i<=e&&t<=o})}function wG(n,e){var t=e.events,r=e.viewDate,i=e.hourSegments,o=e.dayStart,s=e.dayEnd,a=e.eventWidth,c=e.segmentHeight,u=e.hourDuration,d=e.minimumEventHeight,f=n.setMinutes,v=n.setHours,m=n.startOfDay,D=n.startOfMinute,x=n.endOfDay,S=n.differenceInMinutes,k=f(v(m(r),Mp(o.hour)),Rp(o.minute)),j=f(v(D(x(r)),Mp(s.hour)),Rp(s.minute));j.setSeconds(59,999);var U=[],W=iu(n,{events:t.filter(function(y){return!y.allDay}),periodStart:k,periodEnd:j}),re=W.sort(function(y,_){return y.start.valueOf()-_.start.valueOf()}).map(function(y){var _=y.start,b=y.end||_,w=_<k,C=b>j,E=i*c/(u||Sp),Ae=0;if(_>k){var Wr=n.getTimezoneOffset(_),mc=n.getTimezoneOffset(k),_r=mc-Wr;Ae+=S(_,k)+_r}Ae*=E,Ae=Math.floor(Ae);var qr=w?k:_,ft=C?j:b,Gr=n.getTimezoneOffset(qr)-n.getTimezoneOffset(ft),wn=S(ft,qr)+Gr;y.end?wn*=E:wn=c,d&&wn<d&&(wn=d),wn=Math.floor(wn);for(var Pn=Ae+wn,At=Ap(U,Ae,Pn),gc=0;At.some(function($m){return $m.left===gc});)gc+=a;var Si={event:y,height:wn,width:a,top:Ae,left:gc,startsBeforeDay:w,endsAfterDay:C};return U.push(Si),Si}),G=Math.max.apply(Math,re.map(function(y){return y.left+y.width})),T=iu(n,{events:t.filter(function(y){return y.allDay}),periodStart:m(k),periodEnd:x(j)});return{events:re,width:G,allDayEvents:T,period:{events:W,start:k,end:j}}}function Mp(n){return Math.max(Math.min(23,n),0)}function Rp(n){return Math.max(Math.min(59,n),0)}function EG(n,e){var t=e.viewDate,r=e.hourSegments,i=e.hourDuration,o=e.dayStart,s=e.dayEnd,a=n.setMinutes,c=n.setHours,u=n.startOfDay,d=n.startOfMinute,f=n.endOfDay,v=n.addMinutes,m=n.addDays,D=[],x=a(c(u(t),Mp(o.hour)),Rp(o.minute)),S=a(c(d(f(t)),Mp(s.hour)),Rp(s.minute)),k=(i||Sp)/r,j=u(t),U=f(t),W=function(b){return b};n.getTimezoneOffset(j)!==n.getTimezoneOffset(U)&&(j=m(j,1),x=m(x,1),S=m(S,1),W=function(b){return m(b,-1)});for(var re=i?T0*60/i:Sp,G=0;G<re;G++){for(var T=[],y=0;y<r;y++){var _=v(v(x,G*(i||Sp)),y*k);_>=x&&_<S&&T.push({date:W(_),displayDate:_,isStart:y===0})}T.length>0&&D.push({segments:T})}return D}var Ua=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(Ua||{});function DN(n,e){var t=!0;function r(i,o){e(i,o),t=!1}return Array.isArray(n)?(n.forEach(function(i){i.start?i.start instanceof Date||r(Ua.StartPropertyNotDate,i):r(Ua.StartPropertyMissing,i),i.end&&(i.end instanceof Date||r(Ua.EndPropertyNotDate,i),i.start>i.end&&r(Ua.EndsBeforeStart,i))}),t):(e(Ua.NotArray,n),!1)}function IG(n,e){return typeof n>"u"?typeof e>"u"?n:e:n}function M0(n,e){return n=IG(n,e),typeof n=="function"?function(){for(var r=arguments,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=r[s];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol?"symbol":typeof n},bN=function(n){return n!=null&&(typeof n>"u"?"undefined":S0(n))==="object"&&n.nodeType===1&&S0(n.style)==="object"&&S0(n.ownerDocument)==="object"};function TN(n,e){if(e=k0(e,!0),!bN(e))return-1;for(var t=0;t<n.length;t++)if(n[t]===e)return t;return-1}function R0(n,e){return TN(n,e)!==-1}function DG(n,e){for(var t=0;t<e.length;t++)R0(n,e[t])||n.push(e[t]);return e}function CG(n){for(var e=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=e[r+1];return t=t.map(k0),DG(n,t)}function bG(n){for(var e=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=e[r+1];return t.map(k0).reduce(function(i,o){var s=TN(n,o);return s!==-1?i.concat(n.splice(s,1)):i},[])}function k0(n,e){if(typeof n=="string")try{return document.querySelector(n)}catch(t){throw t}if(!bN(n)&&!e)throw new TypeError(n+" is not a DOM element.");return n}function TG(n,e){e=e||{};var t=M0(e.allowUpdate,!0);return function(i){if(i=i||window.event,n.target=i.target||i.srcElement||i.originalTarget,n.element=this,n.type=i.type,!!t(i)){if(i.targetTouches)n.x=i.targetTouches[0].clientX,n.y=i.targetTouches[0].clientY,n.pageX=i.targetTouches[0].pageX,n.pageY=i.targetTouches[0].pageY,n.screenX=i.targetTouches[0].screenX,n.screenY=i.targetTouches[0].screenY;else{if(i.pageX===null&&i.clientX!==null){var o=i.target&&i.target.ownerDocument||document,s=o.documentElement,a=o.body;n.pageX=i.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),n.pageY=i.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}else n.pageX=i.pageX,n.pageY=i.pageY;n.x=i.clientX,n.y=i.clientY,n.screenX=i.screenX,n.screenY=i.screenY}n.clientX=n.x,n.clientY=n.y}}}function SG(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var e={};return Object.defineProperties(e,n),e}function SN(n){if(n===window)return SG();try{var e=n.getBoundingClientRect();return e.x===void 0&&(e.x=e.left,e.y=e.top),e}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}function AG(n,e){var t=SN(e);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}var N0=void 0;typeof Object.create!="function"?N0=function(n){var e=function(){};return function(t,r){if(t!==Object(t)&&t!==null)throw TypeError("Argument must be an object, or null");e.prototype=t||{};var i=new e;return e.prototype=null,r!==n&&Object.defineProperties(i,r),t===null&&(i.__proto__=null),i}}():N0=Object.create;var xG=N0,ds=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function MG(n){var e={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};n!==void 0&&n.addEventListener("mousemove",t);function t(o){for(var s=0;s<ds.length;s++)e[ds[s]]=o[ds[s]]}var r=function(){if(MouseEvent)return function(s,a,c){var u=new MouseEvent("mousemove",A0(e,a));return x0(u,c),s.dispatchEvent(u)};if(typeof document.createEvent=="function")return function(s,a,c){var u=A0(e,a),d=document.createEvent("MouseEvents");return d.initMouseEvent("mousemove",!0,!0,window,0,u.screenX,u.screenY,u.clientX,u.clientY,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.button,u.relatedTarget),x0(d,c),s.dispatchEvent(d)};if(typeof document.createEventObject=="function")return function(s,a,c){var u=document.createEventObject(),d=A0(e,a);for(var f in d)u[f]=d[f];return x0(u,c),s.dispatchEvent(u)}}();function i(){n&&n.removeEventListener("mousemove",t,!1),e=null}return{destroy:i,dispatch:r}}function A0(n,e){e=e||{};for(var t=xG(n),r=0;r<ds.length;r++)e[ds[r]]!==void 0&&(t[ds[r]]=e[ds[r]]);return t}function x0(n,e){console.log("data ",e),n.data=e||{},n.dispatched="mousemove"}var su=["webkit","moz","ms","o"],ou=function(){if(typeof window>"u")return function(){};for(var n=0,e=su.length;n<e&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[su[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(r){var i=new Date().getTime(),o=Math.max(0,16-i-t),s=window.setTimeout(function(){return r(i+o)},o);return t=i+o,s}}return window.requestAnimationFrame.bind(window)}(),Ba=function(){if(typeof window>"u")return function(){};for(var n=0,e=su.length;n<e&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[su[n]+"CancelAnimationFrame"]||window[su[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function RG(n,e){e===void 0&&(e={});var t=this,r=4,i=!1;if(typeof e.margin!="object"){var o=e.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=e.margin;this.scrollWhenOutside=e.scrollWhenOutside||!1;var s={},a=TG(s),c=MG(),u=!1;window.addEventListener("mousemove",a,!1),window.addEventListener("touchmove",a,!1),isNaN(e.maxSpeed)||(r=e.maxSpeed),typeof r!="object"&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=M0(e.autoScroll),this.syncMove=M0(e.syncMove,!1),this.destroy=function(w){window.removeEventListener("mousemove",a,!1),window.removeEventListener("touchmove",a,!1),window.removeEventListener("mousedown",x,!1),window.removeEventListener("touchstart",x,!1),window.removeEventListener("mouseup",S,!1),window.removeEventListener("touchend",S,!1),window.removeEventListener("pointerup",S,!1),window.removeEventListener("mouseleave",j,!1),window.removeEventListener("mousemove",re,!1),window.removeEventListener("touchmove",re,!1),window.removeEventListener("scroll",D,!0),n=[],w&&k()},this.add=function(){for(var w=[],C=arguments.length;C--;)w[C]=arguments[C];return CG.apply(void 0,[n].concat(w)),this},this.remove=function(){for(var w=[],C=arguments.length;C--;)w[C]=arguments[C];return bG.apply(void 0,[n].concat(w))};var d=null,f;Object.prototype.toString.call(n)!=="[object Array]"&&(n=[n]),function(w){n=[],w.forEach(function(C){C===window?d=window:t.add(C)})}(n),Object.defineProperties(this,{down:{get:function(){return u}},maxSpeed:{get:function(){return r}},point:{get:function(){return s}},scrolling:{get:function(){return i}}});var v=null,m;window.addEventListener("mousedown",x,!1),window.addEventListener("touchstart",x,!1),window.addEventListener("mouseup",S,!1),window.addEventListener("touchend",S,!1),window.addEventListener("pointerup",S,!1),window.addEventListener("mousemove",re,!1),window.addEventListener("touchmove",re,!1),window.addEventListener("mouseleave",j,!1),window.addEventListener("scroll",D,!0);function D(w){for(var C=0;C<n.length;C++)if(n[C]===w.target){i=!0;break}i&&ou(function(){return i=!1})}function x(){u=!0}function S(){u=!1,k()}function k(){Ba(m),Ba(f)}function j(){u=!1}function U(w){if(!w)return null;if(v===w||R0(n,w))return w;for(;w=w.parentNode;)if(R0(n,w))return w;return null}function W(){for(var w=null,C=0;C<n.length;C++)CN(s,n[C])&&(w=n[C]);return w}function re(w){if(t.autoScroll()&&!w.dispatched){var C=w.target,E=document.body;v&&!CN(s,v)&&(t.scrollWhenOutside||(v=null)),C&&C.parentNode===E?C=W():(C=U(C),C||(C=W())),C&&C!==v&&(v=C),d&&(Ba(f),f=ou(G)),v&&(Ba(m),m=ou(T))}}function G(){y(d),Ba(f),f=ou(G)}function T(){v&&(y(v),Ba(m),m=ou(T))}function y(w){var C=SN(w),E,Ae;s.x<C.left+t.margin.left?E=Math.floor(Math.max(-1,(s.x-C.left)/t.margin.left-1)*t.maxSpeed.left):s.x>C.right-t.margin.right?E=Math.ceil(Math.min(1,(s.x-C.right)/t.margin.right+1)*t.maxSpeed.right):E=0,s.y<C.top+t.margin.top?Ae=Math.floor(Math.max(-1,(s.y-C.top)/t.margin.top-1)*t.maxSpeed.top):s.y>C.bottom-t.margin.bottom?Ae=Math.ceil(Math.min(1,(s.y-C.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):Ae=0,t.syncMove()&&c.dispatch(w,{pageX:s.pageX+E,pageY:s.pageY+Ae,clientX:s.x+E,clientY:s.y+Ae}),setTimeout(function(){Ae&&_(w,Ae),E&&b(w,E)})}function _(w,C){w===window?window.scrollTo(w.pageXOffset,w.pageYOffset+C):w.scrollTop+=C}function b(w,C){w===window?window.scrollTo(w.pageXOffset+C,w.pageYOffset):w.scrollLeft+=C}}function NG(n,e){return new RG(n,e)}function CN(n,e,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:AG(n,e)}var AN=NG;function P0(n,e,t){t&&t.split(" ").forEach(r=>n.addClass(e.nativeElement,r))}function kp(n,e,t){t&&t.split(" ").forEach(r=>n.removeClass(e.nativeElement,r))}var MN=(()=>{class n{constructor(){this.currentDrag=new Te}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RN=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(P(et))},n.\u0275dir=Re({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),Pp=(()=>{class n{constructor(t,r,i,o,s,a,c){this.element=t,this.renderer=r,this.draggableHelper=i,this.zone=o,this.vcr=s,this.scrollContainer=a,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new J,this.dragStart=new J,this.ghostElementCreated=new J,this.dragging=new J,this.dragEnd=new J,this.pointerDown$=new Te,this.pointerMove$=new Te,this.pointerUp$=new Te,this.eventListenerSubscriptions={},this.destroy$=new Te,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();let t=this.pointerDown$.pipe(Ye(()=>this.canDrag()),qe(r=>{r.event.stopPropagation&&!this.scrollContainer&&r.event.stopPropagation();let i=this.renderer.createElement("style");this.renderer.setAttribute(i,"type","text/css"),this.renderer.appendChild(i,this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)),requestAnimationFrame(()=>{this.document.head.appendChild(i)});let o=this.getScrollPosition(),s=new he(m=>{let D=this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window";return this.renderer.listen(D,"scroll",x=>m.next(x))}).pipe(ko(o),oe(()=>this.getScrollPosition())),a=new Te,c=new Fc;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});let u=On(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe(Fn()),d=Gs([this.pointerMove$,s]).pipe(oe(([m,D])=>({currentDrag$:a,transformX:m.clientX-r.clientX,transformY:m.clientY-r.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:D.left,scrollTop:D.top,target:m.event.target})),oe(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),oe(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),oe(m=>{let D=m.scrollLeft-o.left,x=m.scrollTop-o.top;return ve(B({},m),{x:m.transformX+D,y:m.transformY+x})}),Ye(({x:m,y:D,transformX:x,transformY:S})=>!this.validateDrag||this.validateDrag({x:m,y:D,transform:{x,y:S}})),pn(u),Fn()),f=d.pipe(Wt(1),Fn()),v=d.pipe(Vi(1),Fn());return f.subscribe(({clientX:m,clientY:D,x,y:S})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=AN([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],ve(B({},this.autoScroll),{autoScroll(){return!0}})),P0(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){let k=this.element.nativeElement.getBoundingClientRect(),j=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(j):this.element.nativeElement.parentNode.insertBefore(j,this.element.nativeElement.nextSibling),this.ghostElement=j,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(j,{position:"fixed",top:`${k.top}px`,left:`${k.left}px`,width:`${k.width}px`,height:`${k.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){let U=this.vcr.createEmbeddedView(this.ghostElementTemplate);j.innerHTML="",U.rootNodes.filter(W=>W instanceof Node).forEach(W=>{j.appendChild(W)}),v.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(U))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-x,clientY:D-S,element:j})}),v.subscribe(()=>{j.parentElement.removeChild(j),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(a)}),v.pipe(qe(m=>{let D=c.pipe(Fg(),Wt(1),oe(x=>ve(B({},m),{dragCancelled:x>0})));return c.complete(),D})).subscribe(({x:m,y:D,dragCancelled:x})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y:D,dragCancelled:x})}),kp(this.renderer,this.element,this.dragActiveClass),a.complete()}),On(u,v).pipe(Wt(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(i)})}),d}),Fn());On(t.pipe(Wt(1),oe(r=>[,r])),t.pipe(Qs())).pipe(Ye(([r,i])=>r?r.x!==i.x||r.y!==i.y:!0),oe(([r,i])=>i)).subscribe(({x:r,y:i,currentDrag$:o,clientX:s,clientY:a,transformX:c,transformY:u,target:d})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:r,y:i})}),requestAnimationFrame(()=>{if(this.ghostElement){let f=`translate3d(${c}px, ${u}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:f,"-webkit-transform":f,"-ms-transform":f,"-moz-transform":f,"-o-transform":f})}}),o.next({clientX:s,clientY:a,dropData:this.dropData,target:d})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){let t=this.canDrag(),r=Object.keys(this.eventListenerSubscriptions).length>0;t&&!r?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",i=>{this.onMouseDown(i)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",i=>{this.onMouseUp(i)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",i=>{this.onTouchStart(i)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&r&&this.unsubscribeEventListeners()}onMouseDown(t){t.button===0&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",r=>{this.pointerMove$.next({event:r,clientX:r.clientX,clientY:r.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){t.button===0&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let r,i,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),i=!1,o=this.hasScrollbar(),r=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){let s=Pi(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),a=Pi(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!i&&o&&(i=this.shouldBeginDrag(t,c,r)),(!this.touchStartLongPress||!o||i)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),a.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,r){Object.keys(r).forEach(i=>{this.renderer.setStyle(t,i,r[i])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,r,i){let o=this.getScrollPosition(),s={top:Math.abs(o.top-i.top),left:Math.abs(o.left-i.left)},a=Math.abs(r.targetTouches[0].clientX-t.touches[0].clientX)-s.left,c=Math.abs(r.targetTouches[0].clientY-t.touches[0].clientY)-s.top,u=a+c,d=this.touchStartLongPress;return(u>d.delta||s.top>0||s.left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=d.delay?(this.disableScroll(),!0):!1}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){let t=this.getScrollElement(),r=t.scrollWidth>t.clientWidth,i=t.scrollHeight>t.clientHeight;return r||i}}return n.\u0275fac=function(t){return new(t||n)(P(et),P(dt),P(MN),P(Se),P(ar),P(RN,8),P(Mt))},n.\u0275dir=Re({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Kt]}),n})();function xN(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}var Op=(()=>{class n{constructor(t,r,i,o,s){this.element=t,this.draggableHelper=r,this.zone=i,this.renderer=o,this.scrollContainer=s,this.dragEnter=new J,this.dragLeave=new J,this.dragOver=new J,this.drop=new J}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{P0(this.renderer,this.element,this.dragActiveClass);let r={updateCache:!0},i=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{r.updateCache=!0}),o,s=t.pipe(oe(({clientX:u,clientY:d,dropData:f,target:v})=>{o={clientX:u,clientY:d,dropData:f,target:v},r.updateCache&&(r.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(r.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),r.updateCache=!1);let m=xN(u,d,r.rect),D=!this.validateDrop||this.validateDrop({clientX:u,clientY:d,target:v,dropData:f});return r.scrollContainerRect?m&&D&&xN(u,d,r.scrollContainerRect):m&&D})),a=s.pipe(Lg()),c;a.pipe(Ye(u=>u)).subscribe(()=>{c=!0,P0(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),s.pipe(Ye(u=>u)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),a.pipe(Qs(),Ye(([u,d])=>u&&!d)).subscribe(()=>{c=!1,kp(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),t.subscribe({complete:()=>{i(),kp(this.renderer,this.element,this.dragActiveClass),c&&(kp(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(P(et),P(MN),P(Se),P(dt),P(RN,8))},n.\u0275dir=Re({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),au=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=bt({}),n})();var Ha=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ha||{});function NN(n,e){return{type:Ha.Trigger,name:n,definitions:e,options:{}}}function O0(n,e=null){return{type:Ha.Animate,styles:e,timings:n}}function F0(n){return{type:Ha.Style,styles:n,offset:null}}function V0(n,e,t){return{type:Ha.State,name:n,styles:e,options:t}}function L0(n,e,t=null){return{type:Ha.Transition,expr:n,animation:e,options:t}}var hs=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;function PG(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();return e.removeAttribute("id"),t.forEach(i=>{i.removeAttribute("id")}),r==="canvas"?ON(n,e):(r==="input"||r==="select"||r==="textarea")&&PN(n,e),kN("canvas",n,e,ON),kN("input, textarea, select",n,e,PN),e}function kN(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let o=t.querySelectorAll(n);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var OG=0;function PN(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${OG++}`)}function ON(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function FN(n,e,t,r){let i={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return e.top&&(i.top+=r),e.bottom&&(i.bottom+=r),e.left&&(i.left+=t),e.right&&(i.right+=t),i.height=i.bottom-i.top,i.width=i.right-i.left,i}function FG(n,e){let t=0,r=0,i=n.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(a=>i[a]).find(a=>!!a);if(s&&s.includes("translate")&&(t=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),e==="absolute")return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-r,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-r,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{let a=n.nativeElement.getBoundingClientRect();return{height:a.height,width:a.width,top:a.top-r,bottom:a.bottom-r,left:a.left-t,right:a.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}var VN=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function LN(n,e){return n.left&&n.top?e.topLeft:n.right&&n.top?e.topRight:n.left&&n.bottom?e.bottomLeft:n.right&&n.bottom?e.bottomRight:n.left||n.right?e.leftOrRight:n.top||n.bottom?e.topOrBottom:""}function Fp({edges:n,initialRectangle:e,newRectangle:t}){let r={};return Object.keys(n).forEach(i=>{r[i]=(t[i]||0)-(e[i]||0)}),r}var jN="resize-active",VG="resize-ghost-element",LG=50,U0=(()=>{class n{constructor(t,r,i,o){this.platformId=t,this.renderer=r,this.elm=i,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=VN,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=LG,this.resizeStart=new J,this.resizing=new J,this.resizeEnd=new J,this.mouseup=new Te,this.mousedown=new Te,this.mousemove=new Te,this.destroy$=new Te,this.pointerEventListeners=j0.getInstance(r,o)}ngOnInit(){let t=On(this.pointerEventListeners.pointerDown,this.mousedown),r=On(this.pointerEventListeners.pointerMove,this.mousemove).pipe(rt(({event:u})=>{o&&u.cancelable&&u.preventDefault()}),Fn()),i=On(this.pointerEventListeners.pointerUp,this.mouseup),o,s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},a=()=>B(B({},VN),this.resizeCursors);t.pipe(qe(u=>{function d(m){return{clientX:m.clientX-u.clientX,clientY:m.clientY-u.clientY}}let f=()=>{let m={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?m.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(m.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?m.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(m.y=+this.resizeSnapGrid.bottom)),m};function v(m,D){return{x:Math.ceil(m.clientX/D.x),y:Math.ceil(m.clientY/D.y)}}return On(r.pipe(Wt(1)).pipe(oe(m=>[,m])),r.pipe(Qs())).pipe(oe(([m,D])=>[m&&d(m),d(D)])).pipe(Ye(([m,D])=>{if(!m)return!0;let x=f(),S=v(m,x),k=v(D,x);return S.x!==k.x||S.y!==k.y})).pipe(oe(([,m])=>{let D=f();return{clientX:Math.round(m.clientX/D.x)*D.x,clientY:Math.round(m.clientY/D.y)*D.y}})).pipe(pn(On(i,t)))})).pipe(Ye(()=>!!o)).pipe(oe(({clientX:u,clientY:d})=>FN(o.startingRect,o.edges,u,d))).pipe(Ye(u=>this.allowNegativeResizes||!!(u.height&&u.width&&u.height>0&&u.width>0))).pipe(Ye(u=>this.validateResize?this.validateResize({rectangle:u,edges:Fp({edges:o.edges,initialRectangle:o.startingRect,newRectangle:u})}):!0),pn(this.destroy$)).subscribe(u=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${u.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${u.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${u.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${u.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Fp({edges:o.edges,initialRectangle:o.startingRect,newRectangle:u}),rectangle:u})}),o.currentRect=u}),t.pipe(oe(({edges:u})=>u||{}),Ye(u=>Object.keys(u).length>0),pn(this.destroy$)).subscribe(u=>{o&&s();let d=FG(this.elm,this.ghostElementPositioning);o={edges:u,startingRect:d,currentRect:d};let f=a(),v=LN(o.edges,f);this.renderer.setStyle(document.body,"cursor",v),this.setElementClass(this.elm,jN,!0),this.enableGhostResize&&(o.clonedNode=PG(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",LN(o.edges,f)),this.renderer.addClass(o.clonedNode,VG),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Fp({edges:u,initialRectangle:d,newRectangle:d}),rectangle:FN(d,{},0,0)})})}),i.pipe(pn(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,jN),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Fp({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){fx(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,r,i){i?this.renderer.addClass(t.nativeElement,r):this.renderer.removeClass(t.nativeElement,r)}}return n.\u0275fac=function(t){return new(t||n)(P(gn),P(dt),P(et),P(Se))},n.\u0275dir=Re({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})(),j0=class n{constructor(e,t){this.pointerDown=new he(r=>{let i,o;return t.runOutsideAngular(()=>{i=e.listen("document","mousedown",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),hs&&(o=e.listen("document","touchstart",s=>{r.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{i(),hs&&o()}}).pipe(Fn()),this.pointerMove=new he(r=>{let i,o;return t.runOutsideAngular(()=>{i=e.listen("document","mousemove",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),hs&&(o=e.listen("document","touchmove",s=>{r.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{i(),hs&&o()}}).pipe(Fn()),this.pointerUp=new he(r=>{let i,o,s;return t.runOutsideAngular(()=>{i=e.listen("document","mouseup",a=>{r.next({clientX:a.clientX,clientY:a.clientY,event:a})}),hs&&(o=e.listen("document","touchend",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}),s=e.listen("document","touchcancel",a=>{r.next({clientX:a.changedTouches[0].clientX,clientY:a.changedTouches[0].clientY,event:a})}))}),()=>{i(),hs&&(o(),s())}}).pipe(Fn())}static getInstance(e,t){return n.instance||(n.instance=new n(e,t)),n.instance}},UN=(()=>{class n{constructor(t,r,i,o){this.renderer=t,this.element=r,this.zone=i,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new Te}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),hs&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),On(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,r,i){t.cancelable&&t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:i,edges:this.resizeEdges})}onMouseup(t,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,r,i){this.resizable.mousemove.next({clientX:r,clientY:i,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return Pi(this.element.nativeElement,t).pipe(pn(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(P(dt),P(et),P(Se),P(U0,8))},n.\u0275dir=Re({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),B0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=bt({}),n})();var UG=(n,e)=>({event:n,trackByActionId:e}),BG=n=>({action:n});function HG(n,e){if(n&1){let t=ze();M(0,"a",5),Xe(1,"calendarA11y"),ae("mwlClick",function(i){let o=K(t).$implicit,s=L(2).event;return Y(o.onClick({event:s,sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=K(t).$implicit,s=L(2).event;return Y(o.onClick({event:s,sourceEvent:i}))}),R()}if(n&2){let t=e.$implicit;F("ngClass",t.cssClass)("innerHtml",t.label,Lh),Qt("aria-label",vn(1,3,Yo(6,BG,t),"actionButtonLabel"))}}function $G(n,e){if(n&1&&(M(0,"span",3),Z(1,HG,2,8,"a",4),R()),n&2){let t=L(),r=t.event,i=t.trackByActionId;O(),F("ngForOf",r.actions)("ngForTrackBy",i)}}function zG(n,e){if(n&1&&Z(0,$G,2,2,"span",2),n&2){let t=e.event;F("ngIf",t.actions)}}function WG(n,e){}var qG=(n,e)=>({event:n,view:e}),$a=()=>({});function GG(n,e){if(n&1&&(se(0,"span",2),Xe(1,"calendarEventTitle"),Xe(2,"calendarA11y")),n&2){let t=e.event,r=e.view;F("innerHTML",Rr(1,2,t.title,r,t),Lh),Qt("aria-hidden",vn(2,6,un(9,$a),"hideEventTitle"))}}function KG(n,e){}var YG=(n,e,t)=>({contents:n,placement:e,event:t});function QG(n,e){if(n&1&&(M(0,"div",2),se(1,"div",3)(2,"div",4),R()),n&2){let t=e.contents,r=e.placement;F("ngClass","cal-tooltip-"+r),O(2),F("innerHtml",t,Lh)}}function XG(n,e){}var ZG=(n,e,t,r,i,o,s,a,c,u,d,f)=>({day:n,openDay:e,locale:t,tooltipPlacement:r,highlightDay:i,unhighlightDay:o,eventClicked:s,tooltipTemplate:a,tooltipAppendToBody:c,tooltipDelay:u,trackByEventId:d,validateDrag:f}),JG=(n,e)=>({day:n,locale:e}),G0=n=>({backgroundColor:n}),e5=(n,e)=>({event:n,draggedFrom:e}),cu=(n,e)=>({x:n,y:e}),jp=()=>({delay:300,delta:30});function t5(n,e){if(n&1&&(M(0,"span",7),z(1),R()),n&2){let t=L().day;O(),Xt(t.badgeTotal)}}function n5(n,e){if(n&1){let t=ze();M(0,"div",10),Xe(1,"calendarEventTitle"),Xe(2,"calendarA11y"),ae("mouseenter",function(){let i=K(t).$implicit,o=L(2).highlightDay;return Y(o.emit({event:i}))})("mouseleave",function(){let i=K(t).$implicit,o=L(2).unhighlightDay;return Y(o.emit({event:i}))})("mwlClick",function(i){let o=K(t).$implicit,s=L(2).eventClicked;return Y(s.emit({event:o,sourceEvent:i}))}),R()}if(n&2){let t=e.$implicit,r=L(2),i=r.day,o=r.tooltipPlacement,s=r.tooltipTemplate,a=r.tooltipAppendToBody,c=r.tooltipDelay,u=r.validateDrag;mt("cal-draggable",t.draggable),F("ngStyle",Yo(22,G0,t.color==null?null:t.color.primary))("ngClass",t==null?null:t.cssClass)("mwlCalendarTooltip",Rr(1,15,t.title,"monthTooltip",t))("tooltipPlacement",o)("tooltipEvent",t)("tooltipTemplate",s)("tooltipAppendToBody",a)("tooltipDelay",c)("dropData",St(24,e5,t,i))("dragAxis",St(27,cu,t.draggable,t.draggable))("validateDrag",u)("touchStartLongPress",un(30,jp)),Qt("aria-hidden",vn(2,19,un(31,$a),"hideMonthCellEvents"))}}function r5(n,e){if(n&1&&(M(0,"div",8),Z(1,n5,3,32,"div",9),R()),n&2){let t=L(),r=t.day,i=t.trackByEventId;O(),F("ngForOf",r.events)("ngForTrackBy",i)}}function i5(n,e){if(n&1&&(M(0,"div",2),Xe(1,"calendarA11y"),M(2,"span",3),Z(3,t5,2,1,"span",4),M(4,"span",5),z(5),Xe(6,"calendarDate"),R()()(),Z(7,r5,2,2,"div",6)),n&2){let t=e.day,r=e.locale;Qt("aria-label",vn(1,4,St(11,JG,t,r),"monthCell")),O(3),F("ngIf",t.badgeTotal>0),O(2),Xt(Rr(6,7,t.date,"monthViewDayNumber",r)),O(2),F("ngIf",t.events.length>0)}}function o5(n,e){}var s5=(n,e,t,r,i)=>({events:n,eventClicked:e,isOpen:t,trackByEventId:r,validateDrag:i}),BN=(n,e)=>({date:n,locale:e}),a5=n=>({event:n}),WN=(n,e)=>({event:n,locale:e});function c5(n,e){if(n&1){let t=ze();M(0,"div",7),se(1,"span",8),z(2," "),M(3,"mwl-calendar-event-title",9),Xe(4,"calendarA11y"),ae("mwlClick",function(i){let o=K(t).$implicit,s=L(2).eventClicked;return Y(s.emit({event:o,sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=K(t).$implicit,s=L(2).eventClicked;return Y(s.emit({event:o,sourceEvent:i}))}),R(),z(5," "),se(6,"mwl-calendar-event-actions",10),R()}if(n&2){let t=e.$implicit,r=L(2).validateDrag,i=L();mt("cal-draggable",t.draggable),F("ngClass",t==null?null:t.cssClass)("dropData",Yo(16,a5,t))("dragAxis",St(18,cu,t.draggable,t.draggable))("validateDrag",r)("touchStartLongPress",un(21,jp)),O(),F("ngStyle",Yo(22,G0,t.color==null?null:t.color.primary)),O(2),F("event",t)("customTemplate",i.eventTitleTemplate),Qt("aria-label",vn(4,13,St(24,WN,t,i.locale),"eventDescription")),O(3),F("event",t)("customTemplate",i.eventActionsTemplate)}}function l5(n,e){if(n&1&&(M(0,"div",3),se(1,"span",4),Xe(2,"calendarA11y"),se(3,"span",5),Xe(4,"calendarA11y"),Z(5,c5,7,27,"div",6),R()),n&2){let t=L(),r=t.events,i=t.trackByEventId,o=L();F("@collapse",void 0),O(),Qt("aria-label",vn(2,5,St(11,BN,o.date,o.locale),"openDayEventsAlert")),O(2),Qt("aria-label",vn(4,8,St(14,BN,o.date,o.locale),"openDayEventsLandmark")),O(2),F("ngForOf",r)("ngForTrackBy",i)}}function u5(n,e){if(n&1&&Z(0,l5,6,17,"div",2),n&2){let t=e.isOpen;F("ngIf",t)}}function d5(n,e){}var h5=(n,e,t)=>({days:n,locale:e,trackByWeekDayHeaderDate:t});function f5(n,e){if(n&1){let t=ze();M(0,"div",4),ae("click",function(i){let o=K(t).$implicit,s=L(2);return Y(s.columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:i}))}),z(1),Xe(2,"calendarDate"),R()}if(n&2){let t=e.$implicit,r=L().locale;mt("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),F("ngClass",t.cssClass),O(),Sn(" ",Rr(2,10,t.date,"monthViewColumnHeader",r)," ")}}function p5(n,e){if(n&1&&(M(0,"div",2),Z(1,f5,3,14,"div",3),R()),n&2){let t=e.days,r=e.trackByWeekDayHeaderDate;O(),F("ngForOf",t)("ngForTrackBy",r)}}function m5(n,e){}function g5(n,e){if(n&1){let t=ze();M(0,"mwl-calendar-month-cell",7),Xe(1,"calendarA11y"),ae("mwlClick",function(i){let o=K(t).$implicit,s=L(2);return Y(s.dayClicked.emit({day:o,sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=K(t).$implicit,s=L(2);return Y(s.dayClicked.emit({day:o,sourceEvent:i}))})("highlightDay",function(i){K(t);let o=L(2);return Y(o.toggleDayHighlight(i.event,!0))})("unhighlightDay",function(i){K(t);let o=L(2);return Y(o.toggleDayHighlight(i.event,!1))})("drop",function(i){let o=K(t).$implicit,s=L(2);return Y(s.eventDropped(o,i.dropData.event,i.dropData.draggedFrom))})("eventClicked",function(i){K(t);let o=L(2);return Y(o.eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent}))}),R()}if(n&2){let t=e.$implicit,r=L(2);F("ngClass",t==null?null:t.cssClass)("day",t)("openDay",r.openDay)("locale",r.locale)("tooltipPlacement",r.tooltipPlacement)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipTemplate",r.tooltipTemplate)("tooltipDelay",r.tooltipDelay)("customTemplate",r.cellTemplate)("ngStyle",Yo(15,G0,t.backgroundColor))("clickListenerDisabled",r.dayClicked.observers.length===0),Qt("tabindex",vn(1,12,un(17,$a),"monthCellTabIndex"))}}function v5(n,e){if(n&1){let t=ze();M(0,"div")(1,"div",4),Z(2,g5,2,18,"mwl-calendar-month-cell",5),Xe(3,"slice"),R(),M(4,"mwl-calendar-open-day-events",6),ae("eventClicked",function(i){K(t);let o=L();return Y(o.eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent}))})("drop",function(i){K(t);let o=L();return Y(o.eventDropped(o.openDay,i.dropData.event,i.dropData.draggedFrom))}),R()()}if(n&2){let t=e.$implicit,r=L();O(2),F("ngForOf",Rr(3,9,r.view.days,t,t+r.view.totalDaysVisibleInWeek))("ngForTrackBy",r.trackByDate),O(2),F("locale",r.locale)("isOpen",r.openRowIndex===t)("events",r.openDay==null?null:r.openDay.events)("date",r.openDay==null?null:r.openDay.date)("customTemplate",r.openDayEventsTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)}}var y5=(n,e,t,r,i,o)=>({days:n,locale:e,dayHeaderClicked:t,eventDropped:r,dragEnter:i,trackByWeekDayHeaderDate:o});function _5(n,e){if(n&1){let t=ze();M(0,"div",4),ae("mwlClick",function(i){let o=K(t).$implicit,s=L().dayHeaderClicked;return Y(s.emit({day:o,sourceEvent:i}))})("drop",function(i){let o=K(t).$implicit,s=L().eventDropped;return Y(s.emit({event:i.dropData.event,newStart:o.date}))})("dragEnter",function(){let i=K(t).$implicit,o=L().dragEnter;return Y(o.emit({date:i.date}))}),M(1,"b"),z(2),Xe(3,"calendarDate"),R(),se(4,"br"),M(5,"span"),z(6),Xe(7,"calendarDate"),R()()}if(n&2){let t=e.$implicit,r=L().locale;mt("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),F("ngClass",t.cssClass),O(2),Xt(Rr(3,11,t.date,"weekViewColumnHeader",r)),O(4),Xt(Rr(7,15,t.date,"weekViewColumnSubHeader",r))}}function w5(n,e){if(n&1&&(M(0,"div",2),Z(1,_5,8,19,"div",3),R()),n&2){let t=e.days,r=e.trackByWeekDayHeaderDate;O(),F("ngForOf",t)("ngForTrackBy",r)}}function E5(n,e){}var I5=(n,e,t,r,i,o,s,a,c)=>({weekEvent:n,tooltipPlacement:e,eventClicked:t,tooltipTemplate:r,tooltipAppendToBody:i,tooltipDisabled:o,tooltipDelay:s,column:a,daysInWeek:c}),D5=(n,e,t)=>({color:n,backgroundColor:e,borderColor:t});function C5(n,e){if(n&1){let t=ze();M(0,"div",2),Xe(1,"calendarEventTitle"),Xe(2,"calendarA11y"),ae("mwlClick",function(i){let o=K(t).eventClicked;return Y(o.emit({sourceEvent:i}))})("mwlKeydownEnter",function(i){let o=K(t).eventClicked;return Y(o.emit({sourceEvent:i}))}),se(3,"mwl-calendar-event-actions",3),z(4," "),se(5,"mwl-calendar-event-title",4),R()}if(n&2){let t=e.weekEvent,r=e.tooltipPlacement,i=e.tooltipTemplate,o=e.tooltipAppendToBody,s=e.tooltipDisabled,a=e.tooltipDelay,c=e.daysInWeek,u=L();F("ngStyle",Xh(20,D5,t.event.color==null?null:t.event.color.secondaryText,t.event.color==null?null:t.event.color.secondary,t.event.color==null?null:t.event.color.primary))("mwlCalendarTooltip",s?"":Rr(1,13,t.event.title,c===1?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",r)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",i)("tooltipAppendToBody",o)("tooltipDelay",a),Qt("aria-label",vn(2,17,St(24,WN,t.tempEvent||t.event,u.locale),"eventDescription")),O(3),F("event",t.tempEvent||t.event)("customTemplate",u.eventActionsTemplate),O(2),F("event",t.tempEvent||t.event)("customTemplate",u.eventTitleTemplate)("view",c===1?"day":"week")}}function b5(n,e){}var T5=(n,e,t,r,i)=>({segment:n,locale:e,segmentHeight:t,isTimeLabel:r,daysInWeek:i});function S5(n,e){if(n&1&&(M(0,"div",4),z(1),Xe(2,"calendarDate"),R()),n&2){let t=L(),r=t.segment,i=t.locale,o=t.daysInWeek;O(),Sn(" ",Rr(2,1,r.displayDate,o===1?"dayViewHour":"weekViewHour",i)," ")}}function A5(n,e){if(n&1&&(M(0,"div",2),Xe(1,"calendarA11y"),Z(2,S5,3,5,"div",3),R()),n&2){let t=e.segment,r=e.segmentHeight,i=e.isTimeLabel,o=e.daysInWeek;ai("height",r,"px"),mt("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),F("ngClass",t.cssClass),Qt("aria-hidden",vn(1,9,un(12,$a),o===1?"hideDayHourSegment":"hideWeekHourSegment")),O(2),F("ngIf",i)}}function x5(n,e){}var M5=(n,e,t,r,i,o,s)=>({columnDate:n,dayStartHour:e,dayStartMinute:t,dayEndHour:r,dayEndMinute:i,isVisible:o,topPx:s});function R5(n,e){if(n&1&&se(0,"div",3),n&2){let t=L().topPx;ai("top",t,"px")}}function N5(n,e){if(n&1&&Z(0,R5,1,2,"div",2),n&2){let t=e.isVisible;F("ngIf",t)}}function k5(n,e){}var P5=(n,e)=>({left:n,right:e}),qN=(n,e)=>({event:n,calendarId:e}),O5=n=>({x:n}),F5=()=>({left:!0}),V5=()=>({right:!0}),L5=(n,e,t,r)=>({left:n,right:e,top:t,bottom:r}),j5=()=>({left:!0,top:!0}),U5=()=>({right:!0,bottom:!0});function B5(n,e){n&1&&$y(0)}function H5(n,e){if(n&1){let t=ze();M(0,"div",17),ae("drop",function(i){let o=K(t).$implicit,s=L(2);return Y(s.eventDropped(i,o.date,!0))})("dragEnter",function(){let i=K(t).$implicit,o=L(2);return Y(o.dateDragEnter(i.date))}),R()}}function $5(n,e){n&1&&se(0,"div",24),n&2&&F("resizeEdges",un(1,F5))}function z5(n,e){n&1&&se(0,"div",25),n&2&&F("resizeEdges",un(1,V5))}function W5(n,e){if(n&1){let t=ze();M(0,"div",20,3),ae("resizeStart",function(i){let o=K(t).$implicit;L();let s=gt(1),a=L(2);return Y(a.allDayEventResizeStarted(s,o,i))})("resizing",function(i){let o=K(t).$implicit,s=L(3);return Y(s.allDayEventResizing(o,i,s.dayColumnWidth))})("resizeEnd",function(){let i=K(t).$implicit,o=L(3);return Y(o.allDayEventResizeEnded(i))})("dragStart",function(){let i=K(t).$implicit,o=gt(1);L();let s=gt(1),a=L(2);return Y(a.dragStarted(s,o,i,!1))})("dragging",function(){K(t);let i=L(3);return Y(i.allDayEventDragMove())})("dragEnd",function(i){let o=K(t).$implicit,s=L(3);return Y(s.dragEnded(o,i,s.dayColumnWidth))}),Z(2,$5,1,2,"div",21),M(3,"mwl-calendar-week-view-event",22),ae("eventClicked",function(i){let o=K(t).$implicit,s=L(3);return Y(s.eventClicked.emit({event:o.event,sourceEvent:i.sourceEvent}))}),R(),Z(4,z5,1,2,"div",23),R()}if(n&2){let t=e.$implicit,r=L(3);ai("width",100/r.days.length*t.span,"%")("margin-left",r.rtl?null:100/r.days.length*t.offset,"%")("margin-right",r.rtl?100/r.days.length*t.offset:null,"%"),mt("cal-draggable",t.event.draggable&&r.allDayEventResizes.size===0)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),F("ngClass",t.event==null?null:t.event.cssClass)("resizeCursors",r.resizeCursors)("resizeSnapGrid",St(33,P5,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",St(36,qN,t.event,r.calendarId))("dragAxis",St(39,cu,t.event.draggable&&r.allDayEventResizes.size===0,!r.snapDraggedEvents&&t.event.draggable&&r.allDayEventResizes.size===0))("dragSnapGrid",r.snapDraggedEvents?Yo(42,O5,r.dayColumnWidth):un(44,$a))("validateDrag",r.validateDrag)("touchStartLongPress",un(45,jp)),O(2),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),O(),F("locale",r.locale)("weekEvent",t)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),O(),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function q5(n,e){if(n&1&&(M(0,"div",18,2),Z(2,W5,5,46,"div",19),R()),n&2){let t=e.$implicit,r=L(2);O(2),F("ngForOf",t.row)("ngForTrackBy",r.trackByWeekAllDayEvent)}}function G5(n,e){if(n&1){let t=ze();M(0,"div",12,1),ae("dragEnter",function(){K(t);let i=L();return Y(i.dragEnter("allDay"))})("dragLeave",function(){K(t);let i=L();return Y(i.dragLeave("allDay"))}),M(2,"div",10)(3,"div",13),Z(4,B5,1,0,"ng-container",14),R(),Z(5,H5,1,0,"div",15),R(),Z(6,q5,3,2,"div",16),R()}if(n&2){let t=L();O(4),F("ngTemplateOutlet",t.allDayEventsLabelTemplate),O(),F("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),O(),F("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function K5(n,e){if(n&1&&se(0,"mwl-calendar-week-view-hour-segment",29),n&2){let t=e.$implicit,r=L(3);ai("height",r.hourSegmentHeight,"px"),F("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",r.daysInWeek)}}function Y5(n,e){if(n&1&&(M(0,"div",27),Z(1,K5,1,8,"mwl-calendar-week-view-hour-segment",28),R()),n&2){let t=e.$implicit,r=e.odd,i=L(2);mt("cal-hour-odd",r),O(),F("ngForOf",t.segments)("ngForTrackBy",i.trackByHourSegment)}}function Q5(n,e){if(n&1&&(M(0,"div",13),Z(1,Y5,2,4,"div",26),R()),n&2){let t=L();O(),F("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}function X5(n,e){n&1&&se(0,"div",24),n&2&&F("resizeEdges",un(1,j5))}function Z5(n,e){}function J5(n,e){if(n&1){let t=ze();M(0,"mwl-calendar-week-view-event",36),ae("eventClicked",function(i){K(t);let o=L().$implicit,s=L(2);return Y(s.eventClicked.emit({event:o.event,sourceEvent:i.sourceEvent}))}),R()}if(n&2){let t=L().$implicit,r=L().$implicit,i=L();F("locale",i.locale)("weekEvent",t)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDisabled",i.dragActive||i.timeEventResizes.size>0)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("column",r)("daysInWeek",i.daysInWeek)}}function e6(n,e){n&1&&se(0,"div",25),n&2&&F("resizeEdges",un(1,U5))}function t6(n,e){if(n&1){let t=ze();M(0,"div",34,3),ae("resizeStart",function(i){let o=K(t).$implicit,s=L(2),a=gt(6);return Y(s.timeEventResizeStarted(a,o,i))})("resizing",function(i){let o=K(t).$implicit,s=L(2);return Y(s.timeEventResizing(o,i))})("resizeEnd",function(){let i=K(t).$implicit,o=L(2);return Y(o.timeEventResizeEnded(i))})("dragStart",function(){let i=K(t).$implicit,o=gt(1),s=L(2),a=gt(6);return Y(s.dragStarted(a,o,i,!0))})("dragging",function(i){let o=K(t).$implicit,s=L(2);return Y(s.dragMove(o,i))})("dragEnd",function(i){let o=K(t).$implicit,s=L(2);return Y(s.dragEnded(o,i,s.dayColumnWidth,!0))}),Z(2,X5,1,2,"div",21)(3,Z5,0,0,"ng-template",35)(4,J5,1,12,"ng-template",null,4,yn)(6,e6,1,2,"div",23),R()}if(n&2){let t=e.$implicit,r=gt(5),i=L(2);ai("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),mt("cal-draggable",t.event.draggable&&i.timeEventResizes.size===0)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),F("ngClass",t.event.cssClass)("hidden",t.height===0&&t.width===0)("resizeCursors",i.resizeCursors)("resizeSnapGrid",PA(30,L5,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",St(35,qN,t.event,i.calendarId))("dragAxis",St(38,cu,t.event.draggable&&i.timeEventResizes.size===0,t.event.draggable&&i.timeEventResizes.size===0))("dragSnapGrid",i.snapDraggedEvents?St(41,cu,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):un(44,$a))("touchStartLongPress",un(45,jp))("ghostDragEnabled",!i.snapDraggedEvents)("ghostElementTemplate",r)("validateDrag",i.validateDrag),O(2),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),O(),F("ngTemplateOutlet",r),O(3),F("ngIf",(t.event==null||t.event.resizable==null?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function n6(n,e){if(n&1){let t=ze();M(0,"mwl-calendar-week-view-hour-segment",38),ae("mwlClick",function(i){let o=K(t).$implicit,s=L(3);return Y(s.hourSegmentClicked.emit({date:o.date,sourceEvent:i}))})("drop",function(i){let o=K(t).$implicit,s=L(3);return Y(s.eventDropped(i,o.date,!1))})("dragEnter",function(){let i=K(t).$implicit,o=L(3);return Y(o.dateDragEnter(i.date))}),R()}if(n&2){let t=e.$implicit,r=L(3);ai("height",r.hourSegmentHeight,"px"),F("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",r.hourSegmentClicked.observers.length===0)("dragOverClass",!r.dragActive||!r.snapDraggedEvents?"cal-drag-over":null)("isTimeLabel",r.daysInWeek===1)}}function r6(n,e){if(n&1&&(M(0,"div",27),Z(1,n6,1,10,"mwl-calendar-week-view-hour-segment",37),R()),n&2){let t=e.$implicit,r=e.odd,i=L(2);mt("cal-hour-odd",r),O(),F("ngForOf",t.segments)("ngForTrackBy",i.trackByHourSegment)}}function i6(n,e){if(n&1&&(M(0,"div",30),se(1,"mwl-calendar-week-view-current-time-marker",31),M(2,"div",32),Z(3,t6,7,46,"div",33),R(),Z(4,r6,2,4,"div",26),R()),n&2){let t=e.$implicit,r=L();O(),F("columnDate",t.date)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("customTemplate",r.currentTimeMarkerTemplate),O(2),F("ngForOf",t.events)("ngForTrackBy",r.trackByWeekTimeEvent),O(),F("ngForOf",t.hours)("ngForTrackBy",r.trackByHour)}}var ps=(()=>{class n{constructor(t,r,i){this.renderer=t,this.elm=r,this.document=i,this.clickListenerDisabled=!1,this.click=new J,this.destroy$=new Te}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(pn(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new he(t=>this.renderer.listen(this.elm.nativeElement,"click",r=>{t.next(r)}))}}return n.\u0275fac=function(t){return new(t||n)(P(dt),P(et),P(Mt))},n.\u0275dir=Re({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),Up=(()=>{class n{constructor(t,r,i){this.host=t,this.ngZone=r,this.renderer=i,this.keydown=new J,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(t.keyCode===13||t.which===13||t.key==="Enter")&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){this.keydownListener!==null&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(P(et),P(Se),P(dt))},n.\u0275dir=Re({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),Vp=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:r}){return t.badgeTotal>0?`
        ${_t(t.date,"EEEE MMMM d",r)},
        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${_t(t.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:t,locale:r}){return`
      Beginning of expanded view for ${_t(t,"EEEE MMMM dd",r)}
    `}openDayEventsAlert({date:t,locale:r}){return`${_t(t,"EEEE MMMM dd",r)} expanded`}eventDescription({event:t,locale:r}){if(t.allDay===!0)return this.allDayEventDescription({event:t,locale:r});let i=`
      ${_t(t.start,"EEEE MMMM dd",r)},
      ${t.title}, from ${_t(t.start,"hh:mm a",r)}
    `;return t.end?i+` to ${_t(t.end,"hh:mm a",r)}`:i}allDayEventDescription({event:t,locale:r}){let i=`
      ${t.title}, event spans multiple days:
      start time ${_t(t.start,"MMMM dd hh:mm a",r)}
    `;return t.end?i+`, stop time ${_t(t.end,"MMMM d hh:mm a",r)}`:i+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(ue(pf))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),ms=(()=>{class n{constructor(t,r){this.calendarA11y=t,this.locale=r}transform(t,r){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[r]>"u"){let i=Object.getOwnPropertyNames(Object.getPrototypeOf(Vp.prototype)).filter(o=>o!=="constructor");throw new Error(`${r} is not a valid a11y method. Can only be one of ${i.join(", ")}`)}return this.calendarA11y[r](t)}}return n.\u0275fac=function(t){return new(t||n)(P(Vp,16),P(lr,16))},n.\u0275pipe=ii({name:"calendarA11y",type:n,pure:!0}),n})(),GN=(()=>{class n{constructor(){this.trackByActionId=(t,r)=>r.id?r.id:r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(t,r){if(t&1&&Z(0,zG,1,1,"ng-template",null,0,yn)(2,WG,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",St(2,UG,r.event,r.trackByActionId))}},dependencies:[zn,Wn,ht,qn,ps,Up,ms],encapsulation:2}),n})(),lu=class{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}},K0=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,r,i){return this.calendarEventTitle[r](i,t)}}return n.\u0275fac=function(t){return new(t||n)(P(lu,16))},n.\u0275pipe=ii({name:"calendarEventTitle",type:n,pure:!0}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,r){if(t&1&&Z(0,GG,3,10,"ng-template",null,0,yn)(2,KG,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",St(2,qG,r.event,r.view))}},dependencies:[qn,K0,ms],encapsulation:2}),n})(),o6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,r){if(t&1&&Z(0,QG,3,2,"ng-template",null,0,yn)(2,XG,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Xh(2,YG,r.contents,r.placement,r.event))}},dependencies:[zn,qn],encapsulation:2}),n})(),YN=(()=>{class n{constructor(t,r,i,o,s,a){this.elementRef=t,this.injector=r,this.renderer=i,this.viewContainerRef=s,this.document=a,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Te,this.tooltipFactory=o.resolveComponentFactory(o6)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(this.delay===null?pe("now"):Uc(this.delay)).pipe(pn(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=D0(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),t.indexOf(this.tooltipRef.instance.placement)===-1&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(P(et),P(xt),P(dt),P($i),P(ar),P(Mt))},n.\u0275dir=Re({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,r){t&1&&ae("mouseenter",function(){return r.onMouseOver()})("mouseleave",function(){return r.onMouseOut()})},inputs:{contents:[0,"mwlCalendarTooltip","contents"],placement:[0,"tooltipPlacement","placement"],customTemplate:[0,"tooltipTemplate","customTemplate"],event:[0,"tooltipEvent","event"],appendToBody:[0,"tooltipAppendToBody","appendToBody"],delay:[0,"tooltipDelay","delay"]},features:[Kt]}),n})();var QN=n=>DN(n,(...t)=>console.warn("angular-calendar",...t));function XN(n,e){return Math.floor(n.left)<=Math.ceil(e.left)&&Math.floor(e.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(e.right)&&Math.floor(e.right)<=Math.ceil(n.right)}function s6(n,e){return Math.floor(n.top)<=Math.ceil(e.top)&&Math.floor(e.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(e.bottom)&&Math.floor(e.bottom)<=Math.ceil(n.bottom)}function a6(n,e){return XN(n,e)&&s6(n,e)}function ZN(n,e){return Math.round(n/e)*e}var JN=(n,e)=>e.id?e.id:e,Y0=(n,e)=>e.date.toISOString(),c6=(n,e)=>e.date.toISOString(),l6=(n,e)=>e.segments[0].date.toISOString(),u6=(n,e)=>e.event.id?e.event.id:e.event,d6=(n,e)=>e.event.id?e.event.id:e.event,h6=60;function f6(n,e,t){return(t||h6)/(n*e)}function H0(n,e,t,r,i){let o=ZN(n,r||t),s=f6(e,t,i);return o*s}function HN(n,e,t){return e.end?e.end:n.addMinutes(e.start,t)}function fs(n,e,t,r){let i=0,o=0,s=t<0?n.subDays:n.addDays,a=e;for(;o<=Math.abs(t);){a=s(e,i);let c=n.getDay(a);r.indexOf(c)===-1&&o++,i++}return a}function p6(n,e,t){let r=e||n;return t.start<=n&&n<=t.end||t.start<=r&&r<=t.end}function m6(n,e,t,r){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==r||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)}function $0(n,e,t,r=[],i){let o=i?n.startOfDay(e):n.startOfWeek(e,{weekStartsOn:t}),s=n.endOfWeek(e,{weekStartsOn:t});for(;r.indexOf(n.getDay(o))>-1&&o<s;)o=n.addDays(o,1);if(i){let a=n.endOfDay(fs(n,o,i-1,r));return{viewStart:o,viewEnd:a}}else{let a=s;for(;r.indexOf(n.getDay(a))>-1&&a>o;)a=n.subDays(a,1);return{viewStart:o,viewEnd:a}}}function Q0({x:n,y:e}){return Math.abs(n)>1||Math.abs(e)>1}var wi=class{};var g6=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:r}){return _t(t,"EEEE",r)}monthViewDayNumber({date:t,locale:r}){return _t(t,"d",r)}monthViewTitle({date:t,locale:r}){return _t(t,"LLLL y",r)}weekViewColumnHeader({date:t,locale:r}){return _t(t,"EEEE",r)}weekViewColumnSubHeader({date:t,locale:r}){return _t(t,"MMM d",r)}weekViewTitle({date:t,locale:r,weekStartsOn:i,excludeDays:o,daysInWeek:s}){let{viewStart:a,viewEnd:c}=$0(this.dateAdapter,t,i,o,s),u=(d,f)=>_t(d,"MMM d"+(f?", yyyy":""),r);return`${u(a,a.getUTCFullYear()!==c.getUTCFullYear())} - ${u(c,!0)}`}weekViewHour({date:t,locale:r}){return _t(t,"h a",r)}dayViewHour({date:t,locale:r}){return _t(t,"h a",r)}dayViewTitle({date:t,locale:r}){return _t(t,"EEEE, MMMM d, y",r)}}return n.\u0275fac=function(t){return new(t||n)(ue(wi))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),Lp=(()=>{class n extends g6{}return n.\u0275fac=(()=>{let e;return function(r){return(e||(e=xr(n)))(r||n)}})(),n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),Bp=(()=>{class n{constructor(t,r){this.dateFormatter=t,this.locale=r}transform(t,r,i=this.locale,o=0,s=[],a){if(typeof this.dateFormatter[r]>"u"){let c=Object.getOwnPropertyNames(Object.getPrototypeOf(Lp.prototype)).filter(u=>u!=="constructor");throw new Error(`${r} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[r]({date:t,locale:i,weekStartsOn:o,excludeDays:s,daysInWeek:a})}}return n.\u0275fac=function(t){return new(t||n)(P(Lp,16),P(lr,16))},n.\u0275pipe=ii({name:"calendarDate",type:n,pure:!0}),n})(),Hp=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return IN(this.dateAdapter,t)}getWeekViewHeader(t){return Np(this.dateAdapter,t)}getWeekView(t){return EN(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(ue(wi))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),roe=new ne("Moment");var fo=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(fo||{}),uu=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||lu,r.dateFormatter||Lp,r.utils||Hp,r.a11y||Vp]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=bt({providers:[pf],imports:[tt]}),n})(),v6=(()=>{class n{constructor(){this.highlightDay=new J,this.unhighlightDay=new J,this.eventClicked=new J,this.trackByEventId=JN,this.validateDrag=Q0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,r){t&2&&mt("cal-past",r.day.isPast)("cal-today",r.day.isToday)("cal-future",r.day.isFuture)("cal-weekend",r.day.isWeekend)("cal-in-month",r.day.inMonth)("cal-out-month",!r.day.inMonth)("cal-has-events",r.day.events.length>0)("cal-open",r.day===r.openDay)("cal-event-highlight",!!r.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(t,r){if(t&1&&Z(0,i5,8,14,"ng-template",null,0,yn)(2,o5,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Wy(2,ZG,[r.day,r.openDay,r.locale,r.tooltipPlacement,r.highlightDay,r.unhighlightDay,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDelay,r.trackByEventId,r.validateDrag]))}},dependencies:[zn,Wn,ht,qn,fl,Pp,YN,ps,Bp,K0,ms],encapsulation:2}),n})(),y6=NN("collapse",[V0("void",F0({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),V0("*",F0({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),L0("* => void",O0("150ms ease-out")),L0("void => *",O0("150ms ease-in"))]),_6=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new J,this.trackByEventId=JN,this.validateDrag=Q0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(t,r){if(t&1&&Z(0,u5,1,1,"ng-template",null,0,yn)(2,d5,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",zy(2,s5,r.events,r.eventClicked,r.isOpen,r.trackByEventId,r.validateDrag))}},dependencies:[zn,Wn,ht,qn,fl,Pp,GN,KN,ps,Up,ms],encapsulation:2,data:{animation:[y6]}}),n})(),w6=(()=>{class n{constructor(){this.columnHeaderClicked=new J,this.trackByWeekDayHeaderDate=Y0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(t,r){if(t&1&&Z(0,p5,2,2,"ng-template",null,0,yn)(2,m5,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Xh(2,h5,r.days,r.locale,r.trackByWeekDayHeaderDate))}},dependencies:[zn,Wn,qn,Bp],encapsulation:2}),n})(),ek=(()=>{class n{constructor(t,r,i,o){this.cdr=t,this.utils=r,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new J,this.dayClicked=new J,this.eventClicked=new J,this.columnHeaderClicked=new J,this.eventTimesChanged=new J,this.trackByRowOffset=(s,a)=>this.view.days.slice(a,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(s,a)=>a.date.toISOString(),this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){let r=t.viewDate||t.excludeDays||t.weekendDays,i=t.viewDate||t.events||t.excludeDays||t.weekendDays;r&&this.refreshHeader(),t.events&&QN(this.events),i&&this.refreshBody(),(r||i)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,r){this.view.days.forEach(i=>{r&&i.events.indexOf(t)>-1?i.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete i.backgroundColor})}eventDropped(t,r,i){if(t!==i){let o=this.dateAdapter.getYear(t.date),s=this.dateAdapter.getMonth(t.date),a=this.dateAdapter.getDate(t.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(r.start,o),s),a),u;if(r.end){let d=this.dateAdapter.differenceInSeconds(c,r.start);u=this.dateAdapter.addSeconds(r.end,d)}this.eventTimesChanged.emit({event:r,newStart:c,newEnd:u,day:t,type:fo.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(this.activeDayIsOpen===!0){let t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(i=>this.dateAdapter.isSameDay(i.date,t));let r=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(r/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(P(ur),P(Hp),P(lr),P(wi))},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Kt],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"mwl-calendar-month-view-header",1),ae("columnHeaderClicked",function(o){return r.columnHeaderClicked.emit(o)}),R(),M(2,"div",2),Z(3,v5,5,13,"div",3),R()()),t&2&&(O(),F("days",r.columnHeaders)("locale",r.locale)("customTemplate",r.headerTemplate),O(2),F("ngForOf",r.view.rowOffsets)("ngForTrackBy",r.trackByRowOffset))},dependencies:[zn,Wn,fl,Op,ps,Up,v6,_6,w6,hx,ms],encapsulation:2}),n})(),$N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=bt({imports:[tt,au,uu,au]}),n})(),z0=class{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:r,dragAlreadyMoved:i,transform:o}){let s=Q0({x:e,y:t})||i;if(r){let a=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){let c=this.dragContainerElement.getBoundingClientRect(),u=c.top<a.top&&a.top<c.bottom,d=c.top<a.bottom&&a.bottom<c.bottom;return XN(c,a)&&(u||d)}return!1}else return s}},W0=class{constructor(e,t,r){this.resizeContainerElement=e,this.minWidth=t,this.rtl=r}validateResize({rectangle:e,edges:t}){return this.rtl&&(typeof t.left<"u"?(e.left-=t.left,e.right+=t.left):typeof t.right<"u"&&(e.left+=t.right,e.right-=t.right),e.width=e.right-e.left),this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth)?!1:a6(this.resizeContainerElement.getBoundingClientRect(),e)}},E6=(()=>{class n{constructor(){this.dayHeaderClicked=new J,this.eventDropped=new J,this.dragEnter=new J,this.trackByWeekDayHeaderDate=Y0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(t,r){if(t&1&&Z(0,w5,2,2,"ng-template",null,0,yn)(2,E5,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",OA(2,y5,r.days,r.locale,r.dayHeaderClicked,r.eventDropped,r.dragEnter,r.trackByWeekDayHeaderDate))}},dependencies:[zn,Wn,qn,Op,ps,Bp],encapsulation:2}),n})(),I6=(()=>{class n{constructor(){this.eventClicked=new J}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"mwlClick","mwlKeydownEnter","ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,r){if(t&1&&Z(0,C5,6,27,"ng-template",null,0,yn)(2,b5,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",Wy(2,I5,[r.weekEvent,r.tooltipPlacement,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDisabled,r.tooltipDelay,r.column,r.daysInWeek]))}},dependencies:[qn,fl,GN,KN,YN,ps,Up,K0,ms],encapsulation:2}),n})(),D6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,r){if(t&1&&Z(0,A5,3,13,"ng-template",null,0,yn)(2,x5,0,0,"ng-template",1),t&2){let i=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",zy(2,T5,r.segment,r.locale,r.segmentHeight,r.isTimeLabel,r.daysInWeek))}},dependencies:[zn,ht,qn,Bp,ms],encapsulation:2}),n})(),C6=(()=>{class n{constructor(t,r){this.dateAdapter=t,this.zone=r,this.columnDate$=new at(void 0),this.marker$=this.zone.onStable.pipe(Ft(()=>Og(60*1e3)),ko(0),Hg(this.columnDate$),oe(i=>{let o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayEndHour),this.dayEndMinute),a=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(i,c)&&c>=o&&c<=s,top:this.dateAdapter.differenceInMinutes(c,o)*a}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}}return n.\u0275fac=function(t){return new(t||n)(P(wi),P(Se))},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Kt],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,r){if(t&1&&(Z(0,N5,1,1,"ng-template",null,0,yn)(2,k5,0,0,"ng-template",1),Xe(3,"async"),Xe(4,"async")),t&2){let i,o=gt(1);O(2),F("ngTemplateOutlet",r.customTemplate||o)("ngTemplateOutletContext",FA(6,M5,r.columnDate,r.dayStartHour,r.dayStartMinute,r.dayEndHour,r.dayEndMinute,(i=qy(3,2,r.marker$))==null?null:i.isVisible,(i=qy(4,4,r.marker$))==null?null:i.top))}},dependencies:[ht,qn,ux],encapsulation:2}),n})(),X0=(()=>{class n{constructor(t,r,i,o,s){this.cdr=t,this.utils=r,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new J,this.eventClicked=new J,this.eventTimesChanged=new J,this.beforeViewRender=new J,this.hourSegmentClicked=new J,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=Y0,this.trackByHourSegment=c6,this.trackByHour=l6,this.trackByWeekAllDayEvent=u6,this.trackByWeekTimeEvent=d6,this.trackByHourColumn=(a,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(a,c)=>c.id,this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){let r=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,i=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.hourDuration||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek||t.minimumEventHeight;r&&this.refreshHeader(),t.events&&QN(this.events),i&&this.refreshBody(),(r||i)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&getComputedStyle(this.element.nativeElement).direction==="rtl",this.cdr.detectChanges()}timeEventResizeStarted(t,r,i){this.timeEventResizes.set(r.event,i),this.resizeStarted(t,r)}timeEventResizing(t,r){this.timeEventResizes.set(t.event,r);let i=new Map,o=[...this.events];this.timeEventResizes.forEach((s,a)=>{let c=this.getTimeEventResizedDates(a,s),u=B(B({},a),c);i.set(u,a);let d=o.indexOf(a);o[d]=u}),this.restoreOriginalEvents(o,i,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);let r=this.timeEventResizes.get(t.event);if(r){this.timeEventResizes.delete(t.event);let i=this.getTimeEventResizedDates(t.event,r);this.eventTimesChanged.emit({newStart:i.start,newEnd:i.end,event:t.event,type:fo.Resize})}}allDayEventResizeStarted(t,r,i){this.allDayEventResizes.set(r,{originalOffset:r.offset,originalSpan:r.span,edge:typeof i.edges.left<"u"?"left":"right"}),this.resizeStarted(t,r,this.getDayColumnWidth(t))}allDayEventResizing(t,r,i){let o=this.allDayEventResizes.get(t),s=this.rtl?-1:1;if(typeof r.edges.left<"u"){let a=Math.round(+r.edges.left/i)*s;t.offset=o.originalOffset+a,t.span=o.originalSpan-a}else if(typeof r.edges.right<"u"){let a=Math.round(+r.edges.right/i)*s;t.span=o.originalSpan+a}}allDayEventResizeEnded(t){let r=this.allDayEventResizes.get(t);if(r){let i=r.edge==="left",o;i?o=t.offset-r.originalOffset:o=t.span-r.originalSpan,t.offset=r.originalOffset,t.span=r.originalSpan;let s=this.getAllDayEventResizedDates(t.event,o,i);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:t.event,type:fo.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,r,i){m6(t,r,i,this.calendarId)&&this.lastDragEnterDate.getTime()===r.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:fo.Drop,event:t.dropData.event,newStart:r,allDay:i}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,r,i,o){this.dayColumnWidth=this.getDayColumnWidth(t);let s=new z0(t,r);this.validateDrag=({x:a,y:c,transform:u})=>{let d=this.allDayEventResizes.size===0&&this.timeEventResizes.size===0&&s.validateDrag({x:a,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:u});if(d&&this.validateEventTimesChanged){let f=this.getDragMovedEventTimes(i,{x:a,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:fo.Drag,event:i.event,newStart:f.start,newEnd:f.end})}return d},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(a=>{let c=a.events.find(u=>u.event===i.event&&u!==i);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(t,r){let i=this.getDragMovedEventTimes(t,r,this.dayColumnWidth,!0),o=t.event,s=B(B({},o),i),a=this.events.map(c=>c===o?s:c);this.restoreOriginalEvents(a,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,r,i,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;let{start:s,end:a}=this.getDragMovedEventTimes(t,r,i,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&p6(s,a,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:s,newEnd:a,event:t.event,type:fo.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(B({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},$0(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(B({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(B({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},$0(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,r,i,o){let s=ZN(r.x,i)/i*(this.rtl?-1:1),a=o?H0(r.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(fs(this.dateAdapter,t.event.start,s,this.excludeDays),a),u;return t.event.end&&(u=this.dateAdapter.addMinutes(fs(this.dateAdapter,t.event.end,s,this.excludeDays),a)),{start:c,end:u}}restoreOriginalEvents(t,r,i=!0){let o=this.view;i&&(this.view=this.getWeekView(t));let s=t.filter(a=>r.has(a));this.view.hourColumns.forEach((a,c)=>{o.hourColumns[c].hours.forEach((u,d)=>{u.segments.forEach((f,v)=>{a.hours[d].segments[v].cssClass=f.cssClass})}),s.forEach(u=>{let d=r.get(u),f=a.events.find(v=>v.event===(i?u:d));if(f)f.event=d,f.tempEvent=u,i||(f.height=0,f.width=0);else{let v={event:d,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:u};a.events.push(v)}})}),r.clear()}getTimeEventResizedDates(t,r){let i={start:t.start,end:HN(this.dateAdapter,t,this.minimumEventHeight)},u=t,{end:o}=u,s=ed(u,["end"]),a={start:this.dateAdapter.addMinutes(i.end,this.minimumEventHeight*-1),end:HN(this.dateAdapter,s,this.minimumEventHeight)},c=this.rtl?-1:1;if(typeof r.edges.left<"u"){let d=Math.round(+r.edges.left/this.dayColumnWidth)*c,f=fs(this.dateAdapter,i.start,d,this.excludeDays);f<a.start?i.start=f:i.start=a.start}else if(typeof r.edges.right<"u"){let d=Math.round(+r.edges.right/this.dayColumnWidth)*c,f=fs(this.dateAdapter,i.end,d,this.excludeDays);f>a.end?i.end=f:i.end=a.end}if(typeof r.edges.top<"u"){let d=H0(r.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(i.start,d);f<a.start?i.start=f:i.start=a.start}else if(typeof r.edges.bottom<"u"){let d=H0(r.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(i.end,d);f>a.end?i.end=f:i.end=a.end}return i}resizeStarted(t,r,i){this.dayColumnWidth=this.getDayColumnWidth(t);let o=new W0(t,i,this.rtl);this.validateResize=({rectangle:s,edges:a})=>{let c=o.validateResize({rectangle:B({},s),edges:a});if(c&&this.validateEventTimesChanged){let u;if(!i)u=this.getTimeEventResizedDates(r.event,{rectangle:s,edges:a});else{let d=this.rtl?-1:1;if(typeof a.left<"u"){let f=Math.round(+a.left/i)*d;u=this.getAllDayEventResizedDates(r.event,f,!this.rtl)}else{let f=Math.round(+a.right/i)*d;u=this.getAllDayEventResizedDates(r.event,f,this.rtl)}}return this.validateEventTimesChanged({type:fo.Resize,event:r.event,newStart:u.start,newEnd:u.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(t,r,i){let o=t.start,s=t.end||t.start;return i?o=fs(this.dateAdapter,o,r,this.excludeDays):s=fs(this.dateAdapter,s,r,this.excludeDays),{start:o,end:s}}}return n.\u0275fac=function(t){return new(t||n)(P(ur),P(Hp),P(lr),P(wi),P(et))},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Kt],decls:8,vars:9,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["weekEventTemplate",""],["role","grid",1,"cal-week-view"],[3,"dayHeaderClicked","eventDropped","dragEnter","days","locale","customTemplate"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column"],[4,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag"],[3,"ngTemplateOutlet"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","dragEnter","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel"]],template:function(t,r){if(t&1){let i=ze();M(0,"div",5)(1,"mwl-calendar-week-view-header",6),ae("dayHeaderClicked",function(s){return K(i),Y(r.dayHeaderClicked.emit(s))})("eventDropped",function(s){return K(i),Y(r.eventDropped({dropData:s},s.newStart,!0))})("dragEnter",function(s){return K(i),Y(r.dateDragEnter(s.date))}),R(),Z(2,G5,7,5,"div",7),M(3,"div",8),ae("dragEnter",function(){return K(i),Y(r.dragEnter("time"))})("dragLeave",function(){return K(i),Y(r.dragLeave("time"))}),Z(4,Q5,2,2,"div",9),M(5,"div",10,0),Z(7,i6,5,13,"div",11),R()()()}t&2&&(O(),F("days",r.days)("locale",r.locale)("customTemplate",r.headerTemplate),O(),F("ngIf",r.view.allDayEventRows.length>0),O(2),F("ngIf",r.view.hourColumns.length>0&&r.daysInWeek!==1),O(),mt("cal-resize-active",r.timeEventResizes.size>0),O(2),F("ngForOf",r.view.hourColumns)("ngForTrackBy",r.trackByHourColumn))},dependencies:[zn,Wn,ht,qn,U0,UN,Pp,Op,ps,E6,I6,D6,C6],encapsulation:2}),n})(),q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=bt({imports:[tt,B0,au,uu,B0,au]}),n})(),tk=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new J,this.hourSegmentClicked=new J,this.eventTimesChanged=new J,this.beforeViewRender=new J}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ne({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender","daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged"]],template:function(t,r){t&1&&(M(0,"mwl-calendar-week-view",0),ae("eventClicked",function(o){return r.eventClicked.emit(o)})("hourSegmentClicked",function(o){return r.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return r.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return r.beforeViewRender.emit(o)}),R()),t&2&&F("daysInWeek",1)("viewDate",r.viewDate)("events",r.events)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("minimumEventHeight",r.minimumEventHeight)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("refresh",r.refresh)("locale",r.locale)("eventSnapSize",r.eventSnapSize)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("resizeCursors",r.resizeCursors)("hourSegmentTemplate",r.hourSegmentTemplate)("eventTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("snapDraggedEvents",r.snapDraggedEvents)("allDayEventsLabelTemplate",r.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",r.currentTimeMarkerTemplate)("validateEventTimesChanged",r.validateEventTimesChanged)},dependencies:[X0],encapsulation:2}),n})(),zN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=bt({imports:[tt,uu,q0]}),n})(),Z0=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||lu,r.dateFormatter||Lp,r.utils||Hp,r.a11y||Vp]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Tt({type:n}),n.\u0275inj=bt({imports:[uu,$N,q0,zN,uu,$N,q0,zN]}),n})();var T6=Math.pow(10,8)*24*60*60*1e3,soe=-T6,nk=6048e5,rk=864e5,$p=6e4,ik=36e5;var S6=3600;var ok=S6*24,aoe=ok*7,A6=ok*365.2425,x6=A6/12,coe=x6*3,J0=Symbol.for("constructDateFrom");function Ze(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&J0 in n?n[J0](e):n instanceof Date?new n.constructor(e):new Date(e)}function ie(n,e){return Ze(e||n,n)}function za(n,e,t){let r=ie(n,t?.in);return isNaN(e)?Ze(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Wa(n,e,t){let r=ie(n,t?.in);if(isNaN(e))return Ze(t?.in||n,NaN);if(!e)return r;let i=r.getDate(),o=Ze(t?.in||n,r.getTime());o.setMonth(r.getMonth()+e+1,0);let s=o.getDate();return i>=s?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function zp(n,e,t){return Ze(t?.in||n,+ie(n)+e)}function sk(n,e,t){return zp(n,e*ik,t)}var M6={};function Wp(){return M6}function qp(n,e){let t=Wp(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=ie(n,e?.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function gs(n,e){return qp(n,ve(B({},e),{weekStartsOn:1}))}function ak(n,e){let t=ie(n,e?.in),r=t.getFullYear(),i=Ze(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let o=gs(i),s=Ze(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let a=gs(s);return t.getTime()>=o.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function eE(n){let e=ie(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function po(n,...e){let t=Ze.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function mo(n,e){let t=ie(n,e?.in);return t.setHours(0,0,0,0),t}function ck(n,e,t){let[r,i]=po(t?.in,n,e),o=mo(r),s=mo(i),a=+o-eE(o),c=+s-eE(s);return Math.round((a-c)/rk)}function lk(n,e){let t=ak(n,e),r=Ze(e?.in||n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),gs(r)}function uk(n,e,t){let r=ie(n,t?.in);return r.setTime(r.getTime()+e*$p),r}function dk(n,e,t){return zp(n,e*1e3,t)}function Gp(n,e,t){return za(n,e*7,t)}function hk(n,e){let t,r=e?.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Ze.bind(null,i));let o=ie(i,r);(!t||t<o||isNaN(+o))&&(t=o)}),Ze(r,t||NaN)}function fk(n,e,t){let[r,i]=po(t?.in,n,e);return+mo(r)==+mo(i)}function mk(n,e,t){let[r,i]=po(t?.in,n,e),o=pk(r,i),s=Math.abs(ck(r,i));r.setDate(r.getDate()-o*s);let a=+(pk(r,i)===-o),c=o*(s-a);return c===0?0:c}function pk(n,e){let t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Kp(n){return e=>{let r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function Yp(n,e){return+ie(n)-+ie(e)}function gk(n,e,t){let r=Yp(n,e)/$p;return Kp(t?.roundingMethod)(r)}function vk(n,e){let t=ie(n,e?.in);return t.setHours(23,59,59,999),t}function yk(n,e){let t=ie(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _k(n,e,t){let r=Yp(n,e)/1e3;return Kp(t?.roundingMethod)(r)}function wk(n,e){let t=ie(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Ek(n,e){let t=Wp(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=ie(n,e?.in),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function Ik(n,e){let t=ie(n,e?.in),r=+gs(t)-+lk(t);return Math.round(r/nk)+1}function Dk(n,e){return ie(n,e?.in).getDate()}function Ck(n,e){return ie(n,e?.in).getDay()}function bk(n,e){let t=ie(n,e?.in),r=t.getFullYear(),i=t.getMonth(),o=Ze(t,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function Tk(n,e){return ie(n,e?.in).getHours()}function Sk(n,e){return ie(n,e?.in).getMinutes()}function Ak(n,e){return ie(n,e?.in).getMonth()}function xk(n,e){return ie(n,e?.in).getFullYear()}function Mk(n,e){let t=ie(n,e?.in);return t.setSeconds(0,0),t}function Rk(n,e,t){let[r,i]=po(t?.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function tE(n,e){let t=ie(n,e?.in);return t.setMilliseconds(0),t}function Nk(n,e){return+tE(n)==+tE(e)}function kk(n,e,t){return za(n,-e,t)}function Pk(n,e,t){let r=ie(n,t?.in),i=r.getFullYear(),o=r.getDate(),s=Ze(t?.in||n,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);let a=bk(s);return r.setMonth(e,Math.min(o,a)),r}function Ok(n,e,t){let r=ie(n,t?.in);return r.setDate(e),r}function Fk(n,e,t){let r=ie(n,t?.in);return r.setHours(e),r}function Vk(n,e,t){let r=ie(n,t?.in);return r.setMinutes(e),r}function Lk(n,e,t){let r=ie(n,t?.in);return isNaN(+r)?Ze(t?.in||n,NaN):(r.setFullYear(e),r)}function Qp(n,e,t){return Wa(n,-e,t)}function jk(n,e,t){return Gp(n,-e,t)}function R6(n){return new Date(n).getTimezoneOffset()}function Uk(){return{addDays:za,addHours:sk,addMinutes:uk,addSeconds:dk,differenceInDays:mk,differenceInMinutes:gk,differenceInSeconds:_k,endOfDay:vk,endOfMonth:yk,endOfWeek:Ek,getDay:Ck,getMonth:Ak,isSameDay:fk,isSameMonth:Rk,isSameSecond:Nk,max:hk,setHours:Fk,setMinutes:Vk,startOfDay:mo,startOfMinute:Mk,startOfMonth:wk,startOfWeek:qp,getHours:Tk,getMinutes:Sk,getTimezoneOffset:R6}}function Bk(){return Lc(Lc({},Uk()),{addWeeks:Gp,addMonths:Wa,subDays:kk,subWeeks:jk,subMonths:Qp,getISOWeek:Ik,setDate:Ok,setMonth:Pk,setYear:Lk,getDate:Dk,getYear:xk})}var Hk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tt({type:n});static \u0275inj=bt({imports:[tt,Z0.forRoot({provide:wi,useFactory:Bk}),Z0]})}return n})();var $k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zk={};var go,nE;(function(){var n;function e(T,y){function _(){}_.prototype=y.prototype,T.D=y.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(b,w,C){for(var E=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)E[Ae-2]=arguments[Ae];return y.prototype[w].apply(b,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,_){_||(_=0);var b=Array(16);if(typeof y=="string")for(var w=0;16>w;++w)b[w]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(w=0;16>w;++w)b[w]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=T.g[0],_=T.g[1],w=T.g[2];var C=T.g[3],E=y+(C^_&(w^C))+b[0]+3614090360&4294967295;y=_+(E<<7&4294967295|E>>>25),E=C+(w^y&(_^w))+b[1]+3905402710&4294967295,C=y+(E<<12&4294967295|E>>>20),E=w+(_^C&(y^_))+b[2]+606105819&4294967295,w=C+(E<<17&4294967295|E>>>15),E=_+(y^w&(C^y))+b[3]+3250441966&4294967295,_=w+(E<<22&4294967295|E>>>10),E=y+(C^_&(w^C))+b[4]+4118548399&4294967295,y=_+(E<<7&4294967295|E>>>25),E=C+(w^y&(_^w))+b[5]+1200080426&4294967295,C=y+(E<<12&4294967295|E>>>20),E=w+(_^C&(y^_))+b[6]+2821735955&4294967295,w=C+(E<<17&4294967295|E>>>15),E=_+(y^w&(C^y))+b[7]+4249261313&4294967295,_=w+(E<<22&4294967295|E>>>10),E=y+(C^_&(w^C))+b[8]+1770035416&4294967295,y=_+(E<<7&4294967295|E>>>25),E=C+(w^y&(_^w))+b[9]+2336552879&4294967295,C=y+(E<<12&4294967295|E>>>20),E=w+(_^C&(y^_))+b[10]+4294925233&4294967295,w=C+(E<<17&4294967295|E>>>15),E=_+(y^w&(C^y))+b[11]+2304563134&4294967295,_=w+(E<<22&4294967295|E>>>10),E=y+(C^_&(w^C))+b[12]+1804603682&4294967295,y=_+(E<<7&4294967295|E>>>25),E=C+(w^y&(_^w))+b[13]+4254626195&4294967295,C=y+(E<<12&4294967295|E>>>20),E=w+(_^C&(y^_))+b[14]+2792965006&4294967295,w=C+(E<<17&4294967295|E>>>15),E=_+(y^w&(C^y))+b[15]+1236535329&4294967295,_=w+(E<<22&4294967295|E>>>10),E=y+(w^C&(_^w))+b[1]+4129170786&4294967295,y=_+(E<<5&4294967295|E>>>27),E=C+(_^w&(y^_))+b[6]+3225465664&4294967295,C=y+(E<<9&4294967295|E>>>23),E=w+(y^_&(C^y))+b[11]+643717713&4294967295,w=C+(E<<14&4294967295|E>>>18),E=_+(C^y&(w^C))+b[0]+3921069994&4294967295,_=w+(E<<20&4294967295|E>>>12),E=y+(w^C&(_^w))+b[5]+3593408605&4294967295,y=_+(E<<5&4294967295|E>>>27),E=C+(_^w&(y^_))+b[10]+38016083&4294967295,C=y+(E<<9&4294967295|E>>>23),E=w+(y^_&(C^y))+b[15]+3634488961&4294967295,w=C+(E<<14&4294967295|E>>>18),E=_+(C^y&(w^C))+b[4]+3889429448&4294967295,_=w+(E<<20&4294967295|E>>>12),E=y+(w^C&(_^w))+b[9]+568446438&4294967295,y=_+(E<<5&4294967295|E>>>27),E=C+(_^w&(y^_))+b[14]+3275163606&4294967295,C=y+(E<<9&4294967295|E>>>23),E=w+(y^_&(C^y))+b[3]+4107603335&4294967295,w=C+(E<<14&4294967295|E>>>18),E=_+(C^y&(w^C))+b[8]+1163531501&4294967295,_=w+(E<<20&4294967295|E>>>12),E=y+(w^C&(_^w))+b[13]+2850285829&4294967295,y=_+(E<<5&4294967295|E>>>27),E=C+(_^w&(y^_))+b[2]+4243563512&4294967295,C=y+(E<<9&4294967295|E>>>23),E=w+(y^_&(C^y))+b[7]+1735328473&4294967295,w=C+(E<<14&4294967295|E>>>18),E=_+(C^y&(w^C))+b[12]+2368359562&4294967295,_=w+(E<<20&4294967295|E>>>12),E=y+(_^w^C)+b[5]+4294588738&4294967295,y=_+(E<<4&4294967295|E>>>28),E=C+(y^_^w)+b[8]+2272392833&4294967295,C=y+(E<<11&4294967295|E>>>21),E=w+(C^y^_)+b[11]+1839030562&4294967295,w=C+(E<<16&4294967295|E>>>16),E=_+(w^C^y)+b[14]+4259657740&4294967295,_=w+(E<<23&4294967295|E>>>9),E=y+(_^w^C)+b[1]+2763975236&4294967295,y=_+(E<<4&4294967295|E>>>28),E=C+(y^_^w)+b[4]+1272893353&4294967295,C=y+(E<<11&4294967295|E>>>21),E=w+(C^y^_)+b[7]+4139469664&4294967295,w=C+(E<<16&4294967295|E>>>16),E=_+(w^C^y)+b[10]+3200236656&4294967295,_=w+(E<<23&4294967295|E>>>9),E=y+(_^w^C)+b[13]+681279174&4294967295,y=_+(E<<4&4294967295|E>>>28),E=C+(y^_^w)+b[0]+3936430074&4294967295,C=y+(E<<11&4294967295|E>>>21),E=w+(C^y^_)+b[3]+3572445317&4294967295,w=C+(E<<16&4294967295|E>>>16),E=_+(w^C^y)+b[6]+76029189&4294967295,_=w+(E<<23&4294967295|E>>>9),E=y+(_^w^C)+b[9]+3654602809&4294967295,y=_+(E<<4&4294967295|E>>>28),E=C+(y^_^w)+b[12]+3873151461&4294967295,C=y+(E<<11&4294967295|E>>>21),E=w+(C^y^_)+b[15]+530742520&4294967295,w=C+(E<<16&4294967295|E>>>16),E=_+(w^C^y)+b[2]+3299628645&4294967295,_=w+(E<<23&4294967295|E>>>9),E=y+(w^(_|~C))+b[0]+4096336452&4294967295,y=_+(E<<6&4294967295|E>>>26),E=C+(_^(y|~w))+b[7]+1126891415&4294967295,C=y+(E<<10&4294967295|E>>>22),E=w+(y^(C|~_))+b[14]+2878612391&4294967295,w=C+(E<<15&4294967295|E>>>17),E=_+(C^(w|~y))+b[5]+4237533241&4294967295,_=w+(E<<21&4294967295|E>>>11),E=y+(w^(_|~C))+b[12]+1700485571&4294967295,y=_+(E<<6&4294967295|E>>>26),E=C+(_^(y|~w))+b[3]+2399980690&4294967295,C=y+(E<<10&4294967295|E>>>22),E=w+(y^(C|~_))+b[10]+4293915773&4294967295,w=C+(E<<15&4294967295|E>>>17),E=_+(C^(w|~y))+b[1]+2240044497&4294967295,_=w+(E<<21&4294967295|E>>>11),E=y+(w^(_|~C))+b[8]+1873313359&4294967295,y=_+(E<<6&4294967295|E>>>26),E=C+(_^(y|~w))+b[15]+4264355552&4294967295,C=y+(E<<10&4294967295|E>>>22),E=w+(y^(C|~_))+b[6]+2734768916&4294967295,w=C+(E<<15&4294967295|E>>>17),E=_+(C^(w|~y))+b[13]+1309151649&4294967295,_=w+(E<<21&4294967295|E>>>11),E=y+(w^(_|~C))+b[4]+4149444226&4294967295,y=_+(E<<6&4294967295|E>>>26),E=C+(_^(y|~w))+b[11]+3174756917&4294967295,C=y+(E<<10&4294967295|E>>>22),E=w+(y^(C|~_))+b[2]+718787259&4294967295,w=C+(E<<15&4294967295|E>>>17),E=_+(C^(w|~y))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(w+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+w&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var _=y-this.blockSize,b=this.B,w=this.h,C=0;C<y;){if(w==0)for(;C<=_;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<y;)if(b[w++]=T.charCodeAt(C++),w==this.blockSize){i(this,b),w=0;break}}else for(;C<y;)if(b[w++]=T[C++],w==this.blockSize){i(this,b),w=0;break}}this.h=w,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var _=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=_&255,_/=256;for(this.u(T),T=Array(16),y=_=0;4>y;++y)for(var b=0;32>b;b+=8)T[_++]=this.g[y]>>>b&255;return T};function o(T,y){var _=a;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=y(T)}function s(T,y){this.h=y;for(var _=[],b=!0,w=T.length-1;0<=w;w--){var C=T[w]|0;b&&C==y||(_[w]=C,b=!1)}this.g=_}var a={};function c(T){return-128<=T&&128>T?o(T,function(y){return new s([y|0],0>y?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return S(u(-T));for(var y=[],_=1,b=0;T>=_;b++)y[b]=T/_|0,_*=4294967296;return new s(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return S(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(y,8)),b=f,w=0;w<T.length;w+=8){var C=Math.min(8,T.length-w),E=parseInt(T.substring(w,w+C),y);8>C?(C=u(Math.pow(y,C)),b=b.j(C).add(u(E))):(b=b.j(_),b=b.add(u(E)))}return b}var f=c(0),v=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(x(this))return-S(this).m();for(var T=0,y=1,_=0;_<this.g.length;_++){var b=this.i(_);T+=(0<=b?b:4294967296+b)*y,y*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D(this))return"0";if(x(this))return"-"+S(this).toString(T);for(var y=u(Math.pow(T,6)),_=this,b="";;){var w=W(_,y).g;_=k(_,w.j(y));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=w,D(_))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function D(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function x(T){return T.h==-1}n.l=function(T){return T=k(this,T),x(T)?-1:D(T)?0:1};function S(T){for(var y=T.g.length,_=[],b=0;b<y;b++)_[b]=~T.g[b];return new s(_,~T.h).add(v)}n.abs=function(){return x(this)?S(this):this},n.add=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0,w=0;w<=y;w++){var C=b+(this.i(w)&65535)+(T.i(w)&65535),E=(C>>>16)+(this.i(w)>>>16)+(T.i(w)>>>16);b=E>>>16,C&=65535,E&=65535,_[w]=E<<16|C}return new s(_,_[_.length-1]&-2147483648?-1:0)};function k(T,y){return T.add(S(y))}n.j=function(T){if(D(this)||D(T))return f;if(x(this))return x(T)?S(this).j(S(T)):S(S(this).j(T));if(x(T))return S(this.j(S(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var y=this.g.length+T.g.length,_=[],b=0;b<2*y;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var w=0;w<T.g.length;w++){var C=this.i(b)>>>16,E=this.i(b)&65535,Ae=T.i(w)>>>16,Wr=T.i(w)&65535;_[2*b+2*w]+=E*Wr,j(_,2*b+2*w),_[2*b+2*w+1]+=C*Wr,j(_,2*b+2*w+1),_[2*b+2*w+1]+=E*Ae,j(_,2*b+2*w+1),_[2*b+2*w+2]+=C*Ae,j(_,2*b+2*w+2)}for(b=0;b<y;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=y;b<2*y;b++)_[b]=0;return new s(_,0)};function j(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function U(T,y){this.g=T,this.h=y}function W(T,y){if(D(y))throw Error("division by zero");if(D(T))return new U(f,f);if(x(T))return y=W(S(T),y),new U(S(y.g),S(y.h));if(x(y))return y=W(T,S(y)),new U(S(y.g),y.h);if(30<T.g.length){if(x(T)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var _=v,b=y;0>=b.l(T);)_=re(_),b=re(b);var w=G(_,1),C=G(b,1);for(b=G(b,2),_=G(_,2);!D(b);){var E=C.add(b);0>=E.l(T)&&(w=w.add(_),C=E),b=G(b,1),_=G(_,1)}return y=k(T,w.j(y)),new U(w,y)}for(w=f;0<=T.l(y);){for(_=Math.max(1,Math.floor(T.m()/y.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=u(_),E=C.j(y);x(E)||0<E.l(T);)_-=b,C=u(_),E=C.j(y);D(C)&&(C=v),w=w.add(C),T=k(T,E)}return new U(w,T)}n.A=function(T){return W(this,T).h},n.and=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)&T.i(b);return new s(_,this.h&T.h)},n.or=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)|T.i(b);return new s(_,this.h|T.h)},n.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],b=0;b<y;b++)_[b]=this.i(b)^T.i(b);return new s(_,this.h^T.h)};function re(T){for(var y=T.g.length+1,_=[],b=0;b<y;b++)_[b]=T.i(b)<<1|T.i(b-1)>>>31;return new s(_,T.h)}function G(T,y){var _=y>>5;y%=32;for(var b=T.g.length-_,w=[],C=0;C<b;C++)w[C]=0<y?T.i(C+_)>>>y|T.i(C+_+1)<<32-y:T.i(C+_);return new s(w,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nE=zk.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,go=zk.Integer=s}).apply(typeof $k<"u"?$k:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ei={};var rE,N6,qa,iE,du,Zp,oE,sE,aE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var A=l[g];if(!(A in p))break e;p=p[A]}l=l[l.length-1],g=p[l],h=h(g),h!=g&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,g=!1,A={next:function(){if(!g&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),l.apply(h,A)}}return function(){return l.apply(h,arguments)}}function v(l,h,p){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,v.apply(null,arguments)}function m(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function D(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,A,N){for(var q=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)q[Be-2]=arguments[Be];return h.prototype[A].apply(g,q)}}function x(l){let h=l.length;if(0<h){let p=Array(h);for(let g=0;g<h;g++)p[g]=l[g];return p}return[]}function S(l,h){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let A=l.length||0,N=g.length||0;l.length=A+N;for(let q=0;q<N;q++)l[A+q]=g[q]}else l.push(g)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function j(l){return/^[\s\xa0]*$/.test(l)}function U(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function W(l){return W[" "](l),l}W[" "]=function(){};var re=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function G(l,h,p){for(let g in l)h.call(p,l[g],g,l)}function T(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function y(l){let h={};for(let p in l)h[p]=l[p];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,h){let p,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(p in g)l[p]=g[p];for(let N=0;N<_.length;N++)p=_[N],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function w(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function C(l){a.setTimeout(()=>{throw l},0)}function E(){var l=ft;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Ae{constructor(){this.h=this.g=null}add(h,p){let g=Wr.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Wr=new k(()=>new mc,l=>l.reset());class mc{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let _r,qr=!1,ft=new Ae,Gr=()=>{let l=a.Promise.resolve(void 0);_r=()=>{l.then(wn)}};var wn=()=>{for(var l;l=E();){try{l.h.call(l.g)}catch(p){C(p)}var h=Wr;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}qr=!1};function Pn(){this.s=this.s,this.C=this.C}Pn.prototype.s=!1,Pn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var gc=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Si(l,h){if(At.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(re){e:{try{W(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:$m[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Si.aa.h.call(this)}}D(Si,At);var $m={2:"touch",3:"pen",4:"mouse"};Si.prototype.h=function(){Si.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),i1=0;function o1(l,h,p,g,A){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=A,this.key=++i1,this.da=this.fa=!1}function Fu(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Vu(l){this.src=l,this.g={},this.h=0}Vu.prototype.add=function(l,h,p,g,A){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var q=Wm(l,h,g,A);return-1<q?(h=l[q],p||(h.fa=!1)):(h=new o1(h,this.src,N,!!g,A),h.fa=p,l.push(h)),h};function zm(l,h){var p=h.type;if(p in l.g){var g=l.g[p],A=Array.prototype.indexOf.call(g,h,void 0),N;(N=0<=A)&&Array.prototype.splice.call(g,A,1),N&&(Fu(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Wm(l,h,p,g){for(var A=0;A<l.length;++A){var N=l[A];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==g)return A}return-1}var qm="closure_lm_"+(1e6*Math.random()|0),Gm={};function fD(l,h,p,g,A){if(g&&g.once)return mD(l,h,p,g,A);if(Array.isArray(h)){for(var N=0;N<h.length;N++)fD(l,h[N],p,g,A);return null}return p=Xm(p),l&&l[vc]?l.K(h,p,u(g)?!!g.capture:!!g,A):pD(l,h,p,!1,g,A)}function pD(l,h,p,g,A,N){if(!h)throw Error("Invalid event type");var q=u(A)?!!A.capture:!!A,Be=Ym(l);if(Be||(l[qm]=Be=new Vu(l)),p=Be.add(h,p,g,q,N),p.proxy)return p;if(g=s1(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)gc||(A=q),A===void 0&&(A=!1),l.addEventListener(h.toString(),g,A);else if(l.attachEvent)l.attachEvent(vD(h.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function s1(){function l(p){return h.call(l.src,l.listener,p)}let h=a1;return l}function mD(l,h,p,g,A){if(Array.isArray(h)){for(var N=0;N<h.length;N++)mD(l,h[N],p,g,A);return null}return p=Xm(p),l&&l[vc]?l.L(h,p,u(g)?!!g.capture:!!g,A):pD(l,h,p,!0,g,A)}function gD(l,h,p,g,A){if(Array.isArray(h))for(var N=0;N<h.length;N++)gD(l,h[N],p,g,A);else g=u(g)?!!g.capture:!!g,p=Xm(p),l&&l[vc]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=Wm(N,p,g,A),-1<p&&(Fu(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Ym(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Wm(h,p,g,A)),(p=-1<l?h[l]:null)&&Km(p))}function Km(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[vc])zm(h.i,l);else{var p=l.type,g=l.proxy;h.removeEventListener?h.removeEventListener(p,g,l.capture):h.detachEvent?h.detachEvent(vD(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=Ym(h))?(zm(p,l),p.h==0&&(p.src=null,h[qm]=null)):Fu(l)}}}function vD(l){return l in Gm?Gm[l]:Gm[l]="on"+l}function a1(l,h){if(l.da)l=!0;else{h=new Si(h,this);var p=l.listener,g=l.ha||l.src;l.fa&&Km(l),l=p.call(g,h)}return l}function Ym(l){return l=l[qm],l instanceof Vu?l:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(l){return typeof l=="function"?l:(l[Qm]||(l[Qm]=function(h){return l.handleEvent(h)}),l[Qm])}function Ht(){Pn.call(this),this.i=new Vu(this),this.M=this,this.F=null}D(Ht,Pn),Ht.prototype[vc]=!0,Ht.prototype.removeEventListener=function(l,h,p,g){gD(this,l,h,p,g)};function nn(l,h){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=h.type||h,typeof h=="string")h=new At(h,l);else if(h instanceof At)h.target=h.target||l;else{var A=h;h=new At(g,l),b(h,A)}if(A=!0,p)for(var N=p.length-1;0<=N;N--){var q=h.g=p[N];A=Lu(q,g,!0,h)&&A}if(q=h.g=l,A=Lu(q,g,!0,h)&&A,A=Lu(q,g,!1,h)&&A,p)for(N=0;N<p.length;N++)q=h.g=p[N],A=Lu(q,g,!1,h)&&A}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],g=0;g<p.length;g++)Fu(p[g]);delete l.g[h],l.h--}}this.F=null},Ht.prototype.K=function(l,h,p,g){return this.i.add(String(l),h,!1,p,g)},Ht.prototype.L=function(l,h,p,g){return this.i.add(String(l),h,!0,p,g)};function Lu(l,h,p,g){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,N=0;N<h.length;++N){var q=h[N];if(q&&!q.da&&q.capture==p){var Be=q.listener,Ot=q.ha||q.src;q.fa&&zm(l.i,q),A=Be.call(Ot,g)!==!1&&A}}return A&&!g.defaultPrevented}function yD(l,h,p){if(typeof l=="function")p&&(l=v(l,p));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function _D(l){l.g=yD(()=>{l.g=null,l.i&&(l.i=!1,_D(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class c1 extends Pn{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:_D(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yc(l){Pn.call(this),this.h=l,this.g={}}D(yc,Pn);var wD=[];function ED(l){G(l.g,function(h,p){this.g.hasOwnProperty(p)&&Km(h)},l),l.g={}}yc.prototype.N=function(){yc.aa.N.call(this),ED(this)},yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zm=a.JSON.stringify,l1=a.JSON.parse,u1=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Jm(){}Jm.prototype.h=null;function ID(l){return l.h||(l.h=l.i())}function DD(){}var _c={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eg(){At.call(this,"d")}D(eg,At);function tg(){At.call(this,"c")}D(tg,At);var Co={},CD=null;function ju(){return CD=CD||new Ht}Co.La="serverreachability";function bD(l){At.call(this,Co.La,l)}D(bD,At);function wc(l){let h=ju();nn(h,new bD(h))}Co.STAT_EVENT="statevent";function TD(l,h){At.call(this,Co.STAT_EVENT,l),this.stat=h}D(TD,At);function rn(l){let h=ju();nn(h,new TD(h,l))}Co.Ma="timingevent";function SD(l,h){At.call(this,Co.Ma,l),this.size=h}D(SD,At);function Ec(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ic(){this.g=!0}Ic.prototype.xa=function(){this.g=!1};function d1(l,h,p,g,A,N){l.info(function(){if(l.g)if(N)for(var q="",Be=N.split("&"),Ot=0;Ot<Be.length;Ot++){var Oe=Be[Ot].split("=");if(1<Oe.length){var $t=Oe[0];Oe=Oe[1];var zt=$t.split("_");q=2<=zt.length&&zt[1]=="type"?q+($t+"="+Oe+"&"):q+($t+"=redacted&")}}else q=null;else q=N;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+h+`
`+p+`
`+q})}function h1(l,h,p,g,A,N,q){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+h+`
`+p+`
`+N+" "+q})}function Ms(l,h,p,g){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+p1(l,p)+(g?" "+g:"")})}function f1(l,h){l.info(function(){return"TIMEOUT: "+h})}Ic.prototype.info=function(){};function p1(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var N=A[0];if(N!="noop"&&N!="stop"&&N!="close")for(var q=1;q<A.length;q++)A[q]=""}}}}return Zm(p)}catch{return h}}var Uu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},AD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ng;function Bu(){}D(Bu,Jm),Bu.prototype.g=function(){return new XMLHttpRequest},Bu.prototype.i=function(){return{}},ng=new Bu;function Ai(l,h,p,g){this.j=l,this.i=h,this.l=p,this.R=g||1,this.U=new yc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xD}function xD(){this.i=null,this.g="",this.h=!1}var MD={},rg={};function ig(l,h,p){l.L=1,l.v=Wu(Kr(h)),l.m=p,l.P=!0,RD(l,null)}function RD(l,h){l.F=Date.now(),Hu(l),l.A=Kr(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),WD(p.i,"t",g),l.C=0,p=l.j.J,l.h=new xD,l.g=lC(l.j,p?h:null,!l.m),0<l.O&&(l.M=new c1(v(l.Y,l,l.g),l.O)),h=l.U,p=l.g,g=l.ca;var A="readystatechange";Array.isArray(A)||(A&&(wD[0]=A.toString()),A=wD);for(var N=0;N<A.length;N++){var q=fD(p,A[N],g||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),wc(),d1(l.i,l.u,l.A,l.l,l.R,l.m)}Ai.prototype.ca=function(l){l=l.target;let h=this.M;h&&Yr(l)==3?h.j():this.Y(l)},Ai.prototype.Y=function(l){try{if(l==this.g)e:{let zt=Yr(this.g);var h=this.g.Ba();let ks=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||ZD(this.g)))){this.J||zt!=4||h==7||(h==8||0>=ks?wc(3):wc(2)),og(this);var p=this.g.Z();this.X=p;t:if(ND(this)){var g=ZD(this.g);l="";var A=g.length,N=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bo(this),Dc(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,l+=this.h.i.decode(g[h],{stream:!(N&&h==A-1)});g.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,h1(this.i,this.u,this.A,this.l,this.R,zt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ot=this.g;if((Be=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Be)){var Oe=Be;break t}}Oe=null}if(p=Oe)Ms(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sg(this,p);else{this.o=!1,this.s=3,rn(12),bo(this),Dc(this);break e}}if(this.P){p=!0;let Xn;for(;!this.J&&this.C<q.length;)if(Xn=m1(this,q),Xn==rg){zt==4&&(this.s=4,rn(14),p=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==MD){this.s=4,rn(15),Ms(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else Ms(this.i,this.l,Xn,null),sg(this,Xn);if(ND(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||q.length!=0||this.h.h||(this.s=1,rn(16),p=!1),this.o=this.o&&p,!p)Ms(this.i,this.l,q,"[Invalid Chunked Response]"),bo(this),Dc(this);else if(0<q.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),hg($t),$t.M=!0,rn(11))}}else Ms(this.i,this.l,q,null),sg(this,q);zt==4&&bo(this),this.o&&!this.J&&(zt==4?oC(this.j,this):(this.o=!1,Hu(this)))}else N1(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),bo(this),Dc(this)}}}catch{}finally{}};function ND(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function m1(l,h){var p=l.C,g=h.indexOf(`
`,p);return g==-1?rg:(p=Number(h.substring(p,g)),isNaN(p)?MD:(g+=1,g+p>h.length?rg:(h=h.slice(g,g+p),l.C=g+p,h)))}Ai.prototype.cancel=function(){this.J=!0,bo(this)};function Hu(l){l.S=Date.now()+l.I,kD(l,l.I)}function kD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ec(v(l.ba,l),h)}function og(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ai.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(f1(this.i,this.A),this.L!=2&&(wc(),rn(17)),bo(this),this.s=2,Dc(this)):kD(this,this.S-l)};function Dc(l){l.j.G==0||l.J||oC(l.j,l)}function bo(l){og(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,ED(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function sg(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||ag(p.h,l))){if(!l.K&&ag(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Qu(p),Ku(p);else break e;dg(p),rn(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ec(v(p.Za,p),6e3));if(1>=FD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else So(p,11)}else if((l.K||p.g==l)&&Qu(p),!j(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Oe=A[h];if(p.T=Oe[0],Oe=Oe[1],p.G==2)if(Oe[0]=="c"){p.K=Oe[1],p.ia=Oe[2];let $t=Oe[3];$t!=null&&(p.la=$t,p.j.info("VER="+p.la));let zt=Oe[4];zt!=null&&(p.Aa=zt,p.j.info("SVER="+p.Aa));let ks=Oe[5];ks!=null&&typeof ks=="number"&&0<ks&&(g=1.5*ks,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let Xn=l.g;if(Xn){let Zu=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zu){var N=g.h;N.g||Zu.indexOf("spdy")==-1&&Zu.indexOf("quic")==-1&&Zu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(cg(N,N.h),N.h=null))}if(g.D){let fg=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;fg&&(g.ya=fg,Ke(g.I,g.D,fg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var q=l;if(g.qa=cC(g,g.J?g.ia:null,g.W),q.K){VD(g.h,q);var Be=q,Ot=g.L;Ot&&(Be.I=Ot),Be.B&&(og(Be),Hu(Be)),g.g=q}else rC(g);0<p.i.length&&Yu(p)}else Oe[0]!="stop"&&Oe[0]!="close"||So(p,7);else p.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?So(p,7):ug(p):Oe[0]!="noop"&&p.l&&p.l.ta(Oe),p.v=0)}}wc(4)}catch{}}var g1=class{constructor(l,h){this.g=l,this.map=h}};function PD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function OD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function FD(l){return l.h?1:l.g?l.g.size:0}function ag(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function cg(l,h){l.g?l.g.add(h):l.h=h}function VD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}PD.prototype.cancel=function(){if(this.i=LD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function LD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return x(l.i)}function v1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,g=0;g<p;g++)h.push(l[g]);return h}h=[],p=0;for(g in l)h[p++]=l[g];return h}function y1(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let g in l)h[p++]=g;return h}}}function jD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=y1(l),g=v1(l),A=g.length,N=0;N<A;N++)h.call(void 0,g[N],p&&p[N],l)}var UD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _1(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),A=null;if(0<=g){var N=l[p].substring(0,g);A=l[p].substring(g+1)}else N=l[p];h(N,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function To(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof To){this.h=l.h,$u(this,l.j),this.o=l.o,this.g=l.g,zu(this,l.s),this.l=l.l;var h=l.i,p=new Tc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),BD(this,p),this.m=l.m}else l&&(h=String(l).match(UD))?(this.h=!1,$u(this,h[1]||"",!0),this.o=Cc(h[2]||""),this.g=Cc(h[3]||"",!0),zu(this,h[4]),this.l=Cc(h[5]||"",!0),BD(this,h[6]||"",!0),this.m=Cc(h[7]||"")):(this.h=!1,this.i=new Tc(null,this.h))}To.prototype.toString=function(){var l=[],h=this.j;h&&l.push(bc(h,HD,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(bc(h,HD,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(bc(p,p.charAt(0)=="/"?I1:E1,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",bc(p,C1)),l.join("")};function Kr(l){return new To(l)}function $u(l,h,p){l.j=p?Cc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function zu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function BD(l,h,p){h instanceof Tc?(l.i=h,b1(l.i,l.h)):(p||(h=bc(h,D1)),l.i=new Tc(h,l.h))}function Ke(l,h,p){l.i.set(h,p)}function Wu(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Cc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function bc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,w1),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function w1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var HD=/[#\/\?@]/g,E1=/[#\?:]/g,I1=/[#\?]/g,D1=/[#\?@]/g,C1=/#/g;function Tc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function xi(l){l.g||(l.g=new Map,l.h=0,l.i&&_1(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Tc.prototype,n.add=function(l,h){xi(this),this.i=null,l=Rs(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function $D(l,h){xi(l),h=Rs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function zD(l,h){return xi(l),h=Rs(l,h),l.g.has(h)}n.forEach=function(l,h){xi(this),this.g.forEach(function(p,g){p.forEach(function(A){l.call(h,A,g,this)},this)},this)},n.na=function(){xi(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){let A=l[g];for(let N=0;N<A.length;N++)p.push(h[g])}return p},n.V=function(l){xi(this);let h=[];if(typeof l=="string")zD(this,l)&&(h=h.concat(this.g.get(Rs(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return xi(this),this.i=null,l=Rs(this,l),zD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function WD(l,h,p){$D(l,h),0<p.length&&(l.i=null,l.g.set(Rs(l,h),x(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];let N=encodeURIComponent(String(g)),q=this.V(g);for(g=0;g<q.length;g++){var A=N;q[g]!==""&&(A+="="+encodeURIComponent(String(q[g]))),l.push(A)}}return this.i=l.join("&")};function Rs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function b1(l,h){h&&!l.j&&(xi(l),l.i=null,l.g.forEach(function(p,g){var A=g.toLowerCase();g!=A&&($D(this,g),WD(this,A,p))},l)),l.j=h}function T1(l,h){let p=new Ic;if(a.Image){let g=new Image;g.onload=m(Mi,p,"TestLoadImage: loaded",!0,h,g),g.onerror=m(Mi,p,"TestLoadImage: error",!1,h,g),g.onabort=m(Mi,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=m(Mi,p,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else h(!1)}function S1(l,h){let p=new Ic,g=new AbortController,A=setTimeout(()=>{g.abort(),Mi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:g.signal}).then(N=>{clearTimeout(A),N.ok?Mi(p,"TestPingServer: ok",!0,h):Mi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),Mi(p,"TestPingServer: error",!1,h)})}function Mi(l,h,p,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(p)}catch{}}function A1(){this.g=new u1}function x1(l,h,p){let g=p||"";try{jD(l,function(A,N){let q=A;u(A)&&(q=Zm(A)),h.push(g+N+"="+encodeURIComponent(q))})}catch(A){throw h.push(g+"type="+encodeURIComponent("_badmap")),A}}function Sc(l){this.l=l.Ub||null,this.j=l.eb||!1}D(Sc,Jm),Sc.prototype.g=function(){return new qu(this.l,this.j)},Sc.prototype.i=function(l){return function(){return l}}({});function qu(l,h){Ht.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(qu,Ht),n=qu.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,xc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ac(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xc(this)),this.g&&(this.readyState=3,xc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function qD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ac(this):xc(this),this.readyState==3&&qD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Ac(this))},n.Qa=function(l){this.g&&(this.response=l,Ac(this))},n.ga=function(){this.g&&Ac(this)};function Ac(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xc(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function xc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function GD(l){let h="";return G(l,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function lg(l,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=GD(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ke(l,h,p))}function ot(l){Ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ot,Ht);var M1=/^https?$/i,R1=["POST","PUT"];n=ot.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ng.g(),this.v=this.o?ID(this.o):ID(ng),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){KD(this,N);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)p.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())p.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),A=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(R1,h,void 0))||g||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,q]of p)this.g.setRequestHeader(N,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XD(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){KD(this,N)}};function KD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,YD(l),Gu(l)}function YD(l){l.A||(l.A=!0,nn(l,"complete"),nn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,nn(this,"complete"),nn(this,"abort"),Gu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gu(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?QD(this):this.bb())},n.bb=function(){QD(this)};function QD(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Yr(l)!=4||l.Z()!=2)){if(l.u&&Yr(l)==4)yD(l.Ea,0,l);else if(nn(l,"readystatechange"),Yr(l)==4){l.h=!1;try{let q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=q===0){var A=String(l.D).match(UD)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!M1.test(A?A.toLowerCase():"")}p=g}if(p)nn(l,"complete"),nn(l,"success");else{l.m=6;try{var N=2<Yr(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",YD(l)}}finally{Gu(l)}}}}function Gu(l,h){if(l.g){XD(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||nn(l,"ready");try{p.onreadystatechange=g}catch{}}}function XD(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Yr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),l1(h)}};function ZD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function N1(l){let h={};l=(l.g&&2<=Yr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(j(l[g]))continue;var p=w(l[g]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[A]||[];h[A]=N,N.push(p)}T(h,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mc(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function JD(l){this.Aa=0,this.i=[],this.j=new Ic,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mc("baseRetryDelayMs",5e3,l),this.cb=Mc("retryDelaySeedMs",1e4,l),this.Wa=Mc("forwardChannelMaxRetries",2,l),this.wa=Mc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new PD(l&&l.concurrentRequestLimit),this.Da=new A1,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=JD.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,g){rn(0),this.W=l,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=cC(this,null,this.W),Yu(this)};function ug(l){if(eC(l),l.G==3){var h=l.U++,p=Kr(l.I);if(Ke(p,"SID",l.K),Ke(p,"RID",h),Ke(p,"TYPE","terminate"),Rc(l,p),h=new Ai(l,l.j,h),h.L=2,h.v=Wu(Kr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=lC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Hu(h)}aC(l)}function Ku(l){l.g&&(hg(l),l.g.cancel(),l.g=null)}function eC(l){Ku(l),l.u&&(a.clearTimeout(l.u),l.u=null),Qu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Yu(l){if(!OD(l.h)&&!l.s){l.s=!0;var h=l.Ga;_r||Gr(),qr||(_r(),qr=!0),ft.add(h,l),l.B=0}}function k1(l,h){return FD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ec(v(l.Ga,l,h),sC(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let A=new Ai(this,this.j,l),N=this.o;if(this.S&&(N?(N=y(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(A.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=nC(this,A,h),p=Kr(this.I),Ke(p,"RID",l),Ke(p,"CVER",22),this.D&&Ke(p,"X-HTTP-Session-Id",this.D),Rc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(GD(N)))+"&"+h:this.m&&lg(p,this.m,N)),cg(this.h,A),this.Ua&&Ke(p,"TYPE","init"),this.P?(Ke(p,"$req",h),Ke(p,"SID","null"),A.T=!0,ig(A,p,null)):ig(A,p,h),this.G=2}}else this.G==3&&(l?tC(this,l):this.i.length==0||OD(this.h)||tC(this))};function tC(l,h){var p;h?p=h.l:p=l.U++;let g=Kr(l.I);Ke(g,"SID",l.K),Ke(g,"RID",p),Ke(g,"AID",l.T),Rc(l,g),l.m&&l.o&&lg(g,l.m,l.o),p=new Ai(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=nC(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),cg(l.h,p),ig(p,g,h)}function Rc(l,h){l.H&&G(l.H,function(p,g){Ke(h,g,p)}),l.l&&jD({},function(p,g){Ke(h,g,p)})}function nC(l,h,p){p=Math.min(l.i.length,p);var g=l.l?v(l.l.Na,l.l,l):null;e:{var A=l.i;let N=-1;for(;;){let q=["count="+p];N==-1?0<p?(N=A[0].g,q.push("ofs="+N)):N=0:q.push("ofs="+N);let Be=!0;for(let Ot=0;Ot<p;Ot++){let Oe=A[Ot].g,$t=A[Ot].map;if(Oe-=N,0>Oe)N=Math.max(0,A[Ot].g-100),Be=!1;else try{x1($t,q,"req"+Oe+"_")}catch{g&&g($t)}}if(Be){g=q.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,g}function rC(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;_r||Gr(),qr||(_r(),qr=!0),ft.add(h,l),l.v=0}}function dg(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ec(v(l.Fa,l),sC(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,iC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ec(v(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Ku(this),iC(this))};function hg(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function iC(l){l.g=new Ai(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Kr(l.qa);Ke(h,"RID","rpc"),Ke(h,"SID",l.K),Ke(h,"AID",l.T),Ke(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(h,"TO",l.ja),Ke(h,"TYPE","xmlhttp"),Rc(l,h),l.m&&l.o&&lg(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Wu(Kr(h)),p.m=null,p.P=!0,RD(p,l)}n.Za=function(){this.C!=null&&(this.C=null,Ku(this),dg(this),rn(19))};function Qu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function oC(l,h){var p=null;if(l.g==h){Qu(l),hg(l),l.g=null;var g=2}else if(ag(l.h,h))p=h.D,VD(l.h,h),g=1;else return;if(l.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=l.B;g=ju(),nn(g,new SD(g,p)),Yu(l)}else rC(l);else if(A=h.s,A==3||A==0&&0<h.X||!(g==1&&k1(l,h)||g==2&&dg(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),A){case 1:So(l,5);break;case 4:So(l,10);break;case 3:So(l,6);break;default:So(l,2)}}}function sC(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function So(l,h){if(l.j.info("Error code "+h),h==2){var p=v(l.fb,l),g=l.Xa;let A=!g;g=new To(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(g,"https"),Wu(g),A?T1(g.toString(),p):S1(g.toString(),p)}else rn(2);l.G=0,l.l&&l.l.sa(h),aC(l),eC(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function aC(l){if(l.G=0,l.ka=[],l.l){let h=LD(l.h);(h.length!=0||l.i.length!=0)&&(S(l.ka,h),S(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function cC(l,h,p){var g=p instanceof To?Kr(p):new To(p);if(g.g!="")h&&(g.g=h+"."+g.g),zu(g,g.s);else{var A=a.location;g=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var N=new To(null);g&&$u(N,g),h&&(N.g=h),A&&zu(N,A),p&&(N.l=p),g=N}return p=l.D,h=l.ya,p&&h&&Ke(g,p,h),Ke(g,"VER",l.la),Rc(l,g),g}function lC(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ot(new Sc({eb:p})):new ot(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uC(){}n=uC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xu(){}Xu.prototype.g=function(l,h){return new En(l,h)};function En(l,h){Ht.call(this),this.g=new JD(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!j(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!j(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ns(this)}D(En,Ht),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){ug(this.g)},En.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Zm(l),l=p);h.i.push(new g1(h.Ya++,l)),h.G==3&&Yu(h)},En.prototype.N=function(){this.g.l=null,delete this.j,ug(this.g),delete this.g,En.aa.N.call(this)};function dC(l){eg.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}D(dC,eg);function hC(){tg.call(this),this.status=1}D(hC,tg);function Ns(l){this.g=l}D(Ns,uC),Ns.prototype.ua=function(){nn(this.g,"a")},Ns.prototype.ta=function(l){nn(this.g,new dC(l))},Ns.prototype.sa=function(l){nn(this.g,new hC)},Ns.prototype.ra=function(){nn(this.g,"b")},Xu.prototype.createWebChannel=Xu.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,aE=Ei.createWebChannelTransport=function(){return new Xu},sE=Ei.getStatEventTarget=function(){return ju()},oE=Ei.Event=Co,Zp=Ei.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uu.NO_ERROR=0,Uu.TIMEOUT=8,Uu.HTTP_ERROR=6,du=Ei.ErrorCode=Uu,AD.COMPLETE="complete",iE=Ei.EventType=AD,DD.EventType=_c,_c.OPEN="a",_c.CLOSE="b",_c.ERROR="c",_c.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,qa=Ei.WebChannel=DD,N6=Ei.FetchXmlHttpFactory=Sc,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,rE=Ei.XhrIo=ot}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var Wk="@firebase/firestore";var Pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");var dc="10.14.0";var ws=new to("@firebase/firestore");function hu(){return ws.logLevel}function ee(n,...e){if(ws.logLevel<=xe.DEBUG){let t=e.map(zI);ws.debug(`Firestore (${dc}): ${n}`,...t)}}function Di(n,...e){if(ws.logLevel<=xe.ERROR){let t=e.map(zI);ws.error(`Firestore (${dc}): ${n}`,...t)}}function Ja(n,...e){if(ws.logLevel<=xe.WARN){let t=e.map(zI);ws.warn(`Firestore (${dc}): ${n}`,...t)}}function zI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function fe(n="Unexpected state"){let e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+n;throw Di(e),new Error(e)}function Ue(n,e){n||fe()}function ge(n,e){return n}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends Rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ur=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var rm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pt.UNAUTHENTICATED))}shutdown(){}},fE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},pE=class{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ur,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>I(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ur)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new rm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Pt(e)}},mE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new mE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},vE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ue(this.o===void 0);let r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string"),this.R=t.token,new vE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function k6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var im=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=k6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Fe(n,e){return n<e?-1:n>e?1:0}function ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Bt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Bt(0,0))}static max(){return new n(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var om=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&fe(),r===void 0?r=e.length-t:r>e.length-t&&fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},it=class n extends om{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new X(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},P6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kn=class n extends om{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return P6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var le=class n{constructor(e){this.path=e}static fromPath(e){return new n(it.fromString(e))}static fromName(e){return new n(it.fromString(e).popFirst(5))}static empty(){return new n(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new it(e.slice()))}};var _E=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};_E.UNKNOWN_ID=-1;function O6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Bt(t+1,0):new Bt(t,r));return new Es(i,le.empty(),e)}function F6(n){return new Es(n.readTime,n.key,-1)}var Es=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(_e.min(),le.empty(),-1)}static max(){return new n(_e.max(),le.empty(),-1)}};function V6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}var L6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ru(n){return I(this,null,function*(){if(n.code!==V.FAILED_PRECONDITION||n.message!==L6)throw n;ee("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function j6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nu(n){return n.name==="IndexedDbTransactionError"}var TP=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Om(n){return n==null}function yu(n){return n===0&&1/n==-1/0}function U6(n){return typeof n=="number"&&Number.isInteger(n)&&!yu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var B6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gae=[...B6,"documentOverlays"],H6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$6=H6,z6=[...$6,"indexConfiguration","indexState","indexEntries"];var Kae=[...z6,"globals"];function qk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ut=class n{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}},Qa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Br=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();let e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1;Br.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Br(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var en=class n{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sm(this.data.getIterator())}getIteratorFrom(e){return new sm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},sm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var jr=class n{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new n([])}unionWith(e){let t=new en(kn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var am=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new am("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tn.EMPTY_BYTE_STRING=new tn("");var W6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(n){if(Ue(!!n),typeof n=="string"){let e=0,t=W6.exec(n);if(Ue(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _o(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}function WI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qI(n){let e=n.mapValue.fields.__previous_value__;return WI(e)?qI(e):e}function _u(n){let e=Ci(n.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}var EE=class{constructor(e,t,r,i,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},cm=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Jp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WI(n)?4:xP(n)?9007199254740991:AP(n)?10:11:fe()}function zr(n,e){if(n===e)return!0;let t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _u(n).isEqual(_u(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ci(i.timestampValue),a=Ci(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return _o(i.bytesValue).isEqual(_o(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return nt(i.geoPointValue.latitude)===nt(o.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return nt(i.integerValue)===nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=nt(i.doubleValue),a=nt(o.doubleValue);return s===a?yu(s)===yu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qk(s)!==qk(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!zr(s[c],a[c])))return!1;return!0}(n,e);default:return fe()}}function wu(n,e){return(n.values||[]).find(t=>zr(t,e))!==void 0}function tc(n,e){if(n===e)return 0;let t=Is(n),r=Is(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=nt(o.integerValue||o.doubleValue),c=nt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Gk(n.timestampValue,e.timestampValue);case 4:return Gk(_u(n),_u(e));case 5:return Fe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=_o(o),c=_o(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Fe(a[u],c[u]);if(d!==0)return d}return Fe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Fe(nt(o.latitude),nt(s.latitude));return a!==0?a:Fe(nt(o.longitude),nt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Kk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},v=s.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,D=(c=v.value)===null||c===void 0?void 0:c.arrayValue,x=Fe(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=D?.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Kk(m,D)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Jp.mapValue&&s===Jp.mapValue)return 0;if(o===Jp.mapValue)return 1;if(s===Jp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let v=Fe(c[f],d[f]);if(v!==0)return v;let m=tc(a[c[f]],u[d[f]]);if(m!==0)return m}return Fe(c.length,d.length)}(n.mapValue,e.mapValue);default:throw fe()}}function Gk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);let t=Ci(n),r=Ci(e),i=Fe(t.seconds,r.seconds);return i!==0?i:Fe(t.nanos,r.nanos)}function Kk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=tc(t[i],r[i]);if(o)return o}return Fe(t.length,r.length)}function nc(n){return IE(n)}function IE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ci(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=IE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${IE(t.fields[s])}`;return i+"}"}(n.mapValue):fe()}function Yk(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function DE(n){return!!n&&"integerValue"in n}function GI(n){return!!n&&"arrayValue"in n}function Qk(n){return!!n&&"nullValue"in n}function Xk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tm(n){return!!n&&"mapValue"in n}function AP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return hc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(t)}setAll(e){let t=kn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=pu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());tm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hc(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(pu(this.value))}};function MP(n){let e=[];return hc(n.fields,(t,r)=>{let i=new kn([t]);if(tm(r)){let o=MP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new jr(e)}var vr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,_e.min(),_e.min(),_e.min(),gr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,_e.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,_e.min(),_e.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,_e.min(),_e.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var rc=class{constructor(e,t){this.position=e,this.inclusive=t}};function Zk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(s.referenceValue),t.key):r=tc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zr(n.position[t],e.position[t]))return!1;return!0}var ic=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function q6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var lm=class{},Dt=class n extends lm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new bE(e,t,r):t==="array-contains"?new AE(e,r):t==="in"?new xE(e,r):t==="not-in"?new ME(e,r):t==="array-contains-any"?new RE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new TE(e,r):new SE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(tc(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yr=class n extends lm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return RP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function RP(n){return n.op==="and"}function NP(n){return G6(n)&&RP(n)}function G6(n){for(let e of n.filters)if(e instanceof yr)return!1;return!0}function CE(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+nc(n.value);if(NP(n))return n.filters.map(e=>CE(e)).join(",");{let e=n.filters.map(t=>CE(t)).join(",");return`${n.op}(${e})`}}function kP(n,e){return n instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)}(n,e):n instanceof yr?function(r,i){return i instanceof yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&kP(s,i.filters[a]),!0):!1}(n,e):void fe()}function PP(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${nc(t.value)}`}(n):n instanceof yr?function(t){return t.op.toString()+" {"+t.getFilters().map(PP).join(" ,")+"}"}(n):"Filter"}var bE=class extends Dt{constructor(e,t,r){super(e,t,r),this.key=le.fromName(r.referenceValue)}matches(e){let t=le.comparator(e.key,this.key);return this.matchesComparison(t)}},TE=class extends Dt{constructor(e,t){super(e,"in",t),this.keys=OP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},SE=class extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=OP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function OP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>le.fromName(r.referenceValue))}var AE=class extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return GI(t)&&wu(t.arrayValue,this.value)}},xE=class extends Dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}},ME=class extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!wu(this.value.arrayValue,t)}},RE=class extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!GI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}};var NE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function eP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new NE(n,e,t,r,i,o,s)}function KI(n){let e=ge(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>CE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nc(r)).join(",")),e.ue=t}return e.ue}function YI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!q6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jk(n.startAt,e.startAt)&&Jk(n.endAt,e.endAt)}function kE(n){return le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ds=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function K6(n,e,t,r,i,o,s,a){return new Ds(n,e,t,r,i,o,s,a)}function QI(n){return new Ds(n)}function tP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FP(n){return n.collectionGroup!==null}function mu(n){let e=ge(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new en(kn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ic(o,r))}),t.has(kn.keyField().canonicalString())||e.ce.push(new ic(kn.keyField(),r))}return e.ce}function Hr(n){let e=ge(n);return e.le||(e.le=Y6(e,mu(n))),e.le}function Y6(n,e){if(n.limitType==="F")return eP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ic(i.field,o)});let t=n.endAt?new rc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new rc(n.startAt.position,n.startAt.inclusive):null;return eP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function PE(n,e){let t=n.filters.concat([e]);return new Ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function OE(n,e,t){return new Ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fm(n,e){return YI(Hr(n),Hr(e))&&n.limitType===e.limitType}function VP(n){return`${KI(Hr(n))}|lt:${n.limitType}`}function Ga(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>PP(i)).join(", ")}]`),Om(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>nc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>nc(i)).join(",")),`Target(${r})`}(Hr(n))}; limitType=${n.limitType})`}function Vm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of mu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=Zk(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,mu(r),i)||r.endAt&&!function(s,a,c){let u=Zk(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,mu(r),i))}(n,e)}function Q6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LP(n){return(e,t)=>{let r=!1;for(let i of mu(n)){let o=X6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function X6(n,e,t){let r=n.field.isKeyField()?le.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?tc(c,u):fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}var wo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return SP(this.inner)}size(){return this.innerSize}};var Z6=new ut(le.comparator);function bi(){return Z6}var jP=new ut(le.comparator);function fu(...n){let e=jP;for(let t of n)e=e.insert(t.key,t);return e}function UP(n){let e=jP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vs(){return gu()}function BP(){return gu()}function gu(){return new wo(n=>n.toString(),(n,e)=>n.isEqual(e))}var J6=new ut(le.comparator),e9=new en(le.comparator);function Me(...n){let e=e9;for(let t of n)e=e.add(t);return e}var t9=new en(Fe);function n9(){return t9}function XI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(e)?"-0":e}}function HP(n){return{integerValue:""+n}}function r9(n,e){return U6(e)?HP(e):XI(n,e)}var oc=class{constructor(){this._=void 0}};function i9(n,e,t){return n instanceof sc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&WI(o)&&(o=qI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Cs?zP(n,e):n instanceof bs?WP(n,e):function(i,o){let s=$P(i,o),a=nP(s)+nP(i.Pe);return DE(s)&&DE(i.Pe)?HP(a):XI(i.serializer,a)}(n,e)}function o9(n,e,t){return n instanceof Cs?zP(n,e):n instanceof bs?WP(n,e):t}function $P(n,e){return n instanceof ac?function(r){return DE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var sc=class extends oc{},Cs=class extends oc{constructor(e){super(),this.elements=e}};function zP(n,e){let t=qP(e);for(let r of n.elements)t.some(i=>zr(i,r))||t.push(r);return{arrayValue:{values:t}}}var bs=class extends oc{constructor(e){super(),this.elements=e}};function WP(n,e){let t=qP(e);for(let r of n.elements)t=t.filter(i=>!zr(i,r));return{arrayValue:{values:t}}}var ac=class extends oc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function nP(n){return nt(n.integerValue||n.doubleValue)}function qP(n){return GI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function s9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Cs&&i instanceof Cs||r instanceof bs&&i instanceof bs?ec(r.elements,i.elements,zr):r instanceof ac&&i instanceof ac?zr(r.Pe,i.Pe):r instanceof sc&&i instanceof sc}(n.transform,e.transform)}var FE=class{constructor(e,t){this.version=e,this.transformResults=t}},vo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var cc=class{};function GP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new um(n.key,vo.none()):new Ts(n.key,n.data,vo.none());{let t=n.data,r=gr.empty(),i=new en(kn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ti(n.key,r,new jr(i.toArray()),vo.none())}}function a9(n,e,t){n instanceof Ts?function(i,o,s){let a=i.value.clone(),c=iP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ti?function(i,o,s){if(!nm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=iP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(KP(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function vu(n,e,t,r){return n instanceof Ts?function(o,s,a,c){if(!nm(o.precondition,s))return a;let u=o.value.clone(),d=oP(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ti?function(o,s,a,c){if(!nm(o.precondition,s))return a;let u=oP(o.fieldTransforms,c,s),d=s.data;return d.setAll(KP(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return nm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function c9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=$P(r.transform,i||null);o!=null&&(t===null&&(t=gr.empty()),t.set(r.field,o))}return t||null}function rP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,(o,s)=>s9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ts=class extends cc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ti=class extends cc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function KP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function iP(n,e,t){let r=new Map;Ue(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,o9(s,a,t[i]))}return r}function oP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,i9(o,s,e))}return r}var um=class extends cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},VE=class extends cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var LE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&a9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=vu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=vu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=BP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=GP(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,r)=>rP(t,r))&&ec(this.baseMutations,e.baseMutations,(t,r)=>rP(t,r))}},jE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ue(e.mutations.length===r.length);let i=function(){return J6}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var UE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var BE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Et,ke;function l9(n){switch(n){default:return fe();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function YP(n){if(n===void 0)return Di("GRPC error has no .code"),V.UNKNOWN;switch(n){case Et.OK:return V.OK;case Et.CANCELLED:return V.CANCELLED;case Et.UNKNOWN:return V.UNKNOWN;case Et.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Et.INTERNAL:return V.INTERNAL;case Et.UNAVAILABLE:return V.UNAVAILABLE;case Et.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Et.NOT_FOUND:return V.NOT_FOUND;case Et.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Et.ABORTED:return V.ABORTED;case Et.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Et.DATA_LOSS:return V.DATA_LOSS;default:return fe()}}(ke=Et||(Et={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var sP=null;function u9(){return new TextEncoder}var d9=new go([4294967295,4294967295],0);function aP(n){let e=u9().encode(n),t=new nE;return t.update(e),new Uint8Array(t.digest())}function cP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new go([t,r],0),new go([i,o],0)]}var HE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ys(`Invalid padding: ${t}`);if(r<0)throw new ys(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ys(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ys(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=go.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(go.fromNumber(r)));return i.compare(d9)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=aP(e),[r,i]=cP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=aP(e),[r,i]=cP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ys=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var dm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(_e.min(),i,new ut(Fe),bi(),Me())}},Eu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Me(),Me(),Me())}};var Xa=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},hm=class{constructor(e,t){this.targetId=e,this.me=t}},fm=class{constructor(e,t,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},pm=class{constructor(){this.fe=0,this.ge=uP(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),r=Me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new Eu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=uP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},$E=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=bi(),this.qe=lP(),this.Qe=new ut(Fe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(kE(o))if(r===0){let s=new le(o.path);this.Ue(t,s,vr.newNoDocument(s,_e.min()))}else Ue(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}sP?.et(function(d,f,v,m,D){var x,S,k,j,U,W;let re={localCacheCount:d,existenceFilterCount:f.count,databaseId:v.database,projectId:v.projectId},G=f.unchangedNames;return G&&(re.bloomFilter={applied:D===0,hashCount:(x=G?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(j=(k=(S=G?.bits)===null||S===void 0?void 0:S.bitmap)===null||k===void 0?void 0:k.length)!==null&&j!==void 0?j:0,padding:(W=(U=G?.bits)===null||U===void 0?void 0:U.padding)!==null&&W!==void 0?W:0,mightContain:T=>{var y;return(y=m?.mightContain(T))!==null&&y!==void 0&&y}}),re}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=_o(r).toUint8Array()}catch(c){if(c instanceof am)return Ja("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new HE(s,i,o)}catch(c){return Ja(c instanceof ys?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&kE(a.target)){let c=new le(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,vr.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new dm(e,t,this.Qe,this.ke,r);return this.ke=bi(),this.qe=lP(),this.Qe=new ut(Fe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new pm,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new en(Fe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function lP(){return new ut(le.comparator)}function uP(){return new ut(le.comparator)}var h9={asc:"ASCENDING",desc:"DESCENDING"},f9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p9={and:"AND",or:"OR"},zE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function WE(n,e){return n.useProto3Json||Om(e)?e:{value:e}}function mm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m9(n,e){return mm(n,e.toTimestamp())}function $r(n){return Ue(!!n),_e.fromTimestamp(function(t){let r=Ci(t);return new Bt(r.seconds,r.nanos)}(n))}function ZI(n,e){return qE(n,e).canonicalString()}function qE(n,e){let t=function(i){return new it(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XP(n){let e=it.fromString(n);return Ue(nO(e)),e}function GE(n,e){return ZI(n.databaseId,e.path)}function cE(n,e){let t=XP(e);if(t.get(1)!==n.databaseId.projectId)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new le(JP(t))}function ZP(n,e){return ZI(n.databaseId,e)}function g9(n){let e=XP(n);return e.length===4?it.emptyPath():JP(e)}function KE(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JP(n){return Ue(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function dP(n,e,t){return{name:GE(n,e),fields:t.value.mapValue.fields}}function v9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ue(d===void 0||typeof d=="string"),tn.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array),tn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?V.UNKNOWN:YP(u.code);return new X(d,u.message||"")}(s);t=new fm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=cE(n,r.document.name),o=$r(r.document.updateTime),s=r.document.createTime?$r(r.document.createTime):_e.min(),a=new gr({mapValue:{fields:r.document.fields}}),c=vr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Xa(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=cE(n,r.document),o=r.readTime?$r(r.readTime):_e.min(),s=vr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Xa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=cE(n,r.document),o=r.removedTargetIds||[];t=new Xa([],o,i,null)}else{if(!("filter"in e))return fe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new BE(i,o),a=r.targetId;t=new hm(a,s)}}return t}function y9(n,e){let t;if(e instanceof Ts)t={update:dP(n,e.key,e.value)};else if(e instanceof um)t={delete:GE(n,e.key)};else if(e instanceof Ti)t={update:dP(n,e.key,e.data),updateMask:S9(e.fieldMask)};else{if(!(e instanceof VE))return fe();t={verify:GE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof sc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ac)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:m9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:fe()}(n,e.precondition)),t}function _9(n,e){return n&&n.length>0?(Ue(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?$r(i.updateTime):$r(o);return s.isEqual(_e.min())&&(s=$r(o)),new FE(s,i.transformResults||[])}(t,e))):[]}function w9(n,e){return{documents:[ZP(n,e.path)]}}function E9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ZP(n,i);let o=function(u){if(u.length!==0)return tO(yr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:Ka(v.field),direction:C9(v.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=WE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function I9(n){let e=g9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ue(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let v=eO(f);return v instanceof yr&&NP(v)?v.getFilters():[v]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(v=>function(D){return new ic(Ya(D.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(v))}(t.orderBy));let a=null;t.limit&&(a=function(f){let v;return v=typeof f=="object"?f.value:f,Om(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(f){let v=!!f.before,m=f.values||[];return new rc(m,v)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let v=!f.before,m=f.values||[];return new rc(m,v)}(t.endAt)),K6(e,i,s,o,a,"F",c,u)}function D9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ya(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ya(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ya(t.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ya(t.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(Ya(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yr.create(t.compositeFilter.filters.map(r=>eO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(t.compositeFilter.op))}(n):fe()}function C9(n){return h9[n]}function b9(n){return f9[n]}function T9(n){return p9[n]}function Ka(n){return{fieldPath:n.canonicalString()}}function Ya(n){return kn.fromServerFormat(n.fieldPath)}function tO(n){return n instanceof Dt?function(t){if(t.op==="=="){if(Xk(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NAN"}};if(Qk(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xk(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NAN"}};if(Qk(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(t.field),op:b9(t.op),value:t.value}}}(n):n instanceof yr?function(t){let r=t.getFilters().map(i=>tO(i));return r.length===1?r[0]:{compositeFilter:{op:T9(t.op),filters:r}}}(n):fe()}function S9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Iu=class n{constructor(e,t,r,i,o=_e.min(),s=_e.min(),a=tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var YE=class{constructor(e){this.ct=e}};function A9(n){let e=I9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?OE(e,e.limit,"L"):e}var gm=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(nt(e.integerValue));else if("doubleValue"in e){let r=nt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),yu(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Ci(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(_o(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?xP(e)?this.dt(t,Number.MAX_SAFE_INTEGER):AP(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(nt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),le.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};gm.vt=new gm;var QE=class{constructor(){this.un=new XE}addToCollectionParentIndex(e,t){return this.un.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Es.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},XE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new en(it.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new en(it.comparator)).toArray()}};var Qae=new Uint8Array(0);var Lr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);var Du=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var ZE=class{constructor(){this.changes=new wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var JE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var eI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&vu(r.mutation,i,jr.empty(),Bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){let i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=fu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=bi(),s=gu(),a=function(){return gu()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ti)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),vu(d.mutation,u,d.mutation.getFieldMask(),Bt.now())):s.set(u.key,jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new JE(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=gu(),i=new ut((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||jr.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||Me()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=BP();d.forEach(v=>{if(!o.has(v)){let m=GP(t.get(v),r.get(v));m!==null&&f.set(v,m),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(vs()),a=-1,c=o;return s.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Me())).next(d=>({batchId:a,changes:UP(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next(r=>{let i=fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=fu();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,c=>{let u=function(f,v){return new Ds(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,v)=>{s=s.insert(f,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,vr.newInvalidDocument(d)))});let a=fu();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&vu(d.mutation,u,jr.empty(),Bt.now()),Vm(t,u)&&(a=a.insert(c,u))}),a})}};var tI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return $.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:A9(i.bundledQuery),readTime:$r(i.readTime)}}(t)),$.resolve()}};var nI=class{constructor(){this.overlays=new ut(le.comparator),this.Ir=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vs();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){let i=vs(),o=t.length+1,s=new le(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ut((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=vs(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=vs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new UE(t,r));let o=this.Ir.get(t);o===void 0&&(o=Me(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var rI=class{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var Cu=class{constructor(){this.Tr=new en(It.Er),this.dr=new en(It.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new It(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new It(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new le(new it([])),r=new It(t,e),i=new It(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new le(new it([])),r=new It(t,e),i=new It(t,e+1),o=Me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new It(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},It=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return le.comparator(e.key,t.key)||Fe(e.wr,t.wr)}static Ar(e,t){return Fe(e.wr,t.wr)||le.comparator(e.key,t.key)}};var iI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new en(It.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new LE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new It(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new It(t,0),i=new It(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new en(Fe);return t.forEach(i=>{let o=new It(i,0),s=new It(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;le.isDocumentKey(o)||(o=o.child(""));let s=new It(new le(o),0),a=new en(Fe);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),$.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ue(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(t.mutations,i=>{let o=new It(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new It(t,0),i=this.br.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var oI=class{constructor(e){this.Mr=e,this.docs=function(){return new ut(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let r=bi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vr.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=bi(),s=t.path,a=new le(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||V6(F6(d),r)<=0||(i.has(d.key)||Vm(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){fe()}Or(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sI(this)}getSize(e){return $.resolve(this.size)}},sI=class extends ZE{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var aI=class{constructor(e){this.persistence=e,this.Nr=new wo(t=>KI(t),YI),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Cu,this.targetCount=0,this.kr=Du.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),$.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Du(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Kn(t),$.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.Br.containsKey(t))}};var cI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new TP(0),this.Kr=!1,this.Kr=!0,this.$r=new rI,this.referenceDelegate=e(this),this.Ur=new aI(this),this.indexManager=new QE,this.remoteDocumentCache=function(i){return new oI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YE(t),this.Gr=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new iI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);let i=new lI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},lI=class extends wE{constructor(e){super(),this.currentSequenceNumber=e}},uI=class n{constructor(e){this.persistence=e,this.Jr=new Cu,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),$.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{let i=le.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return $.or([()=>$.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var dI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Me(),i=Me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var hI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YM()?8:j6(Rt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new hI;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(hu()<=xe.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(hu()<=xe.DEBUG&&ee("QueryEngine","Query:",Ga(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hu()<=xe.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):$.resolve())}Yi(e,t){if(tP(t))return $.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=OE(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,OE(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return tP(t)||i.isEqual(_e.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?$.resolve(null):(hu()<=xe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(t)),this.rs(e,s,t,O6(i,-1)).next(a=>a))})}ts(e,t){let r=new en(LP(e));return t.forEach((i,o)=>{Vm(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return hu()<=xe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ga(t)),this.Ji.getDocumentsMatchingQuery(e,t,Es.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ut(Fe),this._s=new wo(o=>KI(o),YI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function x9(n,e,t,r){return new pI(n,e,t,r)}function rO(n,e){return I(this,null,function*(){let t=ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Me();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function M9(n,e){let t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,v=f.keys(),m=$.resolve();return v.forEach(D=>{m=m.next(()=>d.getEntry(c,D)).next(x=>{let S=u.docVersions.get(D);Ue(S!==null),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function iO(n){let e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function R9(n,e){let t=ge(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let v=i.get(f);if(!v)return;a.push(t.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,d.addedDocuments,f)));let m=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(tn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(x,S,k){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,m,d)&&a.push(t.Ur.updateTargetData(o,m))});let c=bi(),u=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(N9(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(_e.min())){let d=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.os=i,o))}function N9(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=bi();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function k9(n,e){let t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P9(n,e){let t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Iu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function mI(n,e,t){return I(this,null,function*(){let r=ge(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Nu(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function hP(n,e,t){let r=ge(n),i=_e.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=ge(c),v=f._s.get(d);return v!==void 0?$.resolve(f.os.get(v)):f.Ur.getTargetData(u,d)}(r,s,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:_e.min(),t?o:Me())).next(a=>(O9(r,Q6(e),a),{documents:a,Ts:o})))}function O9(n,e,t){let r=n.us.get(e)||_e.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var vm=class{constructor(){this.activeTargetIds=n9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gI=class{constructor(){this.so=new vm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new vm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vI=class{_o(e){}shutdown(){}};var ym=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var em=null;function lE(){return em===null?em=function(){return 268435456+Math.round(2147483648*Math.random())}():em++,"0x"+em.toString(16)}var F9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var yI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Jt="WebChannelConnection",_I=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=lE(),c=this.xo(t,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,c,u,i).then(d=>(ee("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Ja("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=F9[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=lE();return new Promise((s,a)=>{let c=new rE;c.setWithCredentials(!0),c.listenOnce(iE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case du.NO_ERROR:let d=c.getResponseJson();ee(Jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case du.TIMEOUT:ee(Jt,`RPC '${e}' ${o} timed out`),a(new X(V.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:let f=c.getStatus();if(ee(Jt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);let m=v?.error;if(m&&m.status&&m.message){let D=function(S){let k=S.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(k)>=0?k:V.UNKNOWN}(m.status);a(new X(D,m.message))}else a(new X(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new X(V.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ee(Jt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);ee(Jt,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=lE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aE(),a=sE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");ee(Jt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),v=!1,m=!1,D=new yI({Io:S=>{m?ee(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||(ee(Jt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),v=!0),ee(Jt,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},To:()=>f.close()}),x=(S,k,j)=>{S.listen(k,U=>{try{j(U)}catch(W){setTimeout(()=>{throw W},0)}})};return x(f,qa.EventType.OPEN,()=>{m||(ee(Jt,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),x(f,qa.EventType.CLOSE,()=>{m||(m=!0,ee(Jt,`RPC '${e}' stream ${i} transport closed`),D.So())}),x(f,qa.EventType.ERROR,S=>{m||(m=!0,Ja(Jt,`RPC '${e}' stream ${i} transport errored:`,S),D.So(new X(V.UNAVAILABLE,"The operation could not be completed")))}),x(f,qa.EventType.MESSAGE,S=>{var k;if(!m){let j=S.data[0];Ue(!!j);let U=j,W=U.error||((k=U[0])===null||k===void 0?void 0:k.error);if(W){ee(Jt,`RPC '${e}' stream ${i} received error:`,W);let re=W.status,G=function(_){let b=Et[_];if(b!==void 0)return YP(b)}(re),T=W.message;G===void 0&&(G=V.INTERNAL,T="Unknown error status: "+re+" with message "+W.message),m=!0,D.So(new X(G,T)),f.close()}else ee(Jt,`RPC '${e}' stream ${i} received:`,j),D.bo(j)}}),x(a,oE.STAT_EVENT,S=>{S.stat===Zp.PROXY?ee(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Zp.NOPROXY&&ee(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function uE(){return typeof document<"u"?document:null}function Lm(n){return new zE(n,!0)}var _m=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var wm=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _m(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new X(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},wI=class extends wm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=v9(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?$r(s.readTime):_e.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=KE(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=kE(c)?{documents:w9(o,c)}:{query:E9(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=QP(o,s.resumeToken);let u=WE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=mm(o,s.snapshotVersion.toTimestamp());let u=WE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=D9(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=KE(this.serializer),t.removeTarget=e,this.a_(t)}},EI=class extends wm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=_9(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=KE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>y9(this.serializer,r))};this.a_(t)}};var II=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,qE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(V.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,qE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},DI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(t),this.D_=!1):ee("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var CI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){As(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),yield function(c){return I(this,null,function*(){let u=ge(c);u.L_.add(4),yield ku(u),u.q_.set("Unknown"),u.L_.delete(4),yield jm(u)})}(this))}))}),this.q_=new DI(r,i)}};function jm(n){return I(this,null,function*(){if(As(n))for(let e of n.B_)yield e(!0)})}function ku(n){return I(this,null,function*(){for(let e of n.B_)yield e(!1)})}function oO(n,e){let t=ge(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),nD(t)?tD(t):fc(t).r_()&&eD(t,e))}function JI(n,e){let t=ge(n),r=fc(t);t.N_.delete(e),r.r_()&&sO(t,e),t.N_.size===0&&(r.r_()?r.o_():As(t)&&t.q_.set("Unknown"))}function eD(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fc(n).A_(e)}function sO(n,e){n.Q_.xe(e),fc(n).R_(e)}function tD(n){n.Q_=new $E({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),fc(n).start(),n.q_.v_()}function nD(n){return As(n)&&!fc(n).n_()&&n.N_.size>0}function As(n){return ge(n).L_.size===0}function aO(n){n.Q_=void 0}function V9(n){return I(this,null,function*(){n.q_.set("Online")})}function L9(n){return I(this,null,function*(){n.N_.forEach((e,t)=>{eD(n,e)})})}function j9(n,e){return I(this,null,function*(){aO(n),nD(n)?(n.q_.M_(e),tD(n)):n.q_.set("Unknown")})}function U9(n,e,t){return I(this,null,function*(){if(n.q_.set("Online"),e instanceof fm&&e.state===2&&e.cause)try{yield function(i,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Em(n,r)}else if(e instanceof Xa?n.Q_.Ke(e):e instanceof hm?n.Q_.He(e):n.Q_.We(e),!t.isEqual(_e.min()))try{let r=yield iO(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),sO(o,c);let f=new Iu(d.target,c,u,d.sequenceNumber);eD(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),yield Em(n,r)}})}function Em(n,e,t){return I(this,null,function*(){if(!Nu(e))throw e;n.L_.add(1),yield ku(n),n.q_.set("Offline"),t||(t=()=>iO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield jm(n)}))})}function cO(n,e){return e().catch(t=>Em(n,t,e))}function Um(n){return I(this,null,function*(){let e=ge(n),t=Eo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B9(e);)try{let i=yield k9(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,H9(e,i)}catch(i){yield Em(e,i)}lO(e)&&uO(e)})}function B9(n){return As(n)&&n.O_.length<10}function H9(n,e){n.O_.push(e);let t=Eo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function lO(n){return As(n)&&!Eo(n).n_()&&n.O_.length>0}function uO(n){Eo(n).start()}function $9(n){return I(this,null,function*(){Eo(n).p_()})}function z9(n){return I(this,null,function*(){let e=Eo(n);for(let t of n.O_)e.m_(t.mutations)})}function W9(n,e,t){return I(this,null,function*(){let r=n.O_.shift(),i=jE.from(r,e,t);yield cO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Um(n)})}function q9(n,e){return I(this,null,function*(){e&&Eo(n).V_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return l9(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();Eo(r).s_(),yield cO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Um(r)}})}(n,e)),lO(n)&&uO(n)})}function fP(n,e){return I(this,null,function*(){let t=ge(n);t.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");let r=As(t);t.L_.add(3),yield ku(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield jm(t)})}function G9(n,e){return I(this,null,function*(){let t=ge(n);e?(t.L_.delete(2),yield jm(t)):e||(t.L_.add(2),yield ku(t),t.q_.set("Unknown"))})}function fc(n){return n.K_||(n.K_=function(t,r,i){let o=ge(t);return o.w_(),new wI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:V9.bind(null,n),Ro:L9.bind(null,n),mo:j9.bind(null,n),d_:U9.bind(null,n)}),n.B_.push(e=>I(this,null,function*(){e?(n.K_.s_(),nD(n)?tD(n):n.q_.set("Unknown")):(yield n.K_.stop(),aO(n))}))),n.K_}function Eo(n){return n.U_||(n.U_=function(t,r,i){let o=ge(t);return o.w_(),new EI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$9.bind(null,n),mo:q9.bind(null,n),f_:z9.bind(null,n),g_:W9.bind(null,n)}),n.B_.push(e=>I(this,null,function*(){e?(n.U_.s_(),yield Um(n)):(yield n.U_.stop(),n.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var bI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rD(n,e){if(Di("AsyncQueue",`${e}: ${n}`),Nu(n))return new X(V.UNAVAILABLE,`${e}: ${n}`);throw n}var Im=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||le.comparator(t.key,r.key):(t,r)=>le.comparator(t.key,r.key),this.keyedMap=fu(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dm=class{constructor(){this.W_=new ut(le.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):fe():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},lc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Im.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var TI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},SI=class{constructor(){this.queries=pP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ge(t),o=i.queries;i.queries=pP(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new X(V.ABORTED,"Firestore shutting down"))}};function pP(){return new wo(n=>VP(n),Fm)}function dO(n,e){return I(this,null,function*(){let t=ge(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new TI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=rD(s,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&iD(t)})}function hO(n,e){return I(this,null,function*(){let t=ge(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function K9(n,e){let t=ge(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&iD(t)}function Y9(n,e,t){let r=ge(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function iD(n){n.Y_.forEach(e=>{e.next()})}var AI,mP;(mP=AI||(AI={})).ea="default",mP.Cache="cache";var Cm=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==AI.Cache}};var bm=class{constructor(e){this.key=e}},Tm=class{constructor(e){this.key=e}},xI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=LP(e),this.Ra=new Im(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Dm,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let v=i.get(d),m=Vm(this.query,f)?f:null,D=!!v&&this.mutatedKeys.has(v.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),S=!1;v&&m?v.data.isEqual(m.data)?D!==x&&(r.track({type:3,doc:m}),S=!0):this.ga(v,m)||(r.track({type:2,doc:m}),S=!0,(c&&this.Aa(m,c)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!v&&m?(r.track({type:0,doc:m}),S=!0):v&&!m&&(r.track({type:1,doc:v}),S=!0,(c||u)&&(a=!0)),S&&(m?(s=s.add(m),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(m,D){let x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return x(m)-x(D)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new lc(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Tm(r))}),this.da.forEach(r=>{e.has(r)||t.push(new bm(r))}),t}ba(e){this.Ta=e.Ts,this.da=Me();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return lc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},MI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},RI=class{constructor(e){this.key=e,this.va=!1}},NI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new wo(a=>VP(a),Fm),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(le.comparator),this.Na=new Map,this.La=new Cu,this.Ba={},this.ka=new Map,this.qa=Du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Q9(n,e,t=!0){return I(this,null,function*(){let r=yO(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield fO(r,e,t,!0),i})}function X9(n,e){return I(this,null,function*(){let t=yO(n);yield fO(t,e,!0,!1)})}function fO(n,e,t,r){return I(this,null,function*(){let i=yield P9(n.localStore,Hr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Z9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&oO(n.remoteStore,i),a})}function Z9(n,e,t,r,i){return I(this,null,function*(){n.Ka=(f,v,m)=>function(x,S,k,j){return I(this,null,function*(){let U=S.view.ma(k);U.ns&&(U=yield hP(x.localStore,S.query,!1).then(({documents:T})=>S.view.ma(T,U)));let W=j&&j.targetChanges.get(S.targetId),re=j&&j.targetMismatches.get(S.targetId)!=null,G=S.view.applyChanges(U,x.isPrimaryClient,W,re);return vP(x,S.targetId,G.wa),G.snapshot})}(n,f,v,m);let o=yield hP(n.localStore,e,!0),s=new xI(e,o.Ts),a=s.ma(o.documents),c=Eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);vP(n,t,u.wa);let d=new MI(e,t,s);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function J9(n,e,t){return I(this,null,function*(){let r=ge(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Fm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&JI(r.remoteStore,i.targetId),kI(r,i.targetId)}).catch(Ru))):(kI(r,i.targetId),yield mI(r.localStore,i.targetId,!0))})}function e8(n,e){return I(this,null,function*(){let t=ge(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),JI(t.remoteStore,r.targetId))})}function t8(n,e,t){return I(this,null,function*(){let r=c8(n);try{let i=yield function(s,a){let c=ge(s),u=Bt.now(),d=a.reduce((m,D)=>m.add(D.key),Me()),f,v;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let D=bi(),x=Me();return c.cs.getEntries(m,d).next(S=>{D=S,D.forEach((k,j)=>{j.isValidDocument()||(x=x.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,D)).next(S=>{f=S;let k=[];for(let j of a){let U=c9(j,f.get(j.key).overlayedDocument);U!=null&&k.push(new Ti(j.key,U,MP(U.value.mapValue),vo.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,k,a)}).next(S=>{v=S;let k=S.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(m,S.batchId,k)})}).then(()=>({batchId:v.batchId,changes:UP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new ut(Fe)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Pu(r,i.changes),yield Um(r.remoteStore)}catch(i){let o=rD(i,"Failed to persist write");t.reject(o)}})}function pO(n,e){return I(this,null,function*(){let t=ge(n);try{let r=yield R9(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ue(s.va):i.removedDocuments.size>0&&(Ue(s.va),s.va=!1))}),yield Pu(t,r,e)}catch(r){yield Ru(r)}})}function gP(n,e,t){let r=ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ge(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let v of f.j_)v.Z_(a)&&(u=!0)}),u&&iD(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function n8(n,e,t){return I(this,null,function*(){let r=ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ut(le.comparator);s=s.insert(o,vr.newNoDocument(o,_e.min()));let a=Me().add(o),c=new dm(_e.min(),new Map,new ut(Fe),s,a);yield pO(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),oD(r)}else yield mI(r.localStore,e,!1).then(()=>kI(r,e,t)).catch(Ru)})}function r8(n,e){return I(this,null,function*(){let t=ge(n),r=e.batch.batchId;try{let i=yield M9(t.localStore,e);gO(t,r,null),mO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pu(t,i)}catch(i){yield Ru(i)}})}function i8(n,e,t){return I(this,null,function*(){let r=ge(n);try{let i=yield function(s,a){let c=ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ue(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);gO(r,e,t),mO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pu(r,i)}catch(i){yield Ru(i)}})}function mO(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function gO(n,e,t){let r=ge(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function kI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||vO(n,r)})}function vO(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(JI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),oD(n))}function vP(n,e,t){for(let r of t)r instanceof bm?(n.La.addReference(r.key,e),o8(n,r)):r instanceof Tm?(ee("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||vO(n,r.key)):fe()}function o8(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ee("SyncEngine","New document in limbo: "+t),n.xa.add(r),oD(n))}function oD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new le(it.fromString(e)),r=n.qa.next();n.Na.set(r,new RI(t)),n.Oa=n.Oa.insert(t,r),oO(n.remoteStore,new Iu(Hr(QI(t.path)),r,"TargetPurposeLimboResolution",TP.oe))}}function Pu(n,e,t){return I(this,null,function*(){let r=ge(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=dI.Wi(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,u){return I(this,null,function*(){let d=ge(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,v=>$.forEach(v.$i,m=>d.persistence.referenceDelegate.addReference(f,v.targetId,m)).next(()=>$.forEach(v.Ui,m=>d.persistence.referenceDelegate.removeReference(f,v.targetId,m)))))}catch(f){if(!Nu(f))throw f;ee("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let v=f.targetId;if(!f.fromCache){let m=d.os.get(v),D=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(D);d.os=d.os.insert(v,x)}}})}(r.localStore,o))})}function s8(n,e){return I(this,null,function*(){let t=ge(n);if(!t.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());let r=yield rO(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new X(V.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pu(t,r.hs)}})}function a8(n,e){let t=ge(n),r=t.Na.get(e);if(r&&r.va)return Me().add(r.key);{let i=Me(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function yO(n){let e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n8.bind(null,e),e.Ca.d_=K9.bind(null,e.eventManager),e.Ca.$a=Y9.bind(null,e.eventManager),e}function c8(n){let e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i8.bind(null,e),e}var yP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return I(this,null,function*(){this.serializer=Lm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return x9(this.persistence,new fI,t.initialUser,this.serializer)}Ga(t){return new cI(uI.Zr,this.serializer)}Wa(t){return new gI}terminate(){return I(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var l8=(()=>{class n{initialize(t,r){return I(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=s8.bind(null,this.syncEngine),yield G9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new SI}()}createDatastore(t){let r=Lm(t.databaseInfo.databaseId),i=function(s){return new _I(s)}(t.databaseInfo);return function(s,a,c,u){return new II(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new CI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>gP(this.syncEngine,r,0),function(){return ym.D()?new ym:new vI}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let v=new NI(o,s,a,c,u,d);return f&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var t,r;yield function(o){return I(this,null,function*(){let s=ge(o);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ku(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Sm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var PI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>I(this,null,function*(){ee("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=rD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dE(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield rO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function _P(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield u8(n);ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>fP(e.remoteStore,i)),n._onlineComponents=e})}function u8(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ja("Error using user provided cache. Falling back to memory cache: "+t),yield dE(n,new yP)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),yield dE(n,new yP);return n._offlineComponents})}function _O(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield _P(n,n._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),yield _P(n,new l8))),n._onlineComponents})}function d8(n){return _O(n).then(e=>e.syncEngine)}function OI(n){return I(this,null,function*(){let e=yield _O(n),t=e.eventManager;return t.onListen=Q9.bind(null,e.syncEngine),t.onUnlisten=J9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=X9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=e8.bind(null,e.syncEngine),t})}function h8(n,e,t={}){let r=new Ur;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,c,u){let d=new Sm({next:v=>{d.Za(),s.enqueueAndForget(()=>hO(o,f)),v.fromCache&&c.source==="server"?u.reject(new X(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),f=new Cm(a,d,{includeMetadataChanges:!0,_a:!0});return dO(o,f)}(yield OI(n),n.asyncQueue,e,t,r)})),r.promise}function wO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var wP=new Map;function EO(n,e,t){if(!t)throw new X(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f8(n,e,t,r){if(e===!0&&r===!0)throw new X(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EP(n){if(!le.isDocumentKey(n))throw new X(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IP(n){if(le.isDocumentKey(n))throw new X(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":fe()}function Ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Bm(n);throw new X(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Am=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},uc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Am({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Am(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hE;switch(r.type){case"firstParty":return new gE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=wP.get(t);r&&(ee("ComponentProvider","Removing Datastore"),wP.delete(t),r.terminate())}(this),Promise.resolve()}};function IO(n,e,t,r={}){var i;let o=(n=Ii(n,uc))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Pt.MOCK_USER;else{a=$M(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pt(u)}n._authCredentials=new fE(new rm(a,c))}}var Ss=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},_n=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},yo=class n extends Ss{constructor(e,t,r){super(e,t,QI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new le(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function DO(n,e,...t){if(n=Nt(n),EO("collection","path",e),n instanceof uc){let r=it.fromString(e,...t);return IP(r),new yo(n,null,r)}{if(!(n instanceof _n||n instanceof yo))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(it.fromString(e,...t));return IP(r),new yo(n.firestore,null,r)}}function sD(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=im.newId()),EO("doc","path",e),n instanceof uc){let r=it.fromString(e,...t);return EP(r),new _n(n,null,new le(r))}{if(!(n instanceof _n||n instanceof yo))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(it.fromString(e,...t));return EP(r),new _n(n.firestore,n instanceof yo?n.converter:null,new le(r))}}var xm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _m(this,"async_queue_retry"),this.Vu=()=>{let r=uE();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=uE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=uE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nu(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=bI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function DP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Io=class extends uc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new xm(e),this._firestoreClient=void 0,yield e}})}};function CO(n,e){let t=typeof n=="object"?n:os(),r=typeof n=="string"?n:e||"(default)",i=ql(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=HM("firestore");o&&IO(i,...o)}return i}function aD(n){if(n._terminated)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p8(n),n._firestoreClient}function p8(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new EE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wO(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new PI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var bu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(tn.fromBase64String(e))}catch(t){throw new X(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Tu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new X(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mm=class{constructor(e){this._methodName=e}};var Su=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}};var Au=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var m8=/^__.*__$/,FI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ts(e,this.data,t,this.fieldTransforms)}};function bO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var VI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bO(this.Cu)&&m8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},LI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lm(e)}Qu(e,t,r,i=!1){return new VI({Cu:e,methodName:t,qu:r,path:kn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cD(n){let e=n._freezeSettings(),t=Lm(n._databaseId);return new LI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TO(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);xO("Data must be an object, but it was:",s,r);let a=SO(r,s),c,u;if(o.merge)c=new jr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let v=v8(e,f,t);if(!s.contains(v))throw new X(V.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);_8(d,v)||d.push(v)}c=new jr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new FI(new gr(a),c,u)}function g8(n,e,t,r=!1){return lD(t,n.Qu(r?4:3,e))}function lD(n,e){if(AO(n=Nt(n)))return xO("Unsupported field value:",e,n),SO(n,e);if(n instanceof Mm)return function(r,i){if(!bO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=lD(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Bt.fromDate(r);return{timestampValue:mm(i.serializer,o)}}if(r instanceof Bt){let o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(i.serializer,o)}}if(r instanceof Su)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bu)return{bytesValue:QP(i.serializer,r._byteString)};if(r instanceof _n){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ZI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Au)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return XI(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Bm(r)}`)}(n,e)}function SO(n,e){let t={};return SP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hc(n,(r,i)=>{let o=lD(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function AO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof Su||n instanceof bu||n instanceof _n||n instanceof Mm||n instanceof Au)}function xO(n,e,t){if(!AO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Bm(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function v8(n,e,t){if((e=Nt(e))instanceof Tu)return e._internalPath;if(typeof e=="string")return MO(n,e);throw Rm("Field path arguments must be of type string or ",n,!1,void 0,t)}var y8=new RegExp("[~\\*/\\[\\]]");function MO(n,e,t){if(e.search(y8)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tu(...e.split("."))._internalPath}catch{throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new X(V.INVALID_ARGUMENT,a+n+c)}function _8(n,e){return n.some(t=>t.isEqual(e))}var Nm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(RO("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},jI=class extends Nm{data(){return super.data()}};function RO(n,e){return typeof e=="string"?MO(n,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}function NO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xu=class{},UI=class extends xu{};function kO(n,e,...t){let r=[];e instanceof xu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof HI).length,a=o.filter(c=>c instanceof BI).length;if(s>1||s>0&&a>0)throw new X(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var BI=class n extends UI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return PO(e._query,t),new Ss(e.firestore,e.converter,PE(e._query,t))}_parse(e){let t=cD(e.firestore);return function(o,s,a,c,u,d,f){let v;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bP(f,d);let m=[];for(let D of f)m.push(CP(c,o,D));v={arrayValue:{values:m}}}else v=CP(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bP(f,d),v=g8(a,s,f,d==="in"||d==="not-in");return Dt.create(u,d,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var HI=class n extends xu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:yr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)PO(s,c),s=PE(s,c)}(e._query,t),new Ss(e.firestore,e.converter,PE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function CP(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new X(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FP(e)&&t.indexOf("/")!==-1)throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(it.fromString(t));if(!le.isDocumentKey(r))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yk(n,new le(r))}if(t instanceof _n)return Yk(n,t._key);throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bm(t)}.`)}function bP(n,e){if(!Array.isArray(n)||n.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PO(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var $I=class{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return hc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>nt(s.doubleValue));return new Au(o)}convertGeoPoint(e){return new Su(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=qI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){let t=Ci(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=it.fromString(e);Ue(nO(r));let i=new cm(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(t)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function OO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var _s=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},km=class extends Nm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(RO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Za=class extends km{data(e={}){return super.data(e)}},Pm=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _s(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Za(this._firestore,this._userDataWriter,r.key,r,new _s(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _s(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:w8(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function w8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}var Mu=class extends $I{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}};function FO(n){n=Ii(n,Ss);let e=Ii(n.firestore,Io),t=aD(e),r=new Mu(e);return NO(n._query),h8(t,n._query).then(i=>new Pm(e,r,n,i))}function VO(n,e,t){n=Ii(n,_n);let r=Ii(n.firestore,Io),i=OO(n.converter,e,t);return UO(r,[TO(cD(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,vo.none())])}function LO(n,e){let t=Ii(n.firestore,Io),r=sD(n),i=OO(n.converter,e);return UO(t,[TO(cD(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,vo.exists(!1))]).then(()=>r)}function jO(n,...e){var t,r,i;n=Nt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||DP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(DP(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof _n)u=Ii(n.firestore,Io),d=QI(n._key.path),c={next:f=>{e[s]&&e[s](E8(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Ii(n,Ss);u=Ii(f.firestore,Io),d=f._query;let v=new Mu(u);c={next:m=>{e[s]&&e[s](new Pm(u,v,f,m))},error:e[s+1],complete:e[s+2]},NO(n._query)}return function(v,m,D,x){let S=new Sm(x),k=new Cm(m,S,D);return v.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return dO(yield OI(v),k)})),()=>{S.Za(),v.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return hO(yield OI(v),k)}))}}(aD(u),d,a,c)}function UO(n,e){return function(r,i){let o=new Ur;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return t8(yield d8(r),i,o)})),o.promise}(aD(n),e)}function E8(n,e,t){let r=t.docs.get(e._key),i=new Mu(n);return new km(n,i,e._key,r,new _s(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){dc=i})(io),ro(new Kn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Io(new pE(r.getProvider("auth-internal")),new yE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cm(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),wt(Wk,"4.7.3",e),wt(Wk,"4.7.3","esm2017")})();var Ou=class{constructor(n){return n}},BO="firestore",D8=class{constructor(){return Kl(BO)}};var uD=new ne("angularfire2.firestore-instances");function C8(n,e){let t=rp(BO,n,e);return t&&new Ou(t)}function b8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ou(r)}}var T8={provide:D8,deps:[[new Gt,uD]]},S8={provide:Ou,useFactory:C8,deps:[[new Gt,uD],cs]};function HO(n,...e){return wt("angularfire",as.full,"fst"),Cn([S8,T8,{provide:uD,useFactory:b8(n),multi:!0,deps:[Se,xt,Oa,Yl,[new Gt,w0],[new Gt,ip],...e]}])}var dD=kt(LO,!0);var pc=kt(DO,!0);var $O=kt(sD,!0);var xs=kt(FO,!0);var zO=kt(CO,!0);var WO=kt(jO,!0);var qO=kt(kO,!0);var GO=kt(VO,!0);var Do=(()=>{class n{auth;fireStore;reportSignal=Hn([]);bibleStudySignal=Hn([]);constructor(t,r){this.auth=t,this.fireStore=r,this.listenToReports()}listenToReports(){let t=this.auth.currentUser;if(!t)return;let r=pc(this.fireStore,"users",t.uid,"reports"),i=qO(r);WO(i,o=>{let s=o.docs.map(a=>B({id:a.id},a.data()));this.reportSignal.set(s)})}createReport(t){return I(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");let i=pc(this.fireStore,"users",r.uid,"reports");yield dD(i,t),console.log("Report added successfully")}catch(r){throw console.error("Error creating report:",r),r}})}getReports(){return I(this,null,function*(){try{let t=this.auth.currentUser;if(!t)throw new Error("User not logged in");let r=pc(this.fireStore,"users",t.uid,"reports"),i;try{i=yield xs(r),i.empty?(console.log("Cache is empty, fetching from Firestore..."),i=yield xs(r)):console.log("Loaded from cache")}catch(s){console.warn("Cache unavailable, fetching from Firestore...",s),i=yield xs(r)}let o=i.docs.map(s=>B({id:s.id},s.data()));return this.reportSignal.set(o),o}catch(t){throw console.error("Error getting reports:",t),t}})}updateReport(t){return I(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");let i=$O(this.fireStore,"users",r.uid,"reports",t.id);yield GO(i,t,{merge:!0}),console.log("Report successfully updated under:",`users/${r.uid}/reports/${t.id}`)}catch(r){throw console.error("Error updating report:",r),r}})}addStudy(t){return I(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not logged in");let i=pc(this.fireStore,"users",r.uid,"bibleStudies"),o=yield dD(i,t);this.bibleStudySignal.set([...this.bibleStudySignal(),B({id:o.id},t)]),console.log("Bible study added successfully:",o.id)}catch(r){throw console.error("Error adding study:",r),r}})}getBibleStudies(){return I(this,null,function*(){try{let t=this.auth.currentUser;if(!t)throw new Error("User not logged in");let r=pc(this.fireStore,"users",t.uid,"bibleStudies"),i;try{i=yield xs(r),i.empty?(console.log("Cache is empty, fetching from Firestore..."),i=yield xs(r)):console.log("Loaded from cache")}catch(s){console.warn("Cache unavailable, fetching from Firestore...",s),i=yield xs(r)}let o=i.docs.map(s=>B({id:s.id},s.data()));return this.bibleStudySignal.set(o),o}catch(t){throw console.error("Error getting studies:",t),t}})}static \u0275fac=function(r){return new(r||n)(ue(Nn),ue(Ou))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x8(n,e){n&1&&(M(0,"div",3),se(1,"div",4),R())}function M8(n,e){if(n&1){let t=ze();M(0,"mwl-calendar-month-view",13),ae("dayClicked",function(i){K(t);let o=L(2);return Y(o.dayClicked(i.day))}),R()}if(n&2){let t=L(2);F("viewDate",t.viewDate)("events",t.events)}}function R8(n,e){if(n&1&&se(0,"mwl-calendar-week-view",14),n&2){let t=L(2);F("viewDate",t.viewDate)("events",t.events)}}function N8(n,e){if(n&1&&se(0,"mwl-calendar-day-view",14),n&2){let t=L(2);F("viewDate",t.viewDate)("events",t.events)}}function k8(n,e){if(n&1){let t=ze();M(0,"div")(1,"div",5)(2,"button",6),ae("click",function(){K(t);let i=L();return Y(i.previousMonth())}),z(3," \u25C0 "),R(),M(4,"h2",7),z(5),Xe(6,"date"),R(),M(7,"button",6),ae("click",function(){K(t);let i=L();return Y(i.nextMonth())}),z(8," \u25B6 "),R()(),M(9,"div",8)(10,"button",9),ae("click",function(){K(t);let i=L();return Y(i.viewMode="month")}),z(11," Month "),R(),M(12,"button",9),ae("click",function(){K(t);let i=L();return Y(i.viewMode="week")}),z(13," Week "),R(),M(14,"button",9),ae("click",function(){K(t);let i=L();return Y(i.viewMode="day")}),z(15," Day "),R()(),M(16,"div",10),Z(17,M8,1,2,"mwl-calendar-month-view",11)(18,R8,1,2,"mwl-calendar-week-view",12)(19,N8,1,2,"mwl-calendar-day-view",12),R()()}if(n&2){let t=L();O(5),Xt(vn(6,16,t.viewDate,"MMMM yyyy")),O(5),mt("bg-green-600",t.viewMode==="month")("text-white",t.viewMode==="month"),O(2),mt("bg-green-600",t.viewMode==="week")("text-white",t.viewMode==="week"),O(2),mt("bg-green-600",t.viewMode==="day")("text-white",t.viewMode==="day"),O(3),F("ngIf",t.viewMode==="month"),O(),F("ngIf",t.viewMode==="week"),O(),F("ngIf",t.viewMode==="day")}}function P8(n,e){if(n&1){let t=ze();M(0,"div",15)(1,"div",16)(2,"h3",17),z(3),Xe(4,"date"),R(),M(5,"form")(6,"div",18)(7,"label",19),z(8,"Hours"),R(),M(9,"input",20),jt("ngModelChange",function(i){K(t);let o=L();return Zt(o.hours,i)||(o.hours=i),Y(i)}),R(),se(10,"div",18),M(11,"label",21),z(12,"Did you participate in the ministry today?"),R(),M(13,"select",22),jt("ngModelChange",function(i){K(t);let o=L();return Zt(o.joined_ministry,i)||(o.joined_ministry=i),Y(i)}),M(14,"option",23),z(15,"Yes"),R(),M(16,"option",24),z(17,"No"),R()()(),M(18,"div",18)(19,"label",21),z(20,"Notes (Optional)"),R(),M(21,"textarea",25),jt("ngModelChange",function(i){K(t);let o=L();return Zt(o.notes,i)||(o.notes=i),Y(i)}),R()(),M(22,"div",26)(23,"p",27),z(24,"Warning: Please verify your input carefully. Once saved, changes cannot be undone."),R()()(),M(25,"button",28),ae("click",function(){K(t);let i=L();return Y(i.saveReport())}),z(26,"Save"),R(),M(27,"button",29),ae("click",function(){K(t);let i=L();return Y(i.closeModal())}),z(28,"Close"),R()()()}if(n&2){let t=L();O(3),Sn("Report for ",vn(4,4,t.selectedDate,"fullDate"),""),O(6),Lt("ngModel",t.hours),O(4),Lt("ngModel",t.joined_ministry),O(8),Lt("ngModel",t.notes)}}var KO=(()=>{class n{api;viewDate=new Date;selectedDate=null;dailyNotes="";savedNotes="";events=[];viewMode="month";hours=0;joined_ministry=!1;notes="";report_date="";created_at="";updated_at="";isLoading=!1;constructor(t){this.api=t}ngOnInit(){this.loadReports()}previousMonth(){this.viewDate=Qp(this.viewDate,1)}nextMonth(){this.viewDate=Wa(this.viewDate,1)}dayClicked(t){return I(this,null,function*(){this.selectedDate=t.date;let r=this.events.find(i=>i.start.toDateString()===this.selectedDate?.toDateString());r?(console.log("Existing event found:",r),this.hours=parseInt(r.title.split(" ")[0],10),this.notes=this.savedNotes,this.selectedDate=null):(this.hours=0,this.notes="")})}loadReports(){return I(this,null,function*(){this.isLoading=!0,yield this.api.getReports().then(t=>{this.events=t.map(r=>({title:r.hours+" Hours",start:new Date(r.report_date.seconds*1e3),color:{primary:"#008000",secondary:"#90EE90"}}))}).catch(t=>{console.error("Error fetching reports:",t),this.isLoading=!1}),this.isLoading=!1})}closeModal(){this.selectedDate=null}get dayOfWeek(){return this.viewDate.toLocaleDateString("en-US",{weekday:"short"})}saveReport(){if(!this.selectedDate){console.error("No date selected");return}let t={hours:this.hours,is_joined_ministry:this.joined_ministry,notes:this.notes,report_date:this.selectedDate,created_at:new Date,updated_at:new Date};this.api.createReport(t).then(()=>{console.log("Report saved"),this.savedNotes=this.dailyNotes,this.selectedDate=null,this.loadReports()}).catch(r=>{console.error("Error saving report:",r)})}static \u0275fac=function(r){return new(r||n)(P(Do))};static \u0275cmp=Ne({type:n,selectors:[["app-calendar"]],standalone:!0,features:[vt],decls:3,vars:3,consts:[["class","flex justify-center items-center min-h-screen",4,"ngIf"],[4,"ngIf"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"animate-spin","rounded-full","h-12","w-12","border-t-4","border-blue-500"],[1,"flex","justify-between","items-center","mb-4"],[1,"px-4","py-2","bg-gray-300","text-gray-800","rounded","hover:bg-gray-400",3,"click"],[1,"text-xl","font-semibold"],[1,"flex","space-x-2","bg-gray-100","p-1","rounded-lg"],[1,"px-4","py-2","rounded-lg","transition-colors","duration-200","text-gray-800","hover:bg-green-500","hover:text-white",3,"click"],[1,"calendar-container"],[3,"viewDate","events","dayClicked",4,"ngIf"],[3,"viewDate","events",4,"ngIf"],[3,"dayClicked","viewDate","events"],[3,"viewDate","events"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50"],[1,"bg-white","p-4","rounded","shadow-lg","sm:w-full","md:w-1/2","lg:w-1/3","xl:w-1/3","max-h-full","overflow-auto"],[1,"text-lg","font-medium","mb-2"],[1,"mb-4"],["for","hours",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","hours","name","title",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","is_joined_ministry",1,"block","text-sm","font-medium","text-gray-700"],["id","is_joined_ministry","name","is_joined_ministry",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","yes"],["value","no"],["id","is_joined_ministry","name","is_joined_ministry","rows","4","placeholder","Notes",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700"],[1,"text-sm"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-700","me-2",3,"click"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-700",3,"click"]],template:function(r,i){r&1&&Z(0,x8,2,0,"div",0)(1,k8,20,19,"div",1)(2,P8,29,7,"div",2),r&2&&(F("ngIf",i.isLoading),O(),F("ngIf",!i.isLoading),O(),F("ngIf",i.selectedDate))},dependencies:[Hk,ek,X0,tk,tt,ht,dx,eo,Kf,Yf,Qf,Or,Ma,Ji,qf,fi,Hl],styles:[".custom-day-cell[_ngcontent-%COMP%]{text-align:center;padding:5px;min-height:50px}.event-box[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:3px;margin-top:3px;border-radius:4px;font-size:12px}@media (max-width: 600px){.cal-day-cell[_ngcontent-%COMP%]{min-height:50px;font-size:10px}}"]})}return n})();var O8=(n,e)=>({"text-blue-500 border-b-2 border-blue-500 scale-105":n,"text-gray-500":e});function F8(n,e){if(n&1){let t=ze();M(0,"div",4),ae("click",function(){let i=K(t).$implicit,o=L();return Y(o.selectTab(i.id))}),M(1,"div",5),se(2,"i"),z(3),R()()}if(n&2){let t=e.$implicit,r=L();F("ngClass",St(4,O8,r.activeTab===t.id,r.activeTab!==t.id)),O(2),IA(t.icon),O(),Sn(" ",t.title,"")}}var YO=(()=>{class n{tabChange=new J;activeTab="calendar";tabs=[{id:"calendar",title:"Calendar",icon:"bi bi-calendar-fill",description:"View upcoming events"},{id:"reports",title:"Reports",icon:"bi bi-clipboard2-data",description:"Track your progress"},{id:"other",title:"Settings",icon:"bi bi-gear-fill",description:"Customize options"}];getActiveTabTitle(){let t=this.tabs.find(r=>r.id===this.activeTab);return t?t.title:""}selectTab(t){this.activeTab=t,this.tabChange.emit(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ne({type:n,selectors:[["app-tab-card"]],outputs:{tabChange:"tabChange"},standalone:!0,features:[vt],decls:4,vars:1,consts:[[1,"flex","flex-col","items-center","py-4","space-y-6","w-full","max-w-3xl","mx-auto"],[1,"bg-white","shadow-md","border-t","border-gray-200","w-full"],[1,"flex","justify-around","p-4"],["class","flex flex-col items-center cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","cursor-pointer",3,"click","ngClass"],[1,"text-lg","font-semibold"]],template:function(r,i){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2),Z(3,F8,4,7,"div",3),R()()()),r&2&&(O(3),F("ngForOf",i.tabs))},dependencies:[tt,zn,Wn]})}return n})();function V8(n,e){if(n&1){let t=ze();M(0,"div",11),se(1,"hr"),M(2,"button",12),ae("click",function(){K(t);let i=L();return Y(i.signOut())}),z(3,"Sign Out"),R()()}}var QO=(()=>{class n{authService;dropdownOpen=!1;userData;constructor(t){this.authService=t,this.authService.user$.subscribe(r=>{this.userData=r})}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}signOut(){this.authService.logout()}static \u0275fac=function(r){return new(r||n)(P(uo))};static \u0275cmp=Ne({type:n,selectors:[["app-header"]],standalone:!0,features:[vt],decls:13,vars:2,consts:[[1,"bg-white","shadow-md","py-4","px-6","flex","items-center","justify-between","sticky","top-0","z-10"],[1,"flex","items-center"],[1,"ml-4","text-xl","font-semibold","text-gray-800"],[1,"text-xl","font-bold","text-transparent","bg-clip-text","bg-gradient-to-r","from-blue-400","to-purple-500"],[1,"relative",3,"click"],[1,"flex","items-center","space-x-3","focus:outline-none"],[1,"bi","bi-person-circle","text-gray-800","text-2xl"],[1,"text-gray-800","font-medium","hidden","sm:block"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg z-10",4,"ngIf"],[1,"absolute","right-0","mt-2","w-48","bg-white","border","rounded-lg","shadow-lg","z-10"],[1,"w-full","text-left","px-4","py-2","text-red-600","hover:bg-gray-100",3,"click"]],template:function(r,i){r&1&&(M(0,"header",0)(1,"div",1)(2,"h1",2)(3,"span",3),z(4,"Field Service Tracker"),R()()(),M(5,"div",4),ae("click",function(){return i.toggleDropdown()}),M(6,"button",5),se(7,"i",6),M(8,"span",7),z(9),R(),il(),M(10,"svg",8),se(11,"path",9),R()(),Z(12,V8,4,0,"div",10),R()()),r&2&&(O(9),Xt(i.userData==null?null:i.userData.email),O(3),F("ngIf",i.dropdownOpen))},dependencies:[tt,ht]})}return n})();function L8(n,e){n&1&&se(0,"i",22)}function j8(n,e){n&1&&se(0,"i",23)}function U8(n,e){if(n&1&&(M(0,"div",9)(1,"div",10),z(2," Monthly Report "),R(),M(3,"div",11),se(4,"i",12),M(5,"h3",13),z(6),R()(),M(7,"div",14),se(8,"i",15),M(9,"p",16),z(10,"Hours: "),M(11,"span",17),z(12),R()()(),M(13,"div",18),se(14,"i",19),M(15,"p",16),z(16,"Participated in Ministry: \xA0 "),M(17,"span",17),Z(18,L8,1,0,"i",20)(19,j8,1,0,"i",21),R()()()()),n&2){let t=e.$implicit;O(6),Xt(t.monthYear),O(6),Xt(t.hours),O(6),F("ngIf",t.is_joined_ministry),O(),F("ngIf",!t.is_joined_ministry)}}function B8(n,e){if(n&1&&(M(0,"div"),Z(1,U8,20,4,"div",8),R()),n&2){let t=L();O(),F("ngForOf",t.filteredReports())}}function H8(n,e){n&1&&(M(0,"div",24)(1,"div",25)(2,"p",26),z(3,"You have no reports for this month."),R(),se(4,"i",27),R()())}function $8(n,e){n&1&&(M(0,"div",28)(1,"p",26),z(2,"You have no Bible studies recorded."),R(),se(3,"i",27),R())}function z8(n,e){if(n&1){let t=ze();M(0,"tr",33),ae("click",function(){let i=K(t).$implicit,o=L(2);return Y(o.editStudy(i))}),M(1,"td",34),z(2),R(),M(3,"td",34),z(4),R()()}if(n&2){let t=e.$implicit;O(2),Xt(t.bible_study),O(2),Xt(t.schedule)}}function W8(n,e){if(n&1&&(M(0,"table",29)(1,"thead",30)(2,"tr")(3,"th",31),z(4,"Name"),R(),M(5,"th",31),z(6,"Schedule"),R()()(),M(7,"tbody"),Z(8,z8,5,2,"tr",32),R()()),n&2){let t=L();O(8),F("ngForOf",t.api.bibleStudySignal())}}function q8(n,e){if(n&1){let t=ze();Yh(0),M(1,"div",35)(2,"div",36)(3,"div",37)(4,"h3",38),z(5),R(),M(6,"button",39),ae("click",function(){K(t);let i=L();return Y(i.closeStudyDetails())}),se(7,"i",40),R()(),M(8,"div",41)(9,"label",42),z(10,"Address"),R(),se(11,"input",43),R(),M(12,"div",41)(13,"label",42),z(14,"Schedule"),R(),se(15,"input",43),R()()(),Qh()}if(n&2){let t=L();O(5),Xt(t.studySelected.bible_study),O(6),F("value",t.studySelected.address),O(4),F("value",t.studySelected.schedule)}}var XO=(()=>{class n{api;reports;bibleStudies=[];studySelected=null;isSelected=!1;constructor(t){this.api=t,this.reports=this.api.reportSignal(),this.bibleStudies=this.api.bibleStudySignal()}aggregatedReports=Qo(()=>{let t={};return this.reports.forEach(r=>{if(!r.report_date)return;let i=new Date(r.report_date.seconds*1e3),o=`${i.getFullYear()}-${i.getMonth()+1}`;t[o]||(t[o]={hours:0,minutes:0,monthYear:this.formatDate(r.report_date),is_joined_ministry:r.is_joined_ministry}),t[o].hours+=parseInt(r.hours,10)||0,t[o].minutes+=parseInt(r.minutes,10)||0}),Object.values(t).forEach(r=>{r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60}),Object.values(t)});formatDate(t){return!t||!t.seconds?"Invalid Date":new Date(t.seconds*1e3).toLocaleDateString("en-US",{year:"numeric",month:"long"})}filteredReports(){let t=this.aggregatedReports();return!t||t.length===0?[]:(t.sort((r,i)=>new Date(i.monthYear).getTime()-new Date(r.monthYear).getTime()),t.slice(0,2))}formatDateTime(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}editStudy(t){this.isSelected=!0,this.studySelected=t}closeStudyDetails(){this.isSelected=!1,this.studySelected=null}static \u0275fac=function(r){return new(r||n)(P(Do))};static \u0275cmp=Ne({type:n,selectors:[["app-reports"]],standalone:!0,features:[vt],decls:10,vars:5,consts:[["noReports",""],[1,""],[4,"ngIf","ngIfElse"],[1,"mt-6"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],["class","mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 flex items-center justify-between shadow-md",4,"ngIf"],["class","min-w-full bg-white shadow-md rounded-lg overflow-hidden",4,"ngIf"],[4,"ngIf"],["class","relative p-6 bg-white shadow-md rounded-xl border border-gray-300 transition duration-300 hover:shadow-2xl hover:border-gray-400 mt-3",4,"ngFor","ngForOf"],[1,"relative","p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3"],[1,"absolute","top-2","right-2","px-3","py-1","bg-blue-100","text-blue-600","text-xs","font-medium","rounded-full","shadow-sm"],[1,"flex","items-center","gap-3","border-b","pb-3","mb-3"],[1,"bi","bi-calendar-event","text-indigo-500","text-2xl"],[1,"text-xl","font-bold","text-gray-800"],[1,"flex","items-center","gap-3","border-b","pb-2","mb-2"],[1,"bi","bi-clock","text-blue-500","text-xl"],[1,"text-gray-700"],[1,"font-semibold","text-gray-900"],[1,"flex","items-center","gap-3"],[1,"bi","bi-people-fill","text-blue-500","text-lg"],["class","bi bi-check-circle-fill text-green-500",4,"ngIf"],["class","bi bi-x-circle-fill text-red-500",4,"ngIf"],[1,"bi","bi-check-circle-fill","text-green-500"],[1,"bi","bi-x-circle-fill","text-red-500"],[1,"col-span-full"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700","flex","align-items-center","justify-between","shadow-md"],[1,"text-base"],[1,"bi","bi-exclamation-circle-fill","text-yellow-500","text-xl"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700","flex","items-center","justify-between","shadow-md"],[1,"min-w-full","bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"bg-gray-200"],[1,"py-2","px-4","text-left","text-gray-600","font-semibold"],["class","cursor-pointer hover:bg-gray-100 transition duration-300",3,"click",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover:bg-gray-100","transition","duration-300",3,"click"],[1,"py-2","px-4","border-b","border-gray-200"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"p-6","bg-white","shadow-md","rounded-xl","border","border-gray-300","transition","duration-300","hover:shadow-2xl","hover:border-gray-400","mt-3","relative","w-full","max-w-lg"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"bi","bi-x-lg"],[1,"mb-4"],[1,"block","text-gray-700","font-medium","mb-2"],["type","text","readonly","",1,"w-full","p-2","border","border-gray-300","rounded",3,"value"]],template:function(r,i){if(r&1&&(M(0,"div",1),Z(1,B8,2,1,"div",2)(2,H8,5,0,"ng-template",null,0,yn),R(),M(4,"div",3)(5,"h2",4),z(6,"Bible Studies / Return Visits"),R(),Z(7,$8,4,0,"div",5)(8,W8,9,1,"table",6),R(),Z(9,q8,16,3,"ng-container",7)),r&2){let o=gt(3);O(),F("ngIf",i.aggregatedReports().length>0)("ngIfElse",o),O(6),F("ngIf",i.api.bibleStudySignal().length===0),O(),F("ngIf",i.api.bibleStudySignal().length>0),O(),F("ngIf",i.studySelected)}},dependencies:[tt,Wn,ht]})}return n})();function G8(n,e){n&1&&(M(0,"div",31)(1,"p",32),z(2,"Success: Your changes have been saved successfully. View reports section."),R()())}function K8(n,e){n&1&&(M(0,"div",33)(1,"p",32),z(2,"Warning: Please verify your input carefully. Once saved, changes cannot be undone."),R()())}function Y8(n,e){n&1&&se(0,"span",34)}var ZO=(()=>{class n{api;bible_study="";address="";schedule=null;type="rv";isSuccess=!1;isLoading=!1;constructor(t){this.api=t}onSubmit(){return I(this,null,function*(){this.isLoading=!0;let t={bible_study:this.bible_study,address:this.address,schedule:this.schedule,type:this.type};try{yield this.api.addStudy(t),this.bible_study="",this.address="",this.schedule=null,this.type="",this.isSuccess=!0}catch(r){console.error("Error submitting data",r),this.isLoading=!1}this.isLoading=!1})}static \u0275fac=function(r){return new(r||n)(P(Do))};static \u0275cmp=Ne({type:n,selectors:[["app-settings"]],standalone:!0,features:[vt],decls:53,vars:8,consts:[[1,"settings-container","p-6","bg-gray-100","rounded-lg","shadow-md"],[1,"text-2xl","font-bold"],[1,"text-gray-500"],[1,"setting-item","mb-4","mt-4"],["for","theme",1,"block","text-sm","font-medium","text-gray-700"],["id","theme","name","theme","disabled","",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","light"],["value","dark"],[1,"setting-item","mb-4"],["for","language",1,"block","text-sm","font-medium","text-gray-700"],["id","language","name","language","disabled","",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["value","en"],[1,"bg-white","mt-4"],[1,"max-w-7xl","mx-auto"],[1,"font-bold","text-2xl"],[1,"mt-3","mb-4"],["for","bible-study",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","bible-study","name","bible-study","placeholder","Name",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mb-4"],["for","lesson",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","address","name","address","placeholder","Address",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","type",1,"block","text-sm","font-medium","text-gray-700"],["id","type","name","type",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","rv"],["value","bs"],["for","schedule",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","schedule","name","schedule","placeholder","Schedule",1,"mt-1","block","w-full","py-2","px-3","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["class","mb-4 p-2 bg-green-100 border-l-4 border-green-500 text-green-700",4,"ngIf"],["class","mb-4 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",4,"ngIf"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded",3,"click","disabled"],["class","animate-spin rounded-full h-4 w-4 border-t-2 border-white inline-block mr-2",4,"ngIf"],[1,"mb-4","p-2","bg-green-100","border-l-4","border-green-500","text-green-700"],[1,"text-sm"],[1,"mb-4","p-2","bg-yellow-100","border-l-4","border-yellow-500","text-yellow-700"],[1,"animate-spin","rounded-full","h-4","w-4","border-t-2","border-white","inline-block","mr-2"]],template:function(r,i){r&1&&(M(0,"div",0)(1,"h1",1),z(2,"App Settings (Default)"),R(),M(3,"small",2),z(4,"This section is not editable for now."),R(),M(5,"div",3)(6,"label",4),z(7,"Theme:"),R(),M(8,"select",5)(9,"option",6),z(10,"Light"),R(),M(11,"option",7),z(12,"Dark"),R()()(),M(13,"div",8)(14,"label",9),z(15,"Language:"),R(),M(16,"select",10)(17,"option",11),z(18,"English"),R()()()(),M(19,"div",12)(20,"div",13)(21,"h1",14),z(22,"Bible Study / Return Visit"),R(),M(23,"small",2),z(24,"Add a new Bible Study or Return Visit"),R(),M(25,"Form")(26,"div",15)(27,"label",16),z(28,"Name"),R(),M(29,"input",17),jt("ngModelChange",function(s){return Zt(i.bible_study,s)||(i.bible_study=s),s}),R()(),M(30,"div",18)(31,"label",19),z(32,"Address"),R(),M(33,"input",20),jt("ngModelChange",function(s){return Zt(i.address,s)||(i.address=s),s}),R()(),M(34,"div",18)(35,"label",21),z(36,"Type"),R(),M(37,"select",22),jt("ngModelChange",function(s){return Zt(i.type,s)||(i.type=s),s}),M(38,"option",23),z(39,"Return Visit"),R(),M(40,"option",24),z(41,"Bible Study"),R()()(),M(42,"div",18)(43,"label",25),z(44,"Schedule "),M(45,"small"),z(46,"(e.g., Thursday, 10 AM)"),R()(),M(47,"input",26),jt("ngModelChange",function(s){return Zt(i.schedule,s)||(i.schedule=s),s}),R()(),Z(48,G8,3,0,"div",27)(49,K8,3,0,"div",28),M(50,"button",29),ae("click",function(){return i.onSubmit()}),Z(51,Y8,1,0,"span",30),z(52," Save "),R()()()()),r&2&&(O(29),Lt("ngModel",i.bible_study),O(4),Lt("ngModel",i.address),O(4),Lt("ngModel",i.type),O(10),Lt("ngModel",i.schedule),O(),F("ngIf",i.isSuccess),O(),F("ngIf",!i.isSuccess),O(),F("disabled",i.isLoading),O(),F("ngIf",i.isLoading))},dependencies:[tt,ht,eo,Yf,Qf,Or,Ma,Ji,fi]})}return n})();function Q8(n,e){n&1&&(M(0,"div"),se(1,"app-calendar"),R())}function X8(n,e){n&1&&(M(0,"div",5),se(1,"app-reports"),R())}function Z8(n,e){n&1&&(M(0,"div",5),se(1,"app-settings"),R())}var JO=(()=>{class n{auth;route;activeTab="calendar";constructor(t,r){this.auth=t,this.route=r,this.auth.user$.subscribe(i=>{})}logout(){this.auth.logout(),this.route.navigate(["/login"])}onTabChange(t){this.activeTab=t}static \u0275fac=function(r){return new(r||n)(P(uo),P(hn))};static \u0275cmp=Ne({type:n,selectors:[["app-home"]],standalone:!0,features:[vt],decls:7,vars:3,consts:[[3,"tabChange"],[1,"sm:w-full","md:w-1/2","lg:w-1/2","xl:w-1/2","mx-auto","mb-3","px-2","sm:px-2","md:px-2","lg:px-0","xl:px-0"],[1,""],[4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"space-y-4"]],template:function(r,i){r&1&&(se(0,"app-header"),M(1,"app-tab-card",0),ae("tabChange",function(s){return i.onTabChange(s)}),R(),M(2,"div",1)(3,"div",2),Z(4,Q8,2,0,"div",3)(5,X8,2,0,"div",4)(6,Z8,2,0,"div",4),R()()),r&2&&(O(4),F("ngIf",i.activeTab==="calendar"),O(),F("ngIf",i.activeTab==="reports"),O(),F("ngIf",i.activeTab==="other"))},dependencies:[KO,YO,QO,tt,ht,XO,ZO]})}return n})();function J8(n,e){if(n&1&&(M(0,"div",12),z(1),R()),n&2){let t=L();O(),Sn(" ",t.errorMessage," ")}}var e1=(()=>{class n{authService;email="";password="";confirmPassword="";errorMessage="";constructor(t){this.authService=t}signUp(){if(this.password!==this.confirmPassword){this.errorMessage="Passwords do not match";return}this.authService.signUp(this.email,this.password).then(()=>{console.log("User signed up")}).catch(t=>{console.error("Error signing up:",t),this.errorMessage=t.message})}static \u0275fac=function(r){return new(r||n)(P(uo))};static \u0275cmp=Ne({type:n,selectors:[["app-register"]],standalone:!0,features:[vt],decls:24,vars:4,consts:[[1,"flex","min-h-screen","items-center","justify-center","bg-gray-100"],[1,"w-full","max-w-md","rounded-lg","bg-white","p-8","shadow-lg"],[1,"mb-6","text-center","text-2xl","font-bold","text-gray-800"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-600"],["type","email","placeholder","Enter your email","name","email",1,"mt-1","w-full","rounded-lg","border","border-gray-300","px-4","py-2","focus:border-blue-500","focus:ring-2","focus:ring-blue-300",3,"ngModelChange","ngModel"],["type","password","placeholder","Enter your password","name","password",1,"mt-1","w-full","rounded-lg","border","border-gray-300","px-4","py-2","focus:border-blue-500","focus:ring-2","focus:ring-blue-300",3,"ngModelChange","ngModel"],["type","password","placeholder","Confirm Password","name","confirmPassword",1,"mt-1","w-full","rounded-lg","border","border-gray-300","px-4","py-2","focus:border-blue-500","focus:ring-2","focus:ring-blue-300",3,"ngModelChange","ngModel"],[1,"w-full","rounded-lg","bg-blue-600","px-4","py-2","text-white","hover:bg-blue-700","transition","duration-200",3,"click"],[1,"text-center","text-sm","text-gray-600"],["routerLink","/login",1,"text-blue-600","hover:underline"],["class","mt-4 rounded-lg bg-red-100 p-3 text-center text-red-600",4,"ngIf"],[1,"mt-4","rounded-lg","bg-red-100","p-3","text-center","text-red-600"]],template:function(r,i){r&1&&(M(0,"div",0)(1,"div",1)(2,"h2",2),z(3,"Create an Account"),R(),M(4,"div",3)(5,"div")(6,"label",4),z(7,"Email"),R(),M(8,"input",5),jt("ngModelChange",function(s){return Zt(i.email,s)||(i.email=s),s}),R()(),M(9,"div")(10,"label",4),z(11,"Password"),R(),M(12,"input",6),jt("ngModelChange",function(s){return Zt(i.password,s)||(i.password=s),s}),R()(),M(13,"div")(14,"label",4),z(15,"Confirm Password"),R(),M(16,"input",7),jt("ngModelChange",function(s){return Zt(i.confirmPassword,s)||(i.confirmPassword=s),s}),R()(),M(17,"button",8),ae("click",function(){return i.signUp()}),z(18," Sign Up "),R(),M(19,"p",9),z(20," Already have an account? "),M(21,"a",10),z(22,"Log in"),R()()(),Z(23,J8,2,1,"div",11),R()()),r&2&&(O(8),Lt("ngModel",i.email),O(4),Lt("ngModel",i.password),O(4),Lt("ngModel",i.confirmPassword),O(7),F("ngIf",i.errorMessage))},dependencies:[tt,ht,eo,Or,Ji,fi,Ff]})}return n})();var hD=(()=>{class n{auth=H(Nn);router=H(hn);isAuthenticated=Hn(!1);constructor(){lo(this.auth,t=>{this.isAuthenticated.set(!!t)})}canActivate(){return this.isAuthenticated()?(this.router.navigateByUrl("/",{replaceUrl:!0}),!1):!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var t1=[{path:"",component:JO,canActivate:[vN]},{path:"login",component:gN,canActivate:[hD]},{path:"register",component:e1,canActivate:[hD]},{path:"**",redirectTo:"login"}];var n1={providers:[WA({eventCoalescing:!0}),pM(t1),Nx(),pR(()=>mR(mM.firebase)),HO(()=>zO()),uN(()=>hN())]};var r1=(()=>{class n{auth;router;api;constructor(t,r,i){this.auth=t,this.router=r,this.api=i}ngOnInit(){lo(this.auth,t=>{t?(this.router.navigateByUrl("/"),this.loadBibleStudies()):this.router.navigateByUrl("/login")})}loadBibleStudies(){return I(this,null,function*(){yield this.api.getBibleStudies().then(t=>{}).catch(t=>{console.error("Error fetching Bible studies:",t)})})}static \u0275fac=function(r){return new(r||n)(P(Nn),P(hn),P(Do))};static \u0275cmp=Ne({type:n,selectors:[["app-root"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(r,i){r&1&&se(0,"router-outlet")},dependencies:[Q_],styles:[".loading[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin-top:50px}"]})}return n})();Mx(r1,n1).catch(n=>console.error(n));
